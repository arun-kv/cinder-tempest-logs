Source the openrc file
WARNING: setting legacy OS_TENANT_NAME to support cli tools.
Patch Details: GERRIT_CHANGE_NUMBER: 867183 GERRIT_PATCHSET_NUMBER: 3 GERRIT_REFSPEC: refs/changes/83/867183/3 GERRIT_PROJECT: openstack/cinder
Fetching latest cinder patch
Running unstack.sh
WARNING: setting legacy OS_TENANT_NAME to support cli tools.
+ ./unstack.sh:main:96                     :   run_phase unstack
+ functions-common:run_phase:1861          :   local mode=unstack
+ functions-common:run_phase:1862          :   local phase=
+ functions-common:run_phase:1863          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1864          :   local extra_plugin_file_name
+ functions-common:run_phase:1865          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1870          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1871          :   local extra
++ functions-common:run_phase:1872          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1872          :   extra=80-tempest.sh
+ functions-common:run_phase:1873          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1877          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1877          :   source /opt/stack/devstack/extras.d/80-tempest.sh unstack
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ unstack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:27         :   [[ unstack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:29         :   :
++ extras.d/80-tempest.sh:source:32         :   [[ unstack == \c\l\e\a\n ]]
+ functions-common:run_phase:1882          :   [[ unstack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1885          :   [[ unstack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1888          :   run_plugins unstack
+ functions-common:run_plugins:1847        :   local mode=unstack
+ functions-common:run_plugins:1848        :   local phase=
+ functions-common:run_plugins:1850        :   local plugins=
+ functions-common:run_plugins:1851        :   local plugin
+ ./unstack.sh:main:100                    :   is_service_enabled nova
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./unstack.sh:main:101                    :   stop_nova
+ lib/nova:stop_nova:1232                  :   stop_nova_rest
+ lib/nova:stop_nova_rest:1196             :   for serv in n-api n-api-meta n-sch
+ lib/nova:stop_nova_rest:1197             :   stop_process n-api
+ functions-common:stop_process:1709       :   local service=n-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-api.service
Failed to get unit file state for devstack@n-api.service: No such file or directory
+ lib/nova:stop_nova_rest:1196             :   for serv in n-api n-api-meta n-sch
+ lib/nova:stop_nova_rest:1197             :   stop_process n-api-meta
+ functions-common:stop_process:1709       :   local service=n-api-meta
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-api-meta.service
Failed to get unit file state for devstack@n-api-meta.service: No such file or directory
+ lib/nova:stop_nova_rest:1196             :   for serv in n-api n-api-meta n-sch
+ lib/nova:stop_nova_rest:1197             :   stop_process n-sch
+ functions-common:stop_process:1709       :   local service=n-sch
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-sch
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-sch.service
Failed to get unit file state for devstack@n-sch.service: No such file or directory
+ lib/nova:stop_nova:1233                  :   stop_nova_console_proxies
+ lib/nova:stop_nova_console_proxies:1202  :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:stop_nova_console_proxies:1207  :   enable_nova_console_proxies
++ lib/nova:enable_nova_console_proxies:1094 :   seq 1 1
+ lib/nova:enable_nova_console_proxies:1094 :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:enable_nova_console_proxies:1095 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1096 :   is_service_enabled n-novnc
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:enable_nova_console_proxies:1097 :   enable_service n-novnc-cell1
+ functions-common:enable_service:2020     :   local xtrace
++ functions-common:enable_service:2021     :   grep xtrace
++ functions-common:enable_service:2021     :   set +o
+ functions-common:enable_service:2021     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2022     :   set +o xtrace
+ lib/nova:enable_nova_console_proxies:1095 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1096 :   is_service_enabled n-spice
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/nova:enable_nova_console_proxies:1095 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1096 :   is_service_enabled n-sproxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
++ lib/nova:stop_nova_console_proxies:1208  :   seq 1 1
+ lib/nova:stop_nova_console_proxies:1208  :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:stop_nova_console_proxies:1209  :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:stop_nova_console_proxies:1210  :   stop_process n-novnc-cell1
+ functions-common:stop_process:1709       :   local service=n-novnc-cell1
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-novnc-cell1
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-novnc-cell1.service
Failed to get unit file state for devstack@n-novnc-cell1.service: No such file or directory
+ lib/nova:stop_nova_console_proxies:1209  :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:stop_nova_console_proxies:1210  :   stop_process n-spice-cell1
+ functions-common:stop_process:1709       :   local service=n-spice-cell1
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-spice-cell1
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/nova:stop_nova_console_proxies:1209  :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:stop_nova_console_proxies:1210  :   stop_process n-sproxy-cell1
+ functions-common:stop_process:1709       :   local service=n-sproxy-cell1
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-sproxy-cell1
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/nova:stop_nova:1234                  :   stop_nova_conductor
+ lib/nova:stop_nova_conductor:1217        :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:stop_nova_conductor:1222        :   enable_nova_fleet
+ lib/nova:enable_nova_fleet:1130          :   is_service_enabled n-cond
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:enable_nova_fleet:1131          :   enable_service n-super-cond
+ functions-common:enable_service:2020     :   local xtrace
++ functions-common:enable_service:2021     :   set +o
++ functions-common:enable_service:2021     :   grep xtrace
+ functions-common:enable_service:2021     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2022     :   set +o xtrace
++ lib/nova:enable_nova_fleet:1132          :   seq 1 1
+ lib/nova:enable_nova_fleet:1132          :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:enable_nova_fleet:1133          :   enable_service n-cond-cell1
+ functions-common:enable_service:2020     :   local xtrace
++ functions-common:enable_service:2021     :   set +o
++ functions-common:enable_service:2021     :   grep xtrace
+ functions-common:enable_service:2021     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2022     :   set +o xtrace
++ lib/nova:stop_nova_conductor:1223        :   seq -f n-cond-cell%0.f 1 1
+ lib/nova:stop_nova_conductor:1223        :   for srv in n-super-cond $(seq -f n-cond-cell%0.f 1 $NOVA_NUM_CELLS)
+ lib/nova:stop_nova_conductor:1224        :   is_service_enabled n-super-cond
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:stop_nova_conductor:1225        :   stop_process n-super-cond
+ functions-common:stop_process:1709       :   local service=n-super-cond
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-super-cond
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-super-cond.service
Failed to get unit file state for devstack@n-super-cond.service: No such file or directory
+ lib/nova:stop_nova_conductor:1223        :   for srv in n-super-cond $(seq -f n-cond-cell%0.f 1 $NOVA_NUM_CELLS)
+ lib/nova:stop_nova_conductor:1224        :   is_service_enabled n-cond-cell1
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:stop_nova_conductor:1225        :   stop_process n-cond-cell1
+ functions-common:stop_process:1709       :   local service=n-cond-cell1
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-cond-cell1
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-cond-cell1.service
Failed to get unit file state for devstack@n-cond-cell1.service: No such file or directory
+ lib/nova:stop_nova:1235                  :   stop_nova_compute
+ lib/nova:stop_nova_compute:1181          :   '[' libvirt == fake ']'
+ lib/nova:stop_nova_compute:1187          :   stop_process n-cpu
+ functions-common:stop_process:1709       :   local service=n-cpu
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-cpu.service
Failed to get unit file state for devstack@n-cpu.service: No such file or directory
+ lib/nova:stop_nova_compute:1189          :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:stop_nova_compute:1189          :   [[ -r /opt/stack/devstack/lib/nova_plugins/hypervisor-libvirt ]]
+ lib/nova:stop_nova_compute:1190          :   stop_nova_hypervisor
+ lib/nova_plugins/hypervisor-libvirt:stop_nova_hypervisor:135 :   :
+ ./unstack.sh:main:102                    :   cleanup_nova
+ lib/nova:cleanup_nova:196                :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:cleanup_nova:198                :   clean_iptables
+ lib/nova:clean_iptables:184              :   sudo iptables -S -v
+ lib/nova:clean_iptables:184              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:184              :   grep nova
+ lib/nova:clean_iptables:184              :   grep '\-A'
+ lib/nova:clean_iptables:184              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:184              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:184              :   bash
+ lib/nova:clean_iptables:186              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:186              :   grep nova
+ lib/nova:clean_iptables:186              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:clean_iptables:186              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:186              :   grep '\-A'
+ lib/nova:clean_iptables:186              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:186              :   bash
+ lib/nova:clean_iptables:188              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:188              :   sudo iptables -S -v
+ lib/nova:clean_iptables:188              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:188              :   grep nova
+ lib/nova:clean_iptables:188              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:188              :   grep '\-N'
+ lib/nova:clean_iptables:188              :   bash
+ lib/nova:clean_iptables:190              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:190              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:190              :   grep nova
+ lib/nova:clean_iptables:190              :   grep '\-N'
+ lib/nova:clean_iptables:190              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:clean_iptables:190              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:190              :   bash
+ lib/nova:cleanup_nova:201                :   local instances
++ lib/nova:cleanup_nova:202                :   sudo virsh list --all
++ lib/nova:cleanup_nova:202                :   grep instance-
++ lib/nova:cleanup_nova:202                :   sed 's/.*\(instance-[0-9a-fA-F]*\).*/\1/g'
+ lib/nova:cleanup_nova:202                :   instances=
+ lib/nova:cleanup_nova:203                :   '[' '!' '' = '' ']'
+ lib/nova:cleanup_nova:212                :   local tgts
++ lib/nova:cleanup_nova:213                :   grep volume-
++ lib/nova:cleanup_nova:213                :   sudo iscsiadm --mode node
++ lib/nova:cleanup_nova:213                :   cut -d ' ' -f2
iscsiadm: No records found
+ lib/nova:cleanup_nova:213                :   tgts=
+ lib/nova:cleanup_nova:214                :   local target
+ lib/nova:cleanup_nova:218                :   sudo iscsiadm --mode node --op delete
iscsiadm: No records found
+ lib/nova:cleanup_nova:218                :   true
+ lib/nova:cleanup_nova:221                :   sudo nvme disconnect-all
sudo: nvme: command not found
+ lib/nova:cleanup_nova:221                :   true
+ lib/nova:cleanup_nova:224                :   sudo rm -rf '/opt/stack/data/nova/instances/*'
+ lib/nova:cleanup_nova:227                :   sudo rm -rf /opt/stack/data/nova
+ lib/nova:cleanup_nova:236                :   stop_process n-api
+ functions-common:stop_process:1709       :   local service=n-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-api.service
Failed to get unit file state for devstack@n-api.service: No such file or directory
+ lib/nova:cleanup_nova:237                :   stop_process n-api-meta
+ functions-common:stop_process:1709       :   local service=n-api-meta
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-api-meta.service
Failed to get unit file state for devstack@n-api-meta.service: No such file or directory
+ lib/nova:cleanup_nova:238                :   remove_uwsgi_config /etc/nova/nova-api-uwsgi.ini /usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/nova/nova-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=nova-api-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/nova/nova-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site nova-api-wsgi
+ lib/apache:disable_apache_site:219       :   local site=nova-api-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite nova-api-wsgi
Site nova-api-wsgi already disabled
+ lib/nova:cleanup_nova:239                :   remove_uwsgi_config /etc/nova/nova-metadata-uwsgi.ini /usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site nova-metadata-wsgi
+ lib/apache:disable_apache_site:219       :   local site=nova-metadata-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite nova-metadata-wsgi
ERROR: Site nova-metadata-wsgi does not exist!
+ lib/apache:disable_apache_site:221       :   true
+ lib/nova:cleanup_nova:241                :   [[ '' == \L\V\M ]]
+ ./unstack.sh:main:105                    :   is_service_enabled placement
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./unstack.sh:main:106                    :   stop_placement
+ lib/placement:stop_placement:175         :   [[ uwsgi == \u\w\s\g\i ]]
+ lib/placement:stop_placement:176         :   stop_process placement-api
+ functions-common:stop_process:1709       :   local service=placement-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled placement-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@placement-api.service
Failed to get unit file state for devstack@placement-api.service: No such file or directory
+ ./unstack.sh:main:109                    :   is_service_enabled glance
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./unstack.sh:main:110                    :   stop_glance
+ lib/glance:stop_glance:628               :   stop_process g-api
+ functions-common:stop_process:1709       :   local service=g-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled g-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@g-api.service
Failed to get unit file state for devstack@g-api.service: No such file or directory
+ lib/glance:stop_glance:629               :   stop_process g-api-r
+ functions-common:stop_process:1709       :   local service=g-api-r
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled g-api-r
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ ./unstack.sh:main:113                    :   is_service_enabled keystone
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./unstack.sh:main:114                    :   stop_keystone
+ lib/keystone:stop_keystone:587           :   '[' uwsgi == mod_wsgi ']'
+ lib/keystone:stop_keystone:591           :   stop_process keystone
+ functions-common:stop_process:1709       :   local service=keystone
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled keystone
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@keystone.service
Failed to get unit file state for devstack@keystone.service: No such file or directory
+ ./unstack.sh:main:118                    :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ ./unstack.sh:main:124                    :   is_service_enabled horizon
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./unstack.sh:main:125                    :   stop_horizon
+ lib/horizon:stop_horizon:176             :   stop_apache_server
+ lib/apache:stop_apache_server:238        :   '[' -n apache2 ']'
+ lib/apache:stop_apache_server:239        :   stop_service apache2
+ functions-common:stop_service:2350       :   '[' -x /bin/systemctl ']'
+ functions-common:stop_service:2351       :   sudo /bin/systemctl stop apache2
+ ./unstack.sh:main:129                    :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ ./unstack.sh:main:134                    :   SCSI_PERSIST_DIR='/opt/stack/data/cinder/volumes/*'
+ ./unstack.sh:main:140                    :   is_service_enabled cinder
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./unstack.sh:main:141                    :   stop_cinder
+ lib/cinder:stop_cinder:643               :   stop_process c-api
+ functions-common:stop_process:1709       :   local service=c-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled c-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@c-api.service
Failed to get unit file state for devstack@c-api.service: No such file or directory
+ lib/cinder:stop_cinder:644               :   stop_process c-bak
+ functions-common:stop_process:1709       :   local service=c-bak
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/cinder:stop_cinder:645               :   stop_process c-sch
+ functions-common:stop_process:1709       :   local service=c-sch
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled c-sch
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@c-sch.service
Failed to get unit file state for devstack@c-sch.service: No such file or directory
+ lib/cinder:stop_cinder:646               :   stop_process c-vol
+ functions-common:stop_process:1709       :   local service=c-vol
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@c-vol.service
Failed to get unit file state for devstack@c-vol.service: No such file or directory
+ ./unstack.sh:main:142                    :   cleanup_cinder
+ lib/cinder:cleanup_cinder:216            :   '[' lioadm = tgtadm ']'
+ lib/cinder:cleanup_cinder:244            :   '[' lioadm = lioadm ']'
+ lib/cinder:cleanup_cinder:245            :   sudo cinder-rtstool get-targets
+ lib/cinder:cleanup_cinder:245            :   sudo xargs -rn 1 cinder-rtstool delete
+ lib/cinder:cleanup_cinder:254            :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/cinder:cleanup_cinder:254            :   [[ -n lvm:lvmdriver-1 ]]
+ lib/cinder:cleanup_cinder:255            :   local be be_name be_type
+ lib/cinder:cleanup_cinder:256            :   for be in ${CINDER_ENABLED_BACKENDS//,/ }
+ lib/cinder:cleanup_cinder:257            :   be_type=lvm
+ lib/cinder:cleanup_cinder:258            :   be_name=lvmdriver-1
+ lib/cinder:cleanup_cinder:259            :   type cleanup_cinder_backend_lvm
+ lib/cinder:cleanup_cinder:260            :   cleanup_cinder_backend_lvm lvmdriver-1
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:38 :   local be_name=lvmdriver-1
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:41 :   clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:61        :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:63        :   _clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:40       :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:43       :   sudo lvremove -f stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" not found
  Cannot process volume group stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:64        :   _remove_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_remove_lvm_volume_group:50      :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_remove_lvm_volume_group:53      :   sudo vgremove -f stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" not found
  Cannot process volume group stack-volumes-lvmdriver-1
++ lib/lvm:clean_lvm_volume_group:67        :   sudo lvs --noheadings -o lv_name stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:67        :   [[ -z '' ]]
+ lib/lvm:clean_lvm_volume_group:68        :   local backing_file=/opt/stack/data/stack-volumes-lvmdriver-1-backing-file
+ lib/lvm:clean_lvm_volume_group:70        :   [[ -n stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:71        :   [[ -e /etc/systemd/system/stack-volumes-lvmdriver-1-backing-file.service ]]
+ lib/lvm:clean_lvm_volume_group:78        :   [[ -n /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:78        :   [[ -e /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:42 :   clean_lvm_filter
+ lib/lvm:clean_lvm_filter:175             :   sudo sed -i 's/^.*# from devstack$//' /etc/lvm/lvm.conf
+ lib/cinder:cleanup_cinder:265            :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/cinder:cleanup_cinder:271            :   stop_process c-api
+ functions-common:stop_process:1709       :   local service=c-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled c-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@c-api.service
Failed to get unit file state for devstack@c-api.service: No such file or directory
+ lib/cinder:cleanup_cinder:272            :   remove_uwsgi_config /etc/cinder/cinder-api-uwsgi.ini /usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=cinder-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site cinder-wsgi
+ lib/apache:disable_apache_site:219       :   local site=cinder-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite cinder-wsgi
Site cinder-wsgi disabled.
To activate the new configuration, you need to run:
  systemctl reload apache2
+ ./unstack.sh:main:145                    :   [[ -n '' ]]
+ ./unstack.sh:main:161                    :   is_service_enabled neutron
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./unstack.sh:main:162                    :   stop_neutron
+ lib/neutron:stop_neutron:698             :   stop_other
+ lib/neutron:stop_other:665               :   is_service_enabled q-dhcp neutron-dhcp
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron:stop_other:671               :   '[' False == True ']'
+ lib/neutron:stop_other:675               :   stop_process q-svc
+ functions-common:stop_process:1709       :   local service=q-svc
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled q-svc
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@q-svc.service
Failed to get unit file state for devstack@q-svc.service: No such file or directory
+ lib/neutron:stop_other:678               :   is_service_enabled q-l3 neutron-l3
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron:stop_other:683               :   is_service_enabled q-meta neutron-metadata-agent
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron:stop_other:687               :   is_service_enabled q-metering neutron-metering
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron:stop_other:691               :   [[ True == \T\r\u\e ]]
+ lib/neutron:stop_other:692               :   sudo pkill -9 -f /usr/local/bin/neutron-rootwrap-daemon
/opt/stack/devstack/lib/neutron: line 664: 1747501 Killed                  sudo pkill -9 -f $NEUTRON_ROOTWRAP-daemon
+ lib/neutron:stop_other:692               :   :
+ lib/neutron:stop_neutron:699             :   stop_l2_agent
+ lib/neutron:stop_l2_agent:660            :   stop_process q-agt
+ functions-common:stop_process:1709       :   local service=q-agt
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled q-agt
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron:stop_neutron:701             :   [[ ovn == \o\v\n ]]
+ lib/neutron:stop_neutron:701             :   [[ False != \T\r\u\e ]]
+ lib/neutron:stop_neutron:702             :   stop_ovn
+ lib/neutron_plugins/ovn_agent:stop_ovn:770 :   is_service_enabled q-ovn-metadata-agent neutron-ovn-metadata-agent
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/neutron_plugins/ovn_agent:stop_ovn:771 :   sudo pkill -9 -f haproxy
/opt/stack/devstack/lib/neutron_plugins/ovn_agent: line 769: 1747555 Killed                  sudo pkill -9 -f haproxy
+ lib/neutron_plugins/ovn_agent:stop_ovn:771 :   :
+ lib/neutron_plugins/ovn_agent:stop_ovn:772 :   _stop_process devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:761 :   local service=devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:762 :   echo 'Stopping process devstack@q-ovn-metadata-agent.service'
Stopping process devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:763 :   sudo systemctl is-enabled devstack@q-ovn-metadata-agent.service
Failed to get unit file state for devstack@q-ovn-metadata-agent.service: No such file or directory
+ lib/neutron_plugins/ovn_agent:stop_ovn:774 :   is_service_enabled ovn-controller-vtep
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron_plugins/ovn_agent:stop_ovn:777 :   is_service_enabled ovn-controller
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/neutron_plugins/ovn_agent:stop_ovn:778 :   _stop_process ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:761 :   local service=ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:762 :   echo 'Stopping process ovn-controller.service'
Stopping process ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:763 :   sudo systemctl is-enabled ovn-controller.service
static
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   sudo systemctl stop ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   sudo systemctl disable ovn-controller.service
+ lib/neutron_plugins/ovn_agent:stop_ovn:780 :   is_service_enabled ovn-northd
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/neutron_plugins/ovn_agent:stop_ovn:781 :   _stop_process ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:761 :   local service=ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:762 :   echo 'Stopping process ovn-central.service'
Stopping process ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:763 :   sudo systemctl is-enabled ovn-central.service
disabled
+ lib/neutron_plugins/ovn_agent:stop_ovn:783 :   is_service_enabled ovs-vtep
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron_plugins/ovn_agent:stop_ovn:787 :   _stop_process ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:761 :   local service=ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:762 :   echo 'Stopping process ovs-vswitchd.service'
Stopping process ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:763 :   sudo systemctl is-enabled ovs-vswitchd.service
static
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   sudo systemctl stop ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   sudo systemctl disable ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:stop_ovn:788 :   _stop_process ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:761 :   local service=ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:762 :   echo 'Stopping process ovsdb-server.service'
Stopping process ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:763 :   sudo systemctl is-enabled ovsdb-server.service
static
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   sudo systemctl stop ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   sudo systemctl disable ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:stop_ovn:790 :   _stop_ovs_dp
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:756 :   sudo ovs-dpctl dump-dps
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:756 :   sudo xargs -n1 ovs-dpctl del-dp
ovs-dpctl: 'del-dp' command requires at least 1 arguments
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:757 :   modprobe -q -r vport_geneve vport_vxlan openvswitch
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:757 :   true
+ ./unstack.sh:main:163                    :   cleanup_neutron
+ lib/neutron:cleanup_neutron:785          :   '[' False == True ']'
+ lib/neutron:cleanup_neutron:792          :   [[ -n br-ex ]]
+ lib/neutron:cleanup_neutron:793          :   _move_neutron_addresses_route br-ex '' False True inet
+ lib/neutron:_move_neutron_addresses_route:710 :   local from_intf=br-ex
+ lib/neutron:_move_neutron_addresses_route:711 :   local to_intf=
+ lib/neutron:_move_neutron_addresses_route:712 :   local add_ovs_port=False
+ lib/neutron:_move_neutron_addresses_route:713 :   local del_ovs_port=True
+ lib/neutron:_move_neutron_addresses_route:714 :   local af=inet
+ lib/neutron:_move_neutron_addresses_route:716 :   [[ -n br-ex ]]
+ lib/neutron:_move_neutron_addresses_route:716 :   [[ -n '' ]]
++ lib/neutron:cleanup_neutron:795          :   grep -c global
++ lib/neutron:cleanup_neutron:795          :   ip -f inet6 a s dev br-ex
Device "br-ex" does not exist.
+ lib/neutron:cleanup_neutron:795          :   [[ 0 != 0 ]]
+ lib/neutron:cleanup_neutron:803          :   is_provider_network
+ functions-common:is_provider_network:2282 :   '[' '' == True ']'
+ functions-common:is_provider_network:2285 :   return 1
+ lib/neutron:cleanup_neutron:812          :   is_neutron_ovs_base_plugin
+ lib/neutron_plugins/ovs_base:is_neutron_ovs_base_plugin:23 :   return 0
+ lib/neutron:cleanup_neutron:813          :   neutron_ovs_base_cleanup
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:46 :   sudo ovs-vsctl list port
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:46 :   grep -o -e '[a-zA-Z-]*tap[0-9a-f-]*' -e 'q[rg]-[0-9a-f-]*'
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:51 :   grep -o -e br-int -e br-ex -e br-tun
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:51 :   sudo ovs-vsctl list-br
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
+ lib/neutron:cleanup_neutron:816          :   [[ ovn == \l\i\n\u\x\b\r\i\d\g\e ]]
++ lib/neutron:cleanup_neutron:821          :   sudo ip netns list
++ lib/neutron:cleanup_neutron:821          :   grep -o -E '(qdhcp|qrouter|fip|snat)-[0-9a-f-]*'
+ lib/neutron:cleanup_neutron:825          :   [[ ovn == \o\v\n ]]
+ lib/neutron:cleanup_neutron:826          :   cleanup_ovn
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:805 :   local ovn_path=/opt/stack/ovn
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:806 :   local ovs_path=/opt/stack/ovs
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:808 :   '[' -d /opt/stack/ovn ']'
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:812 :   '[' -d /opt/stack/ovs ']'
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:816 :   sudo rm -f /var/run/ovn
rm: cannot remove '/var/run/ovn': Is a directory
+ ./unstack.sh:main:166                    :   is_service_enabled etcd3
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./unstack.sh:main:167                    :   stop_etcd3
+ lib/etcd3:stop_etcd3:76                  :   '[' 127.0.0.1 '!=' 127.0.0.1 ']'
+ lib/etcd3:stop_etcd3:80                  :   sudo systemctl stop devstack@etcd.service
Failed to stop devstack@etcd.service: Unit devstack@etcd.service not loaded.
+ ./unstack.sh:main:168                    :   cleanup_etcd3
+ lib/etcd3:cleanup_etcd3:85               :   '[' 127.0.0.1 '!=' 127.0.0.1 ']'
+ lib/etcd3:cleanup_etcd3:89               :   sudo systemctl disable devstack@etcd.service
Failed to disable unit: Unit file devstack@etcd.service does not exist.
+ lib/etcd3:cleanup_etcd3:91               :   local unitfile=/etc/systemd/system/devstack@etcd.service
+ lib/etcd3:cleanup_etcd3:92               :   sudo rm -f /etc/systemd/system/devstack@etcd.service
+ lib/etcd3:cleanup_etcd3:94               :   sudo systemctl daemon-reload
+ lib/etcd3:cleanup_etcd3:96               :   [[ True == \T\r\u\e ]]
+ lib/etcd3:cleanup_etcd3:97               :   sudo umount /opt/stack/data/etcd
+ lib/etcd3:cleanup_etcd3:99               :   sudo rm -rf /opt/stack/data/etcd
+ ./unstack.sh:main:171                    :   is_service_enabled dstat
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./unstack.sh:main:172                    :   stop_dstat
+ lib/dstat:stop_dstat:52                  :   stop_process dstat
+ functions-common:stop_process:1709       :   local service=dstat
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled dstat
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@dstat.service
Failed to get unit file state for devstack@dstat.service: No such file or directory
+ lib/dstat:stop_dstat:53                  :   stop_process memory_tracker
+ functions-common:stop_process:1709       :   local service=memory_tracker
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled memory_tracker
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/dstat:stop_dstat:54                  :   stop_process file_tracker
+ functions-common:stop_process:1709       :   local service=file_tracker
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled file_tracker
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ ./unstack.sh:main:178                    :   is_service_enabled cinder
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./unstack.sh:main:178                    :   is_package_installed lvm2
+ functions-common:is_package_installed:1466 :   [[ -z lvm2 ]]
+ functions-common:is_package_installed:1470 :   [[ -z deb ]]
+ functions-common:is_package_installed:1474 :   [[ deb = \d\e\b ]]
+ functions-common:is_package_installed:1475 :   dpkg -s lvm2
+ ./unstack.sh:main:179                    :   clean_lvm_filter
+ lib/lvm:clean_lvm_filter:175             :   sudo sed -i 's/^.*# from devstack$//' /etc/lvm/lvm.conf
+ ./unstack.sh:main:182                    :   clean_pyc_files
+ functions-common:clean_pyc_files:2543    :   [[ -n /opt/stack ]]
+ functions-common:clean_pyc_files:2543    :   [[ -d /opt/stack ]]
+ functions-common:clean_pyc_files:2544    :   sudo find /opt/stack -name '*.pyc' -delete
+ ./unstack.sh:main:183                    :   rm -Rf /opt/stack/async
+ ./unstack.sh:main:188                    :   sudo sed -i '\+directory = /opt/stack+ d' /etc/gitconfig
WARNING: setting legacy OS_TENANT_NAME to support cli tools.
+ ./clean.sh:main:60                       :   [[ -d /opt/stack/devstack/extras.d ]]
+ ./clean.sh:main:61                       :   for i in $TOP_DIR/extras.d/*.sh
+ ./clean.sh:main:62                       :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ ./clean.sh:main:62                       :   source /opt/stack/devstack/extras.d/80-tempest.sh source
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   grep xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ source == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:6          :   source /opt/stack/devstack/lib/tempest
++++ lib/tempest:source:40                    :   set +o
++++ lib/tempest:source:40                    :   grep xtrace
+++ lib/tempest:source:40                    :   _XTRACE_TEMPEST='set -o xtrace'
+++ lib/tempest:source:41                    :   set +o xtrace
++ extras.d/80-tempest.sh:source:27         :   [[ source == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ source == \c\l\e\a\n ]]
+ ./clean.sh:main:67                       :   /opt/stack/devstack/unstack.sh --all
WARNING: setting legacy OS_TENANT_NAME to support cli tools.
+ unstack.sh:main:96                       :   run_phase unstack
+ functions-common:run_phase:1861          :   local mode=unstack
+ functions-common:run_phase:1862          :   local phase=
+ functions-common:run_phase:1863          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1864          :   local extra_plugin_file_name
+ functions-common:run_phase:1865          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1870          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1871          :   local extra
++ functions-common:run_phase:1872          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1872          :   extra=80-tempest.sh
+ functions-common:run_phase:1873          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1877          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1877          :   source /opt/stack/devstack/extras.d/80-tempest.sh unstack
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ unstack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:27         :   [[ unstack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:29         :   :
++ extras.d/80-tempest.sh:source:32         :   [[ unstack == \c\l\e\a\n ]]
+ functions-common:run_phase:1882          :   [[ unstack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1885          :   [[ unstack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1888          :   run_plugins unstack
+ functions-common:run_plugins:1847        :   local mode=unstack
+ functions-common:run_plugins:1848        :   local phase=
+ functions-common:run_plugins:1850        :   local plugins=
+ functions-common:run_plugins:1851        :   local plugin
+ unstack.sh:main:100                      :   is_service_enabled nova
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ unstack.sh:main:101                      :   stop_nova
+ lib/nova:stop_nova:1232                  :   stop_nova_rest
+ lib/nova:stop_nova_rest:1196             :   for serv in n-api n-api-meta n-sch
+ lib/nova:stop_nova_rest:1197             :   stop_process n-api
+ functions-common:stop_process:1709       :   local service=n-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-api.service
Failed to get unit file state for devstack@n-api.service: No such file or directory
+ lib/nova:stop_nova_rest:1196             :   for serv in n-api n-api-meta n-sch
+ lib/nova:stop_nova_rest:1197             :   stop_process n-api-meta
+ functions-common:stop_process:1709       :   local service=n-api-meta
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-api-meta.service
Failed to get unit file state for devstack@n-api-meta.service: No such file or directory
+ lib/nova:stop_nova_rest:1196             :   for serv in n-api n-api-meta n-sch
+ lib/nova:stop_nova_rest:1197             :   stop_process n-sch
+ functions-common:stop_process:1709       :   local service=n-sch
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-sch
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-sch.service
Failed to get unit file state for devstack@n-sch.service: No such file or directory
+ lib/nova:stop_nova:1233                  :   stop_nova_console_proxies
+ lib/nova:stop_nova_console_proxies:1202  :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:stop_nova_console_proxies:1207  :   enable_nova_console_proxies
++ lib/nova:enable_nova_console_proxies:1094 :   seq 1 1
+ lib/nova:enable_nova_console_proxies:1094 :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:enable_nova_console_proxies:1095 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1096 :   is_service_enabled n-novnc
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:enable_nova_console_proxies:1097 :   enable_service n-novnc-cell1
+ functions-common:enable_service:2020     :   local xtrace
++ functions-common:enable_service:2021     :   set +o
++ functions-common:enable_service:2021     :   grep xtrace
+ functions-common:enable_service:2021     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2022     :   set +o xtrace
+ lib/nova:enable_nova_console_proxies:1095 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1096 :   is_service_enabled n-spice
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/nova:enable_nova_console_proxies:1095 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1096 :   is_service_enabled n-sproxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
++ lib/nova:stop_nova_console_proxies:1208  :   seq 1 1
+ lib/nova:stop_nova_console_proxies:1208  :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:stop_nova_console_proxies:1209  :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:stop_nova_console_proxies:1210  :   stop_process n-novnc-cell1
+ functions-common:stop_process:1709       :   local service=n-novnc-cell1
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-novnc-cell1
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-novnc-cell1.service
Failed to get unit file state for devstack@n-novnc-cell1.service: No such file or directory
+ lib/nova:stop_nova_console_proxies:1209  :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:stop_nova_console_proxies:1210  :   stop_process n-spice-cell1
+ functions-common:stop_process:1709       :   local service=n-spice-cell1
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-spice-cell1
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/nova:stop_nova_console_proxies:1209  :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:stop_nova_console_proxies:1210  :   stop_process n-sproxy-cell1
+ functions-common:stop_process:1709       :   local service=n-sproxy-cell1
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-sproxy-cell1
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/nova:stop_nova:1234                  :   stop_nova_conductor
+ lib/nova:stop_nova_conductor:1217        :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:stop_nova_conductor:1222        :   enable_nova_fleet
+ lib/nova:enable_nova_fleet:1130          :   is_service_enabled n-cond
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:enable_nova_fleet:1131          :   enable_service n-super-cond
+ functions-common:enable_service:2020     :   local xtrace
++ functions-common:enable_service:2021     :   set +o
++ functions-common:enable_service:2021     :   grep xtrace
+ functions-common:enable_service:2021     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2022     :   set +o xtrace
++ lib/nova:enable_nova_fleet:1132          :   seq 1 1
+ lib/nova:enable_nova_fleet:1132          :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:enable_nova_fleet:1133          :   enable_service n-cond-cell1
+ functions-common:enable_service:2020     :   local xtrace
++ functions-common:enable_service:2021     :   set +o
++ functions-common:enable_service:2021     :   grep xtrace
+ functions-common:enable_service:2021     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2022     :   set +o xtrace
++ lib/nova:stop_nova_conductor:1223        :   seq -f n-cond-cell%0.f 1 1
+ lib/nova:stop_nova_conductor:1223        :   for srv in n-super-cond $(seq -f n-cond-cell%0.f 1 $NOVA_NUM_CELLS)
+ lib/nova:stop_nova_conductor:1224        :   is_service_enabled n-super-cond
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:stop_nova_conductor:1225        :   stop_process n-super-cond
+ functions-common:stop_process:1709       :   local service=n-super-cond
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-super-cond
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-super-cond.service
Failed to get unit file state for devstack@n-super-cond.service: No such file or directory
+ lib/nova:stop_nova_conductor:1223        :   for srv in n-super-cond $(seq -f n-cond-cell%0.f 1 $NOVA_NUM_CELLS)
+ lib/nova:stop_nova_conductor:1224        :   is_service_enabled n-cond-cell1
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:stop_nova_conductor:1225        :   stop_process n-cond-cell1
+ functions-common:stop_process:1709       :   local service=n-cond-cell1
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-cond-cell1
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-cond-cell1.service
Failed to get unit file state for devstack@n-cond-cell1.service: No such file or directory
+ lib/nova:stop_nova:1235                  :   stop_nova_compute
+ lib/nova:stop_nova_compute:1181          :   '[' libvirt == fake ']'
+ lib/nova:stop_nova_compute:1187          :   stop_process n-cpu
+ functions-common:stop_process:1709       :   local service=n-cpu
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-cpu.service
Failed to get unit file state for devstack@n-cpu.service: No such file or directory
+ lib/nova:stop_nova_compute:1189          :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:stop_nova_compute:1189          :   [[ -r /opt/stack/devstack/lib/nova_plugins/hypervisor-libvirt ]]
+ lib/nova:stop_nova_compute:1190          :   stop_nova_hypervisor
+ lib/nova_plugins/hypervisor-libvirt:stop_nova_hypervisor:135 :   :
+ unstack.sh:main:102                      :   cleanup_nova
+ lib/nova:cleanup_nova:196                :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:cleanup_nova:198                :   clean_iptables
+ lib/nova:clean_iptables:184              :   sudo iptables -S -v
+ lib/nova:clean_iptables:184              :   grep nova
+ lib/nova:clean_iptables:184              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:184              :   grep '\-A'
+ lib/nova:clean_iptables:184              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:184              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:184              :   bash
+ lib/nova:clean_iptables:186              :   grep '\-A'
+ lib/nova:clean_iptables:186              :   grep nova
+ lib/nova:clean_iptables:186              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:186              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:186              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:186              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:clean_iptables:186              :   bash
+ lib/nova:clean_iptables:188              :   grep '\-N'
+ lib/nova:clean_iptables:188              :   sudo iptables -S -v
+ lib/nova:clean_iptables:188              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:188              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:188              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:188              :   grep nova
+ lib/nova:clean_iptables:188              :   bash
+ lib/nova:clean_iptables:190              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:190              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:190              :   grep nova
+ lib/nova:clean_iptables:190              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:190              :   grep '\-N'
+ lib/nova:clean_iptables:190              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:clean_iptables:190              :   bash
+ lib/nova:cleanup_nova:201                :   local instances
++ lib/nova:cleanup_nova:202                :   sudo virsh list --all
++ lib/nova:cleanup_nova:202                :   grep instance-
++ lib/nova:cleanup_nova:202                :   sed 's/.*\(instance-[0-9a-fA-F]*\).*/\1/g'
+ lib/nova:cleanup_nova:202                :   instances=
+ lib/nova:cleanup_nova:203                :   '[' '!' '' = '' ']'
+ lib/nova:cleanup_nova:212                :   local tgts
++ lib/nova:cleanup_nova:213                :   sudo iscsiadm --mode node
++ lib/nova:cleanup_nova:213                :   cut -d ' ' -f2
++ lib/nova:cleanup_nova:213                :   grep volume-
iscsiadm: No records found
+ lib/nova:cleanup_nova:213                :   tgts=
+ lib/nova:cleanup_nova:214                :   local target
+ lib/nova:cleanup_nova:218                :   sudo iscsiadm --mode node --op delete
iscsiadm: No records found
+ lib/nova:cleanup_nova:218                :   true
+ lib/nova:cleanup_nova:221                :   sudo nvme disconnect-all
sudo: nvme: command not found
+ lib/nova:cleanup_nova:221                :   true
+ lib/nova:cleanup_nova:224                :   sudo rm -rf '/opt/stack/data/nova/instances/*'
+ lib/nova:cleanup_nova:227                :   sudo rm -rf /opt/stack/data/nova
+ lib/nova:cleanup_nova:236                :   stop_process n-api
+ functions-common:stop_process:1709       :   local service=n-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-api.service
Failed to get unit file state for devstack@n-api.service: No such file or directory
+ lib/nova:cleanup_nova:237                :   stop_process n-api-meta
+ functions-common:stop_process:1709       :   local service=n-api-meta
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-api-meta.service
Failed to get unit file state for devstack@n-api-meta.service: No such file or directory
+ lib/nova:cleanup_nova:238                :   remove_uwsgi_config /etc/nova/nova-api-uwsgi.ini /usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/nova/nova-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=nova-api-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/nova/nova-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site nova-api-wsgi
+ lib/apache:disable_apache_site:219       :   local site=nova-api-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite nova-api-wsgi
Site nova-api-wsgi already disabled
+ lib/nova:cleanup_nova:239                :   remove_uwsgi_config /etc/nova/nova-metadata-uwsgi.ini /usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site nova-metadata-wsgi
+ lib/apache:disable_apache_site:219       :   local site=nova-metadata-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite nova-metadata-wsgi
ERROR: Site nova-metadata-wsgi does not exist!
+ lib/apache:disable_apache_site:221       :   true
+ lib/nova:cleanup_nova:241                :   [[ '' == \L\V\M ]]
+ unstack.sh:main:105                      :   is_service_enabled placement
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ unstack.sh:main:106                      :   stop_placement
+ lib/placement:stop_placement:175         :   [[ uwsgi == \u\w\s\g\i ]]
+ lib/placement:stop_placement:176         :   stop_process placement-api
+ functions-common:stop_process:1709       :   local service=placement-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled placement-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@placement-api.service
Failed to get unit file state for devstack@placement-api.service: No such file or directory
+ unstack.sh:main:109                      :   is_service_enabled glance
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ unstack.sh:main:110                      :   stop_glance
+ lib/glance:stop_glance:628               :   stop_process g-api
+ functions-common:stop_process:1709       :   local service=g-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled g-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@g-api.service
Failed to get unit file state for devstack@g-api.service: No such file or directory
+ lib/glance:stop_glance:629               :   stop_process g-api-r
+ functions-common:stop_process:1709       :   local service=g-api-r
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled g-api-r
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ unstack.sh:main:113                      :   is_service_enabled keystone
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ unstack.sh:main:114                      :   stop_keystone
+ lib/keystone:stop_keystone:587           :   '[' uwsgi == mod_wsgi ']'
+ lib/keystone:stop_keystone:591           :   stop_process keystone
+ functions-common:stop_process:1709       :   local service=keystone
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled keystone
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@keystone.service
Failed to get unit file state for devstack@keystone.service: No such file or directory
+ unstack.sh:main:118                      :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ unstack.sh:main:124                      :   is_service_enabled horizon
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ unstack.sh:main:125                      :   stop_horizon
+ lib/horizon:stop_horizon:176             :   stop_apache_server
+ lib/apache:stop_apache_server:238        :   '[' -n apache2 ']'
+ lib/apache:stop_apache_server:239        :   stop_service apache2
+ functions-common:stop_service:2350       :   '[' -x /bin/systemctl ']'
+ functions-common:stop_service:2351       :   sudo /bin/systemctl stop apache2
+ unstack.sh:main:129                      :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ unstack.sh:main:134                      :   SCSI_PERSIST_DIR='/opt/stack/data/cinder/volumes/*'
+ unstack.sh:main:140                      :   is_service_enabled cinder
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ unstack.sh:main:141                      :   stop_cinder
+ lib/cinder:stop_cinder:643               :   stop_process c-api
+ functions-common:stop_process:1709       :   local service=c-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled c-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@c-api.service
Failed to get unit file state for devstack@c-api.service: No such file or directory
+ lib/cinder:stop_cinder:644               :   stop_process c-bak
+ functions-common:stop_process:1709       :   local service=c-bak
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/cinder:stop_cinder:645               :   stop_process c-sch
+ functions-common:stop_process:1709       :   local service=c-sch
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled c-sch
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@c-sch.service
Failed to get unit file state for devstack@c-sch.service: No such file or directory
+ lib/cinder:stop_cinder:646               :   stop_process c-vol
+ functions-common:stop_process:1709       :   local service=c-vol
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@c-vol.service
Failed to get unit file state for devstack@c-vol.service: No such file or directory
+ unstack.sh:main:142                      :   cleanup_cinder
+ lib/cinder:cleanup_cinder:216            :   '[' lioadm = tgtadm ']'
+ lib/cinder:cleanup_cinder:244            :   '[' lioadm = lioadm ']'
+ lib/cinder:cleanup_cinder:245            :   sudo cinder-rtstool get-targets
+ lib/cinder:cleanup_cinder:245            :   sudo xargs -rn 1 cinder-rtstool delete
+ lib/cinder:cleanup_cinder:254            :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/cinder:cleanup_cinder:254            :   [[ -n lvm:lvmdriver-1 ]]
+ lib/cinder:cleanup_cinder:255            :   local be be_name be_type
+ lib/cinder:cleanup_cinder:256            :   for be in ${CINDER_ENABLED_BACKENDS//,/ }
+ lib/cinder:cleanup_cinder:257            :   be_type=lvm
+ lib/cinder:cleanup_cinder:258            :   be_name=lvmdriver-1
+ lib/cinder:cleanup_cinder:259            :   type cleanup_cinder_backend_lvm
+ lib/cinder:cleanup_cinder:260            :   cleanup_cinder_backend_lvm lvmdriver-1
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:38 :   local be_name=lvmdriver-1
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:41 :   clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:61        :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:63        :   _clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:40       :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:43       :   sudo lvremove -f stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" not found
  Cannot process volume group stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:64        :   _remove_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_remove_lvm_volume_group:50      :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_remove_lvm_volume_group:53      :   sudo vgremove -f stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" not found
  Cannot process volume group stack-volumes-lvmdriver-1
++ lib/lvm:clean_lvm_volume_group:67        :   sudo lvs --noheadings -o lv_name stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:67        :   [[ -z '' ]]
+ lib/lvm:clean_lvm_volume_group:68        :   local backing_file=/opt/stack/data/stack-volumes-lvmdriver-1-backing-file
+ lib/lvm:clean_lvm_volume_group:70        :   [[ -n stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:71        :   [[ -e /etc/systemd/system/stack-volumes-lvmdriver-1-backing-file.service ]]
+ lib/lvm:clean_lvm_volume_group:78        :   [[ -n /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:78        :   [[ -e /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:42 :   clean_lvm_filter
+ lib/lvm:clean_lvm_filter:175             :   sudo sed -i 's/^.*# from devstack$//' /etc/lvm/lvm.conf
+ lib/cinder:cleanup_cinder:265            :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/cinder:cleanup_cinder:271            :   stop_process c-api
+ functions-common:stop_process:1709       :   local service=c-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled c-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@c-api.service
Failed to get unit file state for devstack@c-api.service: No such file or directory
+ lib/cinder:cleanup_cinder:272            :   remove_uwsgi_config /etc/cinder/cinder-api-uwsgi.ini /usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=cinder-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site cinder-wsgi
+ lib/apache:disable_apache_site:219       :   local site=cinder-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite cinder-wsgi
Site cinder-wsgi already disabled
+ unstack.sh:main:145                      :   [[ -n -1 ]]
+ unstack.sh:main:147                      :   is_service_enabled mysql
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ unstack.sh:main:148                      :   stop_service mysql
+ functions-common:stop_service:2350       :   '[' -x /bin/systemctl ']'
+ functions-common:stop_service:2351       :   sudo /bin/systemctl stop mysql
+ unstack.sh:main:151                      :   is_service_enabled postgresql
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ unstack.sh:main:156                      :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ unstack.sh:main:157                      :   stop_service rabbitmq-server
+ functions-common:stop_service:2350       :   '[' -x /bin/systemctl ']'
+ functions-common:stop_service:2351       :   sudo /bin/systemctl stop rabbitmq-server
+ unstack.sh:main:161                      :   is_service_enabled neutron
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ unstack.sh:main:162                      :   stop_neutron
+ lib/neutron:stop_neutron:698             :   stop_other
+ lib/neutron:stop_other:665               :   is_service_enabled q-dhcp neutron-dhcp
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron:stop_other:671               :   '[' False == True ']'
+ lib/neutron:stop_other:675               :   stop_process q-svc
+ functions-common:stop_process:1709       :   local service=q-svc
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled q-svc
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@q-svc.service
Failed to get unit file state for devstack@q-svc.service: No such file or directory
+ lib/neutron:stop_other:678               :   is_service_enabled q-l3 neutron-l3
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron:stop_other:683               :   is_service_enabled q-meta neutron-metadata-agent
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron:stop_other:687               :   is_service_enabled q-metering neutron-metering
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron:stop_other:691               :   [[ True == \T\r\u\e ]]
+ lib/neutron:stop_other:692               :   sudo pkill -9 -f /usr/local/bin/neutron-rootwrap-daemon
/opt/stack/devstack/lib/neutron: line 664: 1751137 Killed                  sudo pkill -9 -f $NEUTRON_ROOTWRAP-daemon
+ lib/neutron:stop_other:692               :   :
+ lib/neutron:stop_neutron:699             :   stop_l2_agent
+ lib/neutron:stop_l2_agent:660            :   stop_process q-agt
+ functions-common:stop_process:1709       :   local service=q-agt
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled q-agt
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron:stop_neutron:701             :   [[ ovn == \o\v\n ]]
+ lib/neutron:stop_neutron:701             :   [[ False != \T\r\u\e ]]
+ lib/neutron:stop_neutron:702             :   stop_ovn
+ lib/neutron_plugins/ovn_agent:stop_ovn:770 :   is_service_enabled q-ovn-metadata-agent neutron-ovn-metadata-agent
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/neutron_plugins/ovn_agent:stop_ovn:771 :   sudo pkill -9 -f haproxy
/opt/stack/devstack/lib/neutron_plugins/ovn_agent: line 769: 1751191 Killed                  sudo pkill -9 -f haproxy
+ lib/neutron_plugins/ovn_agent:stop_ovn:771 :   :
+ lib/neutron_plugins/ovn_agent:stop_ovn:772 :   _stop_process devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:761 :   local service=devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:762 :   echo 'Stopping process devstack@q-ovn-metadata-agent.service'
Stopping process devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:763 :   sudo systemctl is-enabled devstack@q-ovn-metadata-agent.service
Failed to get unit file state for devstack@q-ovn-metadata-agent.service: No such file or directory
+ lib/neutron_plugins/ovn_agent:stop_ovn:774 :   is_service_enabled ovn-controller-vtep
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron_plugins/ovn_agent:stop_ovn:777 :   is_service_enabled ovn-controller
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/neutron_plugins/ovn_agent:stop_ovn:778 :   _stop_process ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:761 :   local service=ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:762 :   echo 'Stopping process ovn-controller.service'
Stopping process ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:763 :   sudo systemctl is-enabled ovn-controller.service
static
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   sudo systemctl stop ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   sudo systemctl disable ovn-controller.service
+ lib/neutron_plugins/ovn_agent:stop_ovn:780 :   is_service_enabled ovn-northd
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/neutron_plugins/ovn_agent:stop_ovn:781 :   _stop_process ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:761 :   local service=ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:762 :   echo 'Stopping process ovn-central.service'
Stopping process ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:763 :   sudo systemctl is-enabled ovn-central.service
disabled
+ lib/neutron_plugins/ovn_agent:stop_ovn:783 :   is_service_enabled ovs-vtep
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron_plugins/ovn_agent:stop_ovn:787 :   _stop_process ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:761 :   local service=ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:762 :   echo 'Stopping process ovs-vswitchd.service'
Stopping process ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:763 :   sudo systemctl is-enabled ovs-vswitchd.service
static
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   sudo systemctl stop ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   sudo systemctl disable ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:stop_ovn:788 :   _stop_process ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:761 :   local service=ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:762 :   echo 'Stopping process ovsdb-server.service'
Stopping process ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:763 :   sudo systemctl is-enabled ovsdb-server.service
static
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   sudo systemctl stop ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   sudo systemctl disable ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:stop_ovn:790 :   _stop_ovs_dp
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:756 :   sudo ovs-dpctl dump-dps
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:756 :   sudo xargs -n1 ovs-dpctl del-dp
ovs-dpctl: 'del-dp' command requires at least 1 arguments
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:757 :   modprobe -q -r vport_geneve vport_vxlan openvswitch
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:757 :   true
+ unstack.sh:main:163                      :   cleanup_neutron
+ lib/neutron:cleanup_neutron:785          :   '[' False == True ']'
+ lib/neutron:cleanup_neutron:792          :   [[ -n br-ex ]]
+ lib/neutron:cleanup_neutron:793          :   _move_neutron_addresses_route br-ex '' False True inet
+ lib/neutron:_move_neutron_addresses_route:710 :   local from_intf=br-ex
+ lib/neutron:_move_neutron_addresses_route:711 :   local to_intf=
+ lib/neutron:_move_neutron_addresses_route:712 :   local add_ovs_port=False
+ lib/neutron:_move_neutron_addresses_route:713 :   local del_ovs_port=True
+ lib/neutron:_move_neutron_addresses_route:714 :   local af=inet
+ lib/neutron:_move_neutron_addresses_route:716 :   [[ -n br-ex ]]
+ lib/neutron:_move_neutron_addresses_route:716 :   [[ -n '' ]]
++ lib/neutron:cleanup_neutron:795          :   ip -f inet6 a s dev br-ex
++ lib/neutron:cleanup_neutron:795          :   grep -c global
Device "br-ex" does not exist.
+ lib/neutron:cleanup_neutron:795          :   [[ 0 != 0 ]]
+ lib/neutron:cleanup_neutron:803          :   is_provider_network
+ functions-common:is_provider_network:2282 :   '[' '' == True ']'
+ functions-common:is_provider_network:2285 :   return 1
+ lib/neutron:cleanup_neutron:812          :   is_neutron_ovs_base_plugin
+ lib/neutron_plugins/ovs_base:is_neutron_ovs_base_plugin:23 :   return 0
+ lib/neutron:cleanup_neutron:813          :   neutron_ovs_base_cleanup
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:46 :   sudo ovs-vsctl list port
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:46 :   grep -o -e '[a-zA-Z-]*tap[0-9a-f-]*' -e 'q[rg]-[0-9a-f-]*'
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:51 :   sudo ovs-vsctl list-br
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:51 :   grep -o -e br-int -e br-ex -e br-tun
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
+ lib/neutron:cleanup_neutron:816          :   [[ ovn == \l\i\n\u\x\b\r\i\d\g\e ]]
++ lib/neutron:cleanup_neutron:821          :   sudo ip netns list
++ lib/neutron:cleanup_neutron:821          :   grep -o -E '(qdhcp|qrouter|fip|snat)-[0-9a-f-]*'
+ lib/neutron:cleanup_neutron:825          :   [[ ovn == \o\v\n ]]
+ lib/neutron:cleanup_neutron:826          :   cleanup_ovn
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:805 :   local ovn_path=/opt/stack/ovn
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:806 :   local ovs_path=/opt/stack/ovs
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:808 :   '[' -d /opt/stack/ovn ']'
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:812 :   '[' -d /opt/stack/ovs ']'
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:816 :   sudo rm -f /var/run/ovn
rm: cannot remove '/var/run/ovn': Is a directory
+ unstack.sh:main:166                      :   is_service_enabled etcd3
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ unstack.sh:main:167                      :   stop_etcd3
+ lib/etcd3:stop_etcd3:76                  :   '[' 127.0.0.1 '!=' 127.0.0.1 ']'
+ lib/etcd3:stop_etcd3:80                  :   sudo systemctl stop devstack@etcd.service
Failed to stop devstack@etcd.service: Unit devstack@etcd.service not loaded.
+ unstack.sh:main:168                      :   cleanup_etcd3
+ lib/etcd3:cleanup_etcd3:85               :   '[' 127.0.0.1 '!=' 127.0.0.1 ']'
+ lib/etcd3:cleanup_etcd3:89               :   sudo systemctl disable devstack@etcd.service
Failed to disable unit: Unit file devstack@etcd.service does not exist.
+ lib/etcd3:cleanup_etcd3:91               :   local unitfile=/etc/systemd/system/devstack@etcd.service
+ lib/etcd3:cleanup_etcd3:92               :   sudo rm -f /etc/systemd/system/devstack@etcd.service
+ lib/etcd3:cleanup_etcd3:94               :   sudo systemctl daemon-reload
+ lib/etcd3:cleanup_etcd3:96               :   [[ True == \T\r\u\e ]]
+ lib/etcd3:cleanup_etcd3:97               :   sudo umount /opt/stack/data/etcd
umount: /opt/stack/data/etcd: no mount point specified.
+ lib/etcd3:cleanup_etcd3:99               :   sudo rm -rf /opt/stack/data/etcd
+ unstack.sh:main:171                      :   is_service_enabled dstat
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ unstack.sh:main:172                      :   stop_dstat
+ lib/dstat:stop_dstat:52                  :   stop_process dstat
+ functions-common:stop_process:1709       :   local service=dstat
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled dstat
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@dstat.service
Failed to get unit file state for devstack@dstat.service: No such file or directory
+ lib/dstat:stop_dstat:53                  :   stop_process memory_tracker
+ functions-common:stop_process:1709       :   local service=memory_tracker
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled memory_tracker
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/dstat:stop_dstat:54                  :   stop_process file_tracker
+ functions-common:stop_process:1709       :   local service=file_tracker
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled file_tracker
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ unstack.sh:main:178                      :   is_service_enabled cinder
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ unstack.sh:main:178                      :   is_package_installed lvm2
+ functions-common:is_package_installed:1466 :   [[ -z lvm2 ]]
+ functions-common:is_package_installed:1470 :   [[ -z deb ]]
+ functions-common:is_package_installed:1474 :   [[ deb = \d\e\b ]]
+ functions-common:is_package_installed:1475 :   dpkg -s lvm2
+ unstack.sh:main:179                      :   clean_lvm_filter
+ lib/lvm:clean_lvm_filter:175             :   sudo sed -i 's/^.*# from devstack$//' /etc/lvm/lvm.conf
+ unstack.sh:main:182                      :   clean_pyc_files
+ functions-common:clean_pyc_files:2543    :   [[ -n /opt/stack ]]
+ functions-common:clean_pyc_files:2543    :   [[ -d /opt/stack ]]
+ functions-common:clean_pyc_files:2544    :   sudo find /opt/stack -name '*.pyc' -delete
+ unstack.sh:main:183                      :   rm -Rf /opt/stack/async
+ unstack.sh:main:188                      :   sudo sed -i '\+directory = /opt/stack+ d' /etc/gitconfig
+ ./clean.sh:main:73                       :   load_plugin_settings
+ functions-common:load_plugin_settings:1797 :   local plugins=
+ functions-common:load_plugin_settings:1798 :   local plugin
+ functions-common:load_plugin_settings:1801 :   [[ -z '' ]]
+ functions-common:load_plugin_settings:1802 :   return
+ ./clean.sh:main:74                       :   run_phase clean
+ functions-common:run_phase:1861          :   local mode=clean
+ functions-common:run_phase:1862          :   local phase=
+ functions-common:run_phase:1863          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1864          :   local extra_plugin_file_name
+ functions-common:run_phase:1865          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1870          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1871          :   local extra
++ functions-common:run_phase:1872          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1872          :   extra=80-tempest.sh
+ functions-common:run_phase:1873          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1877          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1877          :   source /opt/stack/devstack/extras.d/80-tempest.sh clean
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ clean == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:27         :   [[ clean == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ clean == \c\l\e\a\n ]]
++ extras.d/80-tempest.sh:source:34         :   :
+ functions-common:run_phase:1882          :   [[ clean == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1885          :   [[ clean == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1888          :   run_plugins clean
+ functions-common:run_plugins:1847        :   local mode=clean
+ functions-common:run_plugins:1848        :   local phase=
+ functions-common:run_plugins:1850        :   local plugins=
+ functions-common:run_plugins:1851        :   local plugin
+ ./clean.sh:main:76                       :   [[ -d /opt/stack/devstack/extras.d ]]
+ ./clean.sh:main:77                       :   for i in $TOP_DIR/extras.d/*.sh
+ ./clean.sh:main:78                       :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ ./clean.sh:main:78                       :   source /opt/stack/devstack/extras.d/80-tempest.sh clean
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ clean == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:27         :   [[ clean == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ clean == \c\l\e\a\n ]]
++ extras.d/80-tempest.sh:source:34         :   :
+ ./clean.sh:main:85                       :   cleanup_cinder
+ lib/cinder:cleanup_cinder:216            :   '[' lioadm = tgtadm ']'
+ lib/cinder:cleanup_cinder:244            :   '[' lioadm = lioadm ']'
+ lib/cinder:cleanup_cinder:245            :   sudo cinder-rtstool get-targets
+ lib/cinder:cleanup_cinder:245            :   sudo xargs -rn 1 cinder-rtstool delete
+ lib/cinder:cleanup_cinder:254            :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/cinder:cleanup_cinder:254            :   [[ -n lvm:lvmdriver-1 ]]
+ lib/cinder:cleanup_cinder:255            :   local be be_name be_type
+ lib/cinder:cleanup_cinder:256            :   for be in ${CINDER_ENABLED_BACKENDS//,/ }
+ lib/cinder:cleanup_cinder:257            :   be_type=lvm
+ lib/cinder:cleanup_cinder:258            :   be_name=lvmdriver-1
+ lib/cinder:cleanup_cinder:259            :   type cleanup_cinder_backend_lvm
+ lib/cinder:cleanup_cinder:260            :   cleanup_cinder_backend_lvm lvmdriver-1
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:38 :   local be_name=lvmdriver-1
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:41 :   clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:61        :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:63        :   _clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:40       :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:43       :   sudo lvremove -f stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" not found
  Cannot process volume group stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:64        :   _remove_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_remove_lvm_volume_group:50      :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_remove_lvm_volume_group:53      :   sudo vgremove -f stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" not found
  Cannot process volume group stack-volumes-lvmdriver-1
++ lib/lvm:clean_lvm_volume_group:67        :   sudo lvs --noheadings -o lv_name stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:67        :   [[ -z '' ]]
+ lib/lvm:clean_lvm_volume_group:68        :   local backing_file=/opt/stack/data/stack-volumes-lvmdriver-1-backing-file
+ lib/lvm:clean_lvm_volume_group:70        :   [[ -n stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:71        :   [[ -e /etc/systemd/system/stack-volumes-lvmdriver-1-backing-file.service ]]
+ lib/lvm:clean_lvm_volume_group:78        :   [[ -n /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:78        :   [[ -e /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:42 :   clean_lvm_filter
+ lib/lvm:clean_lvm_filter:175             :   sudo sed -i 's/^.*# from devstack$//' /etc/lvm/lvm.conf
+ lib/cinder:cleanup_cinder:265            :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/cinder:cleanup_cinder:271            :   stop_process c-api
+ functions-common:stop_process:1709       :   local service=c-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled c-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@c-api.service
Failed to get unit file state for devstack@c-api.service: No such file or directory
+ lib/cinder:cleanup_cinder:272            :   remove_uwsgi_config /etc/cinder/cinder-api-uwsgi.ini /usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=cinder-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site cinder-wsgi
+ lib/apache:disable_apache_site:219       :   local site=cinder-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite cinder-wsgi
Site cinder-wsgi already disabled
+ ./clean.sh:main:87                       :   cleanup_glance
+ lib/glance:cleanup_glance:158            :   sudo rm -rf /opt/stack/data/glance/cache /opt/stack/data/glance/images /opt/stack/data/glance-remote
+ lib/glance:cleanup_glance:161            :   [[ False == \T\r\u\e ]]
+ ./clean.sh:main:88                       :   cleanup_keystone
+ lib/keystone:cleanup_keystone:147        :   '[' uwsgi == mod_wsgi ']'
+ lib/keystone:cleanup_keystone:152        :   stop_process keystone
+ functions-common:stop_process:1709       :   local service=keystone
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled keystone
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@keystone.service
Failed to get unit file state for devstack@keystone.service: No such file or directory
+ lib/keystone:cleanup_keystone:153        :   remove_uwsgi_config /etc/keystone/keystone-uwsgi-public.ini /usr/local/bin/keystone-wsgi-public
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/keystone/keystone-uwsgi-public.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/keystone-wsgi-public
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/keystone-wsgi-public
+ lib/apache:remove_uwsgi_config:395       :   name=keystone-wsgi-public
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/keystone/keystone-uwsgi-public.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site keystone-wsgi-public
+ lib/apache:disable_apache_site:219       :   local site=keystone-wsgi-public
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite keystone-wsgi-public
Site keystone-wsgi-public disabled.
To activate the new configuration, you need to run:
  systemctl reload apache2
++ lib/keystone:cleanup_keystone:154        :   apache_site_config_for keystone-wsgi-public
++ lib/apache:apache_site_config_for:186    :   local site=keystone-wsgi-public
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:575           :   [[ -z deb ]]
++ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/keystone-wsgi-public.conf
+ lib/keystone:cleanup_keystone:154        :   sudo rm -f /etc/apache2/sites-available/keystone-wsgi-public.conf
+ ./clean.sh:main:89                       :   cleanup_nova
+ lib/nova:cleanup_nova:196                :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/nova:cleanup_nova:198                :   clean_iptables
+ lib/nova:clean_iptables:184              :   sudo iptables -S -v
+ lib/nova:clean_iptables:184              :   grep nova
+ lib/nova:clean_iptables:184              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:184              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:184              :   grep '\-A'
+ lib/nova:clean_iptables:184              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:184              :   bash
+ lib/nova:clean_iptables:186              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:186              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:186              :   grep nova
+ lib/nova:clean_iptables:186              :   grep '\-A'
+ lib/nova:clean_iptables:186              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:clean_iptables:186              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:186              :   bash
+ lib/nova:clean_iptables:188              :   grep nova
+ lib/nova:clean_iptables:188              :   sudo iptables -S -v
+ lib/nova:clean_iptables:188              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:188              :   grep '\-N'
+ lib/nova:clean_iptables:188              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:188              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:188              :   bash
+ lib/nova:clean_iptables:190              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:190              :   grep nova
+ lib/nova:clean_iptables:190              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:190              :   grep '\-N'
+ lib/nova:clean_iptables:190              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:190              :   bash
+ lib/nova:clean_iptables:190              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:cleanup_nova:201                :   local instances
++ lib/nova:cleanup_nova:202                :   sudo virsh list --all
++ lib/nova:cleanup_nova:202                :   grep instance-
++ lib/nova:cleanup_nova:202                :   sed 's/.*\(instance-[0-9a-fA-F]*\).*/\1/g'
+ lib/nova:cleanup_nova:202                :   instances=
+ lib/nova:cleanup_nova:203                :   '[' '!' '' = '' ']'
+ lib/nova:cleanup_nova:212                :   local tgts
++ lib/nova:cleanup_nova:213                :   grep volume-
++ lib/nova:cleanup_nova:213                :   sudo iscsiadm --mode node
++ lib/nova:cleanup_nova:213                :   cut -d ' ' -f2
iscsiadm: No records found
+ lib/nova:cleanup_nova:213                :   tgts=
+ lib/nova:cleanup_nova:214                :   local target
+ lib/nova:cleanup_nova:218                :   sudo iscsiadm --mode node --op delete
iscsiadm: No records found
+ lib/nova:cleanup_nova:218                :   true
+ lib/nova:cleanup_nova:221                :   sudo nvme disconnect-all
sudo: nvme: command not found
+ lib/nova:cleanup_nova:221                :   true
+ lib/nova:cleanup_nova:224                :   sudo rm -rf '/opt/stack/data/nova/instances/*'
+ lib/nova:cleanup_nova:227                :   sudo rm -rf /opt/stack/data/nova
+ lib/nova:cleanup_nova:236                :   stop_process n-api
+ functions-common:stop_process:1709       :   local service=n-api
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-api.service
Failed to get unit file state for devstack@n-api.service: No such file or directory
+ lib/nova:cleanup_nova:237                :   stop_process n-api-meta
+ functions-common:stop_process:1709       :   local service=n-api-meta
+ functions-common:stop_process:1711       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1713       :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ functions-common:stop_process:1717       :   sudo systemctl is-enabled devstack@n-api-meta.service
Failed to get unit file state for devstack@n-api-meta.service: No such file or directory
+ lib/nova:cleanup_nova:238                :   remove_uwsgi_config /etc/nova/nova-api-uwsgi.ini /usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/nova/nova-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=nova-api-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/nova/nova-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site nova-api-wsgi
+ lib/apache:disable_apache_site:219       :   local site=nova-api-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite nova-api-wsgi
Site nova-api-wsgi already disabled
+ lib/nova:cleanup_nova:239                :   remove_uwsgi_config /etc/nova/nova-metadata-uwsgi.ini /usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site nova-metadata-wsgi
+ lib/apache:disable_apache_site:219       :   local site=nova-metadata-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite nova-metadata-wsgi
ERROR: Site nova-metadata-wsgi does not exist!
+ lib/apache:disable_apache_site:221       :   true
+ lib/nova:cleanup_nova:241                :   [[ '' == \L\V\M ]]
+ ./clean.sh:main:90                       :   cleanup_placement
++ lib/placement:cleanup_placement:70       :   apache_site_config_for placement-api
++ lib/apache:apache_site_config_for:186    :   local site=placement-api
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:575           :   [[ -z deb ]]
++ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/placement-api.conf
+ lib/placement:cleanup_placement:70       :   sudo rm -f /etc/apache2/sites-available/placement-api.conf
+ lib/placement:cleanup_placement:71       :   remove_uwsgi_config /etc/placement/placement-uwsgi.ini /usr/local/bin/placement-api
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/placement/placement-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/placement-api
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/placement-api
+ lib/apache:remove_uwsgi_config:395       :   name=placement-api
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/placement/placement-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site placement-api
+ lib/apache:disable_apache_site:219       :   local site=placement-api
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite placement-api
ERROR: Site placement-api does not exist!
+ lib/apache:disable_apache_site:221       :   true
+ ./clean.sh:main:91                       :   cleanup_neutron
+ lib/neutron:cleanup_neutron:785          :   '[' False == True ']'
+ lib/neutron:cleanup_neutron:792          :   [[ -n br-ex ]]
+ lib/neutron:cleanup_neutron:793          :   _move_neutron_addresses_route br-ex '' False True inet
+ lib/neutron:_move_neutron_addresses_route:710 :   local from_intf=br-ex
+ lib/neutron:_move_neutron_addresses_route:711 :   local to_intf=
+ lib/neutron:_move_neutron_addresses_route:712 :   local add_ovs_port=False
+ lib/neutron:_move_neutron_addresses_route:713 :   local del_ovs_port=True
+ lib/neutron:_move_neutron_addresses_route:714 :   local af=inet
+ lib/neutron:_move_neutron_addresses_route:716 :   [[ -n br-ex ]]
+ lib/neutron:_move_neutron_addresses_route:716 :   [[ -n '' ]]
++ lib/neutron:cleanup_neutron:795          :   ip -f inet6 a s dev br-ex
++ lib/neutron:cleanup_neutron:795          :   grep -c global
Device "br-ex" does not exist.
+ lib/neutron:cleanup_neutron:795          :   [[ 0 != 0 ]]
+ lib/neutron:cleanup_neutron:803          :   is_provider_network
+ functions-common:is_provider_network:2282 :   '[' '' == True ']'
+ functions-common:is_provider_network:2285 :   return 1
+ lib/neutron:cleanup_neutron:812          :   is_neutron_ovs_base_plugin
+ lib/neutron_plugins/ovs_base:is_neutron_ovs_base_plugin:23 :   return 0
+ lib/neutron:cleanup_neutron:813          :   neutron_ovs_base_cleanup
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:46 :   sudo ovs-vsctl list port
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:46 :   grep -o -e '[a-zA-Z-]*tap[0-9a-f-]*' -e 'q[rg]-[0-9a-f-]*'
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:51 :   sudo ovs-vsctl list-br
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:51 :   grep -o -e br-int -e br-ex -e br-tun
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
+ lib/neutron:cleanup_neutron:816          :   [[ ovn == \l\i\n\u\x\b\r\i\d\g\e ]]
++ lib/neutron:cleanup_neutron:821          :   sudo ip netns list
++ lib/neutron:cleanup_neutron:821          :   grep -o -E '(qdhcp|qrouter|fip|snat)-[0-9a-f-]*'
+ lib/neutron:cleanup_neutron:825          :   [[ ovn == \o\v\n ]]
+ lib/neutron:cleanup_neutron:826          :   cleanup_ovn
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:805 :   local ovn_path=/opt/stack/ovn
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:806 :   local ovs_path=/opt/stack/ovs
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:808 :   '[' -d /opt/stack/ovn ']'
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:812 :   '[' -d /opt/stack/ovs ']'
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:816 :   sudo rm -f /var/run/ovn
rm: cannot remove '/var/run/ovn': Is a directory
+ ./clean.sh:main:92                       :   cleanup_swift
+ lib/swift:cleanup_swift:181              :   rm -f '/etc/swift*.builder' '/etc/swift*.ring.gz' '/etc/swiftbackups/*.builder' '/etc/swiftbackups/*.ring.gz'
+ lib/swift:cleanup_swift:183              :   destroy_disk /opt/stack/data/swift/drives/images/swift.img /opt/stack/data/swift/drives/sdb1
+ functions:destroy_disk:763               :   local disk_image=/opt/stack/data/swift/drives/images/swift.img
+ functions:destroy_disk:764               :   local storage_data_dir=/opt/stack/data/swift/drives/sdb1
+ functions:destroy_disk:765               :   local key
++ functions:destroy_disk:767               :   echo /opt/stack/data/swift/drives/images/swift.img
++ functions:destroy_disk:767               :   sed s#/.##
+ functions:destroy_disk:767               :   key=pt/stack/data/swift/drives/images/swift.img
+ functions:destroy_disk:768               :   key=devstack-pt/stack/data/swift/drives/images/swift.img
+ functions:destroy_disk:771               :   egrep -q /opt/stack/data/swift/drives/sdb1 /proc/mounts
+ functions:destroy_disk:776               :   sudo sed -i '/.*comment=$key.*/ d' /etc/fstab
+ functions:destroy_disk:779               :   sudo rm -f /opt/stack/data/swift/drives/images/swift.img
+ lib/swift:cleanup_swift:185              :   rm -rf /opt/stack/data/swift/run/
+ lib/swift:cleanup_swift:186              :   '[' False == True ']'
+ ./clean.sh:main:93                       :   cleanup_horizon
+ lib/horizon:cleanup_horizon:69           :   disable_apache_site horizon
+ lib/apache:disable_apache_site:219       :   local site=horizon
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite horizon
ERROR: Site horizon does not exist!
+ lib/apache:disable_apache_site:221       :   true
++ lib/horizon:cleanup_horizon:70           :   apache_site_config_for horizon
++ lib/apache:apache_site_config_for:186    :   local site=horizon
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:575           :   [[ -z deb ]]
++ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/horizon.conf
+ lib/horizon:cleanup_horizon:70           :   sudo rm -f /etc/apache2/sites-available/horizon.conf
+ ./clean.sh:main:95                       :   is_service_enabled ldap
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ ./clean.sh:main:100                      :   is_service_enabled nova
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./clean.sh:main:100                      :   [[ -r /opt/stack/devstack/lib/nova_plugins/hypervisor-libvirt ]]
+ ./clean.sh:main:101                      :   cleanup_nova_hypervisor
+ lib/nova_plugins/hypervisor-libvirt:cleanup_nova_hypervisor:35 :   :
+ ./clean.sh:main:105                      :   sudo rm -rf /etc/keystone /etc/glance /etc/nova /etc/cinder /etc/swift /etc/neutron /etc/openstack/
+ ./clean.sh:main:108                      :   sudo rm -f '/etc/tgt/conf.d/*'
+ ./clean.sh:main:111                      :   cleanup_rpc_backend
+ lib/rpc_backend:cleanup_rpc_backend:38   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/rpc_backend:cleanup_rpc_backend:40   :   uninstall_package rabbitmq-server
+ functions-common:uninstall_package:1486  :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ functions-common:uninstall_package:1487  :   apt_get purge rabbitmq-server
+ functions-common:apt_get:1211            :   local xtrace result
++ functions-common:apt_get:1212            :   set +o
++ functions-common:apt_get:1212            :   grep xtrace
+ functions-common:apt_get:1212            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1213            :   set +o xtrace
+ functions-common:apt_get:1224            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes purge rabbitmq-server
Reading package lists...
Building dependency tree...
Reading state information...
The following packages were automatically installed and are no longer required:
  apg colord-data erlang-asn1 erlang-base erlang-crypto erlang-eldap
  erlang-ftp erlang-inets erlang-mnesia erlang-os-mon erlang-parsetools
  erlang-public-key erlang-runtime-tools erlang-snmp erlang-ssl
  erlang-syntax-tools erlang-tftp erlang-tools erlang-xmerl
  gnome-control-center-faces gnome-online-accounts hplip-data libcolord-gtk1
  libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0 libgupnp-av-1.0-2
  libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0 librygel-core-2.6-2
  librygel-db-2.6-2 librygel-renderer-2.6-2 librygel-server-2.6-2
  libsane-common libsnmp-base libwebpmux3 locales-all
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  rabbitmq-server*
0 upgraded, 0 newly installed, 1 to remove and 206 not upgraded.
After this operation, 20.8 MB disk space will be freed.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 310254 files and directories currently installed.)
Removing rabbitmq-server (3.8.2-0ubuntu1.3) ...
Processing triggers for man-db (2.9.1-1) ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 309943 files and directories currently installed.)
Purging configuration files for rabbitmq-server (3.8.2-0ubuntu1.3) ...
dpkg: warning: while removing rabbitmq-server, directory '/usr/lib/ocf/resource.d' not empty so not removed
Processing triggers for systemd (245.4-4ubuntu3.19) ...
+ functions-common:apt_get:1228            :   result=0
+ functions-common:apt_get:1231            :   time_stop apt-get
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=apt-get
+ functions-common:time_stop:2440          :   start_time=1671852758851
+ functions-common:time_stop:2442          :   [[ -z 1671852758851 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671852777647
+ functions-common:time_stop:2446          :   elapsed_time=18796
+ functions-common:time_stop:2447          :   total=0
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=18796
+ functions-common:apt_get:1232            :   return 0
+ lib/rpc_backend:cleanup_rpc_backend:42   :   sudo killall epmd
+ lib/rpc_backend:cleanup_rpc_backend:43   :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/rpc_backend:cleanup_rpc_backend:45   :   apt_get purge -y 'erlang*'
+ functions-common:apt_get:1211            :   local xtrace result
++ functions-common:apt_get:1212            :   set +o
++ functions-common:apt_get:1212            :   grep xtrace
+ functions-common:apt_get:1212            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1213            :   set +o xtrace
+ functions-common:apt_get:1224            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes purge -y 'erlang*'
Reading package lists...
Building dependency tree...
Reading state information...
Package 'erlang-typer' is not installed, so not removed
Package 'erlang-dev' is not installed, so not removed
Package 'erlang-doc' is not installed, so not removed
Package 'erlang-examples' is not installed, so not removed
Package 'erlang-megaco' is not installed, so not removed
Package 'erlang-ssh' is not installed, so not removed
Package 'erlang' is not installed, so not removed
Package 'erlang-asciideck' is not installed, so not removed
Package 'erlang-base-hipe' is not installed, so not removed
Package 'erlang-base64url' is not installed, so not removed
Package 'erlang-bbmustache' is not installed, so not removed
Package 'erlang-bear' is not installed, so not removed
Package 'erlang-bitcask' is not installed, so not removed
Package 'erlang-bitcask-dev' is not installed, so not removed
Package 'erlang-cf' is not installed, so not removed
Package 'erlang-cl' is not installed, so not removed
Package 'erlang-common-test' is not installed, so not removed
Package 'erlang-cowboy' is not installed, so not removed
Package 'erlang-cowboy-doc' is not installed, so not removed
Package 'erlang-cowboy-examples' is not installed, so not removed
Package 'erlang-cowlib' is not installed, so not removed
Package 'erlang-cuttlefish' is not installed, so not removed
Package 'erlang-debugger' is not installed, so not removed
Package 'erlang-dialyzer' is not installed, so not removed
Package 'erlang-diameter' is not installed, so not removed
Package 'erlang-edoc' is not installed, so not removed
Package 'erlang-erl-docgen' is not installed, so not removed
Package 'erlang-erlware-commons' is not installed, so not removed
Package 'erlang-esdl' is not installed, so not removed
Package 'erlang-esdl-dev' is not installed, so not removed
Package 'erlang-esdl-doc' is not installed, so not removed
Package 'erlang-et' is not installed, so not removed
Package 'erlang-eunit' is not installed, so not removed
Package 'erlang-folsom' is not installed, so not removed
Package 'erlang-folsom-dev' is not installed, so not removed
Package 'erlang-getopt' is not installed, so not removed
Package 'erlang-goldrush' is not installed, so not removed
Package 'erlang-guestfs' is not installed, so not removed
Package 'erlang-horse' is not installed, so not removed
Package 'erlang-idna' is not installed, so not removed
Package 'erlang-jiffy' is not installed, so not removed
Package 'erlang-jinterface' is not installed, so not removed
Package 'erlang-jose' is not installed, so not removed
Package 'erlang-lager' is not installed, so not removed
Package 'erlang-luerl' is not installed, so not removed
Package 'erlang-manpages' is not installed, so not removed
Package 'erlang-meck' is not installed, so not removed
Package 'erlang-metrics' is not installed, so not removed
Package 'erlang-mimerl' is not installed, so not removed
Package 'erlang-mochiweb' is not installed, so not removed
Package 'erlang-mode' is not installed, so not removed
Package 'erlang-neotoma' is not installed, so not removed
Package 'erlang-nox' is not installed, so not removed
Package 'erlang-observer' is not installed, so not removed
Package 'erlang-odbc' is not installed, so not removed
Package 'erlang-p1-acme' is not installed, so not removed
Package 'erlang-p1-cache-tab' is not installed, so not removed
Package 'erlang-p1-eimp' is not installed, so not removed
Package 'erlang-p1-iconv' is not installed, so not removed
Package 'erlang-p1-mqtree' is not installed, so not removed
Package 'erlang-p1-mysql' is not installed, so not removed
Package 'erlang-p1-oauth2' is not installed, so not removed
Package 'erlang-p1-pam' is not installed, so not removed
Package 'erlang-p1-pgsql' is not installed, so not removed
Package 'erlang-p1-pkix' is not installed, so not removed
Package 'erlang-p1-sip' is not installed, so not removed
Package 'erlang-p1-sqlite3' is not installed, so not removed
Package 'erlang-p1-stringprep' is not installed, so not removed
Package 'erlang-p1-stun' is not installed, so not removed
Package 'erlang-p1-tls' is not installed, so not removed
Package 'erlang-p1-utils' is not installed, so not removed
Package 'erlang-p1-xml' is not installed, so not removed
Package 'erlang-p1-xmpp' is not installed, so not removed
Package 'erlang-p1-yaml' is not installed, so not removed
Package 'erlang-p1-yconf' is not installed, so not removed
Package 'erlang-p1-zlib' is not installed, so not removed
Package 'erlang-proper' is not installed, so not removed
Package 'erlang-proper-dev' is not installed, so not removed
Package 'erlang-proper-doc' is not installed, so not removed
Package 'erlang-ranch' is not installed, so not removed
Package 'erlang-ranch-doc' is not installed, so not removed
Package 'erlang-redis-client' is not installed, so not removed
Package 'erlang-reltool' is not installed, so not removed
Package 'erlang-src' is not installed, so not removed
Package 'erlang-unicode-util-compat' is not installed, so not removed
Package 'erlang-uuid' is not installed, so not removed
Package 'erlang-wx' is not installed, so not removed
Package 'erlang-x11' is not installed, so not removed
Package 'erlang-yapp' is not installed, so not removed
Package 'erlang-yaws' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3 locales-all
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  erlang-asn1* erlang-base* erlang-crypto* erlang-eldap* erlang-ftp*
  erlang-inets* erlang-mnesia* erlang-os-mon* erlang-parsetools*
  erlang-public-key* erlang-runtime-tools* erlang-snmp* erlang-ssl*
  erlang-syntax-tools* erlang-tftp* erlang-tools* erlang-xmerl*
0 upgraded, 0 newly installed, 17 to remove and 206 not upgraded.
After this operation, 28.2 MB disk space will be freed.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 309935 files and directories currently installed.)
Removing erlang-eldap (1:22.2.7+dfsg-1) ...
Removing erlang-inets (1:22.2.7+dfsg-1) ...
Removing erlang-xmerl (1:22.2.7+dfsg-1) ...
Removing erlang-tools (1:22.2.7+dfsg-1) ...
Removing erlang-os-mon (1:22.2.7+dfsg-1) ...
Removing erlang-snmp (1:22.2.7+dfsg-1) ...
Removing erlang-ftp (1:22.2.7+dfsg-1) ...
Removing erlang-parsetools (1:22.2.7+dfsg-1) ...
Removing erlang-syntax-tools (1:22.2.7+dfsg-1) ...
Removing erlang-tftp (1:22.2.7+dfsg-1) ...
Removing erlang-ssl (1:22.2.7+dfsg-1) ...
Removing erlang-public-key (1:22.2.7+dfsg-1) ...
Removing erlang-asn1 (1:22.2.7+dfsg-1) ...
Removing erlang-crypto (1:22.2.7+dfsg-1) ...
Removing erlang-runtime-tools (1:22.2.7+dfsg-1) ...
Removing erlang-mnesia (1:22.2.7+dfsg-1) ...
Removing erlang-base (1:22.2.7+dfsg-1) ...
Searching for services which depend on erlang and should be stopped... none found.
Killing epmd... it is not running.
Processing triggers for man-db (2.9.1-1) ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 308804 files and directories currently installed.)
Purging configuration files for erlang-base (1:22.2.7+dfsg-1) ...
+ functions-common:apt_get:1228            :   result=0
+ functions-common:apt_get:1231            :   time_stop apt-get
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=apt-get
+ functions-common:time_stop:2440          :   start_time=1671852777721
+ functions-common:time_stop:2442          :   [[ -z 1671852777721 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671852801749
+ functions-common:time_stop:2446          :   elapsed_time=24028
+ functions-common:time_stop:2447          :   total=18796
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=42824
+ functions-common:apt_get:1232            :   return 0
+ ./clean.sh:main:112                      :   cleanup_database
+ lib/database:cleanup_database:60         :   cleanup_database_mysql
+ lib/databases/mysql:cleanup_database_mysql:47 :   stop_service mysql
+ functions-common:stop_service:2350       :   '[' -x /bin/systemctl ']'
+ functions-common:stop_service:2351       :   sudo /bin/systemctl stop mysql
+ lib/databases/mysql:cleanup_database_mysql:48 :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/databases/mysql:cleanup_database_mysql:50 :   apt_get purge -y 'mysql*' 'mariadb*'
+ functions-common:apt_get:1211            :   local xtrace result
++ functions-common:apt_get:1212            :   grep xtrace
++ functions-common:apt_get:1212            :   set +o
+ functions-common:apt_get:1212            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1213            :   set +o xtrace
+ functions-common:apt_get:1224            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes purge -y 'mysql*' 'mariadb*'
Reading package lists...
Building dependency tree...
Reading state information...
Package 'mysql-client-5.7' is not installed, so not removed
Package 'mysql-client-core-5.7' is not installed, so not removed
Package 'mysql-server-5.5' is not installed, so not removed
Package 'mysql-server-5.7' is not installed, so not removed
Package 'mysql-server-core-5.7' is not installed, so not removed
Package 'mysql-client-core-5.5' is not installed, so not removed
Package 'mysql-client-core-5.6' is not installed, so not removed
Package 'mysql-client-5.5' is not installed, so not removed
Package 'mysql-client-5.6' is not installed, so not removed
Package 'mysql-server-core-5.5' is not installed, so not removed
Package 'mysql-server-core-5.6' is not installed, so not removed
Package 'mysql-server-5.6' is not installed, so not removed
Package 'mysql-testsuite-5.5' is not installed, so not removed
Package 'mysql-testsuite-5.6' is not installed, so not removed
Package 'mysql-testsuite-5.7' is not installed, so not removed
Package 'mariadb-client-10.1' is not installed, so not removed
Package 'mariadb-client-core-10.1' is not installed, so not removed
Package 'mariadb-server-5.5' is not installed, so not removed
Package 'mariadb-server-10.1' is not installed, so not removed
Package 'mariadb-server-core-10.1' is not installed, so not removed
Package 'mariadb-galera-server-10.0' is not installed, so not removed
Package 'mariadb-galera-server-5.5' is not installed, so not removed
Package 'mariadb-server-10.0' is not installed, so not removed
Package 'mariadb-server-5.1' is not installed, so not removed
Package 'mariadb-server-5.2' is not installed, so not removed
Package 'mariadb-server-5.3' is not installed, so not removed
Package 'mariadb-backup-10.1' is not installed, so not removed
Package 'mariadb-backup-10.2' is not installed, so not removed
Package 'mariadb-client-10.0' is not installed, so not removed
Package 'mariadb-client-10.2' is not installed, so not removed
Package 'mariadb-client-5.5' is not installed, so not removed
Package 'mariadb-client-core-10.0' is not installed, so not removed
Package 'mariadb-client-core-10.2' is not installed, so not removed
Package 'mariadb-client-core-5.5' is not installed, so not removed
Package 'mariadb-connect-engine-10.0' is not installed, so not removed
Package 'mariadb-connect-engine-10.1' is not installed, so not removed
Package 'mariadb-gssapi-client-10.1' is not installed, so not removed
Package 'mariadb-gssapi-client-10.2' is not installed, so not removed
Package 'mariadb-gssapi-server-10.1' is not installed, so not removed
Package 'mariadb-gssapi-server-10.2' is not installed, so not removed
Package 'mariadb-oqgraph-engine-10.0' is not installed, so not removed
Package 'mariadb-oqgraph-engine-10.1' is not installed, so not removed
Package 'mariadb-rocksdb-engine-10.2' is not installed, so not removed
Package 'mariadb-rocksdb-engine-10.3' is not installed, so not removed
Package 'mariadb-tokudb-engine-10.0' is not installed, so not removed
Package 'mariadb-tokudb-engine-10.1' is not installed, so not removed
Package 'mariadb-tokudb-engine-5.5' is not installed, so not removed
Package 'mariadb-galera-server' is not installed, so not removed
Package 'mariadb-server-10.2' is not installed, so not removed
Package 'mariadb-server-core-10.0' is not installed, so not removed
Package 'mariadb-server-core-10.2' is not installed, so not removed
Package 'mariadb-server-core-5.5' is not installed, so not removed
Package 'mariadb-test-10.0' is not installed, so not removed
Package 'mariadb-test-10.1' is not installed, so not removed
Package 'mariadb-test-5.5' is not installed, so not removed
Package 'mariadb-test-data-10.0' is not installed, so not removed
Package 'mariadb-testsuite-10.1' is not installed, so not removed
Package 'mariadb-testsuite-10.3' is not installed, so not removed
Package 'mysql-sandbox' is not installed, so not removed
Package 'mysqltcl' is not installed, so not removed
Package 'mysqltuner' is not installed, so not removed
Package 'mysql-client' is not installed, so not removed
Package 'mariadb-backup' is not installed, so not removed
Package 'mariadb-client' is not installed, so not removed
Package 'mariadb-client-10.3' is not installed, so not removed
Package 'mariadb-client-core-10.3' is not installed, so not removed
Package 'mariadb-common' is not installed, so not removed
Package 'mariadb-plugin-connect' is not installed, so not removed
Package 'mariadb-plugin-cracklib-password-check' is not installed, so not removed
Package 'mariadb-plugin-gssapi-client' is not installed, so not removed
Package 'mariadb-plugin-gssapi-server' is not installed, so not removed
Package 'mariadb-plugin-mroonga' is not installed, so not removed
Package 'mariadb-plugin-oqgraph' is not installed, so not removed
Package 'mariadb-plugin-rocksdb' is not installed, so not removed
Package 'mariadb-plugin-spider' is not installed, so not removed
Package 'mariadb-plugin-tokudb' is not installed, so not removed
Package 'mariadb-server' is not installed, so not removed
Package 'mariadb-server-10.3' is not installed, so not removed
Package 'mariadb-server-core-10.3' is not installed, so not removed
Package 'mariadb-test' is not installed, so not removed
Package 'mariadb-test-data' is not installed, so not removed
Package 'mysql-router' is not installed, so not removed
Package 'mysql-source-8.0' is not installed, so not removed
Package 'mysql-testsuite' is not installed, so not removed
Package 'mysql-testsuite-8.0' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcgi-fast-perl libcgi-pm-perl libcolord-gtk1 libcolorhug2
  libevent-core-2.1-7 libevent-pthreads-2.1-7 libfcgi-perl libgsound0
  libgssdp-1.2-0 libgupnp-1.2-0 libgupnp-av-1.0-2 libgupnp-dlna-2.0-3
  libhtml-template-perl libieee1284-3 libimagequant0 libmecab2
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3 locales-all
  mecab-ipadic mecab-ipadic-utf8 mecab-utils mobile-broadband-provider-info
  network-manager-gnome printer-driver-postscript-hp python3-macaroonbakery
  python3-olefile python3-pil python3-protobuf python3-pymacaroons
  python3-renderpm python3-reportlab python3-reportlab-accel python3-rfc3339
  python3-tz rygel
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  libmysqlclient21* mysql-client-8.0* mysql-client-core-8.0* mysql-common*
  mysql-server* mysql-server-8.0* mysql-server-core-8.0* python3-mysqldb*
0 upgraded, 0 newly installed, 8 to remove and 206 not upgraded.
After this operation, 268 MB disk space will be freed.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 308804 files and directories currently installed.)
Removing python3-mysqldb (1.4.4-2build1) ...
Removing libmysqlclient21:amd64 (8.0.31-0ubuntu127.0.0.1) ...
Removing mysql-server (8.0.31-0ubuntu127.0.0.1) ...
Removing mysql-server-8.0 (8.0.31-0ubuntu127.0.0.1) ...
update-alternatives: using /etc/mysql/my.cnf.fallback to provide /etc/mysql/my.cnf (my.cnf) in auto mode
Removing mysql-client-8.0 (8.0.31-0ubuntu127.0.0.1) ...
Removing mysql-client-core-8.0 (8.0.31-0ubuntu127.0.0.1) ...
Removing mysql-common (5.8+1.0.5ubuntu2) ...
Removing mysql-server-core-8.0 (8.0.31-0ubuntu127.0.0.1) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for libc-bin (2.31-0ubuntu9.7) ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 308545 files and directories currently installed.)
Purging configuration files for mysql-server-8.0 (8.0.31-0ubuntu127.0.0.1) ...
Purging configuration files for mysql-common (5.8+1.0.5ubuntu2) ...
dpkg: warning: while removing mysql-common, directory '/etc/mysql' not empty so not removed
Processing triggers for systemd (245.4-4ubuntu3.19) ...
+ functions-common:apt_get:1228            :   result=0
+ functions-common:apt_get:1231            :   time_stop apt-get
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=apt-get
+ functions-common:time_stop:2440          :   start_time=1671852801830
+ functions-common:time_stop:2442          :   [[ -z 1671852801830 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671852822438
+ functions-common:time_stop:2446          :   elapsed_time=20608
+ functions-common:time_stop:2447          :   total=42824
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=63432
+ functions-common:apt_get:1232            :   return 0
+ lib/databases/mysql:cleanup_database_mysql:51 :   sudo rm -rf /var/lib/mysql
+ lib/databases/mysql:cleanup_database_mysql:52 :   sudo rm -rf /etc/mysql
+ lib/databases/mysql:cleanup_database_mysql:53 :   return
+ ./clean.sh:main:115                      :   sudo rm -rf /opt/stack/data /opt/stack/status /opt/stack/async
+ ./clean.sh:main:118                      :   [[ -n '' ]]
+ ./clean.sh:main:121                      :   [[ -n /opt/stack/logs ]]
+ ./clean.sh:main:121                      :   [[ -d /opt/stack/logs ]]
+ ./clean.sh:main:122                      :   sudo rm -rf /opt/stack/logs
+ ./clean.sh:main:126                      :   sudo find /etc/systemd/system -type f -name '*devstack@*service' -delete
+ ./clean.sh:main:128                      :   sudo systemctl daemon-reload
+ ./clean.sh:main:131                      :   DIRS_TO_CLEAN='  .config/openstack'
+ ./clean.sh:main:132                      :   rm -rf .config/openstack
+ ./clean.sh:main:136                      :   FILES_TO_CLEAN='.localrc.auto .localrc.password '
+ ./clean.sh:main:137                      :   FILES_TO_CLEAN+='docs/files docs/html shocco/ '
+ ./clean.sh:main:138                      :   FILES_TO_CLEAN+='stack-screenrc test*.conf* test.ini* '
+ ./clean.sh:main:139                      :   FILES_TO_CLEAN+='.stackenv .prereqs'
+ ./clean.sh:main:141                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:142                      :   rm -rf /opt/stack/devstack/.localrc.auto
+ ./clean.sh:main:141                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:142                      :   rm -rf /opt/stack/devstack/.localrc.password
+ ./clean.sh:main:141                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:142                      :   rm -rf /opt/stack/devstack/docs/files
+ ./clean.sh:main:141                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:142                      :   rm -rf /opt/stack/devstack/docs/html
+ ./clean.sh:main:141                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:142                      :   rm -rf /opt/stack/devstack/shocco/
+ ./clean.sh:main:141                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:142                      :   rm -rf /opt/stack/devstack/stack-screenrc
+ ./clean.sh:main:141                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:142                      :   rm -rf '/opt/stack/devstack/test*.conf*'
+ ./clean.sh:main:141                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:142                      :   rm -rf '/opt/stack/devstack/test.ini*'
+ ./clean.sh:main:141                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:142                      :   rm -rf /opt/stack/devstack/.stackenv
+ ./clean.sh:main:141                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:142                      :   rm -rf /opt/stack/devstack/.prereqs
+ ./clean.sh:main:145                      :   rm -rf /opt/stack/.config/openstack
+ ./clean.sh:main:148                      :   sudo sed -i '/.*comment=devstack-.*/ d' /etc/fstab
Stop DevStack [ PASSED ]
Cloning into 'devstack'...
Running stack.sh
+ ./stack.sh:main:28                       :   unset GREP_OPTIONS
+ ./stack.sh:main:58                       :   unset LANG
+ ./stack.sh:main:59                       :   unset LANGUAGE
+ ./stack.sh:main:60                       :   LC_ALL=en_US.utf8
+ ./stack.sh:main:61                       :   export LC_ALL
++ ./stack.sh:main:64                       :   env
++ ./stack.sh:main:64                       :   grep -E '^OS_'
++ ./stack.sh:main:64                       :   cut -d = -f 1
+ ./stack.sh:main:64                       :   unset OS_REGION_NAME OS_PROJECT_DOMAIN_ID OS_CACERT OS_AUTH_URL OS_TENANT_NAME OS_USER_DOMAIN_ID OS_USERNAME OS_VOLUME_API_VERSION OS_AUTH_TYPE OS_PROJECT_NAME OS_PASSWORD OS_IDENTITY_API_VERSION
+ ./stack.sh:main:67                       :   umask 022
+ ./stack.sh:main:72                       :   PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+++ ./stack.sh:main:75                       :   dirname ./stack.sh
++ ./stack.sh:main:75                       :   cd .
++ ./stack.sh:main:75                       :   pwd
+ ./stack.sh:main:75                       :   TOP_DIR=/opt/stack/devstack
+ ./stack.sh:main:78                       :   NOUNSET=
+ ./stack.sh:main:79                       :   [[ -n '' ]]
++ ./stack.sh:main:84                       :   date +%s
+ ./stack.sh:main:84                       :   DEVSTACK_START_TIME=1671852879
+ ./stack.sh:main:93                       :   [[ -r /opt/stack/devstack/.stackenv ]]
+ ./stack.sh:main:99                       :   FILES=/opt/stack/devstack/files
+ ./stack.sh:main:100                      :   '[' '!' -d /opt/stack/devstack/files ']'
+ ./stack.sh:main:108                      :   '[' '!' -d /opt/stack/devstack/inc ']'
+ ./stack.sh:main:116                      :   '[' '!' -d /opt/stack/devstack/lib ']'
+ ./stack.sh:main:123                      :   [[ '' == \y ]]
+ ./stack.sh:main:134                      :   [[ 1001 -eq 0 ]]
+ ./stack.sh:main:147                      :   [[ -n '' ]]
+ ./stack.sh:main:161                      :   [[ -e /opt/stack/.no-devstack ]]
+ ./stack.sh:main:173                      :   LAST_SPINNER_PID=
+ ./stack.sh:main:176                      :   source /opt/stack/devstack/functions
++ opt/stack/devstack/functions:source:14   :   [[ -z '' ]]
++ opt/stack/devstack/functions:source:15   :   declare -r -g _DEVSTACK_FUNCTIONS=1
++++ opt/stack/devstack/functions:source:18   :   dirname /opt/stack/devstack/functions
+++ opt/stack/devstack/functions:source:18   :   cd /opt/stack/devstack
+++ opt/stack/devstack/functions:source:18   :   pwd
++ opt/stack/devstack/functions:source:18   :   FUNC_DIR=/opt/stack/devstack
++ opt/stack/devstack/functions:source:19   :   source /opt/stack/devstack/functions-common
++++ opt/stack/devstack/functions-common:source:34 :   set +o
++++ opt/stack/devstack/functions-common:source:34 :   grep xtrace
+++ opt/stack/devstack/functions-common:source:34 :   _XTRACE_FUNCTIONS_COMMON='set -o xtrace'
+++ opt/stack/devstack/functions-common:source:35 :   set +o xtrace
++ opt/stack/devstack/functions:source:20   :   source /opt/stack/devstack/inc/ini-config
++++ opt/stack/devstack/inc/ini-config:source:10 :   set +o
++++ opt/stack/devstack/inc/ini-config:source:10 :   grep xtrace
+++ opt/stack/devstack/inc/ini-config:source:10 :   INC_CONF_TRACE='set -o xtrace'
+++ opt/stack/devstack/inc/ini-config:source:11 :   set +o xtrace
++ opt/stack/devstack/functions:source:21   :   source /opt/stack/devstack/inc/meta-config
++++ opt/stack/devstack/inc/meta-config:source:23 :   set +o
++++ opt/stack/devstack/inc/meta-config:source:23 :   grep xtrace
+++ opt/stack/devstack/inc/meta-config:source:23 :   _XTRACE_INC_META='set -o xtrace'
+++ opt/stack/devstack/inc/meta-config:source:24 :   set +o xtrace
++ opt/stack/devstack/functions:source:22   :   source /opt/stack/devstack/inc/python
++++ opt/stack/devstack/inc/python:source:14  :   set +o
++++ opt/stack/devstack/inc/python:source:14  :   grep xtrace
+++ opt/stack/devstack/inc/python:source:14  :   INC_PY_TRACE='set -o xtrace'
+++ opt/stack/devstack/inc/python:source:15  :   set +o xtrace
++ opt/stack/devstack/functions:source:23   :   source /opt/stack/devstack/inc/rootwrap
++++ opt/stack/devstack/inc/rootwrap:source:11 :   set +o
++++ opt/stack/devstack/inc/rootwrap:source:11 :   grep xtrace
+++ opt/stack/devstack/inc/rootwrap:source:11 :   INC_ROOT_TRACE='set -o xtrace'
+++ opt/stack/devstack/inc/rootwrap:source:12 :   set +o xtrace
++ opt/stack/devstack/functions:source:24   :   source /opt/stack/devstack/inc/async
++++ opt/stack/devstack/inc/async:source:14   :   trueorfalse True DEVSTACK_PARALLEL
++++ opt/stack/devstack/functions-common:trueorfalse:219 :   local xtrace
+++++ opt/stack/devstack/functions-common:trueorfalse:220 :   set +o
+++++ opt/stack/devstack/functions-common:trueorfalse:220 :   grep xtrace
++++ opt/stack/devstack/functions-common:trueorfalse:220 :   xtrace='set -o xtrace'
++++ opt/stack/devstack/functions-common:trueorfalse:221 :   set +o xtrace
+++ opt/stack/devstack/inc/async:source:14   :   DEVSTACK_PARALLEL=True
+++ opt/stack/devstack/inc/async:source:15   :   _ASYNC_BG_TIME=0
+++ opt/stack/devstack/functions:source:27   :   grep xtrace
+++ opt/stack/devstack/functions:source:27   :   set +o
++ opt/stack/devstack/functions:source:27   :   _XTRACE_FUNCTIONS='set -o xtrace'
++ opt/stack/devstack/functions:source:28   :   set +o xtrace
+ ./stack.sh:main:179                      :   source /opt/stack/devstack/lib/stack
+ ./stack.sh:main:184                      :   GetDistro
+ opt/stack/devstack/functions-common:GetDistro:449 :   GetOSVersion
+ opt/stack/devstack/functions-common:GetOSVersion:416 :   source /etc/os-release
++ etc/os-release:source:1                  :   NAME=Ubuntu
++ etc/os-release:source:2                  :   VERSION='20.04.2 LTS (Focal Fossa)'
++ etc/os-release:source:3                  :   ID=ubuntu
++ etc/os-release:source:4                  :   ID_LIKE=debian
++ etc/os-release:source:5                  :   PRETTY_NAME='Ubuntu 20.04.2 LTS'
++ etc/os-release:source:6                  :   VERSION_ID=20.04
++ etc/os-release:source:7                  :   HOME_URL=https://www.ubuntu.com/
++ etc/os-release:source:8                  :   SUPPORT_URL=https://help.ubuntu.com/
++ etc/os-release:source:9                  :   BUG_REPORT_URL=https://bugs.launchpad.net/ubuntu/
++ etc/os-release:source:10                 :   PRIVACY_POLICY_URL=https://www.ubuntu.com/legal/terms-and-policies/privacy-policy
++ etc/os-release:source:11                 :   VERSION_CODENAME=focal
++ etc/os-release:source:12                 :   UBUNTU_CODENAME=focal
+ opt/stack/devstack/functions-common:GetOSVersion:417 :   [[ ubuntu20.04.2 LTS (Focal Fossa) == \c\e\n\t\o\s\9 ]]
+ opt/stack/devstack/functions-common:GetOSVersion:421 :   [[ ubuntu20.04.2 LTS (Focal Fossa) =~ rocky9 ]]
+ opt/stack/devstack/functions-common:GetOSVersion:425 :   _ensure_lsb_release
++ opt/stack/devstack/functions-common:_ensure_lsb_release:393 :   command -v lsb_release
+ opt/stack/devstack/functions-common:_ensure_lsb_release:393 :   [[ -x /usr/bin/lsb_release ]]
+ opt/stack/devstack/functions-common:_ensure_lsb_release:394 :   return
++ opt/stack/devstack/functions-common:GetOSVersion:427 :   lsb_release -r -s
+ opt/stack/devstack/functions-common:GetOSVersion:427 :   os_RELEASE=20.04
++ opt/stack/devstack/functions-common:GetOSVersion:428 :   lsb_release -c -s
+ opt/stack/devstack/functions-common:GetOSVersion:428 :   os_CODENAME=focal
++ opt/stack/devstack/functions-common:GetOSVersion:429 :   lsb_release -i -s
+ opt/stack/devstack/functions-common:GetOSVersion:429 :   os_VENDOR=Ubuntu
+ opt/stack/devstack/functions-common:GetOSVersion:432 :   [[ Ubuntu =~ (Debian|Ubuntu) ]]
+ opt/stack/devstack/functions-common:GetOSVersion:433 :   os_PACKAGE=deb
+ opt/stack/devstack/functions-common:GetOSVersion:438 :   typeset -xr os_VENDOR
+ opt/stack/devstack/functions-common:GetOSVersion:439 :   typeset -xr os_RELEASE
+ opt/stack/devstack/functions-common:GetOSVersion:440 :   typeset -xr os_PACKAGE
+ opt/stack/devstack/functions-common:GetOSVersion:441 :   typeset -xr os_CODENAME
+ opt/stack/devstack/functions-common:GetDistro:450 :   [[ Ubuntu =~ (Ubuntu) ]]
+ opt/stack/devstack/functions-common:GetDistro:453 :   DISTRO=focal
+ opt/stack/devstack/functions-common:GetDistro:501 :   typeset -xr DISTRO
+ ./stack.sh:main:194                      :   rm -f /opt/stack/devstack/.localrc.auto
+ ./stack.sh:main:195                      :   extract_localrc_section /opt/stack/devstack/local.conf /opt/stack/devstack/localrc /opt/stack/devstack/.localrc.auto
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:198 :   local configfile=/opt/stack/devstack/local.conf
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:199 :   local localrcfile=/opt/stack/devstack/localrc
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:200 :   local localautofile=/opt/stack/devstack/.localrc.auto
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:202 :   [[ -r /opt/stack/devstack/local.conf ]]
++ opt/stack/devstack/inc/meta-config:extract_localrc_section:203 :   get_meta_section_files /opt/stack/devstack/local.conf local
++ opt/stack/devstack/inc/meta-config:get_meta_section_files:63 :   local file=/opt/stack/devstack/local.conf
++ opt/stack/devstack/inc/meta-config:get_meta_section_files:64 :   local matchgroup=local
++ opt/stack/devstack/inc/meta-config:get_meta_section_files:66 :   [[ -r /opt/stack/devstack/local.conf ]]
++ opt/stack/devstack/inc/meta-config:get_meta_section_files:68 :   awk -v matchgroup=local '
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup)
                print a[2]
        }
    ' /opt/stack/devstack/local.conf
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:203 :   LRC=localrc
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:204 :   for lfile in $LRC
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:205 :   [[ localrc == \l\o\c\a\l\r\c ]]
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:206 :   [[ -r /opt/stack/devstack/localrc ]]
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:209 :   echo '# Generated file, do not edit'
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:210 :   get_meta_section /opt/stack/devstack/local.conf local localrc
+ opt/stack/devstack/inc/meta-config:get_meta_section:33 :   local file=/opt/stack/devstack/local.conf
+ opt/stack/devstack/inc/meta-config:get_meta_section:34 :   local matchgroup=local
+ opt/stack/devstack/inc/meta-config:get_meta_section:35 :   local configfile=localrc
+ opt/stack/devstack/inc/meta-config:get_meta_section:37 :   [[ -r /opt/stack/devstack/local.conf ]]
+ opt/stack/devstack/inc/meta-config:get_meta_section:38 :   [[ -z localrc ]]
+ opt/stack/devstack/inc/meta-config:get_meta_section:40 :   awk -v matchgroup=local -v configfile=localrc '
        BEGIN { group = "" }
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup && a[2] == configfile) {
                group=a[1]
            } else {
                group=""
            }
            next
        }
        {
            if (group != "")
                print $0
        }
    ' /opt/stack/devstack/local.conf
+ ./stack.sh:main:222                      :   [[ ! -r /opt/stack/devstack/stackrc ]]
+ ./stack.sh:main:225                      :   source /opt/stack/devstack/stackrc
++ opt/stack/devstack/stackrc:source:7      :   [[ -z '' ]]
++ opt/stack/devstack/stackrc:source:8      :   declare -r -g _DEVSTACK_STACKRC=1
++++ opt/stack/devstack/stackrc:source:11     :   dirname /opt/stack/devstack/stackrc
+++ opt/stack/devstack/stackrc:source:11     :   cd /opt/stack/devstack
+++ opt/stack/devstack/stackrc:source:11     :   pwd
++ opt/stack/devstack/stackrc:source:11     :   RC_DIR=/opt/stack/devstack
++ stackrc:source:14                        :   source /opt/stack/devstack/functions
+++ functions:source:14                      :   [[ -z 1 ]]
+++ functions:source:14                      :   return 0
++ stackrc:source:18                        :   TARGET_BRANCH=master
++ stackrc:source:21                        :   TRAILING_TARGET_BRANCH=master
++ stackrc:source:26                        :   BRANCHLESS_TARGET_BRANCH=master
++ stackrc:source:29                        :   DEST=/opt/stack
++ stackrc:source:32                        :   DATA_DIR=/opt/stack/data
++ stackrc:source:35                        :   SERVICE_DIR=/opt/stack/status
++ stackrc:source:38                        :   SUBUNIT_OUTPUT=/opt/stack/devstack.subunit
++ stackrc:source:41                        :   [[ 1001 -eq 0 ]]
+++ stackrc:source:44                        :   whoami
++ stackrc:source:44                        :   STACK_USER=stack
++ stackrc:source:48                        :   REGION_NAME=RegionOne
++ stackrc:source:54                        :   KEYSTONE_REGION_NAME=RegionOne
++ stackrc:source:64                        :   isset ENABLED_SERVICES
++ functions-common:isset:240               :   [[ -v ENABLED_SERVICES ]]
++ stackrc:source:66                        :   ENABLED_SERVICES=key
++ stackrc:source:68                        :   ENABLED_SERVICES+=,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta
++ stackrc:source:70                        :   ENABLED_SERVICES+=,placement-api,placement-client
++ stackrc:source:72                        :   ENABLED_SERVICES+=,g-api
++ stackrc:source:74                        :   ENABLED_SERVICES+=,c-sch,c-api,c-vol
++ stackrc:source:76                        :   ENABLED_SERVICES+=,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server
++ stackrc:source:78                        :   ENABLED_SERVICES+=,q-svc,q-ovn-metadata-agent
++ stackrc:source:80                        :   ENABLED_SERVICES+=,horizon
++ stackrc:source:82                        :   ENABLED_SERVICES+=,rabbit,tempest,mysql,etcd3,dstat
++ stackrc:source:89                        :   ENABLE_HTTPD_MOD_WSGI_SERVICES=True
++ stackrc:source:92                        :   NOVA_ENABLED_APIS=osapi_compute,metadata
++ stackrc:source:95                        :   [[ -f /opt/stack/devstack/localrc ]]
++ stackrc:source:98                        :   [[ -f /opt/stack/devstack/.localrc.auto ]]
++ stackrc:source:100                       :   source /opt/stack/devstack/.localrc.auto
+++ .localrc.auto:source:2                   :   ADMIN_PASSWORD=****
+++ .localrc.auto:source:3                   :   DATABASE_PASSWORD=****
+++ .localrc.auto:source:4                   :   RABBIT_PASSWORD=****
+++ .localrc.auto:source:5                   :   SERVICE_PASSWORD=****
++ stackrc:source:109                       :   CELLSV2_SETUP=superconductor
++ stackrc:source:112                       :   HORIZON_APACHE_ROOT=/dashboard
+++ stackrc:source:115                       :   trueorfalse False USER_UNITS
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:115                       :   USER_UNITS=False
++ stackrc:source:116                       :   [[ False == \T\r\u\e ]]
++ stackrc:source:120                       :   SYSTEMD_DIR=/etc/systemd/system
++ stackrc:source:121                       :   SYSTEMCTL='sudo systemctl'
+++ stackrc:source:131                       :   trueorfalse True ENABLE_KSM
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:131                       :   ENABLE_KSM=True
++ stackrc:source:134                       :   [[ -r /opt/stack/devstack/.localrc.password ]]
++ stackrc:source:140                       :   export USE_PYTHON3=True
++ stackrc:source:140                       :   USE_PYTHON3=True
+++ stackrc:source:144                       :   _get_python_version python3
+++ functions-common:_get_python_version:2291 :   local interp=python3
+++ functions-common:_get_python_version:2292 :   local version
++++ functions-common:_get_python_version:2294 :   which python3
+++ functions-common:_get_python_version:2294 :   [[ -x /usr/bin/python3 ]]
++++ functions-common:_get_python_version:2295 :   python3 -c 'import sys; print("%s.%s" % sys.version_info[0:2])'
+++ functions-common:_get_python_version:2295 :   version=3.8
+++ functions-common:_get_python_version:2297 :   echo 3.8
++ stackrc:source:144                       :   _DEFAULT_PYTHON3_VERSION=3.8
++ stackrc:source:145                       :   export PYTHON3_VERSION=3.8
++ stackrc:source:145                       :   PYTHON3_VERSION=3.8
++ stackrc:source:149                       :   export 'VIRTUALENV_CMD=python3 -m venv'
++ stackrc:source:149                       :   VIRTUALENV_CMD='python3 -m venv'
++ stackrc:source:156                       :   '[' -t 1 ']'
++ stackrc:source:159                       :   _LOG_COLOR_DEFAULT=False
+++ stackrc:source:163                       :   trueorfalse False LOG_COLOR
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:163                       :   LOG_COLOR=False
++ stackrc:source:166                       :   [[ False == \T\r\u\e ]]
++ stackrc:source:175                       :   export 'PS4=+ $(short_source):   '
++ stackrc:source:175                       :   PS4='+ $(short_source):   '
++ stackrc:source:180                       :   IDENTITY_API_VERSION=3
+++ stackrc:source:184                       :   trueorfalse False ENFORCE_SCOPE
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:184                       :   ENFORCE_SCOPE=False
+++ stackrc:source:190                       :   trueorfalse False USE_VENV
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:190                       :   USE_VENV=False
++ stackrc:source:194                       :   ADDITIONAL_VENV_PACKAGES=
+++ stackrc:source:198                       :   trueorfalse False DATABASE_QUERY_LOGGING
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:198                       :   DATABASE_QUERY_LOGGING=False
+++ stackrc:source:202                       :   trueorfalse True MYSQL_GATHER_PERFORMANCE
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:202                       :   MYSQL_GATHER_PERFORMANCE=True
++ stackrc:source:213                       :   GIT_TIMEOUT=0
++ stackrc:source:219                       :   WSGI_MODE=uwsgi
++ stackrc:source:225                       :   GIT_BASE=https://opendev.org
++ stackrc:source:228                       :   REQUIREMENTS_DIR=/opt/stack/requirements
++ stackrc:source:246                       :   DEVSTACK_SERIES=2023.1
++ stackrc:source:255                       :   CINDER_REPO=https://opendev.org/openstack/cinder.git
++ stackrc:source:256                       :   CINDER_BRANCH=master
++ stackrc:source:259                       :   GLANCE_REPO=https://opendev.org/openstack/glance.git
++ stackrc:source:260                       :   GLANCE_BRANCH=master
++ stackrc:source:263                       :   HORIZON_REPO=https://opendev.org/openstack/horizon.git
++ stackrc:source:264                       :   HORIZON_BRANCH=master
++ stackrc:source:267                       :   KEYSTONE_REPO=https://opendev.org/openstack/keystone.git
++ stackrc:source:268                       :   KEYSTONE_BRANCH=master
++ stackrc:source:271                       :   NEUTRON_REPO=https://opendev.org/openstack/neutron.git
++ stackrc:source:272                       :   NEUTRON_BRANCH=master
++ stackrc:source:275                       :   NOVA_REPO=https://opendev.org/openstack/nova.git
++ stackrc:source:276                       :   NOVA_BRANCH=master
++ stackrc:source:279                       :   SWIFT_REPO=https://opendev.org/openstack/swift.git
++ stackrc:source:280                       :   SWIFT_BRANCH=master
++ stackrc:source:283                       :   PLACEMENT_REPO=https://opendev.org/openstack/placement.git
++ stackrc:source:284                       :   PLACEMENT_BRANCH=master
++ stackrc:source:293                       :   REQUIREMENTS_REPO=https://opendev.org/openstack/requirements.git
++ stackrc:source:294                       :   REQUIREMENTS_BRANCH=master
++ stackrc:source:297                       :   TEMPEST_REPO=https://opendev.org/openstack/tempest.git
++ stackrc:source:298                       :   TEMPEST_BRANCH=master
++ stackrc:source:299                       :   TEMPEST_VENV_UPPER_CONSTRAINTS=master
++ stackrc:source:310                       :   GITREPO["python-cinderclient"]=https://opendev.org/openstack/python-cinderclient.git
++ stackrc:source:311                       :   GITBRANCH["python-cinderclient"]=master
++ stackrc:source:314                       :   GITREPO["python-brick-cinderclient-ext"]=https://opendev.org/openstack/python-brick-cinderclient-ext.git
++ stackrc:source:315                       :   GITBRANCH["python-brick-cinderclient-ext"]=master
++ stackrc:source:318                       :   GITREPO["python-barbicanclient"]=https://opendev.org/openstack/python-barbicanclient.git
++ stackrc:source:319                       :   GITBRANCH["python-barbicanclient"]=master
++ stackrc:source:320                       :   GITDIR["python-barbicanclient"]=/opt/stack/python-barbicanclient
++ stackrc:source:323                       :   GITREPO["python-glanceclient"]=https://opendev.org/openstack/python-glanceclient.git
++ stackrc:source:324                       :   GITBRANCH["python-glanceclient"]=master
++ stackrc:source:327                       :   GITREPO["python-ironicclient"]=https://opendev.org/openstack/python-ironicclient.git
++ stackrc:source:328                       :   GITBRANCH["python-ironicclient"]=master
++ stackrc:source:330                       :   GITDIR["python-ironicclient"]=/opt/stack/python-ironicclient
++ stackrc:source:333                       :   GITREPO["keystoneauth"]=https://opendev.org/openstack/keystoneauth.git
++ stackrc:source:334                       :   GITBRANCH["keystoneauth"]=master
++ stackrc:source:337                       :   GITREPO["python-keystoneclient"]=https://opendev.org/openstack/python-keystoneclient.git
++ stackrc:source:338                       :   GITBRANCH["python-keystoneclient"]=master
++ stackrc:source:341                       :   GITREPO["python-neutronclient"]=https://opendev.org/openstack/python-neutronclient.git
++ stackrc:source:342                       :   GITBRANCH["python-neutronclient"]=master
++ stackrc:source:345                       :   GITREPO["python-novaclient"]=https://opendev.org/openstack/python-novaclient.git
++ stackrc:source:346                       :   GITBRANCH["python-novaclient"]=master
++ stackrc:source:349                       :   GITREPO["python-swiftclient"]=https://opendev.org/openstack/python-swiftclient.git
++ stackrc:source:350                       :   GITBRANCH["python-swiftclient"]=master
++ stackrc:source:353                       :   GITREPO["python-openstackclient"]=https://opendev.org/openstack/python-openstackclient.git
++ stackrc:source:354                       :   GITBRANCH["python-openstackclient"]=master
++ stackrc:source:356                       :   GITDIR["python-openstackclient"]=/opt/stack/python-openstackclient
++ stackrc:source:359                       :   GITREPO["osc-placement"]=https://opendev.org/openstack/osc-placement.git
++ stackrc:source:360                       :   GITBRANCH["osc-placement"]=master
++ stackrc:source:371                       :   GITREPO["castellan"]=https://opendev.org/openstack/castellan.git
++ stackrc:source:372                       :   GITBRANCH["castellan"]=master
++ stackrc:source:375                       :   GITREPO["cliff"]=https://opendev.org/openstack/cliff.git
++ stackrc:source:376                       :   GITBRANCH["cliff"]=master
++ stackrc:source:379                       :   GITREPO["futurist"]=https://opendev.org/openstack/futurist.git
++ stackrc:source:380                       :   GITBRANCH["futurist"]=master
++ stackrc:source:383                       :   GITREPO["debtcollector"]=https://opendev.org/openstack/debtcollector.git
++ stackrc:source:384                       :   GITBRANCH["debtcollector"]=master
++ stackrc:source:387                       :   GITREPO["automaton"]=https://opendev.org/openstack/automaton.git
++ stackrc:source:388                       :   GITBRANCH["automaton"]=master
++ stackrc:source:391                       :   GITREPO["oslo.cache"]=https://opendev.org/openstack/oslo.cache.git
++ stackrc:source:392                       :   GITBRANCH["oslo.cache"]=master
++ stackrc:source:395                       :   GITREPO["oslo.concurrency"]=https://opendev.org/openstack/oslo.concurrency.git
++ stackrc:source:396                       :   GITBRANCH["oslo.concurrency"]=master
++ stackrc:source:399                       :   GITREPO["oslo.config"]=https://opendev.org/openstack/oslo.config.git
++ stackrc:source:400                       :   GITBRANCH["oslo.config"]=master
++ stackrc:source:403                       :   GITREPO["oslo.context"]=https://opendev.org/openstack/oslo.context.git
++ stackrc:source:404                       :   GITBRANCH["oslo.context"]=master
++ stackrc:source:407                       :   GITREPO["oslo.db"]=https://opendev.org/openstack/oslo.db.git
++ stackrc:source:408                       :   GITBRANCH["oslo.db"]=master
++ stackrc:source:411                       :   GITREPO["oslo.i18n"]=https://opendev.org/openstack/oslo.i18n.git
++ stackrc:source:412                       :   GITBRANCH["oslo.i18n"]=master
++ stackrc:source:415                       :   GITREPO["oslo.limit"]=https://opendev.org/openstack/oslo.limit.git
++ stackrc:source:416                       :   GITBRANCH["oslo.limit"]=master
++ stackrc:source:419                       :   GITREPO["oslo.log"]=https://opendev.org/openstack/oslo.log.git
++ stackrc:source:420                       :   GITBRANCH["oslo.log"]=master
++ stackrc:source:423                       :   GITREPO["oslo.messaging"]=https://opendev.org/openstack/oslo.messaging.git
++ stackrc:source:424                       :   GITBRANCH["oslo.messaging"]=master
++ stackrc:source:427                       :   GITREPO["oslo.middleware"]=https://opendev.org/openstack/oslo.middleware.git
++ stackrc:source:428                       :   GITBRANCH["oslo.middleware"]=master
++ stackrc:source:431                       :   GITREPO["oslo.policy"]=https://opendev.org/openstack/oslo.policy.git
++ stackrc:source:432                       :   GITBRANCH["oslo.policy"]=master
++ stackrc:source:435                       :   GITREPO["oslo.privsep"]=https://opendev.org/openstack/oslo.privsep.git
++ stackrc:source:436                       :   GITBRANCH["oslo.privsep"]=master
++ stackrc:source:439                       :   GITREPO["oslo.reports"]=https://opendev.org/openstack/oslo.reports.git
++ stackrc:source:440                       :   GITBRANCH["oslo.reports"]=master
++ stackrc:source:443                       :   GITREPO["oslo.rootwrap"]=https://opendev.org/openstack/oslo.rootwrap.git
++ stackrc:source:444                       :   GITBRANCH["oslo.rootwrap"]=master
++ stackrc:source:447                       :   GITREPO["oslo.serialization"]=https://opendev.org/openstack/oslo.serialization.git
++ stackrc:source:448                       :   GITBRANCH["oslo.serialization"]=master
++ stackrc:source:451                       :   GITREPO["oslo.service"]=https://opendev.org/openstack/oslo.service.git
++ stackrc:source:452                       :   GITBRANCH["oslo.service"]=master
++ stackrc:source:455                       :   GITREPO["oslo.utils"]=https://opendev.org/openstack/oslo.utils.git
++ stackrc:source:456                       :   GITBRANCH["oslo.utils"]=master
++ stackrc:source:459                       :   GITREPO["oslo.versionedobjects"]=https://opendev.org/openstack/oslo.versionedobjects.git
++ stackrc:source:460                       :   GITBRANCH["oslo.versionedobjects"]=master
++ stackrc:source:463                       :   GITREPO["oslo.vmware"]=https://opendev.org/openstack/oslo.vmware.git
++ stackrc:source:464                       :   GITBRANCH["oslo.vmware"]=master
++ stackrc:source:467                       :   GITREPO["osprofiler"]=https://opendev.org/openstack/osprofiler.git
++ stackrc:source:468                       :   GITBRANCH["osprofiler"]=master
++ stackrc:source:471                       :   GITREPO["pycadf"]=https://opendev.org/openstack/pycadf.git
++ stackrc:source:472                       :   GITBRANCH["pycadf"]=master
++ stackrc:source:475                       :   GITREPO["stevedore"]=https://opendev.org/openstack/stevedore.git
++ stackrc:source:476                       :   GITBRANCH["stevedore"]=master
++ stackrc:source:479                       :   GITREPO["taskflow"]=https://opendev.org/openstack/taskflow.git
++ stackrc:source:480                       :   GITBRANCH["taskflow"]=master
++ stackrc:source:483                       :   GITREPO["tooz"]=https://opendev.org/openstack/tooz.git
++ stackrc:source:484                       :   GITBRANCH["tooz"]=master
++ stackrc:source:487                       :   GITREPO["pbr"]=https://opendev.org/openstack/pbr.git
++ stackrc:source:488                       :   GITBRANCH["pbr"]=master
++ stackrc:source:498                       :   GITREPO["cursive"]=https://opendev.org/openstack/cursive.git
++ stackrc:source:499                       :   GITBRANCH["cursive"]=master
++ stackrc:source:502                       :   GITREPO["glance_store"]=https://opendev.org/openstack/glance_store.git
++ stackrc:source:503                       :   GITBRANCH["glance_store"]=master
++ stackrc:source:506                       :   GITREPO["keystonemiddleware"]=https://opendev.org/openstack/keystonemiddleware.git
++ stackrc:source:507                       :   GITBRANCH["keystonemiddleware"]=master
++ stackrc:source:510                       :   GITREPO["ceilometermiddleware"]=https://opendev.org/openstack/ceilometermiddleware.git
++ stackrc:source:511                       :   GITBRANCH["ceilometermiddleware"]=master
++ stackrc:source:512                       :   GITDIR["ceilometermiddleware"]=/opt/stack/ceilometermiddleware
++ stackrc:source:515                       :   GITREPO["openstacksdk"]=https://opendev.org/openstack/openstacksdk.git
++ stackrc:source:516                       :   GITBRANCH["openstacksdk"]=master
++ stackrc:source:519                       :   GITREPO["os-brick"]=https://opendev.org/openstack/os-brick.git
++ stackrc:source:520                       :   GITBRANCH["os-brick"]=master
++ stackrc:source:523                       :   GITREPO["os-client-config"]=https://opendev.org/openstack/os-client-config.git
++ stackrc:source:524                       :   GITBRANCH["os-client-config"]=master
++ stackrc:source:525                       :   GITDIR["os-client-config"]=/opt/stack/os-client-config
++ stackrc:source:528                       :   GITREPO["os-vif"]=https://opendev.org/openstack/os-vif.git
++ stackrc:source:529                       :   GITBRANCH["os-vif"]=master
++ stackrc:source:532                       :   GITREPO["osc-lib"]=https://opendev.org/openstack/osc-lib.git
++ stackrc:source:533                       :   GITBRANCH["osc-lib"]=master
++ stackrc:source:536                       :   GITREPO["ironic-lib"]=https://opendev.org/openstack/ironic-lib.git
++ stackrc:source:537                       :   GITBRANCH["ironic-lib"]=master
++ stackrc:source:539                       :   GITDIR["ironic-lib"]=/opt/stack/ironic-lib
++ stackrc:source:542                       :   GITREPO["diskimage-builder"]=https://opendev.org/openstack/diskimage-builder.git
++ stackrc:source:543                       :   GITBRANCH["diskimage-builder"]=master
++ stackrc:source:544                       :   GITDIR["diskimage-builder"]=/opt/stack/diskimage-builder
++ stackrc:source:547                       :   GITREPO["neutron-lib"]=https://opendev.org/openstack/neutron-lib.git
++ stackrc:source:548                       :   GITBRANCH["neutron-lib"]=master
++ stackrc:source:549                       :   GITDIR["neutron-lib"]=/opt/stack/neutron-lib
++ stackrc:source:552                       :   GITREPO["os-resource-classes"]=https://opendev.org/openstack/os-resource-classes.git
++ stackrc:source:553                       :   GITBRANCH["os-resource-classes"]=master
++ stackrc:source:556                       :   GITREPO["os-traits"]=https://opendev.org/openstack/os-traits.git
++ stackrc:source:557                       :   GITBRANCH["os-traits"]=master
++ stackrc:source:560                       :   GITREPO["ovsdbapp"]=https://opendev.org/openstack/ovsdbapp.git
++ stackrc:source:561                       :   GITBRANCH["ovsdbapp"]=master
++ stackrc:source:562                       :   GITDIR["ovsdbapp"]=/opt/stack/ovsdbapp
++ stackrc:source:565                       :   GITREPO["os-ken"]=https://opendev.org/openstack/os-ken.git
++ stackrc:source:566                       :   GITBRANCH["os-ken"]=master
++ stackrc:source:567                       :   GITDIR["os-ken"]=/opt/stack/os-ken
++ stackrc:source:576                       :   DIB_UTILS_REPO=https://opendev.org/openstack/dib-utils.git
++ stackrc:source:577                       :   DIB_UTILS_BRANCH=master
++ stackrc:source:580                       :   OAC_REPO=https://opendev.org/openstack/os-apply-config.git
++ stackrc:source:581                       :   OAC_BRANCH=master
++ stackrc:source:584                       :   OCC_REPO=https://opendev.org/openstack/os-collect-config.git
++ stackrc:source:585                       :   OCC_BRANCH=master
++ stackrc:source:588                       :   ORC_REPO=https://opendev.org/openstack/os-refresh-config.git
++ stackrc:source:589                       :   ORC_BRANCH=master
++ stackrc:source:601                       :   IRONIC_PYTHON_AGENT_REPO=https://opendev.org/openstack/ironic-python-agent.git
++ stackrc:source:602                       :   IRONIC_PYTHON_AGENT_BRANCH=master
++ stackrc:source:605                       :   NOVNC_REPO=https://github.com/novnc/novnc.git
++ stackrc:source:606                       :   NOVNC_BRANCH=v1.3.0
++ stackrc:source:609                       :   SPICE_REPO=http://anongit.freedesktop.org/git/spice/spice-html5.git
++ stackrc:source:610                       :   SPICE_BRANCH=master
+++ stackrc:source:616                       :   trueorfalse False ENABLE_VOLUME_MULTIATTACH
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:616                       :   ENABLE_VOLUME_MULTIATTACH=False
++ stackrc:source:621                       :   DEFAULT_VIRT_DRIVER=libvirt
++ stackrc:source:622                       :   VIRT_DRIVER=libvirt
++ stackrc:source:623                       :   case "$VIRT_DRIVER" in
++ stackrc:source:625                       :   LIBVIRT_TYPE=kvm
++ stackrc:source:626                       :   LIBVIRT_CPU_MODE=custom
++ stackrc:source:627                       :   LIBVIRT_CPU_MODEL=Nehalem
++ stackrc:source:628                       :   [[ Ubuntu =~ (Debian|Ubuntu) ]]
+++ stackrc:source:632                       :   cut -d : -f 1 /etc/group
+++ stackrc:source:632                       :   grep 'libvirtd$'
+++ stackrc:source:632                       :   true
++ stackrc:source:632                       :   LIBVIRT_GROUP=
++ stackrc:source:633                       :   LIBVIRT_GROUP=libvirt
++ stackrc:source:673                       :   CIRROS_VERSION=0.5.2
+++ stackrc:source:674                       :   uname -m
++ stackrc:source:674                       :   CIRROS_ARCH=x86_64
+++ stackrc:source:679                       :   trueorfalse True DOWNLOAD_DEFAULT_IMAGES
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:679                       :   DOWNLOAD_DEFAULT_IMAGES=True
++ stackrc:source:680                       :   [[ True == \T\r\u\e ]]
++ stackrc:source:681                       :   [[ -n '' ]]
++ stackrc:source:684                       :   case "$VIRT_DRIVER" in
++ stackrc:source:686                       :   case "$LIBVIRT_TYPE" in
++ stackrc:source:692                       :   DEFAULT_IMAGE_NAME=cirros-0.5.2-x86_64-disk
++ stackrc:source:693                       :   DEFAULT_IMAGE_FILE_NAME=cirros-0.5.2-x86_64-disk.img
++ stackrc:source:694                       :   IMAGE_URLS+=http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img
++ stackrc:source:707                       :   DOWNLOAD_DEFAULT_IMAGES=False
++ stackrc:source:716                       :   EXTRA_CACHE_URLS=
++ stackrc:source:719                       :   ETCD_VERSION=v3.3.12
++ stackrc:source:720                       :   ETCD_SHA256_AMD64=dc5d82df095dae0a2970e4d870b6929590689dd707ae3d33e7b86da0f7f211b6
++ stackrc:source:721                       :   ETCD_SHA256_ARM64=170b848ac1a071fe7d495d404a868a2c0090750b2944f8a260ef1c6125b2b4f4
++ stackrc:source:722                       :   ETCD_SHA256_PPC64=77f807b1b51abbf51e020bb05bdb8ce088cb58260fcd22749ea32eee710463d3
++ stackrc:source:724                       :   ETCD_SHA256_S390X=
++ stackrc:source:726                       :   is_arch x86_64
+++ functions-common:is_arch:507             :   uname -m
++ functions-common:is_arch:507             :   [[ x86_64 == \x\8\6\_\6\4 ]]
++ stackrc:source:727                       :   ETCD_ARCH=amd64
++ stackrc:source:728                       :   ETCD_SHA256=dc5d82df095dae0a2970e4d870b6929590689dd707ae3d33e7b86da0f7f211b6
++ stackrc:source:748                       :   ETCD_PORT=2379
++ stackrc:source:749                       :   ETCD_PEER_PORT=2380
++ stackrc:source:750                       :   ETCD_DOWNLOAD_URL=https://github.com/etcd-io/etcd/releases/download
++ stackrc:source:751                       :   ETCD_NAME=etcd-v3.3.12-linux-amd64
++ stackrc:source:752                       :   ETCD_DOWNLOAD_FILE=etcd-v3.3.12-linux-amd64.tar.gz
++ stackrc:source:753                       :   ETCD_DOWNLOAD_LOCATION=https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz
++ stackrc:source:755                       :   EXTRA_CACHE_URLS+=,https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz
++ stackrc:source:758                       :   CACHE_BACKEND=dogpile.cache.memcached
++ stackrc:source:759                       :   MEMCACHE_SERVERS=localhost:11211
++ stackrc:source:762                       :   for image_url in ${IMAGE_URLS//,/ }
+++ stackrc:source:763                       :   echo http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img
+++ stackrc:source:763                       :   wc -l
+++ stackrc:source:763                       :   grep -o -F http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img
++ stackrc:source:763                       :   '[' 1 -gt 1 ']'
++ stackrc:source:769                       :   VOLUME_BACKING_FILE_SIZE=30G
++ stackrc:source:772                       :   VOLUME_NAME_PREFIX=volume-
++ stackrc:source:773                       :   INSTANCE_NAME_PREFIX=instance-
++ stackrc:source:776                       :   S3_SERVICE_PORT=3333
++ stackrc:source:779                       :   PRIVATE_NETWORK_NAME=private
++ stackrc:source:780                       :   PUBLIC_NETWORK_NAME=public
++ stackrc:source:782                       :   PUBLIC_INTERFACE=
++ stackrc:source:785                       :   SERVICE_PROTOCOL=http
+++ stackrc:source:791                       :   nproc
+++ stackrc:source:791                       :   nproc
++ stackrc:source:791                       :   API_WORKERS=10
++ stackrc:source:794                       :   SERVICE_TIMEOUT=60
++ stackrc:source:797                       :   NOVA_READY_TIMEOUT=60
++ stackrc:source:800                       :   SERVICE_GRACEFUL_SHUTDOWN_TIMEOUT=5
++ stackrc:source:803                       :   WORKER_TIMEOUT=90
+++ stackrc:source:811                       :   trueorfalse False OFFLINE
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:811                       :   OFFLINE=False
+++ stackrc:source:816                       :   trueorfalse False ERROR_ON_CLONE
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:816                       :   ERROR_ON_CLONE=False
+++ stackrc:source:819                       :   trueorfalse True ENABLE_DEBUG_LOG_LEVEL
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:819                       :   ENABLE_DEBUG_LOG_LEVEL=True
++ stackrc:source:825                       :   FLOATING_RANGE=127.0.0.1/24
++ stackrc:source:826                       :   IPV4_ADDRS_SAFE_TO_USE=127.0.0.1/22
++ stackrc:source:827                       :   FIXED_RANGE=127.0.0.1/22
++ stackrc:source:828                       :   HOST_IP_IFACE=
++ stackrc:source:829                       :   HOST_IP=
++ stackrc:source:830                       :   HOST_IPV6=
+++ stackrc:source:832                       :   get_default_host_ip 127.0.0.1/22 127.0.0.1/24 '' '' inet
+++ functions-common:get_default_host_ip:781 :   local fixed_range=127.0.0.1/22
+++ functions-common:get_default_host_ip:782 :   local floating_range=127.0.0.1/24
+++ functions-common:get_default_host_ip:783 :   local host_ip_iface=
+++ functions-common:get_default_host_ip:784 :   local host_ip=
+++ functions-common:get_default_host_ip:785 :   local af=inet
+++ functions-common:get_default_host_ip:788 :   '[' -z '' -o '' == dhcp ']'
+++ functions-common:get_default_host_ip:789 :   host_ip=
++++ functions-common:get_default_host_ip:791 :   awk '/default/ {print $5}'
++++ functions-common:get_default_host_ip:791 :   ip -f inet route
++++ functions-common:get_default_host_ip:791 :   head -1
+++ functions-common:get_default_host_ip:791 :   host_ip_iface=eno1
+++ functions-common:get_default_host_ip:792 :   local host_ips
++++ functions-common:get_default_host_ip:793 :   LC_ALL=C
++++ functions-common:get_default_host_ip:793 :   awk '/inet/ {split($2,parts,"/");  print parts[1]}'
++++ functions-common:get_default_host_ip:793 :   sed /temporary/d
++++ functions-common:get_default_host_ip:793 :   ip -f inet addr show eno1
+++ functions-common:get_default_host_ip:793 :   host_ips=127.0.0.1
+++ functions-common:get_default_host_ip:794 :   local ip
+++ functions-common:get_default_host_ip:795 :   for ip in $host_ips
+++ functions-common:get_default_host_ip:802 :   [[ inet == \i\n\e\t\6 ]]
+++ functions-common:get_default_host_ip:806 :   address_in_net 127.0.0.1 127.0.0.1/22
+++ functions-common:address_in_net:2189     :   local ip=127.0.0.1
+++ functions-common:address_in_net:2190     :   local range=127.0.0.1/22
+++ functions-common:address_in_net:2191     :   local masklen=22
+++ functions-common:address_in_net:2192     :   local network
+++++ functions-common:address_in_net:2193     :   cidr2netmask 22
+++++ functions-common:cidr2netmask:2211       :   local 'maskpat=255 255 255 255'
+++++ functions-common:cidr2netmask:2212       :   local 'maskdgt=254 252 248 240 224 192 128'
+++++ functions-common:cidr2netmask:2213       :   set -- 255 255 252
+++++ functions-common:cidr2netmask:2214       :   echo 127.0.0.1
++++ functions-common:address_in_net:2193     :   maskip 127.0.0.1 127.0.0.1
++++ functions-common:maskip:2273             :   local ip=127.0.0.1
++++ functions-common:maskip:2274             :   local mask=127.0.0.1
++++ functions-common:maskip:2275             :   local l=10.0.0
++++ functions-common:maskip:2275             :   local r=0.0.0
++++ functions-common:maskip:2275             :   local n=255.255.252
++++ functions-common:maskip:2275             :   local m=255.252.0
++++ functions-common:maskip:2276             :   local subnet
++++ functions-common:maskip:2277             :   subnet=127.0.0.1
++++ functions-common:maskip:2278             :   echo 127.0.0.1
+++ functions-common:address_in_net:2193     :   network=127.0.0.1
+++ functions-common:address_in_net:2194     :   local subnet
+++++ functions-common:address_in_net:2195     :   cidr2netmask 22
+++++ functions-common:cidr2netmask:2211       :   local 'maskpat=255 255 255 255'
+++++ functions-common:cidr2netmask:2212       :   local 'maskdgt=254 252 248 240 224 192 128'
+++++ functions-common:cidr2netmask:2213       :   set -- 255 255 252
+++++ functions-common:cidr2netmask:2214       :   echo 127.0.0.1
++++ functions-common:address_in_net:2195     :   maskip 127.0.0.1 127.0.0.1
++++ functions-common:maskip:2273             :   local ip=127.0.0.1
++++ functions-common:maskip:2274             :   local mask=127.0.0.1
++++ functions-common:maskip:2275             :   local l=10.200.2
++++ functions-common:maskip:2275             :   local r=200.2.118
++++ functions-common:maskip:2275             :   local n=255.255.252
++++ functions-common:maskip:2275             :   local m=255.252.0
++++ functions-common:maskip:2276             :   local subnet
++++ functions-common:maskip:2277             :   subnet=127.0.0.1
++++ functions-common:maskip:2278             :   echo 127.0.0.1
+++ functions-common:address_in_net:2195     :   subnet=127.0.0.1
+++ functions-common:address_in_net:2196     :   [[ 127.0.0.1 == 127.0.0.1 ]]
+++ functions-common:get_default_host_ip:806 :   address_in_net 127.0.0.1 127.0.0.1/24
+++ functions-common:address_in_net:2189     :   local ip=127.0.0.1
+++ functions-common:address_in_net:2190     :   local range=127.0.0.1/24
+++ functions-common:address_in_net:2191     :   local masklen=24
+++ functions-common:address_in_net:2192     :   local network
+++++ functions-common:address_in_net:2193     :   cidr2netmask 24
+++++ functions-common:cidr2netmask:2211       :   local 'maskpat=255 255 255 255'
+++++ functions-common:cidr2netmask:2212       :   local 'maskdgt=254 252 248 240 224 192 128'
+++++ functions-common:cidr2netmask:2213       :   set -- 255 255 255
+++++ functions-common:cidr2netmask:2214       :   echo 127.0.0.1
++++ functions-common:address_in_net:2193     :   maskip 127.0.0.1 127.0.0.1
++++ functions-common:maskip:2273             :   local ip=127.0.0.1
++++ functions-common:maskip:2274             :   local mask=127.0.0.1
++++ functions-common:maskip:2275             :   local l=172.24.4
++++ functions-common:maskip:2275             :   local r=24.4.0
++++ functions-common:maskip:2275             :   local n=255.255.255
++++ functions-common:maskip:2275             :   local m=255.255.0
++++ functions-common:maskip:2276             :   local subnet
++++ functions-common:maskip:2277             :   subnet=127.0.0.1
++++ functions-common:maskip:2278             :   echo 127.0.0.1
+++ functions-common:address_in_net:2193     :   network=127.0.0.1
+++ functions-common:address_in_net:2194     :   local subnet
+++++ functions-common:address_in_net:2195     :   cidr2netmask 24
+++++ functions-common:cidr2netmask:2211       :   local 'maskpat=255 255 255 255'
+++++ functions-common:cidr2netmask:2212       :   local 'maskdgt=254 252 248 240 224 192 128'
+++++ functions-common:cidr2netmask:2213       :   set -- 255 255 255
+++++ functions-common:cidr2netmask:2214       :   echo 127.0.0.1
++++ functions-common:address_in_net:2195     :   maskip 127.0.0.1 127.0.0.1
++++ functions-common:maskip:2273             :   local ip=127.0.0.1
++++ functions-common:maskip:2274             :   local mask=127.0.0.1
++++ functions-common:maskip:2275             :   local l=10.200.2
++++ functions-common:maskip:2275             :   local r=200.2.118
++++ functions-common:maskip:2275             :   local n=255.255.255
++++ functions-common:maskip:2275             :   local m=255.255.0
++++ functions-common:maskip:2276             :   local subnet
++++ functions-common:maskip:2277             :   subnet=127.0.0.1
++++ functions-common:maskip:2278             :   echo 127.0.0.1
+++ functions-common:address_in_net:2195     :   subnet=127.0.0.1
+++ functions-common:address_in_net:2196     :   [[ 127.0.0.1 == 127.0.0.1 ]]
+++ functions-common:get_default_host_ip:807 :   host_ip=127.0.0.1
+++ functions-common:get_default_host_ip:808 :   break
+++ functions-common:get_default_host_ip:812 :   echo 127.0.0.1
++ stackrc:source:832                       :   HOST_IP=127.0.0.1
++ stackrc:source:833                       :   '[' 127.0.0.1 == '' ']'
+++ stackrc:source:837                       :   get_default_host_ip '' '' '' '' inet6
+++ functions-common:get_default_host_ip:781 :   local fixed_range=
+++ functions-common:get_default_host_ip:782 :   local floating_range=
+++ functions-common:get_default_host_ip:783 :   local host_ip_iface=
+++ functions-common:get_default_host_ip:784 :   local host_ip=
+++ functions-common:get_default_host_ip:785 :   local af=inet6
+++ functions-common:get_default_host_ip:788 :   '[' -z '' -o '' == dhcp ']'
+++ functions-common:get_default_host_ip:789 :   host_ip=
++++ functions-common:get_default_host_ip:791 :   ip -f inet6 route
++++ functions-common:get_default_host_ip:791 :   awk '/default/ {print $5}'
++++ functions-common:get_default_host_ip:791 :   head -1
+++ functions-common:get_default_host_ip:791 :   host_ip_iface=
+++ functions-common:get_default_host_ip:792 :   local host_ips
++++ functions-common:get_default_host_ip:793 :   LC_ALL=C
++++ functions-common:get_default_host_ip:793 :   sed /temporary/d
++++ functions-common:get_default_host_ip:793 :   awk '/inet6/ {split($2,parts,"/");  print parts[1]}'
++++ functions-common:get_default_host_ip:793 :   ip -f inet6 addr show
+++ functions-common:get_default_host_ip:793 :   host_ips='::1
fe80::2152:a640:2f71:c8f4'
+++ functions-common:get_default_host_ip:794 :   local ip
+++ functions-common:get_default_host_ip:795 :   for ip in $host_ips
+++ functions-common:get_default_host_ip:802 :   [[ inet6 == \i\n\e\t\6 ]]
+++ functions-common:get_default_host_ip:803 :   host_ip=::1
+++ functions-common:get_default_host_ip:804 :   break
+++ functions-common:get_default_host_ip:812 :   echo ::1
++ stackrc:source:837                       :   HOST_IPV6=::1
+++ stackrc:source:840                       :   trueorfalse True NEUTRON_PORT_SECURITY
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   grep xtrace
++++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:840                       :   NEUTRON_PORT_SECURITY=True
++ stackrc:source:845                       :   SERVICE_IP_VERSION=4
++ stackrc:source:851                       :   [[ 4 != \4 ]]
++ stackrc:source:855                       :   [[ 4 == 4 ]]
++ stackrc:source:856                       :   DEF_SERVICE_HOST=127.0.0.1
++ stackrc:source:857                       :   DEF_SERVICE_LOCAL_HOST=127.0.0.1
++ stackrc:source:858                       :   DEF_SERVICE_LISTEN_ADDRESS=127.0.0.1
++ stackrc:source:861                       :   [[ 4 == 6 ]]
++ stackrc:source:872                       :   SERVICE_LISTEN_ADDRESS=127.0.0.1
++ stackrc:source:876                       :   SERVICE_HOST=127.0.0.1
++ stackrc:source:878                       :   SERVICE_LOCAL_HOST=127.0.0.1
++ stackrc:source:882                       :   TUNNEL_IP_VERSION=4
++ stackrc:source:885                       :   [[ 4 != \4 ]]
++ stackrc:source:889                       :   [[ 4 == 4 ]]
++ stackrc:source:890                       :   DEF_TUNNEL_ENDPOINT_IP=127.0.0.1
++ stackrc:source:893                       :   [[ 4 == 6 ]]
++ stackrc:source:904                       :   TUNNEL_ENDPOINT_IP=127.0.0.1
+++ stackrc:source:907                       :   trueorfalse False SYSLOG
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:907                       :   SYSLOG=False
++ stackrc:source:908                       :   SYSLOG_HOST=127.0.0.1
++ stackrc:source:909                       :   SYSLOG_PORT=516
++ stackrc:source:913                       :   GIT_DEPTH=0
+++ stackrc:source:917                       :   trueorfalse True RECREATE_KEYSTONE_DB
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:917                       :   RECREATE_KEYSTONE_DB=True
++ stackrc:source:929                       :   [[ -z '' ]]
++ stackrc:source:930                       :   default_logdir=/opt/stack/logs
++ stackrc:source:931                       :   [[ -z '' ]]
++ stackrc:source:933                       :   LOGDIR=/opt/stack/logs
++ stackrc:source:943                       :   unset default_logdir logfile
++ stackrc:source:949                       :   ULIMIT_NOFILE=2048
+ ./stack.sh:main:228                      :   write_devstack_version
+ functions:write_devstack_version:852     :   cat -
+ functions:write_devstack_version:852     :   sudo tee /etc/devstack-version
++ functions:write_devstack_version:852     :   git log '--format=%H %s %ci' -1
+ ./stack.sh:main:232                      :   SUPPORTED_DISTROS='bullseye|focal|jammy|f36|opensuse-15.2|opensuse-tumbleweed|rhel8|rhel9|openEuler-22.03'
+ ./stack.sh:main:234                      :   [[ ! focal =~ bullseye|focal|jammy|f36|opensuse-15.2|opensuse-tumbleweed|rhel8|rhel9|openEuler-22.03 ]]
+ ./stack.sh:main:245                      :   export_proxy_variables
+ functions-common:export_proxy_variables:2251 :   isset http_proxy
+ functions-common:isset:240               :   [[ -v http_proxy ]]
+ functions-common:export_proxy_variables:2254 :   isset https_proxy
+ functions-common:isset:240               :   [[ -v https_proxy ]]
+ functions-common:export_proxy_variables:2257 :   isset no_proxy
+ functions-common:isset:240               :   [[ -v no_proxy ]]
+ ./stack.sh:main:250                      :   disable_negated_services
+ functions-common:disable_negated_services:1956 :   local xtrace
++ functions-common:disable_negated_services:1957 :   grep xtrace
++ functions-common:disable_negated_services:1957 :   set +o
+ functions-common:disable_negated_services:1957 :   xtrace='set -o xtrace'
+ functions-common:disable_negated_services:1958 :   set +o xtrace
+ ./stack.sh:main:257                      :   is_package_installed sudo
+ functions-common:is_package_installed:1466 :   [[ -z sudo ]]
+ functions-common:is_package_installed:1470 :   [[ -z deb ]]
+ functions-common:is_package_installed:1474 :   [[ deb = \d\e\b ]]
+ functions-common:is_package_installed:1475 :   dpkg -s sudo
+ ./stack.sh:main:260                      :   sudo grep -q '^#includedir.*/etc/sudoers.d' /etc/sudoers
+ ./stack.sh:main:264                      :   [[ -n '' ]]
++ ./stack.sh:main:273                      :   mktemp
+ ./stack.sh:main:273                      :   TEMPFILE=/tmp/tmp.5dhaW6xOa5
+ ./stack.sh:main:274                      :   echo 'stack ALL=(root) NOPASSWD:ALL'
+ ./stack.sh:main:277                      :   echo 'Defaults:stack secure_path=/sbin:/usr/sbin:/usr/bin:/bin:/usr/local/sbin:/usr/local/bin'
+ ./stack.sh:main:278                      :   echo 'Defaults:stack !requiretty'
+ ./stack.sh:main:279                      :   chmod 0440 /tmp/tmp.5dhaW6xOa5
+ ./stack.sh:main:280                      :   sudo chown root:root /tmp/tmp.5dhaW6xOa5
+ ./stack.sh:main:281                      :   sudo mv /tmp/tmp.5dhaW6xOa5 /etc/sudoers.d/50_stack_sh
+ ./stack.sh:main:287                      :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ ./stack.sh:main:288                      :   echo 'APT::Acquire::Retries "20";'
+ ./stack.sh:main:288                      :   sudo tee /etc/apt/apt.conf.d/80retry
+ ./stack.sh:main:324                      :   DEST=/opt/stack
+ ./stack.sh:main:329                      :   [[ ! -d /opt/stack ]]
+ ./stack.sh:main:336                      :   [[ -n /opt/stack/logs ]]
+ ./stack.sh:main:337                      :   mkdir -p /opt/stack/logs
+ ./stack.sh:main:341                      :   DATA_DIR=/opt/stack/data
+ ./stack.sh:main:342                      :   [[ ! -d /opt/stack/data ]]
+ ./stack.sh:main:343                      :   sudo mkdir -p /opt/stack/data
+ ./stack.sh:main:344                      :   safe_chown -R stack /opt/stack/data
+ functions-common:safe_chown:2334         :   _safe_permission_operation chown -R stack /opt/stack/data
+ functions-common:_safe_permission_operation:2159 :   local xtrace
++ functions-common:_safe_permission_operation:2160 :   grep xtrace
++ functions-common:_safe_permission_operation:2160 :   set +o
+ functions-common:_safe_permission_operation:2160 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2161 :   set +o xtrace
+ functions-common:_safe_permission_operation:2182 :   sudo chown -R stack /opt/stack/data
+ ./stack.sh:main:345                      :   safe_chmod 0755 /opt/stack/data
+ functions-common:safe_chmod:2328         :   _safe_permission_operation chmod 0755 /opt/stack/data
+ functions-common:_safe_permission_operation:2159 :   local xtrace
++ functions-common:_safe_permission_operation:2160 :   set +o
++ functions-common:_safe_permission_operation:2160 :   grep xtrace
+ functions-common:_safe_permission_operation:2160 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2161 :   set +o xtrace
+ functions-common:_safe_permission_operation:2182 :   sudo chmod 0755 /opt/stack/data
+ ./stack.sh:main:349                      :   async_init
+ inc/async:async_init:217                 :   local async_dir=/opt/stack/async
+ inc/async:async_init:220                 :   rm -Rf /opt/stack/async
+ inc/async:async_init:223                 :   mkdir -p /opt/stack/async
++ ./stack.sh:main:354                      :   hostname -s
+ ./stack.sh:main:354                      :   LOCAL_HOSTNAME=datacore-PowerEdge-R740
+ ./stack.sh:main:355                      :   fgrep -qwe datacore-PowerEdge-R740 /etc/hosts
++ ./stack.sh:main:362                      :   trueorfalse False SKIP_EPEL_INSTALL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ ./stack.sh:main:362                      :   SKIP_EPEL_INSTALL=False
+ ./stack.sh:main:364                      :   [[ focal == \r\h\e\l\8 ]]
+ ./stack.sh:main:393                      :   [[ focal == \r\h\e\l\9 ]]
+ ./stack.sh:main:397                      :   [[ focal == \o\p\e\n\E\u\l\e\r\-\2\2\.\0\3 ]]
+ ./stack.sh:main:410                      :   install_python
+ inc/python:install_python:457            :   install_python3
+ inc/python:install_python3:463           :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ inc/python:install_python3:464           :   apt_get install python3.8 python3.8-dev
+ functions-common:apt_get:1211            :   local xtrace result
++ functions-common:apt_get:1212            :   set +o
++ functions-common:apt_get:1212            :   grep xtrace
+ functions-common:apt_get:1212            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1213            :   set +o xtrace
+ functions-common:apt_get:1224            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install python3.8 python3.8-dev
Reading package lists...
Building dependency tree...
Reading state information...
python3.8 is already the newest version (3.8.10-0ubuntu1~20.04.6).
python3.8-dev is already the newest version (3.8.10-0ubuntu1~20.04.6).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcgi-fast-perl libcgi-pm-perl libcolord-gtk1 libcolorhug2
  libevent-core-2.1-7 libevent-pthreads-2.1-7 libfcgi-perl libgsound0
  libgssdp-1.2-0 libgupnp-1.2-0 libgupnp-av-1.0-2 libgupnp-dlna-2.0-3
  libhtml-template-perl libieee1284-3 libimagequant0 libmecab2
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3 locales-all
  mecab-ipadic mecab-ipadic-utf8 mecab-utils mobile-broadband-provider-info
  network-manager-gnome printer-driver-postscript-hp python3-macaroonbakery
  python3-olefile python3-pil python3-protobuf python3-pymacaroons
  python3-renderpm python3-reportlab python3-reportlab-accel python3-rfc3339
  python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 206 not upgraded.
+ functions-common:apt_get:1228            :   result=0
+ functions-common:apt_get:1231            :   time_stop apt-get
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=apt-get
+ functions-common:time_stop:2440          :   start_time=1671852881724
+ functions-common:time_stop:2442          :   [[ -z 1671852881724 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671852882336
+ functions-common:time_stop:2446          :   elapsed_time=612
+ functions-common:time_stop:2447          :   total=0
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=612
+ functions-common:apt_get:1232            :   return 0
++ inc/python:install_python:458            :   which python3.8
+ inc/python:install_python:458            :   export PYTHON=/usr/bin/python3.8
+ inc/python:install_python:458            :   PYTHON=/usr/bin/python3.8
++ ./stack.sh:main:417                      :   trueorfalse True VERBOSE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ ./stack.sh:main:417                      :   VERBOSE=True
++ ./stack.sh:main:418                      :   trueorfalse False VERBOSE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ ./stack.sh:main:418                      :   VERBOSE_NO_TIMESTAMP=True
+ ./stack.sh:main:464                      :   TIMESTAMP_FORMAT=%F-%H%M%S
+ ./stack.sh:main:465                      :   LOGDAYS=7
++ ./stack.sh:main:466                      :   date +%F-%H%M%S
+ ./stack.sh:main:466                      :   CURRENT_LOG_TIME=2022-12-24-090442
+ ./stack.sh:main:468                      :   [[ -n '' ]]
+ ./stack.sh:main:507                      :   exec
+ ./stack.sh:main:508                      :   [[ True != \T\r\u\e ]]
+ ./stack.sh:main:513                      :   exec
+ ./stack.sh:main:517                      :   check_path_perm_sanity /opt/stack
++ ./stack.sh:main:513                      :   /usr/bin/python3.8 /opt/stack/devstack/tools/outfilter.py -v
+ functions:check_path_perm_sanity:596     :   local real_path
++ functions:check_path_perm_sanity:597     :   readlink -f /opt/stack
+ functions:check_path_perm_sanity:597     :   real_path=/opt/stack
+ functions:check_path_perm_sanity:598     :   local rebuilt_path=
++ functions:check_path_perm_sanity:599     :   echo /opt/stack
++ functions:check_path_perm_sanity:599     :   tr / ' '
+ functions:check_path_perm_sanity:599     :   for i in $(echo ${real_path} | tr "/" " ")
+ functions:check_path_perm_sanity:600     :   rebuilt_path=/opt
++ functions:check_path_perm_sanity:602     :   stat -c %a /opt
+ functions:check_path_perm_sanity:602     :   [[ 755 = 700 ]]
+ functions:check_path_perm_sanity:599     :   for i in $(echo ${real_path} | tr "/" " ")
+ functions:check_path_perm_sanity:600     :   rebuilt_path=/opt/stack
++ functions:check_path_perm_sanity:602     :   stat -c %a /opt/stack
+ functions:check_path_perm_sanity:602     :   [[ 755 = 700 ]]
+ ./stack.sh:main:523                      :   trap exit_trap EXIT
+ ./stack.sh:main:564                      :   trap err_trap ERR
+ ./stack.sh:main:577                      :   set -o errexit
+ ./stack.sh:main:580                      :   uname -a
Linux datacore-PowerEdge-R740 5.15.0-52-generic #58~20.04.1-Ubuntu SMP Thu Oct 13 13:09:46 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux
+ ./stack.sh:main:583                      :   SSL_BUNDLE_FILE=/opt/stack/data/ca-bundle.pem
+ ./stack.sh:main:584                      :   rm -f /opt/stack/data/ca-bundle.pem
+ ./stack.sh:main:587                      :   source /opt/stack/devstack/lib/database
+++ lib/database:source:23                   :   set +o
+++ lib/database:source:23                   :   grep xtrace
++ lib/database:source:23                   :   _XTRACE_LIB_DB='set -o xtrace'
++ lib/database:source:24                   :   set +o xtrace
+ ./stack.sh:main:588                      :   source /opt/stack/devstack/lib/rpc_backend
+++ lib/rpc_backend:source:24                :   set +o
+++ lib/rpc_backend:source:24                :   grep xtrace
++ lib/rpc_backend:source:24                :   _XTRACE_RPC_BACKEND='set -o xtrace'
++ lib/rpc_backend:source:25                :   set +o xtrace
+ ./stack.sh:main:594                      :   fetch_plugins
+ functions-common:fetch_plugins:1779      :   local plugins=
+ functions-common:fetch_plugins:1780      :   local plugin
+ functions-common:fetch_plugins:1783      :   [[ -z '' ]]
+ functions-common:fetch_plugins:1784      :   return
+ ./stack.sh:main:598                      :   run_phase override_defaults
+ functions-common:run_phase:1861          :   local mode=override_defaults
+ functions-common:run_phase:1862          :   local phase=
+ functions-common:run_phase:1863          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1864          :   local extra_plugin_file_name
+ functions-common:run_phase:1865          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1870          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1871          :   local extra
++ functions-common:run_phase:1872          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1872          :   extra=80-tempest.sh
+ functions-common:run_phase:1873          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1877          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1877          :   source /opt/stack/devstack/extras.d/80-tempest.sh override_defaults
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ override_defaults == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:27         :   [[ override_defaults == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ override_defaults == \c\l\e\a\n ]]
+ functions-common:run_phase:1882          :   [[ override_defaults == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1885          :   [[ override_defaults == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1886          :   plugin_override_defaults
+ functions-common:plugin_override_defaults:1820 :   local plugins=
+ functions-common:plugin_override_defaults:1821 :   local plugin
+ functions-common:plugin_override_defaults:1824 :   [[ -z '' ]]
+ functions-common:plugin_override_defaults:1825 :   return
+ ./stack.sh:main:601                      :   source /opt/stack/devstack/lib/apache
+++ lib/apache:source:22                     :   set +o
+++ lib/apache:source:22                     :   grep xtrace
++ lib/apache:source:22                     :   _XTRACE_LIB_APACHE='set -o xtrace'
++ lib/apache:source:23                     :   set +o xtrace
+ ./stack.sh:main:604                      :   source /opt/stack/devstack/lib/tls
++ lib/tls:source:38                        :   is_service_enabled tls-proxy
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 1
+++ lib/tls:source:43                        :   hostname -f
++ lib/tls:source:43                        :   DEVSTACK_HOSTNAME=datacore-PowerEdge-R740
++ lib/tls:source:44                        :   DEVSTACK_CERT_NAME=devstack-cert
++ lib/tls:source:45                        :   DEVSTACK_CERT=/opt/stack/data/devstack-cert.pem
++ lib/tls:source:48                        :   ROOT_CA_DIR=/opt/stack/data/CA/root-ca
++ lib/tls:source:49                        :   INT_CA_DIR=/opt/stack/data/CA/int-ca
++ lib/tls:source:51                        :   ORG_NAME=OpenStack
++ lib/tls:source:52                        :   ORG_UNIT_NAME=DevStack
++ lib/tls:source:55                        :   STUD_PROTO=--tls
++ lib/tls:source:56                        :   STUD_CIPHERS='TLSv1+HIGH:!DES:!aNULL:!eNULL:@STRENGTH'
++ lib/tls:source:63                        :   OPENSSL=/usr/bin/openssl
+ ./stack.sh:main:607                      :   source /opt/stack/devstack/lib/infra
+++ lib/infra:source:18                      :   set +o
+++ lib/infra:source:18                      :   grep xtrace
++ lib/infra:source:18                      :   _XTRACE_INFRA='set -o xtrace'
++ lib/infra:source:19                      :   set +o xtrace
+ ./stack.sh:main:608                      :   source /opt/stack/devstack/lib/libraries
+++ lib/libraries:source:19                  :   set +o
+++ lib/libraries:source:19                  :   grep xtrace
++ lib/libraries:source:19                  :   _XTRACE_LIB_LIBRARIES='set -o xtrace'
++ lib/libraries:source:20                  :   set +o xtrace
+ ./stack.sh:main:609                      :   source /opt/stack/devstack/lib/lvm
+++ lib/lvm:source:19                        :   set +o
+++ lib/lvm:source:19                        :   grep xtrace
++ lib/lvm:source:19                        :   _XTRACE_LVM='set -o xtrace'
++ lib/lvm:source:20                        :   set +o xtrace
+ ./stack.sh:main:610                      :   source /opt/stack/devstack/lib/horizon
+++ lib/horizon:source:22                    :   grep xtrace
+++ lib/horizon:source:22                    :   set +o
++ lib/horizon:source:22                    :   _XTRACE_HORIZON='set -o xtrace'
++ lib/horizon:source:23                    :   set +o xtrace
+ ./stack.sh:main:611                      :   source /opt/stack/devstack/lib/keystone
+++ lib/keystone:source:29                   :   set +o
+++ lib/keystone:source:29                   :   grep xtrace
++ lib/keystone:source:29                   :   _XTRACE_KEYSTONE='set -o xtrace'
++ lib/keystone:source:30                   :   set +o xtrace
+ ./stack.sh:main:612                      :   source /opt/stack/devstack/lib/glance
+++ lib/glance:source:24                     :   set +o
+++ lib/glance:source:24                     :   grep xtrace
++ lib/glance:source:24                     :   _XTRACE_GLANCE='set -o xtrace'
++ lib/glance:source:25                     :   set +o xtrace
+ ./stack.sh:main:613                      :   source /opt/stack/devstack/lib/nova
+++ lib/nova:source:27                       :   set +o
+++ lib/nova:source:27                       :   grep xtrace
++ lib/nova:source:27                       :   _XTRACE_LIB_NOVA='set -o xtrace'
++ lib/nova:source:28                       :   set +o xtrace
+ ./stack.sh:main:614                      :   source /opt/stack/devstack/lib/placement
+++ lib/placement:source:23                  :   set +o
+++ lib/placement:source:23                  :   grep xtrace
++ lib/placement:source:23                  :   _XTRACE_LIB_PLACEMENT='set -o xtrace'
++ lib/placement:source:24                  :   set +o xtrace
+ ./stack.sh:main:615                      :   source /opt/stack/devstack/lib/cinder
+++ lib/cinder:source:23                     :   set +o
+++ lib/cinder:source:23                     :   grep xtrace
++ lib/cinder:source:23                     :   _XTRACE_CINDER='set -o xtrace'
++ lib/cinder:source:24                     :   set +o xtrace
+ ./stack.sh:main:616                      :   source /opt/stack/devstack/lib/swift
+++ lib/swift:source:27                      :   set +o
+++ lib/swift:source:27                      :   grep xtrace
++ lib/swift:source:27                      :   _XTRACE_LIB_SWIFT='set -o xtrace'
++ lib/swift:source:28                      :   set +o xtrace
+ ./stack.sh:main:617                      :   source /opt/stack/devstack/lib/neutron
++ lib/neutron:source:61                    :   is_service_enabled tls-proxy
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 1
++ lib/neutron:source:67                    :   GITDIR["python-neutronclient"]=/opt/stack/python-neutronclient
++ lib/neutron:source:70                    :   NEUTRON_DIR=/opt/stack/neutron
++ lib/neutron:source:71                    :   NEUTRON_FWAAS_DIR=/opt/stack/neutron-fwaas
++ lib/neutron:source:74                    :   [[ -d /opt/stack/neutron/bin/neutron-server ]]
+++ lib/neutron:source:77                    :   get_python_exec_prefix
+++ inc/python:get_python_exec_prefix:56     :   local xtrace
++++ inc/python:get_python_exec_prefix:57     :   grep xtrace
++++ inc/python:get_python_exec_prefix:57     :   set +o
+++ inc/python:get_python_exec_prefix:57     :   xtrace='set -o xtrace'
+++ inc/python:get_python_exec_prefix:58     :   set +o xtrace
+++ inc/python:get_python_exec_prefix:64     :   local PYTHON_PATH=/usr/local/bin
+++ inc/python:get_python_exec_prefix:65     :   is_suse
+++ functions-common:is_suse:544             :   is_opensuse
+++ functions-common:is_opensuse:551         :   [[ -z Ubuntu ]]
+++ functions-common:is_opensuse:555         :   [[ Ubuntu =~ (openSUSE) ]]
+++ functions-common:is_suse:544             :   is_suse_linux_enterprise
+++ functions-common:is_suse_linux_enterprise:563 :   [[ -z Ubuntu ]]
+++ functions-common:is_suse_linux_enterprise:567 :   [[ Ubuntu =~ (^SUSE) ]]
+++ inc/python:get_python_exec_prefix:66     :   echo /usr/local/bin
++ lib/neutron:source:77                    :   NEUTRON_BIN_DIR=/usr/local/bin
++ lib/neutron:source:80                    :   NEUTRON_CONF_DIR=/etc/neutron
++ lib/neutron:source:81                    :   NEUTRON_CONF=/etc/neutron/neutron.conf
++ lib/neutron:source:82                    :   export NEUTRON_TEST_CONFIG_FILE=/etc/neutron/debug.ini
++ lib/neutron:source:82                    :   NEUTRON_TEST_CONFIG_FILE=/etc/neutron/debug.ini
+++ lib/neutron:source:89                    :   trueorfalse False NEUTRON_DEPLOY_MOD_WSGI
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ lib/neutron:source:89                    :   NEUTRON_DEPLOY_MOD_WSGI=False
++ lib/neutron:source:91                    :   NEUTRON_UWSGI_CONF=/etc/neutron/neutron-api-uwsgi.ini
+++ lib/neutron:source:96                    :   trueorfalse False NEUTRON_ENFORCE_SCOPE
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ lib/neutron:source:96                    :   NEUTRON_ENFORCE_SCOPE=False
++ lib/neutron:source:100                   :   AGENT_DHCP_BINARY=/usr/local/bin/neutron-dhcp-agent
++ lib/neutron:source:101                   :   AGENT_L3_BINARY=/usr/local/bin/neutron-l3-agent
++ lib/neutron:source:102                   :   AGENT_META_BINARY=/usr/local/bin/neutron-metadata-agent
++ lib/neutron:source:106                   :   Q_DHCP_CONF_FILE=/etc/neutron/dhcp_agent.ini
++ lib/neutron:source:109                   :   NEUTRON_DHCP_CONF=/etc/neutron/dhcp_agent.ini
++ lib/neutron:source:110                   :   Q_L3_CONF_FILE=/etc/neutron/l3_agent.ini
++ lib/neutron:source:113                   :   NEUTRON_L3_CONF=/etc/neutron/l3_agent.ini
++ lib/neutron:source:114                   :   Q_META_CONF_FILE=/etc/neutron/metadata_agent.ini
++ lib/neutron:source:117                   :   Q_DB_NAME=neutron
++ lib/neutron:source:119                   :   Q_PLUGIN=ml2
++ lib/neutron:source:121                   :   Q_PORT=9696
++ lib/neutron:source:123                   :   Q_PORT_INT=19696
++ lib/neutron:source:125                   :   Q_HOST=127.0.0.1
++ lib/neutron:source:127                   :   Q_PROTOCOL=http
+++ lib/neutron:source:129                   :   ipv6_unquote 127.0.0.1
+++ functions-common:ipv6_unquote:2231       :   echo 127.0.0.1
+++ functions-common:ipv6_unquote:2231       :   tr -d '[]'
++ lib/neutron:source:129                   :   Q_LISTEN_ADDRESS=127.0.0.1
++ lib/neutron:source:131                   :   Q_ADMIN_USERNAME=neutron
++ lib/neutron:source:133                   :   Q_AUTH_STRATEGY=keystone
++ lib/neutron:source:135                   :   Q_OVS_USE_VETH=False
++ lib/neutron:source:136                   :   Q_USE_ROOTWRAP=True
+++ lib/neutron:source:137                   :   trueorfalse True Q_USE_ROOTWRAP_DAEMON
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ lib/neutron:source:137                   :   Q_USE_ROOTWRAP_DAEMON=True
+++ lib/neutron:source:139                   :   ipv6_unquote 127.0.0.1
+++ functions-common:ipv6_unquote:2231       :   echo 127.0.0.1
+++ functions-common:ipv6_unquote:2231       :   tr -d '[]'
++ lib/neutron:source:139                   :   Q_META_DATA_IP=127.0.0.1
++ lib/neutron:source:141                   :   Q_ALLOW_OVERLAPPING_IP=True
++ lib/neutron:source:142                   :   Q_NOTIFY_NOVA_PORT_STATUS_CHANGES=True
++ lib/neutron:source:143                   :   Q_NOTIFY_NOVA_PORT_DATA_CHANGES=True
++ lib/neutron:source:144                   :   VIF_PLUGGING_IS_FATAL=True
++ lib/neutron:source:145                   :   VIF_PLUGGING_TIMEOUT=300
++ lib/neutron:source:148                   :   SKIP_STOP_OVN=False
++ lib/neutron:source:152                   :   _Q_PLUGIN_EXTRA_CONF_PATH=/etc/neutron
++ lib/neutron:source:155                   :   NEUTRON_ENDPOINT_SERVICE_NAME=networking
++ lib/neutron:source:156                   :   [[ False == \T\r\u\e ]]
++ lib/neutron:source:169                   :   declare -a -g Q_PLUGIN_EXTRA_CONF_FILES
++ lib/neutron:source:172                   :   declare -a -g _Q_PLUGIN_EXTRA_CONF_FILES_ABS
++ lib/neutron:source:175                   :   Q_RR_CONF_FILE=/etc/neutron/rootwrap.conf
++ lib/neutron:source:176                   :   [[ True == \F\a\l\s\e ]]
+++ lib/neutron:source:179                   :   get_rootwrap_location neutron
+++ functions:get_rootwrap_location:582      :   local module=neutron
++++ functions:get_rootwrap_location:584      :   get_python_exec_prefix
++++ inc/python:get_python_exec_prefix:56     :   local xtrace
+++++ inc/python:get_python_exec_prefix:57     :   set +o
+++++ inc/python:get_python_exec_prefix:57     :   grep xtrace
++++ inc/python:get_python_exec_prefix:57     :   xtrace='set -o xtrace'
++++ inc/python:get_python_exec_prefix:58     :   set +o xtrace
++++ inc/python:get_python_exec_prefix:64     :   local PYTHON_PATH=/usr/local/bin
++++ inc/python:get_python_exec_prefix:65     :   is_suse
++++ functions-common:is_suse:544             :   is_opensuse
++++ functions-common:is_opensuse:551         :   [[ -z Ubuntu ]]
++++ functions-common:is_opensuse:555         :   [[ Ubuntu =~ (openSUSE) ]]
++++ functions-common:is_suse:544             :   is_suse_linux_enterprise
++++ functions-common:is_suse_linux_enterprise:563 :   [[ -z Ubuntu ]]
++++ functions-common:is_suse_linux_enterprise:567 :   [[ Ubuntu =~ (^SUSE) ]]
++++ inc/python:get_python_exec_prefix:66     :   echo /usr/local/bin
+++ functions:get_rootwrap_location:584      :   echo /usr/local/bin/neutron-rootwrap
++ lib/neutron:source:179                   :   NEUTRON_ROOTWRAP=/usr/local/bin/neutron-rootwrap
++ lib/neutron:source:180                   :   Q_RR_COMMAND='sudo /usr/local/bin/neutron-rootwrap /etc/neutron/rootwrap.conf'
++ lib/neutron:source:181                   :   [[ True == \T\r\u\e ]]
++ lib/neutron:source:182                   :   Q_RR_DAEMON_COMMAND='sudo /usr/local/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
++ lib/neutron:source:194                   :   Q_DVR_MODE=legacy
++ lib/neutron:source:195                   :   [[ legacy != \l\e\g\a\c\y ]]
++ lib/neutron:source:211                   :   ENABLE_TENANT_TUNNELS=True
++ lib/neutron:source:216                   :   TENANT_TUNNEL_RANGES=1:1000
++ lib/neutron:source:221                   :   ENABLE_TENANT_VLANS=False
++ lib/neutron:source:229                   :   TENANT_VLAN_RANGE=
++ lib/neutron:source:238                   :   PHYSICAL_NETWORK=public
++ lib/neutron:source:248                   :   OVS_PHYSICAL_BRIDGE=br-ex
++ lib/neutron:source:256                   :   [[ '' == \l\i\n\u\x\b\r\i\d\g\e ]]
++ lib/neutron:source:266                   :   OVS_ENABLE_TUNNELING=True
++ lib/neutron:source:270                   :   ENABLE_ISOLATED_METADATA=False
++ lib/neutron:source:275                   :   ENABLE_METADATA_NETWORK=False
++ lib/neutron:source:280                   :   '[' -f /opt/stack/devstack/lib/neutron_plugins/ml2 ']'
++ lib/neutron:source:281                   :   source /opt/stack/devstack/lib/neutron_plugins/ml2
++++ lib/neutron_plugins/ml2:source:7         :   set +o
++++ lib/neutron_plugins/ml2:source:7         :   grep xtrace
+++ lib/neutron_plugins/ml2:source:7         :   _XTRACE_NEUTRON_ML2='set -o xtrace'
+++ lib/neutron_plugins/ml2:source:8         :   set +o xtrace
++ lib/neutron:source:288                   :   source /opt/stack/devstack/lib/neutron_plugins/services/metering
++++ lib/neutron_plugins/services/metering:source:7 :   set +o
++++ lib/neutron_plugins/services/metering:source:7 :   grep xtrace
+++ lib/neutron_plugins/services/metering:source:7 :   _XTRACE_NETURON_METER='set -o xtrace'
+++ lib/neutron_plugins/services/metering:source:8 :   set +o xtrace
++ lib/neutron:source:291                   :   source /opt/stack/devstack/lib/neutron_plugins/services/l3
+++ lib/neutron_plugins/services/l3:source:3 :   IP_VERSION=4+6
+++ lib/neutron_plugins/services/l3:source:5 :   [[ 4+6 != \4 ]]
+++ lib/neutron_plugins/services/l3:source:5 :   [[ 4+6 != \6 ]]
+++ lib/neutron_plugins/services/l3:source:5 :   [[ 4+6 != \4\+\6 ]]
+++ lib/neutron_plugins/services/l3:source:9 :   NEUTRON_CREATE_INITIAL_NETWORKS=True
+++ lib/neutron_plugins/services/l3:source:12 :   PROVIDER_SUBNET_NAME=provider_net
+++ lib/neutron_plugins/services/l3:source:13 :   IPV6_PROVIDER_SUBNET_NAME=provider_net_v6
+++ lib/neutron_plugins/services/l3:source:14 :   IPV6_PROVIDER_FIXED_RANGE=
+++ lib/neutron_plugins/services/l3:source:15 :   IPV6_PROVIDER_NETWORK_GATEWAY=
+++ lib/neutron_plugins/services/l3:source:17 :   PUBLIC_BRIDGE=br-ex
+++ lib/neutron_plugins/services/l3:source:18 :   PUBLIC_BRIDGE_MTU=1500
+++ lib/neutron_plugins/services/l3:source:23 :   Q_ASSIGN_GATEWAY_TO_PUBLIC_BRIDGE=True
+++ lib/neutron_plugins/services/l3:source:26 :   Q_ROUTER_NAME=router1
+++ lib/neutron_plugins/services/l3:source:31 :   Q_USE_PUBLIC_VETH=False
+++ lib/neutron_plugins/services/l3:source:32 :   Q_PUBLIC_VETH_EX=veth-pub-ex
+++ lib/neutron_plugins/services/l3:source:33 :   Q_PUBLIC_VETH_INT=veth-pub-int
+++ lib/neutron_plugins/services/l3:source:39 :   Q_L3_ROUTER_PER_TENANT=True
+++ lib/neutron_plugins/services/l3:source:66 :   Q_USE_PROVIDERNET_FOR_PUBLIC=True
+++ lib/neutron_plugins/services/l3:source:67 :   PUBLIC_PHYSICAL_NETWORK=public
++++ lib/neutron_plugins/services/l3:source:70 :   uuidgen
++++ lib/neutron_plugins/services/l3:source:70 :   sed s/-//g
++++ lib/neutron_plugins/services/l3:source:70 :   cut -c 23-
++++ lib/neutron_plugins/services/l3:source:70 :   sed -e 's/\(..\)\(....\)\(....\)/\1:\2:\3/'
+++ lib/neutron_plugins/services/l3:source:70 :   IPV6_GLOBAL_ID=66:38b2:3a44
+++ lib/neutron_plugins/services/l3:source:73 :   IPV6_RA_MODE=slaac
+++ lib/neutron_plugins/services/l3:source:74 :   IPV6_ADDRESS_MODE=slaac
+++ lib/neutron_plugins/services/l3:source:75 :   IPV6_PUBLIC_SUBNET_NAME=ipv6-public-subnet
+++ lib/neutron_plugins/services/l3:source:76 :   IPV6_PRIVATE_SUBNET_NAME=ipv6-private-subnet
+++ lib/neutron_plugins/services/l3:source:77 :   IPV6_ADDRS_SAFE_TO_USE=fd66:38b2:3a44::/56
++++ lib/neutron_plugins/services/l3:source:80 :   echo fd66:38b2:3a44::/56
++++ lib/neutron_plugins/services/l3:source:80 :   awk -F / '{ print $1"/"($2>63 ? $2 : 64) }'
+++ lib/neutron_plugins/services/l3:source:80 :   FIXED_RANGE_V6=fd66:38b2:3a44::/64
+++ lib/neutron_plugins/services/l3:source:81 :   IPV6_PRIVATE_NETWORK_GATEWAY=
+++ lib/neutron_plugins/services/l3:source:82 :   IPV6_PUBLIC_RANGE=2001:db8::/64
+++ lib/neutron_plugins/services/l3:source:83 :   IPV6_PUBLIC_NETWORK_GATEWAY=2001:db8::2
+++ lib/neutron_plugins/services/l3:source:84 :   IPV6_ROUTER_GW_IP=2001:db8::1
+++ lib/neutron_plugins/services/l3:source:87 :   NETWORK_GATEWAY=
+++ lib/neutron_plugins/services/l3:source:88 :   PUBLIC_NETWORK_GATEWAY=
+++ lib/neutron_plugins/services/l3:source:89 :   PRIVATE_SUBNET_NAME=private-subnet
+++ lib/neutron_plugins/services/l3:source:90 :   PUBLIC_SUBNET_NAME=public-subnet
+++ lib/neutron_plugins/services/l3:source:93 :   USE_SUBNETPOOL=True
+++ lib/neutron_plugins/services/l3:source:94 :   SUBNETPOOL_NAME_V4=shared-default-subnetpool-v4
+++ lib/neutron_plugins/services/l3:source:95 :   SUBNETPOOL_NAME_V6=shared-default-subnetpool-v6
+++ lib/neutron_plugins/services/l3:source:97 :   SUBNETPOOL_PREFIX_V4=127.0.0.1/22
+++ lib/neutron_plugins/services/l3:source:98 :   SUBNETPOOL_PREFIX_V6=fd66:38b2:3a44::/56
+++ lib/neutron_plugins/services/l3:source:100 :   SUBNETPOOL_SIZE_V4=26
+++ lib/neutron_plugins/services/l3:source:101 :   SUBNETPOOL_SIZE_V6=64
++++ lib/neutron_plugins/services/l3:source:103 :   ip -4 route
++++ lib/neutron_plugins/services/l3:source:103 :   grep '^default'
++++ lib/neutron_plugins/services/l3:source:103 :   awk '{print $5}'
+++ lib/neutron_plugins/services/l3:source:103 :   default_v4_route_devs=eno1
++++ lib/neutron_plugins/services/l3:source:105 :   grep via
++++ lib/neutron_plugins/services/l3:source:105 :   ip -6 route list match default table all
++++ lib/neutron_plugins/services/l3:source:105 :   awk '{print $5}'
+++ lib/neutron_plugins/services/l3:source:105 :   default_v6_route_devs=
++ lib/neutron:source:294                   :   source /opt/stack/devstack/lib/neutron_plugins/services/placement
++ lib/neutron:source:295                   :   source /opt/stack/devstack/lib/neutron_plugins/services/trunk
++ lib/neutron:source:296                   :   source /opt/stack/devstack/lib/neutron_plugins/services/qos
++ lib/neutron:source:299                   :   has_neutron_plugin_security_group
++ lib/neutron_plugins/ml2:has_neutron_plugin_security_group:149 :   return 0
++ lib/neutron:source:300                   :   Q_USE_SECGROUP=True
+++ lib/neutron:source:306                   :   set +o
+++ lib/neutron:source:306                   :   grep xtrace
++ lib/neutron:source:306                   :   _XTRACE_NEUTRON='set -o xtrace'
++ lib/neutron:source:307                   :   set +o xtrace
+ ./stack.sh:main:618                      :   source /opt/stack/devstack/lib/ldap
+++ lib/ldap:source:11                       :   set +o
+++ lib/ldap:source:11                       :   grep xtrace
++ lib/ldap:source:11                       :   _XTRACE_LDAP='set -o xtrace'
++ lib/ldap:source:12                       :   set +o xtrace
+ ./stack.sh:main:619                      :   source /opt/stack/devstack/lib/dstat
+++ lib/dstat:source:17                      :   set +o
+++ lib/dstat:source:17                      :   grep xtrace
++ lib/dstat:source:17                      :   _XTRACE_DSTAT='set -o xtrace'
++ lib/dstat:source:18                      :   set +o xtrace
+ ./stack.sh:main:620                      :   source /opt/stack/devstack/lib/tcpdump
+++ lib/tcpdump:source:16                    :   set +o
+++ lib/tcpdump:source:16                    :   grep xtrace
++ lib/tcpdump:source:16                    :   _XTRACE_TCPDUMP='set -o xtrace'
++ lib/tcpdump:source:17                    :   set +o xtrace
+ ./stack.sh:main:621                      :   source /opt/stack/devstack/lib/etcd3
+++ lib/etcd3:source:19                      :   set +o
+++ lib/etcd3:source:19                      :   grep xtrace
++ lib/etcd3:source:19                      :   _XTRACE_ETCD3='set -o xtrace'
++ lib/etcd3:source:20                      :   set +o xtrace
+ ./stack.sh:main:622                      :   source /opt/stack/devstack/lib/os-vif
+++ lib/os-vif:source:12                     :   is_ml2_ovs
+++ lib/os-vif:is_ml2_ovs:4                  :   [[ ovn == \o\p\e\n\v\s\w\i\t\c\h ]]
+++ lib/os-vif:is_ml2_ovs:7                  :   echo False
++ lib/os-vif:source:12                     :   OS_VIF_OVS_ISOLATE_VIF=False
+++ lib/os-vif:source:13                     :   trueorfalse False OS_VIF_OVS_ISOLATE_VIF
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ lib/os-vif:source:13                     :   OS_VIF_OVS_ISOLATE_VIF=False
+ ./stack.sh:main:628                      :   run_phase source
+ functions-common:run_phase:1861          :   local mode=source
+ functions-common:run_phase:1862          :   local phase=
+ functions-common:run_phase:1863          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1864          :   local extra_plugin_file_name
+ functions-common:run_phase:1865          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1870          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1871          :   local extra
++ functions-common:run_phase:1872          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1872          :   extra=80-tempest.sh
+ functions-common:run_phase:1873          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1877          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1877          :   source /opt/stack/devstack/extras.d/80-tempest.sh source
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   grep xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ source == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:6          :   source /opt/stack/devstack/lib/tempest
++++ lib/tempest:source:40                    :   set +o
++++ lib/tempest:source:40                    :   grep xtrace
+++ lib/tempest:source:40                    :   _XTRACE_TEMPEST='set -o xtrace'
+++ lib/tempest:source:41                    :   set +o xtrace
++ extras.d/80-tempest.sh:source:27         :   [[ source == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ source == \c\l\e\a\n ]]
+ functions-common:run_phase:1882          :   [[ source == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1883          :   load_plugin_settings
+ functions-common:load_plugin_settings:1797 :   local plugins=
+ functions-common:load_plugin_settings:1798 :   local plugin
+ functions-common:load_plugin_settings:1801 :   [[ -z '' ]]
+ functions-common:load_plugin_settings:1802 :   return
+ functions-common:run_phase:1884          :   verify_disabled_services
+ functions-common:verify_disabled_services:2144 :   local service
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,key, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,n-api, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,n-cpu, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,n-cond, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,n-sch, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,n-novnc, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,n-api-meta, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,placement-api, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,placement-client, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,g-api, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,c-sch, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,c-api, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,c-vol, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,ovn-controller, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,ovn-northd, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,ovs-vswitchd, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,ovsdb-server, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,q-svc, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,q-ovn-metadata-agent, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,horizon, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,rabbit, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,tempest, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,mysql, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,etcd3, ]]
+ functions-common:verify_disabled_services:2145 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2146 :   [[ ,, =~ ,dstat, ]]
+ ./stack.sh:main:699                      :   initialize_database_backends
+ lib/database:initialize_database_backends:65 :   for backend in $DATABASE_BACKENDS
+ lib/database:initialize_database_backends:66 :   is_service_enabled mysql
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/database:initialize_database_backends:66 :   DATABASE_TYPE=mysql
+ lib/database:initialize_database_backends:65 :   for backend in $DATABASE_BACKENDS
+ lib/database:initialize_database_backends:66 :   is_service_enabled postgresql
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/database:initialize_database_backends:69 :   '[' -z mysql ']'
+ lib/database:initialize_database_backends:73 :   MYSQL_HOST=127.0.0.1
+ lib/database:initialize_database_backends:74 :   MYSQL_USER=root
+ lib/database:initialize_database_backends:80 :   [[ 4 == 6 ]]
+ lib/database:initialize_database_backends:83 :   DATABASE_HOST=127.0.0.1
+ lib/database:initialize_database_backends:86 :   DATABASE_USER=root
+ lib/database:initialize_database_backends:88 :   '[' -n '' ']'
+ lib/database:initialize_database_backends:92 :   return 0
+ ./stack.sh:main:700                      :   echo 'Using mysql database backend'
Using mysql database backend
+ ./stack.sh:main:703                      :   read_password DATABASE_PASSWORD 'ENTER A PASSWORD TO USE FOR THE DATABASE.'
+ ./stack.sh:read_password:638             :   local xtrace
++ ./stack.sh:read_password:639             :   set +o
++ ./stack.sh:read_password:639             :   grep xtrace
+ ./stack.sh:read_password:639             :   xtrace='set -o xtrace'
+ ./stack.sh:read_password:640             :   set +o xtrace
+ ./stack.sh:main:705                      :   define_database_baseurl
++ lib/database:define_database_baseurl:106 :   get_database_type_mysql
++ lib/databases/mysql:get_database_type_mysql:38 :   [[ PyMySQL == \P\y\M\y\S\Q\L ]]
++ lib/databases/mysql:get_database_type_mysql:39 :   echo mysql+pymysql
+ lib/database:define_database_baseurl:106 :   BASE_SQL_CONN=mysql+pymysql://root:****@127.0.0.1
+ ./stack.sh:main:717                      :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./stack.sh:main:718                      :   read_password RABBIT_PASSWORD 'ENTER A PASSWORD TO USE FOR RABBIT.'
+ ./stack.sh:read_password:638             :   local xtrace
++ ./stack.sh:read_password:639             :   set +o
++ ./stack.sh:read_password:639             :   grep xtrace
+ ./stack.sh:read_password:639             :   xtrace='set -o xtrace'
+ ./stack.sh:read_password:640             :   set +o xtrace
+ ./stack.sh:main:725                      :   is_service_enabled keystone
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./stack.sh:main:727                      :   read_password SERVICE_PASSWORD 'ENTER A SERVICE_PASSWORD TO USE FOR THE SERVICE AUTHENTICATION.'
+ ./stack.sh:read_password:638             :   local xtrace
++ ./stack.sh:read_password:639             :   set +o
++ ./stack.sh:read_password:639             :   grep xtrace
+ ./stack.sh:read_password:639             :   xtrace='set -o xtrace'
+ ./stack.sh:read_password:640             :   set +o xtrace
+ ./stack.sh:main:729                      :   read_password ADMIN_PASSWORD 'ENTER A PASSWORD TO USE FOR HORIZON AND KEYSTONE (20 CHARS OR LESS).'
+ ./stack.sh:read_password:638             :   local xtrace
++ ./stack.sh:read_password:639             :   set +o
++ ./stack.sh:read_password:639             :   grep xtrace
+ ./stack.sh:read_password:639             :   xtrace='set -o xtrace'
+ ./stack.sh:read_password:640             :   set +o xtrace
+ ./stack.sh:main:740                      :   is_service_enabled ldap
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ ./stack.sh:main:749                      :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ ./stack.sh:main:761                      :   save_stackenv 761
+ functions-common:save_stackenv:60        :   local tag=761
++ functions-common:save_stackenv:62        :   date +%F-%H%M%S
+ functions-common:save_stackenv:62        :   time_stamp=2022-12-24-090444
+ functions-common:save_stackenv:63        :   echo '# 2022-12-24-090444 761'
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo BASE_SQL_CONN=mysql+pymysql://root:****@127.0.0.1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo DATA_DIR=/opt/stack/data
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo DEST=/opt/stack
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo ENABLED_SERVICES=key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo HOST_IP=127.0.0.1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo KEYSTONE_SERVICE_URI=http://127.0.0.1/identity
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo LOGFILE=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo OS_CACERT=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo SERVICE_HOST=127.0.0.1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo STACK_USER=stack
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TLS_IP=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo HOST_IPV6=::1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo SERVICE_IP_VERSION=4
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TUNNEL_ENDPOINT_IP=127.0.0.1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TUNNEL_IP_VERSION=4
+ ./stack.sh:main:774                      :   GIT_DEPTH=0
+ ./stack.sh:main:774                      :   git_clone https://opendev.org/openstack/requirements.git /opt/stack/requirements master
+ functions-common:git_clone:612           :   local git_remote=https://opendev.org/openstack/requirements.git
+ functions-common:git_clone:613           :   local git_dest=/opt/stack/requirements
+ functions-common:git_clone:614           :   local git_ref=master
+ functions-common:git_clone:615           :   local orig_dir
++ functions-common:git_clone:616           :   pwd
+ functions-common:git_clone:616           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:617           :   local git_clone_flags=
++ functions-common:git_clone:619           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   set +o
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:619           :   RECLONE=False
+ functions-common:git_clone:620           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:624           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:633           :   echo master
+ functions-common:git_clone:633           :   egrep -q '^refs'
+ functions-common:git_clone:647           :   [[ ! -d /opt/stack/requirements ]]
+ functions-common:git_clone:648           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:654           :   git_timed clone https://opendev.org/openstack/requirements.git /opt/stack/requirements --branch master
+ functions-common:git_timed:718           :   local count=0
+ functions-common:git_timed:719           :   local timeout=0
+ functions-common:git_timed:721           :   [[ -n 0 ]]
+ functions-common:git_timed:722           :   timeout=0
+ functions-common:git_timed:725           :   time_start git_timed
+ functions-common:time_start:2419         :   local name=git_timed
+ functions-common:time_start:2420         :   local start_time=
+ functions-common:time_start:2421         :   [[ -n '' ]]
++ functions-common:time_start:2424         :   date +%s%3N
+ functions-common:time_start:2424         :   _TIME_START[$name]=1671852884636
+ functions-common:git_timed:726           :   timeout -s SIGINT 0 git clone https://opendev.org/openstack/requirements.git /opt/stack/requirements --branch master
Cloning into '/opt/stack/requirements'...
+ functions-common:git_timed:740           :   time_stop git_timed
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=git_timed
+ functions-common:time_stop:2440          :   start_time=1671852884636
+ functions-common:time_stop:2442          :   [[ -z 1671852884636 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671852906230
+ functions-common:time_stop:2446          :   elapsed_time=21594
+ functions-common:time_stop:2447          :   total=0
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=21594
+ functions-common:git_clone:690           :   sudo git config --system --add safe.directory /opt/stack/requirements
+ functions-common:git_clone:693           :   cd /opt/stack/requirements
+ functions-common:git_clone:694           :   git show --oneline
+ functions-common:git_clone:694           :   head -1
90da966b update constraint for python-cinderclient to new release 9.2.0
+ functions-common:git_clone:695           :   cd /opt/stack/devstack
+ ./stack.sh:main:778                      :   echo_summary 'Installing package prerequisites'
+ ./stack.sh:echo_summary:444              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:450              :   echo -e Installing package prerequisites
2022-12-24 03:35:06.279 | Installing package prerequisites
+ ./stack.sh:main:779                      :   source /opt/stack/devstack/tools/install_prereqs.sh
++ tools/install_prereqs.sh:source:11       :   FORCE_PREREQ=0
++ tools/install_prereqs.sh:source:13       :   getopts :f opt
++ tools/install_prereqs.sh:source:23       :   [[ -z /opt/stack/devstack ]]
++ tools/install_prereqs.sh:source:43       :   PREREQ_RERUN_MARKER=/opt/stack/devstack/.prereqs
++ tools/install_prereqs.sh:source:44       :   PREREQ_RERUN_HOURS=2
++ tools/install_prereqs.sh:source:45       :   PREREQ_RERUN_SECONDS=7200
+++ tools/install_prereqs.sh:source:47       :   date +%s
++ tools/install_prereqs.sh:source:47       :   NOW=1671852906
+++ tools/install_prereqs.sh:source:48       :   head -1 /opt/stack/devstack/.prereqs
+++ tools/install_prereqs.sh:source:48       :   echo 0
++ tools/install_prereqs.sh:source:48       :   LAST_RUN=0
++ tools/install_prereqs.sh:source:49       :   DELTA=1671852906
++ tools/install_prereqs.sh:source:50       :   [[ 1671852906 -lt 7200 ]]
++ tools/install_prereqs.sh:source:57       :   export_proxy_variables
++ functions-common:export_proxy_variables:2251 :   isset http_proxy
++ functions-common:isset:240               :   [[ -v http_proxy ]]
++ functions-common:export_proxy_variables:2254 :   isset https_proxy
++ functions-common:isset:240               :   [[ -v https_proxy ]]
++ functions-common:export_proxy_variables:2257 :   isset no_proxy
++ functions-common:isset:240               :   [[ -v no_proxy ]]
+++ tools/install_prereqs.sh:source:64       :   get_packages general,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat
+++ functions-common:get_packages:1305       :   local xtrace
++++ functions-common:get_packages:1306       :   set +o
++++ functions-common:get_packages:1306       :   grep xtrace
+++ functions-common:get_packages:1306       :   xtrace='set -o xtrace'
+++ functions-common:get_packages:1307       :   set +o xtrace
++ tools/install_prereqs.sh:source:64       :   PACKAGES='apache2
apache2-dev
bc
bsdmainutils
curl
g++
gawk
gcc
gettext  
git
graphviz 
iputils-ping
libapache2-mod-proxy-uwsgi
libffi-dev 
libjpeg-dev 
libpcre3-dev 
libpq-dev  
libssl-dev 
libsystemd-dev 
libxml2-dev  
libxslt1-dev  
libyaml-dev
lsof 
openssh-server
openssl
pkg-config
psmisc
python3-dev
python3-pip
python3-systemd
python3-venv
tar
tcpdump
unzip
uuid-runtime
wget
wget
zlib1g-dev
libkrb5-dev
libldap2-dev
libsasl2-dev
memcached
python3-mysqldb
sqlite3
conntrack
curl
ebtables
genisoimage 
iptables
iputils-arping
kpartx
libjs-jquery-tablesorter 
parted
pm-utils
python3-mysqldb
socat 
sqlite3
sudo
vlan
lsscsi
open-iscsi
cryptsetup
dosfstools
genisoimage
gir1.2-libosinfo-1.0
netcat-openbsd
open-iscsi
qemu-utils
sg3-utils
sysfsutils
lvm2
qemu-utils
thin-provisioning-tools
acl
dnsmasq-base
dnsmasq-utils 
ebtables
haproxy 
iptables
iputils-arping
iputils-ping
postgresql-server-dev-all
python3-mysqldb
sqlite3
sudo
vlan
pcp'
+++ tools/install_prereqs.sh:source:65       :   get_plugin_packages
+++ functions-common:get_plugin_packages:1388 :   local xtrace
++++ functions-common:get_plugin_packages:1389 :   set +o
++++ functions-common:get_plugin_packages:1389 :   grep xtrace
+++ functions-common:get_plugin_packages:1389 :   xtrace='set -o xtrace'
+++ functions-common:get_plugin_packages:1390 :   set +o xtrace
++ tools/install_prereqs.sh:source:65       :   PACKAGES='apache2
apache2-dev
bc
bsdmainutils
curl
g++
gawk
gcc
gettext  
git
graphviz 
iputils-ping
libapache2-mod-proxy-uwsgi
libffi-dev 
libjpeg-dev 
libpcre3-dev 
libpq-dev  
libssl-dev 
libsystemd-dev 
libxml2-dev  
libxslt1-dev  
libyaml-dev
lsof 
openssh-server
openssl
pkg-config
psmisc
python3-dev
python3-pip
python3-systemd
python3-venv
tar
tcpdump
unzip
uuid-runtime
wget
wget
zlib1g-dev
libkrb5-dev
libldap2-dev
libsasl2-dev
memcached
python3-mysqldb
sqlite3
conntrack
curl
ebtables
genisoimage 
iptables
iputils-arping
kpartx
libjs-jquery-tablesorter 
parted
pm-utils
python3-mysqldb
socat 
sqlite3
sudo
vlan
lsscsi
open-iscsi
cryptsetup
dosfstools
genisoimage
gir1.2-libosinfo-1.0
netcat-openbsd
open-iscsi
qemu-utils
sg3-utils
sysfsutils
lvm2
qemu-utils
thin-provisioning-tools
acl
dnsmasq-base
dnsmasq-utils 
ebtables
haproxy 
iptables
iputils-arping
iputils-ping
postgresql-server-dev-all
python3-mysqldb
sqlite3
sudo
vlan
pcp '
++ tools/install_prereqs.sh:source:67       :   is_ubuntu
++ functions-common:is_ubuntu:575           :   [[ -z deb ]]
++ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
++ tools/install_prereqs.sh:source:67       :   grep -q dkms
++ tools/install_prereqs.sh:source:67       :   echo apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan lsscsi open-iscsi cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils lvm2 qemu-utils thin-provisioning-tools acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan pcp
++ tools/install_prereqs.sh:source:72       :   install_package apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan lsscsi open-iscsi cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils lvm2 qemu-utils thin-provisioning-tools acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan pcp
++ functions-common:install_package:1457    :   update_package_repo
++ functions-common:update_package_repo:1429 :   NO_UPDATE_REPOS=False
++ functions-common:update_package_repo:1430 :   REPOS_UPDATED=False
++ functions-common:update_package_repo:1431 :   RETRY_UPDATE=False
++ functions-common:update_package_repo:1433 :   [[ False = \T\r\u\e ]]
++ functions-common:update_package_repo:1437 :   is_ubuntu
++ functions-common:is_ubuntu:575           :   [[ -z deb ]]
++ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
++ functions-common:update_package_repo:1438 :   apt_get_update
++ functions-common:apt_get_update:1183     :   [[ False == \T\r\u\e ]]
++ functions-common:apt_get_update:1188     :   [[ False = \T\r\u\e ]]
++ functions-common:apt_get_update:1190     :   local sudo=sudo
+++ functions-common:apt_get_update:1191     :   id -u
++ functions-common:apt_get_update:1191     :   [[ 1001 = \0 ]]
++ functions-common:apt_get_update:1194     :   time_start apt-get-update
++ functions-common:time_start:2419         :   local name=apt-get-update
++ functions-common:time_start:2420         :   local start_time=
++ functions-common:time_start:2421         :   [[ -n '' ]]
+++ functions-common:time_start:2424         :   date +%s%3N
++ functions-common:time_start:2424         :   _TIME_START[$name]=1671852906495
++ functions-common:apt_get_update:1196     :   local 'proxies=http_proxy= https_proxy= no_proxy= '
++ functions-common:apt_get_update:1197     :   local 'update_cmd=sudo http_proxy= https_proxy= no_proxy=  apt-get update'
++ functions-common:apt_get_update:1198     :   timeout 300 sh -c 'while ! sudo http_proxy= https_proxy= no_proxy=  apt-get update; do sleep 30; done'
Hit:1 http://in.archive.ubuntu.com/ubuntu focal InRelease
Hit:2 http://ppa.launchpad.net/deadsnakes/ppa/ubuntu focal InRelease
Get:3 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Get:4 http://in.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Get:5 http://security.ubuntu.com/ubuntu focal-security/main amd64 DEP-11 Metadata [40.7 kB]
Get:6 http://in.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
Get:7 http://security.ubuntu.com/ubuntu focal-security/universe amd64 DEP-11 Metadata [93.8 kB]
Get:8 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 DEP-11 Metadata [940 B]
Get:9 http://in.archive.ubuntu.com/ubuntu focal-updates/main amd64 DEP-11 Metadata [274 kB]
Get:10 http://in.archive.ubuntu.com/ubuntu focal-updates/universe amd64 DEP-11 Metadata [408 kB]
Get:11 http://in.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 DEP-11 Metadata [940 B]
Get:12 http://in.archive.ubuntu.com/ubuntu focal-backports/main amd64 DEP-11 Metadata [7,960 B]
Get:13 http://in.archive.ubuntu.com/ubuntu focal-backports/universe amd64 DEP-11 Metadata [30.5 kB]
Fetched 1,193 kB in 5s (234 kB/s)
Reading package lists...
++ functions-common:apt_get_update:1202     :   REPOS_UPDATED=True
++ functions-common:apt_get_update:1204     :   time_stop apt-get-update
++ functions-common:time_stop:2433          :   local name
++ functions-common:time_stop:2434          :   local end_time
++ functions-common:time_stop:2435          :   local elapsed_time
++ functions-common:time_stop:2436          :   local total
++ functions-common:time_stop:2437          :   local start_time
++ functions-common:time_stop:2439          :   name=apt-get-update
++ functions-common:time_stop:2440          :   start_time=1671852906495
++ functions-common:time_stop:2442          :   [[ -z 1671852906495 ]]
+++ functions-common:time_stop:2445          :   date +%s%3N
++ functions-common:time_stop:2445          :   end_time=1671852915159
++ functions-common:time_stop:2446          :   elapsed_time=8664
++ functions-common:time_stop:2447          :   total=0
++ functions-common:time_stop:2449          :   _TIME_START[$name]=
++ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=8664
++ functions-common:install_package:1458    :   real_install_package apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan lsscsi open-iscsi cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils lvm2 qemu-utils thin-provisioning-tools acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan pcp
++ functions-common:real_install_package:1443 :   is_ubuntu
++ functions-common:is_ubuntu:575           :   [[ -z deb ]]
++ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
++ functions-common:real_install_package:1444 :   apt_get install apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan lsscsi open-iscsi cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils lvm2 qemu-utils thin-provisioning-tools acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan pcp
++ functions-common:apt_get:1211            :   local xtrace result
+++ functions-common:apt_get:1212            :   set +o
+++ functions-common:apt_get:1212            :   grep xtrace
++ functions-common:apt_get:1212            :   xtrace='set -o xtrace'
++ functions-common:apt_get:1213            :   set +o xtrace
++ functions-common:apt_get:1224            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan lsscsi open-iscsi cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils lvm2 qemu-utils thin-provisioning-tools acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan pcp
Reading package lists...
Building dependency tree...
Reading state information...
acl is already the newest version (2.2.53-6).
bc is already the newest version (1.07.1-2build1).
bsdmainutils is already the newest version (11.1.2ubuntu3).
conntrack is already the newest version (1:1.4.5-2).
dosfstools is already the newest version (4.1-2).
ebtables is already the newest version (2.0.11-3build1).
g++ is already the newest version (4:9.3.0-1ubuntu2).
gawk is already the newest version (1:5.0.1+dfsg-1).
gcc is already the newest version (4:9.3.0-1ubuntu2).
genisoimage is already the newest version (9:1.1.11-3.1ubuntu1).
gettext is already the newest version (127.0.0.1-10build1).
iptables is already the newest version (1.8.4-3ubuntu2).
iputils-arping is already the newest version (3:20190709-3).
iputils-ping is already the newest version (3:20190709-3).
libffi-dev is already the newest version (3.3-4).
libjpeg-dev is already the newest version (8c-2ubuntu8).
libyaml-dev is already the newest version (0.2.2-1).
lsscsi is already the newest version (0.30-0.1).
lvm2 is already the newest version (2.03.07-1ubuntu1).
netcat-openbsd is already the newest version (1.206-1ubuntu1).
pkg-config is already the newest version (0.29.1-0ubuntu4).
psmisc is already the newest version (23.3-1).
python3-dev is already the newest version (3.8.2-0ubuntu2).
python3-systemd is already the newest version (234-3build2).
sg3-utils is already the newest version (1.44-1ubuntu2).
socat is already the newest version (127.0.0.1-2).
sysfsutils is already the newest version (2.1.0+repack-6).
thin-provisioning-tools is already the newest version (0.8.5-4build1).
gir1.2-libosinfo-1.0 is already the newest version (1.7.1-1).
graphviz is already the newest version (2.42.2-3build2).
libjs-jquery-tablesorter is already the newest version (1:2.31.1+dfsg1-1).
pcp is already the newest version (5.0.3-1).
pm-utils is already the newest version (1.4.1-19).
python3-venv is already the newest version (3.8.2-0ubuntu2).
apache2 is already the newest version (2.4.41-4ubuntu3.12).
apache2-dev is already the newest version (2.4.41-4ubuntu3.12).
cryptsetup is already the newest version (2:2.2.2-3ubuntu2.4).
curl is already the newest version (7.68.0-1ubuntu2.14).
dnsmasq-base is already the newest version (2.80-1.1ubuntu1.6).
dnsmasq-utils is already the newest version (2.80-1.1ubuntu1.6).
git is already the newest version (1:2.25.1-1ubuntu3.6).
haproxy is already the newest version (2.0.29-0ubuntu1).
kpartx is already the newest version (0.8.3-1ubuntu2.1).
libkrb5-dev is already the newest version (1.17-6ubuntu4.1).
libldap2-dev is already the newest version (2.4.49+dfsg-2ubuntu1.9).
libpcre3-dev is already the newest version (2:8.39-12ubuntu0.1).
libpq-dev is already the newest version (12.12-0ubuntu127.0.0.1).
libsasl2-dev is already the newest version (2.1.27+dfsg-2ubuntu0.1).
libssl-dev is already the newest version (1.1.1f-1ubuntu2.16).
libsystemd-dev is already the newest version (245.4-4ubuntu3.19).
libxml2-dev is already the newest version (2.9.10+dfsg-5ubuntu127.0.0.1).
libxslt1-dev is already the newest version (1.1.34-4ubuntu127.0.0.1).
lsof is already the newest version (4.93.2+dfsg-1ubuntu127.0.0.1).
memcached is already the newest version (1.5.22-2ubuntu0.2).
open-iscsi is already the newest version (2.0.874-7.1ubuntu6.2).
openssh-server is already the newest version (1:8.2p1-4ubuntu0.5).
openssl is already the newest version (1.1.1f-1ubuntu2.16).
parted is already the newest version (3.3-4ubuntu127.0.0.1).
qemu-utils is already the newest version (1:4.2-3ubuntu6.24).
sqlite3 is already the newest version (3.31.1-4ubuntu0.5).
sudo is already the newest version (1.8.31-1ubuntu1.2).
tar is already the newest version (1.30+dfsg-7ubuntu127.0.0.1).
tcpdump is already the newest version (4.9.3-4ubuntu0.1).
unzip is already the newest version (6.0-25ubuntu1.1).
uuid-runtime is already the newest version (2.34-0.1ubuntu9.3).
wget is already the newest version (1.20.3-1ubuntu2).
zlib1g-dev is already the newest version (1:1.2.11.dfsg-2ubuntu1.5).
libapache2-mod-proxy-uwsgi is already the newest version (2.4.41-4ubuntu3.12).
postgresql-server-dev-all is already the newest version (214ubuntu0.1).
python3-pip is already the newest version (20.0.2-5ubuntu1.6).
vlan is already the newest version (2.0.4ubuntu127.0.0.1).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcgi-fast-perl libcgi-pm-perl libcolord-gtk1 libcolorhug2
  libevent-core-2.1-7 libevent-pthreads-2.1-7 libfcgi-perl libgsound0
  libgssdp-1.2-0 libgupnp-1.2-0 libgupnp-av-1.0-2 libgupnp-dlna-2.0-3
  libhtml-template-perl libieee1284-3 libimagequant0 libmecab2
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3 locales-all
  mecab-ipadic mecab-ipadic-utf8 mecab-utils mobile-broadband-provider-info
  network-manager-gnome printer-driver-postscript-hp python3-macaroonbakery
  python3-olefile python3-pil python3-protobuf python3-pymacaroons
  python3-renderpm python3-reportlab python3-reportlab-accel python3-rfc3339
  python3-tz rygel
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  libmysqlclient21 mysql-common
Suggested packages:
  default-mysql-server | virtual-mysql-server python3-mysqldb-dbg
The following NEW packages will be installed:
  libmysqlclient21 mysql-common python3-mysqldb
0 upgraded, 3 newly installed, 0 to remove and 206 not upgraded.
Need to get 0 B/1,379 kB of archives.
After this operation, 7,946 kB of additional disk space will be used.
Selecting previously unselected package mysql-common.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 308527 files and directories currently installed.)
Preparing to unpack .../mysql-common_5.8+1.0.5ubuntu2_all.deb ...
Unpacking mysql-common (5.8+1.0.5ubuntu2) ...
Selecting previously unselected package libmysqlclient21:amd64.
Preparing to unpack .../libmysqlclient21_8.0.31-0ubuntu127.0.0.1_amd64.deb ...
Unpacking libmysqlclient21:amd64 (8.0.31-0ubuntu127.0.0.1) ...
Selecting previously unselected package python3-mysqldb.
Preparing to unpack .../python3-mysqldb_1.4.4-2build1_amd64.deb ...
Unpacking python3-mysqldb (1.4.4-2build1) ...
Setting up mysql-common (5.8+1.0.5ubuntu2) ...
update-alternatives: using /etc/mysql/my.cnf.fallback to provide /etc/mysql/my.cnf (my.cnf) in auto mode
Setting up libmysqlclient21:amd64 (8.0.31-0ubuntu127.0.0.1) ...
Setting up python3-mysqldb (1.4.4-2build1) ...
Processing triggers for libc-bin (2.31-0ubuntu9.7) ...
++ functions-common:apt_get:1228            :   result=0
++ functions-common:apt_get:1231            :   time_stop apt-get
++ functions-common:time_stop:2433          :   local name
++ functions-common:time_stop:2434          :   local end_time
++ functions-common:time_stop:2435          :   local elapsed_time
++ functions-common:time_stop:2436          :   local total
++ functions-common:time_stop:2437          :   local start_time
++ functions-common:time_stop:2439          :   name=apt-get
++ functions-common:time_stop:2440          :   start_time=1671852915208
++ functions-common:time_stop:2442          :   [[ -z 1671852915208 ]]
+++ functions-common:time_stop:2445          :   date +%s%3N
++ functions-common:time_stop:2445          :   end_time=1671852931471
++ functions-common:time_stop:2446          :   elapsed_time=16263
++ functions-common:time_stop:2447          :   total=612
++ functions-common:time_stop:2449          :   _TIME_START[$name]=
++ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=16875
++ functions-common:apt_get:1232            :   return 0
++ tools/install_prereqs.sh:source:74       :   [[ -n False ]]
++ tools/install_prereqs.sh:source:74       :   [[ False != \F\a\l\s\e ]]
++ tools/install_prereqs.sh:source:88       :   date +%s
++ tools/install_prereqs.sh:source:89       :   date
+ ./stack.sh:main:794                      :   [[ False != \T\r\u\e ]]
+ ./stack.sh:main:795                      :   PYPI_ALTERNATIVE_URL=
+ ./stack.sh:main:795                      :   /opt/stack/devstack/tools/install_pip.sh
+ tools/install_pip.sh:main:25             :   FILES=/opt/stack/devstack/files
+ tools/install_pip.sh:main:40             :   PIP_GET_PIP_URL=https://bootstrap.pypa.io/get-pip.py
+ tools/install_pip.sh:main:41             :   PIP_GET_PIP36_URL=https://bootstrap.pypa.io/pip/3.6/get-pip.py
+ tools/install_pip.sh:main:43             :   GetDistro
+ functions-common:GetDistro:449           :   GetOSVersion
+ functions-common:GetOSVersion:416        :   source /etc/os-release
++ /etc/os-release:source:1                 :   NAME=Ubuntu
++ /etc/os-release:source:2                 :   VERSION='20.04.2 LTS (Focal Fossa)'
++ /etc/os-release:source:3                 :   ID=ubuntu
++ /etc/os-release:source:4                 :   ID_LIKE=debian
++ /etc/os-release:source:5                 :   PRETTY_NAME='Ubuntu 20.04.2 LTS'
++ /etc/os-release:source:6                 :   VERSION_ID=20.04
++ /etc/os-release:source:7                 :   HOME_URL=https://www.ubuntu.com/
++ /etc/os-release:source:8                 :   SUPPORT_URL=https://help.ubuntu.com/
++ /etc/os-release:source:9                 :   BUG_REPORT_URL=https://bugs.launchpad.net/ubuntu/
++ /etc/os-release:source:10                :   PRIVACY_POLICY_URL=https://www.ubuntu.com/legal/terms-and-policies/privacy-policy
++ /etc/os-release:source:11                :   VERSION_CODENAME=focal
++ /etc/os-release:source:12                :   UBUNTU_CODENAME=focal
+ functions-common:GetOSVersion:417        :   [[ ubuntu20.04.2 LTS (Focal Fossa) == \c\e\n\t\o\s\9 ]]
+ functions-common:GetOSVersion:421        :   [[ ubuntu20.04.2 LTS (Focal Fossa) =~ rocky9 ]]
+ functions-common:GetOSVersion:425        :   _ensure_lsb_release
++ functions-common:_ensure_lsb_release:393 :   command -v lsb_release
+ functions-common:_ensure_lsb_release:393 :   [[ -x /usr/bin/lsb_release ]]
+ functions-common:_ensure_lsb_release:394 :   return
++ functions-common:GetOSVersion:427        :   lsb_release -r -s
+ functions-common:GetOSVersion:427        :   os_RELEASE=20.04
++ functions-common:GetOSVersion:428        :   lsb_release -c -s
+ functions-common:GetOSVersion:428        :   os_CODENAME=focal
++ functions-common:GetOSVersion:429        :   lsb_release -i -s
+ functions-common:GetOSVersion:429        :   os_VENDOR=Ubuntu
+ functions-common:GetOSVersion:432        :   [[ Ubuntu =~ (Debian|Ubuntu) ]]
+ functions-common:GetOSVersion:433        :   os_PACKAGE=deb
+ functions-common:GetOSVersion:438        :   typeset -xr os_VENDOR
+ functions-common:GetOSVersion:439        :   typeset -xr os_RELEASE
+ functions-common:GetOSVersion:440        :   typeset -xr os_PACKAGE
+ functions-common:GetOSVersion:441        :   typeset -xr os_CODENAME
+ functions-common:GetDistro:450           :   [[ Ubuntu =~ (Ubuntu) ]]
+ functions-common:GetDistro:453           :   DISTRO=focal
+ functions-common:GetDistro:501           :   typeset -xr DISTRO
+ tools/install_pip.sh:main:44             :   echo 'Distro: focal'
Distro: focal
+ tools/install_pip.sh:main:124            :   get_versions
++ tools/install_pip.sh:get_versions:49     :   which pip
+ tools/install_pip.sh:get_versions:49     :   PIP=/usr/bin/pip
+ tools/install_pip.sh:get_versions:50     :   [[ -n /usr/bin/pip ]]
++ tools/install_pip.sh:get_versions:51     :   /usr/bin/pip --version
++ tools/install_pip.sh:get_versions:51     :   awk '{ print $2}'
+ tools/install_pip.sh:get_versions:51     :   PIP_VERSION=20.0.2
+ tools/install_pip.sh:get_versions:52     :   echo 'pip: 20.0.2'
pip: 20.0.2
+ tools/install_pip.sh:main:126            :   [[ -n '' ]]
+ tools/install_pip.sh:main:130            :   is_fedora
+ functions-common:is_fedora:525           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:529           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:529           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:530           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:531           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:532           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:533           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:534           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:534           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:535           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:536           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:536           :   '[' Ubuntu = Virtuozzo ']'
+ tools/install_pip.sh:main:141            :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ tools/install_pip.sh:main:144            :   sed -i -e /setuptools/d /opt/stack/requirements/upper-constraints.txt
+ tools/install_pip.sh:main:153            :   set -x
+ tools/install_pip.sh:main:156            :   get_versions
++ tools/install_pip.sh:get_versions:49     :   which pip
+ tools/install_pip.sh:get_versions:49     :   PIP=/usr/bin/pip
+ tools/install_pip.sh:get_versions:50     :   [[ -n /usr/bin/pip ]]
++ tools/install_pip.sh:get_versions:51     :   awk '{ print $2}'
++ tools/install_pip.sh:get_versions:51     :   /usr/bin/pip --version
+ tools/install_pip.sh:get_versions:51     :   PIP_VERSION=20.0.2
+ tools/install_pip.sh:get_versions:52     :   echo 'pip: 20.0.2'
pip: 20.0.2
+ ./stack.sh:main:799                      :   source /opt/stack/devstack/tools/fixup_stuff.sh
++ tools/fixup_stuff.sh:source:12           :   [[ -z /opt/stack/devstack ]]
+ ./stack.sh:main:800                      :   fixup_all
+ tools/fixup_stuff.sh:fixup_all:157       :   fixup_ubuntu
+ tools/fixup_stuff.sh:fixup_ubuntu:141    :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ tools/fixup_stuff.sh:fixup_ubuntu:151    :   sudo rm -rf '/usr/lib/python3/dist-packages/PyYAML-*.egg-info'
+ tools/fixup_stuff.sh:fixup_ubuntu:152    :   sudo rm -rf '/usr/lib/python3/dist-packages/pyasn1_modules-*.egg-info'
+ tools/fixup_stuff.sh:fixup_ubuntu:153    :   sudo rm -rf '/usr/lib/python3/dist-packages/simplejson-*.egg-info'
+ tools/fixup_stuff.sh:fixup_all:158       :   fixup_fedora
+ tools/fixup_stuff.sh:fixup_fedora:33     :   is_fedora
+ functions-common:is_fedora:525           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:529           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:529           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:530           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:531           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:532           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:533           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:534           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:534           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:535           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:536           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:536           :   '[' Ubuntu = Virtuozzo ']'
+ tools/fixup_stuff.sh:fixup_fedora:34     :   return
+ tools/fixup_stuff.sh:fixup_all:159       :   fixup_suse
+ tools/fixup_stuff.sh:fixup_suse:94       :   is_suse
+ functions-common:is_suse:544             :   is_opensuse
+ functions-common:is_opensuse:551         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:555         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:544             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:563 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:567 :   [[ Ubuntu =~ (^SUSE) ]]
+ tools/fixup_stuff.sh:fixup_suse:95       :   return
+ ./stack.sh:main:803                      :   pip_install -U os-testr
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install os-testr
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -U os-testr
Requirement already up-to-date: os-testr===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 447)) (3.0.0)
Requirement already up-to-date: python-subunit===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 177)) (1.4.0)
Requirement already up-to-date: pbr===5.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 45)) (5.11.0)
Requirement already up-to-date: testtools===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 351)) (2.5.0)
Requirement already up-to-date: extras===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 161)) (1.0.0)
Requirement already up-to-date: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 61)) (4.0.1)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671852933840
+ functions-common:time_stop:2442          :   [[ -z 1671852933840 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671852937571
+ functions-common:time_stop:2446          :   elapsed_time=3731
+ functions-common:time_stop:2447          :   total=0
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=3731
+ inc/python:pip_install:199               :   return 0
+ ./stack.sh:main:807                      :   iniset -sudo /etc/systemd/journald.conf Journal RateLimitBurst 0
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ ./stack.sh:main:808                      :   sudo systemctl restart systemd-journald
+ ./stack.sh:main:814                      :   install_infra
+ lib/infra:install_infra:31               :   local PIP_VIRTUAL_ENV=/opt/stack/requirements/.venv
+ lib/infra:install_infra:32               :   '[' '!' -d /opt/stack/requirements/.venv ']'
+ lib/infra:install_infra:32               :   python3 -m venv /opt/stack/requirements/.venv
+ lib/infra:install_infra:34               :   PIP_VIRTUAL_ENV=/opt/stack/requirements/.venv
+ lib/infra:install_infra:34               :   pip_install -U pbr
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
+ inc/python:pip_install:190               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/requirements/.venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt -U pbr
Collecting pbr===5.11.0
  Using cached pbr-5.11.0-py2.py3-none-any.whl (112 kB)
Installing collected packages: pbr
Successfully installed pbr-5.11.0
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671852939584
+ functions-common:time_stop:2442          :   [[ -z 1671852939584 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671852941333
+ functions-common:time_stop:2446          :   elapsed_time=1749
+ functions-common:time_stop:2447          :   total=3731
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=5480
+ inc/python:pip_install:199               :   return 0
+ lib/infra:install_infra:35               :   PIP_VIRTUAL_ENV=/opt/stack/requirements/.venv
+ lib/infra:install_infra:35               :   pip_install /opt/stack/requirements
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   grep xtrace
++ inc/python:pip_install:129               :   set +o
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
+ inc/python:pip_install:190               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/requirements/.venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt /opt/stack/requirements
Processing /opt/stack/requirements
Processing /opt/stack/.cache/pip/wheels/b3/96/0f/d23693b58954b52d74e73fa40c2c6fce6da2580502697fbf37/fixtures-4.0.1-py3-none-any.whl
Collecting PyYAML===6.0
  Using cached PyYAML-6.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (701 kB)
Collecting requests===2.28.1
  Using cached requests-2.28.1-py3-none-any.whl (62 kB)
Collecting packaging===21.3
  Using cached packaging-21.3-py3-none-any.whl (40 kB)
Collecting idna===3.4
  Using cached idna-3.4-py3-none-any.whl (61 kB)
Collecting pyparsing===3.0.9
  Using cached pyparsing-3.0.9-py3-none-any.whl (98 kB)
Collecting six===1.16.0
  Using cached six-1.16.0-py2.py3-none-any.whl (11 kB)
Collecting charset-normalizer===2.1.1
  Using cached charset_normalizer-2.1.1-py3-none-any.whl (39 kB)
Collecting Parsley>=1.2
  Using cached Parsley-1.3-py2.py3-none-any.whl (88 kB)
Collecting beagle>=0.2.1
  Using cached beagle-0.3.0-py3-none-any.whl (11 kB)
Requirement already satisfied: pbr===5.11.0 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 45)) (5.11.0)
Collecting certifi>=2017.4.17
  Using cached certifi-2022.12.7-py3-none-any.whl (155 kB)
Collecting urllib3===1.26.12
  Using cached urllib3-1.26.12-py2.py3-none-any.whl (140 kB)
Collecting cliff===4.1.0
  Using cached cliff-4.1.0-py3-none-any.whl (81 kB)
Collecting prettytable===3.4.1
  Using cached prettytable-3.4.1-py3-none-any.whl (26 kB)
Collecting stevedore===4.1.1
  Using cached stevedore-4.1.1-py3-none-any.whl (50 kB)
Collecting cmd2===2.4.2
  Using cached cmd2-2.4.2-py3-none-any.whl (147 kB)
Collecting autopage===0.5.1
  Using cached autopage-0.5.1-py3-none-any.whl (29 kB)
Collecting importlib-metadata===5.0.0
  Using cached importlib_metadata-5.0.0-py3-none-any.whl (21 kB)
Collecting wcwidth===0.2.5
  Using cached wcwidth-0.2.5-py2.py3-none-any.whl (30 kB)
Collecting attrs===22.1.0
  Using cached attrs-22.1.0-py2.py3-none-any.whl (58 kB)
Processing /opt/stack/.cache/pip/wheels/7f/1a/65/84ff8c386bec21fca6d220ea1f5498a0367883a78dd5ba6122/pyperclip-1.8.2-py3-none-any.whl
Collecting zipp===3.8.1
  Using cached zipp-3.8.1-py3-none-any.whl (5.6 kB)
Building wheels for collected packages: openstack-requirements
  Building wheel for openstack-requirements (setup.py): started
  Building wheel for openstack-requirements (setup.py): finished with status 'error'
  ERROR: Command errored out with exit status 1:
   command: /opt/stack/requirements/.venv/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/tmp/pip-req-build-_5jppob8/setup.py'"'"'; __file__='"'"'/tmp/pip-req-build-_5jppob8/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' bdist_wheel -d /tmp/pip-wheel-j77uvu4g
       cwd: /tmp/pip-req-build-_5jppob8/
  Complete output (6 lines):
  usage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]
     or: setup.py --help [cmd1 cmd2 ...]
     or: setup.py --help-commands
     or: setup.py cmd --help
  
  error: invalid command 'bdist_wheel'
  ----------------------------------------
  ERROR: Failed building wheel for openstack-requirements
  Running setup.py clean for openstack-requirements
Failed to build openstack-requirements
Installing collected packages: attrs, fixtures, wcwidth, prettytable, urllib3, PyYAML, idna, certifi, charset-normalizer, requests, stevedore, pyperclip, cmd2, autopage, zipp, importlib-metadata, cliff, pyparsing, packaging, six, Parsley, beagle, openstack-requirements
    Running setup.py install for openstack-requirements: started
    Running setup.py install for openstack-requirements: finished with status 'done'
Successfully installed Parsley-1.3 PyYAML-6.0 attrs-22.1.0 autopage-0.5.1 beagle-0.3.0 certifi-2022.12.7 charset-normalizer-2.1.1 cliff-4.1.0 cmd2-2.4.2 fixtures-4.0.1 idna-3.4 importlib-metadata-5.0.0 openstack-requirements-1.2.1.dev5819 packaging-21.3 prettytable-3.4.1 pyparsing-3.0.9 pyperclip-1.8.2 requests-2.28.1 six-1.16.0 stevedore-4.1.1 urllib3-1.26.12 wcwidth-0.2.5 zipp-3.8.1
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671852941372
+ functions-common:time_stop:2442          :   [[ -z 1671852941372 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671852948885
+ functions-common:time_stop:2446          :   elapsed_time=7513
+ functions-common:time_stop:2447          :   total=5480
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=12993
+ inc/python:pip_install:199               :   return 0
+ lib/infra:install_infra:39               :   unset PIP_VIRTUAL_ENV
+ lib/infra:install_infra:42               :   use_library_from_git pbr
+ inc/python:use_library_from_git:246      :   local name=pbr
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,pbr, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/infra:install_infra:48               :   pip_install -U pbr
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install pbr
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -U pbr
Requirement already up-to-date: pbr===5.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 45)) (5.11.0)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671852948941
+ functions-common:time_stop:2442          :   [[ -z 1671852948941 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671852951815
+ functions-common:time_stop:2446          :   elapsed_time=2874
+ functions-common:time_stop:2447          :   total=12993
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=15867
+ inc/python:pip_install:199               :   return 0
+ ./stack.sh:main:817                      :   python3 -m venv /opt/stack/bindep-venv
+ ./stack.sh:main:819                      :   /opt/stack/bindep-venv/bin/pip install bindep
Collecting bindep
  Using cached bindep-2.11.0-py2.py3-none-any.whl (34 kB)
Collecting pbr>=2.0.0
  Using cached pbr-5.11.0-py2.py3-none-any.whl (112 kB)
Collecting distro>=1.7.0; python_version >= "3.6"
  Using cached distro-1.8.0-py3-none-any.whl (20 kB)
Collecting Parsley
  Using cached Parsley-1.3-py2.py3-none-any.whl (88 kB)
Collecting packaging; python_version >= "3.6"
  Using cached packaging-22.0-py3-none-any.whl (42 kB)
Installing collected packages: pbr, distro, Parsley, packaging, bindep
Successfully installed Parsley-1.3 bindep-2.11.0 distro-1.8.0 packaging-22.0 pbr-5.11.0
+ ./stack.sh:main:820                      :   export BINDEP_CMD=/opt/stack/bindep-venv/bin/bindep
+ ./stack.sh:main:820                      :   BINDEP_CMD=/opt/stack/bindep-venv/bin/bindep
++ ./stack.sh:main:823                      :   _get_plugin_bindep_packages
++ functions-common:_get_plugin_bindep_packages:1408 :   local xtrace
+++ functions-common:_get_plugin_bindep_packages:1409 :   set +o
+++ functions-common:_get_plugin_bindep_packages:1409 :   grep xtrace
++ functions-common:_get_plugin_bindep_packages:1409 :   xtrace='set -o xtrace'
++ functions-common:_get_plugin_bindep_packages:1410 :   set +o xtrace
+ ./stack.sh:main:823                      :   pkgs=
+ ./stack.sh:main:824                      :   [[ -n '' ]]
+ ./stack.sh:main:831                      :   run_phase stack pre-install
+ functions-common:run_phase:1861          :   local mode=stack
+ functions-common:run_phase:1862          :   local phase=pre-install
+ functions-common:run_phase:1863          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1864          :   local extra_plugin_file_name
+ functions-common:run_phase:1865          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1870          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1871          :   local extra
++ functions-common:run_phase:1872          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1872          :   extra=80-tempest.sh
+ functions-common:run_phase:1873          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1877          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1877          :   source /opt/stack/devstack/extras.d/80-tempest.sh stack pre-install
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ stack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:7          :   [[ pre-install == \i\n\s\t\a\l\l ]]
++ extras.d/80-tempest.sh:source:10         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ pre-install == \p\o\s\t\-\c\o\n\f\i\g ]]
++ extras.d/80-tempest.sh:source:13         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ pre-install == \e\x\t\r\a ]]
++ extras.d/80-tempest.sh:source:16         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ pre-install == \p\o\s\t\-\e\x\t\r\a ]]
++ extras.d/80-tempest.sh:source:19         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ pre-install == \t\e\s\t\-\c\o\n\f\i\g ]]
++ extras.d/80-tempest.sh:source:27         :   [[ stack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ stack == \c\l\e\a\n ]]
+ functions-common:run_phase:1882          :   [[ stack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1885          :   [[ stack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1888          :   run_plugins stack pre-install
+ functions-common:run_plugins:1847        :   local mode=stack
+ functions-common:run_plugins:1848        :   local phase=pre-install
+ functions-common:run_plugins:1850        :   local plugins=
+ functions-common:run_plugins:1851        :   local plugin
+ ./stack.sh:main:834                      :   set_systemd_override DefaultLimitNOFILE 2048
+ functions:set_systemd_override:820       :   local key=DefaultLimitNOFILE
+ functions:set_systemd_override:821       :   local value=2048
+ functions:set_systemd_override:823       :   local sysconf=/etc/systemd/system.conf
+ functions:set_systemd_override:824       :   iniset -sudo /etc/systemd/system.conf Manager DefaultLimitNOFILE 2048
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:set_systemd_override:825       :   echo 'Set systemd system override for DefaultLimitNOFILE=2048'
Set systemd system override for DefaultLimitNOFILE=2048
+ functions:set_systemd_override:827       :   sudo systemctl daemon-reload
+ ./stack.sh:main:836                      :   install_rpc_backend
+ lib/rpc_backend:install_rpc_backend:52   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/rpc_backend:install_rpc_backend:54   :   install_package rabbitmq-server
+ functions-common:install_package:1457    :   update_package_repo
+ functions-common:update_package_repo:1429 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1430 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1431 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1433 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1437 :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1438 :   apt_get_update
+ functions-common:apt_get_update:1183     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1183     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1184     :   return
+ functions-common:install_package:1458    :   real_install_package rabbitmq-server
+ functions-common:real_install_package:1443 :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ functions-common:real_install_package:1444 :   apt_get install rabbitmq-server
+ functions-common:apt_get:1211            :   local xtrace result
++ functions-common:apt_get:1212            :   set +o
++ functions-common:apt_get:1212            :   grep xtrace
+ functions-common:apt_get:1212            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1213            :   set +o xtrace
+ functions-common:apt_get:1224            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install rabbitmq-server
Reading package lists...
Building dependency tree...
Reading state information...
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcgi-fast-perl libcgi-pm-perl libcolord-gtk1 libcolorhug2
  libevent-core-2.1-7 libevent-pthreads-2.1-7 libfcgi-perl libgsound0
  libgssdp-1.2-0 libgupnp-1.2-0 libgupnp-av-1.0-2 libgupnp-dlna-2.0-3
  libhtml-template-perl libieee1284-3 libimagequant0 libmecab2
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3 mecab-ipadic
  mecab-ipadic-utf8 mecab-utils mobile-broadband-provider-info
  network-manager-gnome printer-driver-postscript-hp python3-macaroonbakery
  python3-olefile python3-pil python3-protobuf python3-pymacaroons
  python3-renderpm python3-reportlab python3-reportlab-accel python3-rfc3339
  python3-tz rygel
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  erlang-asn1 erlang-base erlang-crypto erlang-eldap erlang-ftp erlang-inets
  erlang-mnesia erlang-os-mon erlang-parsetools erlang-public-key
  erlang-runtime-tools erlang-snmp erlang-ssl erlang-syntax-tools erlang-tftp
  erlang-tools erlang-xmerl
Suggested packages:
  erlang erlang-manpages erlang-doc
The following NEW packages will be installed:
  erlang-asn1 erlang-base erlang-crypto erlang-eldap erlang-ftp erlang-inets
  erlang-mnesia erlang-os-mon erlang-parsetools erlang-public-key
  erlang-runtime-tools erlang-snmp erlang-ssl erlang-syntax-tools erlang-tftp
  erlang-tools erlang-xmerl rabbitmq-server
0 upgraded, 18 newly installed, 0 to remove and 206 not upgraded.
Need to get 0 B/27.5 MB of archives.
After this operation, 49.0 MB of additional disk space will be used.
Selecting previously unselected package erlang-base.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 308574 files and directories currently installed.)
Preparing to unpack .../00-erlang-base_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-base (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-asn1.
Preparing to unpack .../01-erlang-asn1_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-asn1 (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-crypto.
Preparing to unpack .../02-erlang-crypto_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-crypto (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-public-key.
Preparing to unpack .../03-erlang-public-key_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-public-key (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-mnesia.
Preparing to unpack .../04-erlang-mnesia_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-mnesia (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-runtime-tools.
Preparing to unpack .../05-erlang-runtime-tools_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-runtime-tools (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-ssl.
Preparing to unpack .../06-erlang-ssl_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-ssl (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-eldap.
Preparing to unpack .../07-erlang-eldap_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-eldap (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-ftp.
Preparing to unpack .../08-erlang-ftp_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-ftp (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-tftp.
Preparing to unpack .../09-erlang-tftp_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-tftp (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-inets.
Preparing to unpack .../10-erlang-inets_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-inets (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-snmp.
Preparing to unpack .../11-erlang-snmp_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-snmp (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-os-mon.
Preparing to unpack .../12-erlang-os-mon_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-os-mon (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-parsetools.
Preparing to unpack .../13-erlang-parsetools_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-parsetools (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-syntax-tools.
Preparing to unpack .../14-erlang-syntax-tools_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-syntax-tools (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-tools.
Preparing to unpack .../15-erlang-tools_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-tools (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-xmerl.
Preparing to unpack .../16-erlang-xmerl_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-xmerl (1:22.2.7+dfsg-1) ...
Selecting previously unselected package rabbitmq-server.
Preparing to unpack .../17-rabbitmq-server_3.8.2-0ubuntu1.3_all.deb ...
Unpacking rabbitmq-server (3.8.2-0ubuntu1.3) ...
Setting up erlang-base (1:22.2.7+dfsg-1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/epmd.service  /lib/systemd/system/epmd.service.
Created symlink /etc/systemd/system/sockets.target.wants/epmd.socket  /lib/systemd/system/epmd.socket.
Searching for services which depend on erlang and should be started... none found.
Setting up erlang-xmerl (1:22.2.7+dfsg-1) ...
Setting up erlang-syntax-tools (1:22.2.7+dfsg-1) ...
Setting up erlang-parsetools (1:22.2.7+dfsg-1) ...
Setting up erlang-asn1 (1:22.2.7+dfsg-1) ...
Setting up erlang-tftp (1:22.2.7+dfsg-1) ...
Setting up erlang-mnesia (1:22.2.7+dfsg-1) ...
Setting up erlang-crypto (1:22.2.7+dfsg-1) ...
Setting up erlang-runtime-tools (1:22.2.7+dfsg-1) ...
Setting up erlang-tools (1:22.2.7+dfsg-1) ...
Setting up erlang-snmp (1:22.2.7+dfsg-1) ...
Setting up erlang-public-key (1:22.2.7+dfsg-1) ...
Setting up erlang-ssl (1:22.2.7+dfsg-1) ...
Setting up erlang-os-mon (1:22.2.7+dfsg-1) ...
Setting up erlang-eldap (1:22.2.7+dfsg-1) ...
Setting up erlang-ftp (1:22.2.7+dfsg-1) ...
Setting up erlang-inets (1:22.2.7+dfsg-1) ...
Setting up rabbitmq-server (3.8.2-0ubuntu1.3) ...
Created symlink /etc/systemd/system/multi-user.target.wants/rabbitmq-server.service  /lib/systemd/system/rabbitmq-server.service.
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for systemd (245.4-4ubuntu3.19) ...
+ functions-common:apt_get:1228            :   result=0
+ functions-common:apt_get:1231            :   time_stop apt-get
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=apt-get
+ functions-common:time_stop:2440          :   start_time=1671852955949
+ functions-common:time_stop:2442          :   [[ -z 1671852955949 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671852987211
+ functions-common:time_stop:2446          :   elapsed_time=31262
+ functions-common:time_stop:2447          :   total=16875
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=48137
+ functions-common:apt_get:1232            :   return 0
+ lib/rpc_backend:install_rpc_backend:55   :   is_suse
+ functions-common:is_suse:544             :   is_opensuse
+ functions-common:is_opensuse:551         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:555         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:544             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:563 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:567 :   [[ Ubuntu =~ (^SUSE) ]]
+ lib/rpc_backend:install_rpc_backend:68   :   is_fedora
+ functions-common:is_fedora:525           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:529           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:529           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:530           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:531           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:532           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:533           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:534           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:534           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:535           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:536           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:536           :   '[' Ubuntu = Virtuozzo ']'
+ lib/rpc_backend:install_rpc_backend:68   :   is_suse
+ functions-common:is_suse:544             :   is_opensuse
+ functions-common:is_opensuse:551         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:555         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:544             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:563 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:567 :   [[ Ubuntu =~ (^SUSE) ]]
+ ./stack.sh:main:837                      :   restart_rpc_backend
+ lib/rpc_backend:restart_rpc_backend:81   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/rpc_backend:restart_rpc_backend:83   :   echo_summary 'Starting RabbitMQ'
+ ./stack.sh:echo_summary:444              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:450              :   echo -e Starting RabbitMQ
2022-12-24 03:36:27.335 | Starting RabbitMQ
+ lib/rpc_backend:restart_rpc_backend:94   :   local i
++ lib/rpc_backend:restart_rpc_backend:95   :   seq 20
+ lib/rpc_backend:restart_rpc_backend:95   :   for i in `seq 20`
+ lib/rpc_backend:restart_rpc_backend:96   :   local rc=0
+ lib/rpc_backend:restart_rpc_backend:98   :   [[ 1 -eq 20 ]]
+ lib/rpc_backend:restart_rpc_backend:100  :   [[ 1 == \0 ]]
+ lib/rpc_backend:restart_rpc_backend:104  :   rabbit_setuser stackrabbit ****
+ lib/rpc_backend:rabbit_setuser:173       :   local user=stackrabbit pass=**** found= out=
++ lib/rpc_backend:rabbit_setuser:174       :   sudo rabbitmqctl list_users
+ lib/rpc_backend:rabbit_setuser:174       :   out='Listing users ...
user	tags
guest	[administrator]'
++ lib/rpc_backend:rabbit_setuser:176       :   echo 'Listing users ...
user	tags
guest	[administrator]'
++ lib/rpc_backend:rabbit_setuser:176       :   awk '$1 == user { print $1 }' user=stackrabbit
+ lib/rpc_backend:rabbit_setuser:176       :   found=
+ lib/rpc_backend:rabbit_setuser:177       :   '[' '' = stackrabbit ']'
+ lib/rpc_backend:rabbit_setuser:181       :   sudo rabbitmqctl add_user stackrabbit ****
Adding user "stackrabbit" ...
+ lib/rpc_backend:rabbit_setuser:184       :   sudo rabbitmqctl set_permissions stackrabbit '.*' '.*' '.*'
Setting permissions for user "stackrabbit" in vhost "/" ...
+ lib/rpc_backend:restart_rpc_backend:105  :   '[' 0 -ne 0 ']'
+ lib/rpc_backend:restart_rpc_backend:110  :   sudo rabbitmqctl change_password stackrabbit ****
Changing password for user "stackrabbit" ...
+ lib/rpc_backend:restart_rpc_backend:112  :   '[' 0 -ne 0 ']'
+ lib/rpc_backend:restart_rpc_backend:116  :   break
+ lib/rpc_backend:restart_rpc_backend:119  :   sudo rabbitmqctl delete_user guest
Deleting user "guest" ...
+ ./stack.sh:main:839                      :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./stack.sh:main:840                      :   install_database
+ lib/database:install_database:118        :   install_database_mysql
+ lib/databases/mysql:install_database_mysql:183 :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/databases/mysql:install_database_mysql:186 :   sudo debconf-set-selections
+ lib/databases/mysql:install_database_mysql:196 :   [[ ! -e /opt/stack/.my.cnf ]]
+ lib/databases/mysql:install_database_mysql:209 :   [[ True == \T\r\u\e ]]
+ lib/databases/mysql:install_database_mysql:210 :   is_oraclelinux
+ functions-common:is_oraclelinux:513      :   [[ -z Ubuntu ]]
+ functions-common:is_oraclelinux:517      :   '[' Ubuntu = OracleServer ']'
+ lib/databases/mysql:install_database_mysql:212 :   is_fedora
+ functions-common:is_fedora:525           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:529           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:529           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:530           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:531           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:532           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:533           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:534           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:534           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:535           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:536           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:536           :   '[' Ubuntu = Virtuozzo ']'
+ lib/databases/mysql:install_database_mysql:215 :   is_suse
+ functions-common:is_suse:544             :   is_opensuse
+ functions-common:is_opensuse:551         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:555         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:544             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:563 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:567 :   [[ Ubuntu =~ (^SUSE) ]]
+ lib/databases/mysql:install_database_mysql:218 :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/databases/mysql:install_database_mysql:219 :   install_package mysql-server
+ functions-common:install_package:1457    :   update_package_repo
+ functions-common:update_package_repo:1429 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1430 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1431 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1433 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1437 :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1438 :   apt_get_update
+ functions-common:apt_get_update:1183     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1183     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1184     :   return
+ functions-common:install_package:1458    :   real_install_package mysql-server
+ functions-common:real_install_package:1443 :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ functions-common:real_install_package:1444 :   apt_get install mysql-server
+ functions-common:apt_get:1211            :   local xtrace result
++ functions-common:apt_get:1212            :   set +o
++ functions-common:apt_get:1212            :   grep xtrace
+ functions-common:apt_get:1212            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1213            :   set +o xtrace
+ functions-common:apt_get:1224            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install mysql-server
Reading package lists...
Building dependency tree...
Reading state information...
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  mysql-client-8.0 mysql-client-core-8.0 mysql-server-8.0
  mysql-server-core-8.0
Suggested packages:
  mailx tinyca
The following NEW packages will be installed:
  mysql-client-8.0 mysql-client-core-8.0 mysql-server mysql-server-8.0
  mysql-server-core-8.0
Preconfiguring packages ...
0 upgraded, 5 newly installed, 0 to remove and 206 not upgraded.
Need to get 0 B/29.0 MB of archives.
After this operation, 260 MB of additional disk space will be used.
Selecting previously unselected package mysql-client-core-8.0.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 310024 files and directories currently installed.)
Preparing to unpack .../mysql-client-core-8.0_8.0.31-0ubuntu127.0.0.1_amd64.deb ...
Unpacking mysql-client-core-8.0 (8.0.31-0ubuntu127.0.0.1) ...
Selecting previously unselected package mysql-client-8.0.
Preparing to unpack .../mysql-client-8.0_8.0.31-0ubuntu127.0.0.1_amd64.deb ...
Unpacking mysql-client-8.0 (8.0.31-0ubuntu127.0.0.1) ...
Selecting previously unselected package mysql-server-core-8.0.
Preparing to unpack .../mysql-server-core-8.0_8.0.31-0ubuntu127.0.0.1_amd64.deb ...
Unpacking mysql-server-core-8.0 (8.0.31-0ubuntu127.0.0.1) ...
Selecting previously unselected package mysql-server-8.0.
Preparing to unpack .../mysql-server-8.0_8.0.31-0ubuntu127.0.0.1_amd64.deb ...
Unpacking mysql-server-8.0 (8.0.31-0ubuntu127.0.0.1) ...
Selecting previously unselected package mysql-server.
Preparing to unpack .../mysql-server_8.0.31-0ubuntu127.0.0.1_all.deb ...
Unpacking mysql-server (8.0.31-0ubuntu127.0.0.1) ...
Setting up mysql-client-core-8.0 (8.0.31-0ubuntu127.0.0.1) ...
Setting up mysql-server-core-8.0 (8.0.31-0ubuntu127.0.0.1) ...
Setting up mysql-client-8.0 (8.0.31-0ubuntu127.0.0.1) ...
Setting up mysql-server-8.0 (8.0.31-0ubuntu127.0.0.1) ...
update-alternatives: using /etc/mysql/mysql.cnf to provide /etc/mysql/my.cnf (my.cnf) in auto mode
Renaming removed key_buffer and myisam-recover options (if present)
mysqld will log errors to /var/log/mysql/error.log
mysqld is running as pid 1765171
Created symlink /etc/systemd/system/multi-user.target.wants/mysql.service  /lib/systemd/system/mysql.service.
Setting up mysql-server (8.0.31-0ubuntu127.0.0.1) ...
Processing triggers for systemd (245.4-4ubuntu3.19) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for libc-bin (2.31-0ubuntu9.7) ...
+ functions-common:apt_get:1228            :   result=0
+ functions-common:apt_get:1231            :   time_stop apt-get
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=apt-get
+ functions-common:time_stop:2440          :   start_time=1671852990291
+ functions-common:time_stop:2442          :   [[ -z 1671852990291 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853021947
+ functions-common:time_stop:2446          :   elapsed_time=31656
+ functions-common:time_stop:2447          :   total=48137
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=79793
+ functions-common:apt_get:1232            :   return 0
+ ./stack.sh:main:842                      :   '[' -n mysql ']'
+ ./stack.sh:main:843                      :   install_database_python
+ lib/database:install_database_python:123 :   install_database_python_mysql
+ lib/databases/mysql:install_database_python_mysql:228 :   pip_install_gr PyMySQL
+ inc/python:pip_install_gr:76             :   local name=PyMySQL
+ inc/python:pip_install_gr:77             :   local clean_name
++ inc/python:pip_install_gr:78             :   get_from_global_requirements PyMySQL
++ inc/python:get_from_global_requirements:221 :   local package=PyMySQL
++ inc/python:get_from_global_requirements:222 :   local required_pkg
+++ inc/python:get_from_global_requirements:223 :   grep -i -h '^PyMySQL' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_from_global_requirements:223 :   cut -d# -f1
++ inc/python:get_from_global_requirements:223 :   required_pkg='PyMySQL  '
++ inc/python:get_from_global_requirements:224 :   [[ PyMySQL   == '' ]]
++ inc/python:get_from_global_requirements:227 :   echo PyMySQL
+ inc/python:pip_install_gr:78             :   clean_name=PyMySQL
+ inc/python:pip_install_gr:79             :   pip_install PyMySQL
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install PyMySQL
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt PyMySQL
Requirement already satisfied: PyMySQL===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 407)) (1.0.2)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671853022032
+ functions-common:time_stop:2442          :   [[ -z 1671853022032 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853024807
+ functions-common:time_stop:2446          :   elapsed_time=2775
+ functions-common:time_stop:2447          :   total=15867
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=18642
+ inc/python:pip_install:199               :   return 0
+ lib/databases/mysql:install_database_python_mysql:229 :   [[ PyMySQL == \M\y\S\Q\L\-\p\y\t\h\o\n ]]
+ lib/databases/mysql:install_database_python_mysql:231 :   [[ PyMySQL == \P\y\M\y\S\Q\L ]]
+ lib/databases/mysql:install_database_python_mysql:232 :   ADDITIONAL_VENV_PACKAGES+=,PyMySQL
+ ./stack.sh:main:846                      :   is_service_enabled neutron
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./stack.sh:main:847                      :   install_neutron_agent_packages
+ lib/neutron:install_neutron_agent_packages:537 :   is_service_enabled q-l3 neutron-l3
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/neutron:install_neutron_agent_packages:541 :   is_service_enabled q-agt neutron-agent q-dhcp neutron-dhcp q-l3 neutron-l3
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ ./stack.sh:main:850                      :   is_service_enabled etcd3
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./stack.sh:main:851                      :   install_etcd3
+ lib/etcd3:install_etcd3:103              :   echo 'Installing etcd'
Installing etcd
+ lib/etcd3:install_etcd3:106              :   sudo mkdir -p /opt/stack/bin
+ lib/etcd3:install_etcd3:107              :   sudo mkdir -p /opt/stack/data/etcd
+ lib/etcd3:install_etcd3:108              :   [[ True == \T\r\u\e ]]
+ lib/etcd3:install_etcd3:109              :   sudo mount -t tmpfs -o nodev,nosuid,size=512M tmpfs /opt/stack/data/etcd
+ lib/etcd3:install_etcd3:113              :   local etcd_file
++ lib/etcd3:install_etcd3:114              :   get_extra_file https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz
++ functions:get_extra_file:62              :   local file_url=https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz
+++ functions:get_extra_file:64              :   basename https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz
++ functions:get_extra_file:64              :   file_name=etcd-v3.3.12-linux-amd64.tar.gz
++ functions:get_extra_file:65              :   [[ https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz != file* ]]
++ functions:get_extra_file:67              :   [[ ! -f /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64.tar.gz ]]
++ functions:get_extra_file:68              :   wget --progress=dot:giga -t 2 -c https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz -O /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64.tar.gz
--2022-12-24 09:07:05--  https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz
Resolving github.com (github.com)... 127.0.0.1
Connecting to github.com (github.com)|127.0.0.1|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/11225014/686bc180-2acf-11e9-9edb-e79e93487a0e?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20221224%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20221224T033705Z&X-Amz-Expires=300&X-Amz-Signature=0a9e10ace9480fe811e71eea91fd5625a5f7cbabca56e0219538bf4cfe299238&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=11225014&response-content-disposition=attachment%3B%20filename%3Detcd-v3.3.12-linux-amd64.tar.gz&response-content-type=application%2Foctet-stream [following]
--2022-12-24 09:07:05--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/11225014/686bc180-2acf-11e9-9edb-e79e93487a0e?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20221224%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20221224T033705Z&X-Amz-Expires=300&X-Amz-Signature=0a9e10ace9480fe811e71eea91fd5625a5f7cbabca56e0219538bf4cfe299238&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=11225014&response-content-disposition=attachment%3B%20filename%3Detcd-v3.3.12-linux-amd64.tar.gz&response-content-type=application%2Foctet-stream
Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 127.0.0.1, 127.0.0.1, 127.0.0.1, ...
Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|127.0.0.1|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 11350736 (11M) [application/octet-stream]
Saving to: /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64.tar.gz

     0K ........ ..                        100% 11.2M=1.0s

2022-12-24 09:07:07 (11.2 MB/s) - /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64.tar.gz saved [11350736/11350736]

++ functions:get_extra_file:69              :   [[ 0 -ne 0 ]]
++ functions:get_extra_file:73              :   echo /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64.tar.gz
++ functions:get_extra_file:74              :   return
+ lib/etcd3:install_etcd3:114              :   etcd_file=/opt/stack/devstack/files/etcd-v3.3.12-linux-amd64.tar.gz
+ lib/etcd3:install_etcd3:115              :   '[' '!' -f /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64/etcd ']'
+ lib/etcd3:install_etcd3:116              :   echo 'dc5d82df095dae0a2970e4d870b6929590689dd707ae3d33e7b86da0f7f211b6 /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64.tar.gz'
+ lib/etcd3:install_etcd3:118              :   sha256sum -c /opt/stack/devstack/files/etcd.sha256sum
/opt/stack/devstack/files/etcd-v3.3.12-linux-amd64.tar.gz: OK
+ lib/etcd3:install_etcd3:120              :   tar xzvf /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64.tar.gz -C /opt/stack/devstack/files
etcd-v3.3.12-linux-amd64/
etcd-v3.3.12-linux-amd64/README.md
etcd-v3.3.12-linux-amd64/Documentation/
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/interacting_v3.md
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/api_concurrency_reference_v3.md
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/limit.md
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/local_cluster.md
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/api_grpc_gateway.md
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/grpc_naming.md
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/apispec/
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/apispec/swagger/
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/apispec/swagger/rpc.swagger.json
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/apispec/swagger/v3lock.swagger.json
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/apispec/swagger/v3election.swagger.json
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/experimental_apis.md
etcd-v3.3.12-linux-amd64/Documentation/dev-guide/api_reference_v3.md
etcd-v3.3.12-linux-amd64/Documentation/integrations.md
etcd-v3.3.12-linux-amd64/Documentation/README.md
etcd-v3.3.12-linux-amd64/Documentation/benchmarks/
etcd-v3.3.12-linux-amd64/Documentation/benchmarks/etcd-2-1-0-alpha-benchmarks.md
etcd-v3.3.12-linux-amd64/Documentation/benchmarks/etcd-storage-memory-benchmark.md
etcd-v3.3.12-linux-amd64/Documentation/benchmarks/README.md
etcd-v3.3.12-linux-amd64/Documentation/benchmarks/etcd-2-2-0-rc-benchmarks.md
etcd-v3.3.12-linux-amd64/Documentation/benchmarks/etcd-2-2-0-rc-memory-benchmarks.md
etcd-v3.3.12-linux-amd64/Documentation/benchmarks/etcd-3-watch-memory-benchmark.md
etcd-v3.3.12-linux-amd64/Documentation/benchmarks/etcd-2-2-0-benchmarks.md
etcd-v3.3.12-linux-amd64/Documentation/benchmarks/etcd-3-demo-benchmarks.md
etcd-v3.3.12-linux-amd64/Documentation/rfc/
etcd-v3.3.12-linux-amd64/Documentation/rfc/v3api.md
etcd-v3.3.12-linux-amd64/Documentation/docs.md
etcd-v3.3.12-linux-amd64/Documentation/production-users.md
etcd-v3.3.12-linux-amd64/Documentation/metrics.md
etcd-v3.3.12-linux-amd64/Documentation/v2/
etcd-v3.3.12-linux-amd64/Documentation/v2/authentication.md
etcd-v3.3.12-linux-amd64/Documentation/v2/proxy.md
etcd-v3.3.12-linux-amd64/Documentation/v2/glossary.md
etcd-v3.3.12-linux-amd64/Documentation/v2/docker_guide.md
etcd-v3.3.12-linux-amd64/Documentation/v2/configuration.md
etcd-v3.3.12-linux-amd64/Documentation/v2/README.md
etcd-v3.3.12-linux-amd64/Documentation/v2/benchmarks/
etcd-v3.3.12-linux-amd64/Documentation/v2/benchmarks/etcd-2-1-0-alpha-benchmarks.md
etcd-v3.3.12-linux-amd64/Documentation/v2/benchmarks/etcd-storage-memory-benchmark.md
etcd-v3.3.12-linux-amd64/Documentation/v2/benchmarks/README.md
etcd-v3.3.12-linux-amd64/Documentation/v2/benchmarks/etcd-2-2-0-rc-benchmarks.md
etcd-v3.3.12-linux-amd64/Documentation/v2/benchmarks/etcd-2-2-0-rc-memory-benchmarks.md
etcd-v3.3.12-linux-amd64/Documentation/v2/benchmarks/etcd-3-watch-memory-benchmark.md
etcd-v3.3.12-linux-amd64/Documentation/v2/benchmarks/etcd-2-2-0-benchmarks.md
etcd-v3.3.12-linux-amd64/Documentation/v2/benchmarks/etcd-3-demo-benchmarks.md
etcd-v3.3.12-linux-amd64/Documentation/v2/rfc/
etcd-v3.3.12-linux-amd64/Documentation/v2/rfc/v3api.md
etcd-v3.3.12-linux-amd64/Documentation/v2/libraries-and-tools.md
etcd-v3.3.12-linux-amd64/Documentation/v2/discovery_protocol.md
etcd-v3.3.12-linux-amd64/Documentation/v2/runtime-configuration.md
etcd-v3.3.12-linux-amd64/Documentation/v2/upgrade_2_3.md
etcd-v3.3.12-linux-amd64/Documentation/v2/auth_api.md
etcd-v3.3.12-linux-amd64/Documentation/v2/errorcode.md
etcd-v3.3.12-linux-amd64/Documentation/v2/admin_guide.md
etcd-v3.3.12-linux-amd64/Documentation/v2/upgrade_2_2.md
etcd-v3.3.12-linux-amd64/Documentation/v2/upgrade_2_1.md
etcd-v3.3.12-linux-amd64/Documentation/v2/clustering.md
etcd-v3.3.12-linux-amd64/Documentation/v2/other_apis.md
etcd-v3.3.12-linux-amd64/Documentation/v2/production-users.md
etcd-v3.3.12-linux-amd64/Documentation/v2/metrics.md
etcd-v3.3.12-linux-amd64/Documentation/v2/runtime-reconf-design.md
etcd-v3.3.12-linux-amd64/Documentation/v2/etcd_alert.rules.yml
etcd-v3.3.12-linux-amd64/Documentation/v2/security.md
etcd-v3.3.12-linux-amd64/Documentation/v2/branch_management.md
etcd-v3.3.12-linux-amd64/Documentation/v2/internal-protocol-versioning.md
etcd-v3.3.12-linux-amd64/Documentation/v2/members_api.md
etcd-v3.3.12-linux-amd64/Documentation/v2/platforms/
etcd-v3.3.12-linux-amd64/Documentation/v2/platforms/freebsd.md
etcd-v3.3.12-linux-amd64/Documentation/v2/faq.md
etcd-v3.3.12-linux-amd64/Documentation/v2/backward_compatibility.md
etcd-v3.3.12-linux-amd64/Documentation/v2/04_to_2_snapshot_migration.md
etcd-v3.3.12-linux-amd64/Documentation/v2/etcd_alert.rules
etcd-v3.3.12-linux-amd64/Documentation/v2/api.md
etcd-v3.3.12-linux-amd64/Documentation/v2/api_v3.md
etcd-v3.3.12-linux-amd64/Documentation/v2/reporting_bugs.md
etcd-v3.3.12-linux-amd64/Documentation/v2/tuning.md
etcd-v3.3.12-linux-amd64/Documentation/v2/dev/
etcd-v3.3.12-linux-amd64/Documentation/v2/dev/release.md
etcd-v3.3.12-linux-amd64/Documentation/branch_management.md
etcd-v3.3.12-linux-amd64/Documentation/platforms/
etcd-v3.3.12-linux-amd64/Documentation/platforms/container-linux-systemd.md
etcd-v3.3.12-linux-amd64/Documentation/platforms/freebsd.md
etcd-v3.3.12-linux-amd64/Documentation/platforms/aws.md
etcd-v3.3.12-linux-amd64/Documentation/faq.md
etcd-v3.3.12-linux-amd64/Documentation/dl_build.md
etcd-v3.3.12-linux-amd64/Documentation/reporting_bugs.md
etcd-v3.3.12-linux-amd64/Documentation/tuning.md
etcd-v3.3.12-linux-amd64/Documentation/upgrades/
etcd-v3.3.12-linux-amd64/Documentation/upgrades/upgrade_3_4.md
etcd-v3.3.12-linux-amd64/Documentation/upgrades/upgrading-etcd.md
etcd-v3.3.12-linux-amd64/Documentation/upgrades/upgrade_3_2.md
etcd-v3.3.12-linux-amd64/Documentation/upgrades/upgrade_3_1.md
etcd-v3.3.12-linux-amd64/Documentation/upgrades/upgrade_3_0.md
etcd-v3.3.12-linux-amd64/Documentation/upgrades/upgrade_3_3.md
etcd-v3.3.12-linux-amd64/Documentation/dev-internal/
etcd-v3.3.12-linux-amd64/Documentation/dev-internal/logging.md
etcd-v3.3.12-linux-amd64/Documentation/dev-internal/discovery_protocol.md
etcd-v3.3.12-linux-amd64/Documentation/dev-internal/release.md
etcd-v3.3.12-linux-amd64/Documentation/learning/
etcd-v3.3.12-linux-amd64/Documentation/learning/auth_design.md
etcd-v3.3.12-linux-amd64/Documentation/learning/glossary.md
etcd-v3.3.12-linux-amd64/Documentation/learning/data_model.md
etcd-v3.3.12-linux-amd64/Documentation/learning/api_guarantees.md
etcd-v3.3.12-linux-amd64/Documentation/learning/why.md
etcd-v3.3.12-linux-amd64/Documentation/learning/api.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/
etcd-v3.3.12-linux-amd64/Documentation/op-guide/authentication.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/versioning.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/hardware.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/grafana.json
etcd-v3.3.12-linux-amd64/Documentation/op-guide/monitoring.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/configuration.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/v2-migration.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/maintenance.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/runtime-configuration.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/recovery.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/clustering.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/etcd3_alert.rules
etcd-v3.3.12-linux-amd64/Documentation/op-guide/runtime-reconf-design.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/etcd3_alert.rules.yml
etcd-v3.3.12-linux-amd64/Documentation/op-guide/security.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/performance.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/etcd-sample-grafana.png
etcd-v3.3.12-linux-amd64/Documentation/op-guide/grpc_proxy.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/gateway.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/container.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/supported-platform.md
etcd-v3.3.12-linux-amd64/Documentation/op-guide/failures.md
etcd-v3.3.12-linux-amd64/Documentation/demo.md
etcd-v3.3.12-linux-amd64/README-etcdctl.md
etcd-v3.3.12-linux-amd64/etcdctl
etcd-v3.3.12-linux-amd64/READMEv2-etcdctl.md
etcd-v3.3.12-linux-amd64/etcd
+ lib/etcd3:install_etcd3:121              :   sudo cp /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64/etcd /opt/stack/bin/etcd
+ lib/etcd3:install_etcd3:122              :   sudo cp /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64/etcdctl /opt/stack/bin/etcdctl
+ lib/etcd3:install_etcd3:124              :   '[' '!' -f /opt/stack/bin/etcd ']'
+ ./stack.sh:main:860                      :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ ./stack.sh:main:870                      :   install_dstat
+ lib/dstat:install_dstat:22               :   is_service_enabled memory_tracker
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ ./stack.sh:main:876                      :   echo_summary 'Installing OpenStack project source'
+ ./stack.sh:echo_summary:444              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:450              :   echo -e Installing OpenStack project source
2022-12-24 03:37:07.692 | Installing OpenStack project source
+ ./stack.sh:main:879                      :   install_libs
+ lib/libraries:install_libs:90            :   _install_lib_from_source automaton
+ lib/libraries:_install_lib_from_source:74 :   local name=automaton
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git automaton
+ inc/python:use_library_from_git:246      :   local name=automaton
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,automaton, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:91            :   _install_lib_from_source castellan
+ lib/libraries:_install_lib_from_source:74 :   local name=castellan
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git castellan
+ inc/python:use_library_from_git:246      :   local name=castellan
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,castellan, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:92            :   _install_lib_from_source cliff
+ lib/libraries:_install_lib_from_source:74 :   local name=cliff
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git cliff
+ inc/python:use_library_from_git:246      :   local name=cliff
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,cliff, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:93            :   _install_lib_from_source cursive
+ lib/libraries:_install_lib_from_source:74 :   local name=cursive
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git cursive
+ inc/python:use_library_from_git:246      :   local name=cursive
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,cursive, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:94            :   _install_lib_from_source debtcollector
+ lib/libraries:_install_lib_from_source:74 :   local name=debtcollector
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git debtcollector
+ inc/python:use_library_from_git:246      :   local name=debtcollector
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,debtcollector, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:95            :   _install_lib_from_source futurist
+ lib/libraries:_install_lib_from_source:74 :   local name=futurist
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git futurist
+ inc/python:use_library_from_git:246      :   local name=futurist
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,futurist, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:96            :   _install_lib_from_source openstacksdk
+ lib/libraries:_install_lib_from_source:74 :   local name=openstacksdk
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git openstacksdk
+ inc/python:use_library_from_git:246      :   local name=openstacksdk
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,openstacksdk, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:97            :   _install_lib_from_source osc-lib
+ lib/libraries:_install_lib_from_source:74 :   local name=osc-lib
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git osc-lib
+ inc/python:use_library_from_git:246      :   local name=osc-lib
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,osc-lib, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:98            :   _install_lib_from_source osc-placement
+ lib/libraries:_install_lib_from_source:74 :   local name=osc-placement
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git osc-placement
+ inc/python:use_library_from_git:246      :   local name=osc-placement
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,osc-placement, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:99            :   _install_lib_from_source os-client-config
+ lib/libraries:_install_lib_from_source:74 :   local name=os-client-config
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git os-client-config
+ inc/python:use_library_from_git:246      :   local name=os-client-config
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,os-client-config, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:100           :   _install_lib_from_source oslo.cache
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.cache
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.cache
+ inc/python:use_library_from_git:246      :   local name=oslo.cache
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.cache, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:101           :   _install_lib_from_source oslo.concurrency
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.concurrency
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.concurrency
+ inc/python:use_library_from_git:246      :   local name=oslo.concurrency
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.concurrency, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:102           :   _install_lib_from_source oslo.config
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.config
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.config
+ inc/python:use_library_from_git:246      :   local name=oslo.config
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.config, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:103           :   _install_lib_from_source oslo.context
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.context
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.context
+ inc/python:use_library_from_git:246      :   local name=oslo.context
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.context, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:104           :   _install_lib_from_source oslo.db
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.db
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.db
+ inc/python:use_library_from_git:246      :   local name=oslo.db
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.db, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:105           :   _install_lib_from_source oslo.i18n
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.i18n
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.i18n
+ inc/python:use_library_from_git:246      :   local name=oslo.i18n
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.i18n, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:106           :   _install_lib_from_source oslo.limit
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.limit
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.limit
+ inc/python:use_library_from_git:246      :   local name=oslo.limit
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.limit, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:107           :   _install_lib_from_source oslo.log
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.log
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.log
+ inc/python:use_library_from_git:246      :   local name=oslo.log
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.log, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:108           :   _install_lib_from_source oslo.messaging
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.messaging
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.messaging
+ inc/python:use_library_from_git:246      :   local name=oslo.messaging
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.messaging, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:109           :   _install_lib_from_source oslo.middleware
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.middleware
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.middleware
+ inc/python:use_library_from_git:246      :   local name=oslo.middleware
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.middleware, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:110           :   _install_lib_from_source oslo.policy
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.policy
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.policy
+ inc/python:use_library_from_git:246      :   local name=oslo.policy
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.policy, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:111           :   _install_lib_from_source oslo.privsep
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.privsep
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.privsep
+ inc/python:use_library_from_git:246      :   local name=oslo.privsep
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.privsep, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:112           :   _install_lib_from_source oslo.reports
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.reports
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.reports
+ inc/python:use_library_from_git:246      :   local name=oslo.reports
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.reports, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:113           :   _install_lib_from_source oslo.rootwrap
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.rootwrap
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.rootwrap
+ inc/python:use_library_from_git:246      :   local name=oslo.rootwrap
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.rootwrap, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:114           :   _install_lib_from_source oslo.serialization
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.serialization
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.serialization
+ inc/python:use_library_from_git:246      :   local name=oslo.serialization
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.serialization, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:115           :   _install_lib_from_source oslo.service
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.service
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.service
+ inc/python:use_library_from_git:246      :   local name=oslo.service
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.service, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:116           :   _install_lib_from_source oslo.utils
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.utils
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.utils
+ inc/python:use_library_from_git:246      :   local name=oslo.utils
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.utils, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:117           :   _install_lib_from_source oslo.versionedobjects
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.versionedobjects
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.versionedobjects
+ inc/python:use_library_from_git:246      :   local name=oslo.versionedobjects
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.versionedobjects, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:118           :   _install_lib_from_source oslo.vmware
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.vmware
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.vmware
+ inc/python:use_library_from_git:246      :   local name=oslo.vmware
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.vmware, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:119           :   _install_lib_from_source osprofiler
+ lib/libraries:_install_lib_from_source:74 :   local name=osprofiler
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git osprofiler
+ inc/python:use_library_from_git:246      :   local name=osprofiler
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,osprofiler, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:120           :   _install_lib_from_source pycadf
+ lib/libraries:_install_lib_from_source:74 :   local name=pycadf
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git pycadf
+ inc/python:use_library_from_git:246      :   local name=pycadf
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,pycadf, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:121           :   _install_lib_from_source stevedore
+ lib/libraries:_install_lib_from_source:74 :   local name=stevedore
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git stevedore
+ inc/python:use_library_from_git:246      :   local name=stevedore
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,stevedore, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:122           :   _install_lib_from_source taskflow
+ lib/libraries:_install_lib_from_source:74 :   local name=taskflow
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git taskflow
+ inc/python:use_library_from_git:246      :   local name=taskflow
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,taskflow, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:123           :   _install_lib_from_source tooz
+ lib/libraries:_install_lib_from_source:74 :   local name=tooz
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git tooz
+ inc/python:use_library_from_git:246      :   local name=tooz
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,tooz, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:127           :   _install_lib_from_source os-brick
+ lib/libraries:_install_lib_from_source:74 :   local name=os-brick
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git os-brick
+ inc/python:use_library_from_git:246      :   local name=os-brick
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,os-brick, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:128           :   _install_lib_from_source os-resource-classes
+ lib/libraries:_install_lib_from_source:74 :   local name=os-resource-classes
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git os-resource-classes
+ inc/python:use_library_from_git:246      :   local name=os-resource-classes
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,os-resource-classes, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:129           :   _install_lib_from_source os-traits
+ lib/libraries:_install_lib_from_source:74 :   local name=os-traits
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git os-traits
+ inc/python:use_library_from_git:246      :   local name=os-traits
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,os-traits, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:132           :   _install_lib_from_source python-barbicanclient
+ lib/libraries:_install_lib_from_source:74 :   local name=python-barbicanclient
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git python-barbicanclient
+ inc/python:use_library_from_git:246      :   local name=python-barbicanclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-barbicanclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:139           :   pip_install etcd3
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install etcd3
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt etcd3
Requirement already satisfied: etcd3===0.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 510)) (0.12.0)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 453)) (1.16.0)
Requirement already satisfied: grpcio===1.49.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 58)) (1.49.1)
Requirement already satisfied: tenacity===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 492)) (6.3.1)
Requirement already satisfied: protobuf===4.21.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 371)) (4.21.7)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671853028542
+ functions-common:time_stop:2442          :   [[ -z 1671853028542 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853031323
+ functions-common:time_stop:2446          :   elapsed_time=2781
+ functions-common:time_stop:2447          :   total=18642
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=21423
+ inc/python:pip_install:199               :   return 0
+ lib/libraries:install_libs:140           :   pip_install etcd3gw
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install etcd3gw
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt etcd3gw
Requirement already satisfied: etcd3gw===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 464)) (2.1.0)
Requirement already satisfied: futurist===2.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 538)) (2.4.1)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (2.28.1)
Requirement already satisfied: pbr===5.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 45)) (5.11.0)
Requirement already satisfied: charset-normalizer===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 559)) (2.1.1)
Requirement already satisfied: idna===3.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (3.4)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 222)) (2019.11.28)
Requirement already satisfied: urllib3===1.26.12 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 172)) (1.26.12)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671853031361
+ functions-common:time_stop:2442          :   [[ -z 1671853031361 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853034125
+ functions-common:time_stop:2446          :   elapsed_time=2764
+ functions-common:time_stop:2447          :   total=21423
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=24187
+ inc/python:pip_install:199               :   return 0
+ ./stack.sh:main:882                      :   install_apache_uwsgi
+ lib/apache:install_apache_uwsgi:85       :   local apxs=apxs2
+ lib/apache:install_apache_uwsgi:86       :   is_fedora
+ functions-common:is_fedora:525           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:529           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:529           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:530           :   '[' Ubuntu = openEuler ']'
+ functions-common:is_fedora:531           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:532           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:533           :   '[' Ubuntu = Rocky ']'
+ functions-common:is_fedora:534           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:534           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:535           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:536           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:536           :   '[' Ubuntu = Virtuozzo ']'
+ lib/apache:install_apache_uwsgi:90       :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:install_apache_uwsgi:91       :   local 'pkg_list=uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi'
+ lib/apache:install_apache_uwsgi:92       :   install_package uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi
+ functions-common:install_package:1457    :   update_package_repo
+ functions-common:update_package_repo:1429 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1430 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1431 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1433 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1437 :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1438 :   apt_get_update
+ functions-common:apt_get_update:1183     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1183     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1184     :   return
+ functions-common:install_package:1458    :   real_install_package uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi
+ functions-common:real_install_package:1443 :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ functions-common:real_install_package:1444 :   apt_get install uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi
+ functions-common:apt_get:1211            :   local xtrace result
++ functions-common:apt_get:1212            :   set +o
++ functions-common:apt_get:1212            :   grep xtrace
+ functions-common:apt_get:1212            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1213            :   set +o xtrace
+ functions-common:apt_get:1224            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi
Reading package lists...
Building dependency tree...
Reading state information...
uwsgi is already the newest version (2.0.18-11ubuntu1).
uwsgi-plugin-python3 is already the newest version (2.0.18-11ubuntu1).
libapache2-mod-proxy-uwsgi is already the newest version (2.4.41-4ubuntu3.12).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 206 not upgraded.
+ functions-common:apt_get:1228            :   result=0
+ functions-common:apt_get:1231            :   time_stop apt-get
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=apt-get
+ functions-common:time_stop:2440          :   start_time=1671853034263
+ functions-common:time_stop:2442          :   [[ -z 1671853034263 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853034882
+ functions-common:time_stop:2446          :   elapsed_time=619
+ functions-common:time_stop:2447          :   total=79793
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=80412
+ functions-common:apt_get:1232            :   return 0
+ lib/apache:install_apache_uwsgi:128      :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:install_apache_uwsgi:130      :   sudo a2enmod proxy
Module proxy already enabled
+ lib/apache:install_apache_uwsgi:131      :   sudo a2enmod proxy_uwsgi
Considering dependency proxy for proxy_uwsgi:
Module proxy already enabled
Module proxy_uwsgi already enabled
+ lib/apache:install_apache_uwsgi:137      :   restart_apache_server
+ lib/apache:restart_apache_server:250     :   restart_service apache2
+ functions-common:restart_service:2317    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2318    :   sudo /bin/systemctl restart apache2
+ ./stack.sh:main:885                      :   install_keystoneauth
+ lib/keystone:install_keystoneauth:498    :   use_library_from_git keystoneauth
+ inc/python:use_library_from_git:246      :   local name=keystoneauth
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,keystoneauth, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:886                      :   install_keystoneclient
+ lib/keystone:install_keystoneclient:506  :   use_library_from_git python-keystoneclient
+ inc/python:use_library_from_git:246      :   local name=python-keystoneclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-keystoneclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:887                      :   install_glanceclient
+ lib/glance:install_glanceclient:498      :   use_library_from_git python-glanceclient
+ inc/python:use_library_from_git:246      :   local name=python-glanceclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-glanceclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:888                      :   install_cinderclient
+ lib/cinder:install_cinderclient:557      :   use_library_from_git python-brick-cinderclient-ext
+ inc/python:use_library_from_git:246      :   local name=python-brick-cinderclient-ext
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-brick-cinderclient-ext, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/cinder:install_cinderclient:562      :   use_library_from_git python-cinderclient
+ inc/python:use_library_from_git:246      :   local name=python-cinderclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-cinderclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:889                      :   install_novaclient
+ lib/nova:install_novaclient:900          :   use_library_from_git python-novaclient
+ inc/python:use_library_from_git:246      :   local name=python-novaclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-novaclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:890                      :   is_service_enabled swift glance horizon
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./stack.sh:main:891                      :   install_swiftclient
+ lib/swift:install_swiftclient:733        :   use_library_from_git python-swiftclient
+ inc/python:use_library_from_git:246      :   local name=python-swiftclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-swiftclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:893                      :   is_service_enabled neutron nova horizon
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./stack.sh:main:894                      :   install_neutronclient
+ lib/neutron:install_neutronclient:527    :   use_library_from_git python-neutronclient
+ inc/python:use_library_from_git:246      :   local name=python-neutronclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-neutronclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:898                      :   install_keystonemiddleware
+ lib/keystone:install_keystonemiddleware:516 :   use_library_from_git keystonemiddleware
+ inc/python:use_library_from_git:246      :   local name=keystonemiddleware
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,keystonemiddleware, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/keystone:install_keystonemiddleware:521 :   pip_install_gr keystonemiddleware
+ inc/python:pip_install_gr:76             :   local name=keystonemiddleware
+ inc/python:pip_install_gr:77             :   local clean_name
++ inc/python:pip_install_gr:78             :   get_from_global_requirements keystonemiddleware
++ inc/python:get_from_global_requirements:221 :   local package=keystonemiddleware
++ inc/python:get_from_global_requirements:222 :   local required_pkg
+++ inc/python:get_from_global_requirements:223 :   grep -i -h '^keystonemiddleware' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_from_global_requirements:223 :   cut -d# -f1
++ inc/python:get_from_global_requirements:223 :   required_pkg='keystonemiddleware  '
++ inc/python:get_from_global_requirements:224 :   [[ keystonemiddleware   == '' ]]
++ inc/python:get_from_global_requirements:227 :   echo keystonemiddleware
+ inc/python:pip_install_gr:78             :   clean_name=keystonemiddleware
+ inc/python:pip_install_gr:79             :   pip_install keystonemiddleware
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   grep xtrace
++ inc/python:pip_install:129               :   set +o
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install keystonemiddleware
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt keystonemiddleware
Requirement already satisfied: keystonemiddleware===10.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 356)) (10.1.0)
Requirement already satisfied: oslo.cache===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 376)) (3.3.0)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 399)) (9.0.0)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 418)) (1.1.8)
Requirement already satisfied: stevedore===4.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 426)) (4.1.1)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 453)) (1.16.0)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 491)) (1.5.0)
Requirement already satisfied: keystoneauth1===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 518)) (5.1.0)
Requirement already satisfied: python-keystoneclient===5.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 521)) (5.0.1)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 534)) (5.1.1)
Requirement already satisfied: oslo.utils===6.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 573)) (6.1.0)
Requirement already satisfied: pytz===2022.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 584)) (2022.4)
Requirement already satisfied: pbr===5.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 45)) (5.11.0)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 54)) (5.0.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 51)) (5.1.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 283)) (5.0.0)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 19)) (1.8.7)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (2.28.1)
Requirement already satisfied: pycadf===3.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 57)) (3.1.1)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 312)) (5.0.0)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 181)) (6.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 133)) (0.8.0)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 115)) (2.5.0)
Requirement already satisfied: iso8601===1.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 365)) (1.1.0)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 331)) (1.7.0)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 338)) (21.3)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 414)) (3.0.9)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 514)) (0.11.0)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 579)) (2.8.2)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 114)) (0.9.6)
Requirement already satisfied: urllib3===1.26.12 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 172)) (1.26.12)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 222)) (2019.11.28)
Requirement already satisfied: charset-normalizer===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 559)) (2.1.1)
Requirement already satisfied: idna===3.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (3.4)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 397)) (1.0.4)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 480)) (1.14.1)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671853035335
+ functions-common:time_stop:2442          :   [[ -z 1671853035335 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853038184
+ functions-common:time_stop:2446          :   elapsed_time=2849
+ functions-common:time_stop:2447          :   total=24187
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=27036
+ inc/python:pip_install:199               :   return 0
+ lib/keystone:install_keystonemiddleware:525 :   pip_install_gr python-memcached
+ inc/python:pip_install_gr:76             :   local name=python-memcached
+ inc/python:pip_install_gr:77             :   local clean_name
++ inc/python:pip_install_gr:78             :   get_from_global_requirements python-memcached
++ inc/python:get_from_global_requirements:221 :   local package=python-memcached
++ inc/python:get_from_global_requirements:222 :   local required_pkg
+++ inc/python:get_from_global_requirements:223 :   grep -i -h '^python-memcached' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_from_global_requirements:223 :   cut -d# -f1
++ inc/python:get_from_global_requirements:223 :   required_pkg='python-memcached  '
++ inc/python:get_from_global_requirements:224 :   [[ python-memcached   == '' ]]
++ inc/python:get_from_global_requirements:227 :   echo python-memcached
+ inc/python:pip_install_gr:78             :   clean_name=python-memcached
+ inc/python:pip_install_gr:79             :   pip_install python-memcached
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   grep xtrace
++ inc/python:pip_install:129               :   set +o
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install python-memcached
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt python-memcached
Requirement already satisfied: python-memcached===1.59 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 451)) (1.59)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 453)) (1.16.0)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671853038262
+ functions-common:time_stop:2442          :   [[ -z 1671853038262 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853041019
+ functions-common:time_stop:2446          :   elapsed_time=2757
+ functions-common:time_stop:2447          :   total=27036
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=29793
+ inc/python:pip_install:199               :   return 0
+ ./stack.sh:main:900                      :   is_service_enabled keystone
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./stack.sh:main:901                      :   '[' 127.0.0.1 == 127.0.0.1 ']'
+ ./stack.sh:main:902                      :   stack_install_service keystone
+ lib/stack:stack_install_service:20       :   local service=keystone
+ lib/stack:stack_install_service:21       :   type install_keystone
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_keystone
+ lib/keystone:install_keystone:531        :   is_service_enabled ldap
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/keystone:install_keystone:535        :   git_clone https://opendev.org/openstack/keystone.git /opt/stack/keystone master
+ functions-common:git_clone:612           :   local git_remote=https://opendev.org/openstack/keystone.git
+ functions-common:git_clone:613           :   local git_dest=/opt/stack/keystone
+ functions-common:git_clone:614           :   local git_ref=master
+ functions-common:git_clone:615           :   local orig_dir
++ functions-common:git_clone:616           :   pwd
+ functions-common:git_clone:616           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:617           :   local git_clone_flags=
++ functions-common:git_clone:619           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:619           :   RECLONE=False
+ functions-common:git_clone:620           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:624           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:633           :   echo master
+ functions-common:git_clone:633           :   egrep -q '^refs'
+ functions-common:git_clone:647           :   [[ ! -d /opt/stack/keystone ]]
+ functions-common:git_clone:648           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:654           :   git_timed clone https://opendev.org/openstack/keystone.git /opt/stack/keystone --branch master
+ functions-common:git_timed:718           :   local count=0
+ functions-common:git_timed:719           :   local timeout=0
+ functions-common:git_timed:721           :   [[ -n 0 ]]
+ functions-common:git_timed:722           :   timeout=0
+ functions-common:git_timed:725           :   time_start git_timed
+ functions-common:time_start:2419         :   local name=git_timed
+ functions-common:time_start:2420         :   local start_time=
+ functions-common:time_start:2421         :   [[ -n '' ]]
++ functions-common:time_start:2424         :   date +%s%3N
+ functions-common:time_start:2424         :   _TIME_START[$name]=1671853041188
+ functions-common:git_timed:726           :   timeout -s SIGINT 0 git clone https://opendev.org/openstack/keystone.git /opt/stack/keystone --branch master
Cloning into '/opt/stack/keystone'...
+ functions-common:git_timed:740           :   time_stop git_timed
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=git_timed
+ functions-common:time_stop:2440          :   start_time=1671853041188
+ functions-common:time_stop:2442          :   [[ -z 1671853041188 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853106004
+ functions-common:time_stop:2446          :   elapsed_time=64816
+ functions-common:time_stop:2447          :   total=21594
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=86410
+ functions-common:git_clone:690           :   sudo git config --system --add safe.directory /opt/stack/keystone
+ functions-common:git_clone:693           :   cd /opt/stack/keystone
+ functions-common:git_clone:694           :   git show --oneline
+ functions-common:git_clone:694           :   head -1
7d4047cb6 Merge "requirements: Bump linter requirements"
+ functions-common:git_clone:695           :   cd /opt/stack/devstack
+ lib/keystone:install_keystone:536        :   setup_develop /opt/stack/keystone
+ inc/python:setup_develop:334             :   local bindep
+ inc/python:setup_develop:335             :   [[ /opt/stack/keystone == -bindep* ]]
+ inc/python:setup_develop:339             :   local project_dir=/opt/stack/keystone
+ inc/python:setup_develop:340             :   local extras=
+ inc/python:setup_develop:341             :   _setup_package_with_constraints_edit /opt/stack/keystone -e
+ inc/python:_setup_package_with_constraints_edit:360 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:361 :   [[ /opt/stack/keystone == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:365 :   local project_dir=/opt/stack/keystone
+ inc/python:_setup_package_with_constraints_edit:366 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:367 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:374 :   cd /opt/stack/keystone
++ inc/python:_setup_package_with_constraints_edit:374 :   pwd
+ inc/python:_setup_package_with_constraints_edit:374 :   project_dir=/opt/stack/keystone
+ inc/python:_setup_package_with_constraints_edit:376 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:380 :   local name
++ inc/python:_setup_package_with_constraints_edit:381 :   awk '/^name.*=/ {print $3}' /opt/stack/keystone/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:381 :   name=keystone
+ inc/python:_setup_package_with_constraints_edit:383 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- keystone
+ inc/python:_setup_package_with_constraints_edit:386 :   setup_package /opt/stack/keystone -e
+ inc/python:setup_package:414             :   local bindep=0
+ inc/python:setup_package:415             :   local bindep_flag=
+ inc/python:setup_package:416             :   local bindep_profiles=
+ inc/python:setup_package:417             :   [[ /opt/stack/keystone == -bindep* ]]
+ inc/python:setup_package:422             :   local project_dir=/opt/stack/keystone
+ inc/python:setup_package:423             :   local flags=-e
+ inc/python:setup_package:424             :   local extras=
+ inc/python:setup_package:428             :   [[ -n -e ]]
+ inc/python:setup_package:428             :   [[ -z '' ]]
+ inc/python:setup_package:428             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:433             :   [[ ! -z '' ]]
+ inc/python:setup_package:438             :   [[ 0 == 1 ]]
+ inc/python:setup_package:442             :   pip_install -e /opt/stack/keystone
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/keystone
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -e /opt/stack/keystone
Obtaining file:///opt/stack/keystone
Requirement already satisfied: Flask===2.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 7)) (2.2.2)
Requirement already satisfied: Flask-RESTful===0.3.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 8)) (0.3.9)
Requirement already satisfied: Jinja2===3.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 10)) (3.1.2)
Requirement already satisfied: MarkupSafe===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 13)) (2.1.1)
Requirement already satisfied: PyJWT===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 18)) (2.5.0)
Requirement already satisfied: SQLAlchemy===1.4.41 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 25)) (1.4.41)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 32)) (1.8.7)
Requirement already satisfied: Werkzeug===2.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 34)) (2.2.2)
Requirement already satisfied: aniso8601===9.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 80)) (9.0.1)
Requirement already satisfied: bcrypt===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 94)) (4.0.0)
Requirement already satisfied: click===8.1.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 112)) (8.1.3)
Requirement already satisfied: cryptography===38.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 125)) (38.0.2)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 150)) (1.1.8)
Requirement already satisfied: greenlet===1.1.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 186)) (1.1.3)
Requirement already satisfied: importlib-metadata===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 203)) (5.0.0)
Requirement already satisfied: itsdangerous===2.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 211)) (2.1.2)
Requirement already satisfied: jsonschema===4.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (4.16.0)
Requirement already satisfied: keystonemiddleware===10.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 227)) (10.1.0)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 253)) (1.0.4)
Requirement already satisfied: oauthlib===3.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 277)) (3.2.1)
Requirement already satisfied: oslo.cache===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 302)) (3.3.0)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 304)) (9.0.0)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (5.0.0)
Requirement already satisfied: oslo.db===12.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 306)) (12.2.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 307)) (5.1.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 309)) (5.0.0)
Requirement already satisfied: oslo.messaging===14.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 310)) (14.0.0)
Requirement already satisfied: oslo.metrics===0.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 311)) (0.5.0)
Requirement already satisfied: oslo.middleware===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 312)) (5.0.0)
Requirement already satisfied: oslo.policy===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 313)) (4.0.0)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 317)) (5.0.0)
Requirement already satisfied: oslo.service===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (3.0.0)
Requirement already satisfied: oslo.upgradecheck===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 319)) (2.0.0)
Requirement already satisfied: oslo.utils===6.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 320)) (6.1.0)
Requirement already satisfied: osprofiler===3.4.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 325)) (3.4.3)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 328)) (21.3)
Requirement already satisfied: passlib===1.7.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 331)) (1.7.4)
Requirement already satisfied: pbr===5.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 332)) (5.11.0)
Requirement already satisfied: prettytable===3.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 341)) (3.4.1)
Requirement already satisfied: prometheus-client===0.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 343)) (0.14.1)
Requirement already satisfied: pycadf===3.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 355)) (3.1.1)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 364)) (0.9.6)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (3.0.9)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 373)) (0.18.1)
Requirement already satisfied: pysaml2===7.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 374)) (7.2.1)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 397)) (2.8.2)
Requirement already satisfied: python-keystoneclient===5.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 406)) (5.0.1)
Requirement already satisfied: pytz===2022.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 435)) (2022.4)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 447)) (2.28.1)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 460)) (1.5.0)
Requirement already satisfied: scrypt===0.8.20 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 475)) (0.8.20)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 483)) (1.16.0)
Requirement already satisfied: sqlalchemy-migrate===0.13.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 510)) (0.13.0)
Requirement already satisfied: sqlparse===0.4.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 511)) (0.4.3)
Requirement already satisfied: statsd===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 514)) (3.3.0)
Requirement already satisfied: stevedore===4.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 516)) (4.1.1)
Requirement already satisfied: testresources===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 533)) (2.0.1)
Requirement already satisfied: testscenarios===0.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 534)) (0.5.0)
Requirement already satisfied: testtools===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 535)) (2.5.0)
Requirement already satisfied: urllib3===1.26.12 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 561)) (1.26.12)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 571)) (0.2.5)
Requirement already satisfied: xmlschema===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 580)) (2.1.1)
Requirement already satisfied: yappi===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 584)) (1.4.0)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 589)) (3.8.1)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 109)) (1.15.1)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (5.1.1)
Requirement already satisfied: importlib-resources>=1.4.0; python_version < "3.9" in /usr/local/lib/python3.8/dist-packages (from jsonschema===4.16.0->-c /opt/stack/requirements/upper-constraints.txt (line 222)) (5.9.0)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: pkgutil-resolve-name>=1.3.10; python_version < "3.9" in /usr/local/lib/python3.8/dist-packages (from jsonschema===4.16.0->-c /opt/stack/requirements/upper-constraints.txt (line 222)) (1.3.10)
Requirement already satisfied: keystoneauth1===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 226)) (5.1.0)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.8.0)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 129)) (2.5.0)
Requirement already satisfied: alembic===1.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 78)) (1.8.1)
Requirement already satisfied: amqp===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 79)) (5.1.1)
Requirement already satisfied: futurist===2.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 172)) (2.4.1)
Requirement already satisfied: cachetools===5.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 102)) (5.2.0)
Requirement already satisfied: kombu===5.2.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 228)) (5.2.4)
Requirement already satisfied: Paste===3.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 14)) (3.5.2)
Requirement already satisfied: PasteDeploy===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 15)) (2.1.1)
Requirement already satisfied: Routes===2.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 24)) (2.5.1)
Requirement already satisfied: eventlet===0.33.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 160)) (0.33.1)
Requirement already satisfied: oslo.concurrency===5.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (5.0.1)
Requirement already satisfied: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 167)) (4.0.1)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 261)) (0.11.0)
Requirement already satisfied: iso8601===1.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 210)) (1.1.0)
Requirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (from pysaml2===7.2.1->-c /opt/stack/requirements/upper-constraints.txt (line 374)) (60.9.3)
Requirement already satisfied: defusedxml===0.7.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 131)) (0.7.1)
Requirement already satisfied: pyOpenSSL===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 351)) (22.1.0)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 447)) (2019.11.28)
Requirement already satisfied: idna===3.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 199)) (3.4)
Requirement already satisfied: charset-normalizer===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 111)) (2.1.1)
Requirement already satisfied: Tempita===0.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 29)) (0.5.2)
Requirement already satisfied: extras===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 163)) (1.0.0)
Requirement already satisfied: elementpath===3.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 155)) (3.0.2)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 357)) (2.21)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 294)) (1.7.0)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 576)) (1.14.1)
Requirement already satisfied: Mako===1.2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 12)) (1.2.3)
Requirement already satisfied: vine===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 563)) (5.0.0)
Requirement already satisfied: repoze.lru===0.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (0.7)
Requirement already satisfied: dnspython===2.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 146)) (2.2.1)
Requirement already satisfied: fasteners===0.18 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 165)) (0.18)
Installing collected packages: keystone
  Attempting uninstall: keystone
    Found existing installation: keystone 22.1.0.dev7
    Can't uninstall 'keystone'. No files were found to uninstall.
  Running setup.py develop for keystone
Successfully installed keystone
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671853106447
+ functions-common:time_stop:2442          :   [[ -z 1671853106447 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853112997
+ functions-common:time_stop:2446          :   elapsed_time=6550
+ functions-common:time_stop:2447          :   total=29793
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=36343
+ inc/python:pip_install:199               :   return 0
+ inc/python:setup_package:444             :   [[ -e == \-\e ]]
+ inc/python:setup_package:445             :   safe_chown -R stack /opt/stack/keystone/keystone.egg-info
+ functions-common:safe_chown:2334         :   _safe_permission_operation chown -R stack /opt/stack/keystone/keystone.egg-info
+ functions-common:_safe_permission_operation:2159 :   local xtrace
++ functions-common:_safe_permission_operation:2160 :   set +o
++ functions-common:_safe_permission_operation:2160 :   grep xtrace
+ functions-common:_safe_permission_operation:2160 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2161 :   set +o xtrace
+ functions-common:_safe_permission_operation:2182 :   sudo chown -R stack /opt/stack/keystone/keystone.egg-info
+ inc/python:_setup_package_with_constraints_edit:390 :   use_library_from_git /opt/stack/keystone
+ inc/python:use_library_from_git:246      :   local name=/opt/stack/keystone
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,/opt/stack/keystone, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/keystone:install_keystone:538        :   is_service_enabled ldap
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/keystone:install_keystone:542        :   '[' uwsgi == mod_wsgi ']'
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:903                      :   configure_keystone
+ lib/keystone:configure_keystone:192      :   sudo install -d -o stack /etc/keystone
+ lib/keystone:configure_keystone:194      :   [[ /etc/keystone != \/\o\p\t\/\s\t\a\c\k\/\k\e\y\s\t\o\n\e\/\e\t\c ]]
+ lib/keystone:configure_keystone:195      :   install -m 600 /dev/null /etc/keystone/keystone.conf
+ lib/keystone:configure_keystone:198      :   is_service_enabled ldap
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/keystone:configure_keystone:202      :   iniset /etc/keystone/keystone.conf identity driver sql
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:203      :   iniset /etc/keystone/keystone.conf identity password_hash_rounds 4
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:204      :   iniset /etc/keystone/keystone.conf assignment driver sql
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:205      :   iniset /etc/keystone/keystone.conf role driver sql
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:206      :   iniset /etc/keystone/keystone.conf resource driver sql
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:209      :   iniset /etc/keystone/keystone.conf cache enabled True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:210      :   iniset /etc/keystone/keystone.conf cache backend dogpile.cache.memcached
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:211      :   iniset /etc/keystone/keystone.conf cache memcache_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:213      :   iniset_rpc_backend keystone /etc/keystone/keystone.conf oslo_messaging_notifications
+ lib/rpc_backend:iniset_rpc_backend:157   :   local package=keystone
+ lib/rpc_backend:iniset_rpc_backend:158   :   local file=/etc/keystone/keystone.conf
+ lib/rpc_backend:iniset_rpc_backend:159   :   local section=oslo_messaging_notifications
+ lib/rpc_backend:iniset_rpc_backend:160   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:161   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:162   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:139    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:140    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ lib/rpc_backend:get_transport_url:141    :   echo rabbit://stackrabbit:****@127.0.0.1:5672/
+ lib/rpc_backend:iniset_rpc_backend:162   :   iniset /etc/keystone/keystone.conf oslo_messaging_notifications transport_url rabbit://stackrabbit:****@127.0.0.1:5672/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/rpc_backend:iniset_rpc_backend:163   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:166   :   '[' -n '' ']'
+ lib/keystone:configure_keystone:215      :   local service_port=5000
+ lib/keystone:configure_keystone:217      :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/keystone:configure_keystone:226      :   iniset /etc/keystone/keystone.conf DEFAULT public_endpoint http://127.0.0.1/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:228      :   [[ fernet != '' ]]
+ lib/keystone:configure_keystone:229      :   iniset /etc/keystone/keystone.conf token provider fernet
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/keystone:configure_keystone:232      :   database_connection_url keystone
++ lib/database:database_connection_url:134 :   local db=keystone
++ lib/database:database_connection_url:135 :   database_connection_url_mysql keystone
++ lib/databases/mysql:database_connection_url_mysql:237 :   local db=keystone
++ lib/databases/mysql:database_connection_url_mysql:238 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:242 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:243 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:244 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:248 :   echo 'mysql+pymysql://root:****@127.0.0.1/keystone?charset=utf8&plugin=dbcounter'
+ lib/keystone:configure_keystone:232      :   iniset /etc/keystone/keystone.conf database connection 'mysql+pymysql://root:****@127.0.0.1/keystone?charset=utf8&plugin=dbcounter'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:235      :   '[' False '!=' False ']'
+ lib/keystone:configure_keystone:240      :   setup_logging /etc/keystone/keystone.conf
+ functions:setup_logging:674              :   setup_systemd_logging /etc/keystone/keystone.conf
+ functions:setup_systemd_logging:689      :   local conf_file=/etc/keystone/keystone.conf
++ functions:setup_systemd_logging:694      :   trueorfalse False USE_JOURNAL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions:setup_systemd_logging:694      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:695      :   local pidstr=
+ functions:setup_systemd_logging:696      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:700      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:702      :   iniset /etc/keystone/keystone.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:704      :   iniset /etc/keystone/keystone.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:705      :   iniset /etc/keystone/keystone.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:706      :   iniset /etc/keystone/keystone.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:242      :   iniset /etc/keystone/keystone.conf DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:244      :   '[' uwsgi == mod_wsgi ']'
+ lib/keystone:configure_keystone:248      :   write_uwsgi_config /etc/keystone/keystone-uwsgi-public.ini /usr/local/bin/keystone-wsgi-public /identity
+ lib/apache:write_uwsgi_config:254        :   local file=/etc/keystone/keystone-uwsgi-public.ini
+ lib/apache:write_uwsgi_config:255        :   local wsgi=/usr/local/bin/keystone-wsgi-public
+ lib/apache:write_uwsgi_config:256        :   local url=/identity
+ lib/apache:write_uwsgi_config:257        :   local http=
+ lib/apache:write_uwsgi_config:258        :   local name=
++ lib/apache:write_uwsgi_config:259        :   basename /usr/local/bin/keystone-wsgi-public
+ lib/apache:write_uwsgi_config:259        :   name=keystone-wsgi-public
+ lib/apache:write_uwsgi_config:263        :   local socket_dir=/var/run/uwsgi
+ lib/apache:write_uwsgi_config:267        :   sudo mkdir -p /etc/tmpfiles.d/
+ lib/apache:write_uwsgi_config:268        :   echo 'd /var/run/uwsgi 0755 stack root'
+ lib/apache:write_uwsgi_config:268        :   sudo tee /etc/tmpfiles.d/uwsgi.conf
d /var/run/uwsgi 0755 stack root
+ lib/apache:write_uwsgi_config:269        :   sudo systemd-tmpfiles --create /etc/tmpfiles.d/uwsgi.conf
+ lib/apache:write_uwsgi_config:271        :   local socket=/var/run/uwsgi/keystone-wsgi-public.socket
+ lib/apache:write_uwsgi_config:274        :   rm -rf /etc/keystone/keystone-uwsgi-public.ini
+ lib/apache:write_uwsgi_config:275        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi wsgi-file /usr/local/bin/keystone-wsgi-public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:276        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi processes 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:278        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi master true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:280        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi die-on-term true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:281        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi exit-on-reload false
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:284        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi worker-reload-mercy 90
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:285        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi enable-threads true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:286        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi plugins http,python3
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:288        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi thunder-lock true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:290        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:292        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi buffer-size 65535
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:294        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi add-header 'Connection: close'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:296        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi lazy-apps true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:299        :   [[ -n '' ]]
+ lib/apache:write_uwsgi_config:302        :   local apache_conf=
++ lib/apache:write_uwsgi_config:303        :   apache_site_config_for keystone-wsgi-public
++ lib/apache:apache_site_config_for:186    :   local site=keystone-wsgi-public
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:575           :   [[ -z deb ]]
++ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/keystone-wsgi-public.conf
+ lib/apache:write_uwsgi_config:303        :   apache_conf=/etc/apache2/sites-available/keystone-wsgi-public.conf
+ lib/apache:write_uwsgi_config:304        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi socket /var/run/uwsgi/keystone-wsgi-public.socket
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:305        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi chmod-socket 666
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:306        :   echo 'ProxyPass "/identity" "unix:/var/run/uwsgi/keystone-wsgi-public.socket|uwsgi://uwsgi-uds-keystone-wsgi-public" retry=0 '
+ lib/apache:write_uwsgi_config:306        :   sudo tee -a /etc/apache2/sites-available/keystone-wsgi-public.conf
ProxyPass "/identity" "unix:/var/run/uwsgi/keystone-wsgi-public.socket|uwsgi://uwsgi-uds-keystone-wsgi-public" retry=0 
+ lib/apache:write_uwsgi_config:307        :   enable_apache_site keystone-wsgi-public
+ lib/apache:enable_apache_site:203        :   local site=keystone-wsgi-public
+ lib/apache:enable_apache_site:205        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:59          :   local mod=version
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:206        :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:207        :   sudo a2ensite keystone-wsgi-public
Enabling site keystone-wsgi-public.
To activate the new configuration, you need to run:
  systemctl reload apache2
+ lib/apache:write_uwsgi_config:308        :   restart_apache_server
+ lib/apache:restart_apache_server:250     :   restart_service apache2
+ functions-common:restart_service:2317    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2318    :   sudo /bin/systemctl restart apache2
+ lib/keystone:configure_keystone:251      :   iniset /etc/keystone/keystone.conf DEFAULT max_token_size 16384
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:253      :   iniset /etc/keystone/keystone.conf fernet_tokens key_repository /etc/keystone/fernet-keys/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:255      :   iniset /etc/keystone/keystone.conf credential key_repository /etc/keystone/credential-keys/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:263      :   [[ True = True ]]
+ lib/keystone:configure_keystone:264      :   iniset /etc/keystone/keystone.conf security_compliance lockout_failure_attempts 2
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:265      :   iniset /etc/keystone/keystone.conf security_compliance lockout_duration 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:266      :   iniset /etc/keystone/keystone.conf security_compliance unique_last_password_count 2
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:268      :   [[ False == True ]]
+ lib/keystone:configure_keystone:268      :   [[ False == True ]]
+ ./stack.sh:main:907                      :   is_service_enabled swift
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ ./stack.sh:main:921                      :   is_service_enabled g-api n-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./stack.sh:main:923                      :   stack_install_service glance
+ lib/stack:stack_install_service:20       :   local service=glance
+ lib/stack:stack_install_service:21       :   type install_glance
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_glance
+ lib/glance:install_glance:507            :   glance_store_extras=()
+ lib/glance:install_glance:507            :   local glance_store_extras
+ lib/glance:install_glance:509            :   is_service_enabled cinder
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/glance:install_glance:510            :   glance_store_extras=("cinder" "${glance_store_extras[@]}")
+ lib/glance:install_glance:513            :   is_service_enabled swift
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/glance:install_glance:519            :   use_library_from_git glance_store
+ inc/python:use_library_from_git:246      :   local name=glance_store
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,glance_store, ]]
+ inc/python:use_library_from_git:249      :   return 1
++ lib/glance:install_glance:525            :   join_extras cinder
++ inc/python:join_extras:29                :   local IFS=,
++ inc/python:join_extras:30                :   echo cinder
+ lib/glance:install_glance:525            :   pip_install_gr_extras glance-store cinder
+ inc/python:pip_install_gr_extras:89      :   local name=glance-store
+ inc/python:pip_install_gr_extras:90      :   local extras=cinder
+ inc/python:pip_install_gr_extras:91      :   local version_constraints
++ inc/python:pip_install_gr_extras:92      :   get_version_constraints_from_global_requirements glance-store
++ inc/python:get_version_constraints_from_global_requirements:233 :   local package=glance-store
++ inc/python:get_version_constraints_from_global_requirements:234 :   local required_pkg_version_constraint
+++ inc/python:get_version_constraints_from_global_requirements:236 :   grep -i -h -o -P '^glance-store\K.*' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_version_constraints_from_global_requirements:236 :   cut -d# -f1
++ inc/python:get_version_constraints_from_global_requirements:236 :   required_pkg_version_constraint='!=0.29.0  '
++ inc/python:get_version_constraints_from_global_requirements:237 :   [[ !=0.29.0   == '' ]]
++ inc/python:get_version_constraints_from_global_requirements:240 :   echo '!=0.29.0'
+ inc/python:pip_install_gr_extras:92      :   version_constraints='!=0.29.0'
+ inc/python:pip_install_gr_extras:93      :   pip_install 'glance-store[cinder]!=0.29.0'
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install glance-store[cinder]!=0.29.0
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt 'glance-store[cinder]!=0.29.0'
Requirement already satisfied: glance-store===4.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 177)) (4.1.0)
Requirement already satisfied: jsonschema===4.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (4.16.0)
Requirement already satisfied: keystoneauth1===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 226)) (5.1.0)
Requirement already satisfied: os-brick===6.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 287)) (6.1.0)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 294)) (1.7.0)
Requirement already satisfied: os-win===5.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 298)) (5.8.0)
Requirement already satisfied: oslo.concurrency===5.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (5.0.1)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 304)) (9.0.0)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (5.0.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 307)) (5.1.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 309)) (5.0.0)
Requirement already satisfied: oslo.privsep===3.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 314)) (3.0.1)
Requirement already satisfied: oslo.rootwrap===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 316)) (6.3.1)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 317)) (5.0.0)
Requirement already satisfied: oslo.service===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (3.0.0)
Requirement already satisfied: oslo.utils===6.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 320)) (6.1.0)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 328)) (21.3)
Requirement already satisfied: pbr===5.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 332)) (5.11.0)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 364)) (0.9.6)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (3.0.9)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 373)) (0.18.1)
Requirement already satisfied: python-cinderclient===9.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 392)) (9.2.0)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 397)) (2.8.2)
Requirement already satisfied: python-keystoneclient===5.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 406)) (5.0.1)
Requirement already satisfied: pytz===2022.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 435)) (2022.4)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 447)) (2.28.1)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 460)) (1.5.0)
Requirement already satisfied: simplejson===3.17.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 482)) (3.17.6)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 483)) (1.16.0)
Requirement already satisfied: stevedore===4.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 516)) (4.1.1)
Requirement already satisfied: tenacity===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 530)) (6.3.1)
Requirement already satisfied: urllib3===1.26.12 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 561)) (1.26.12)
Requirement already satisfied: yappi===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 584)) (1.4.0)
Requirement already satisfied: eventlet===0.33.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 160)) (0.33.1)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: importlib-resources>=1.4.0; python_version < "3.9" in /usr/local/lib/python3.8/dist-packages (from jsonschema===4.16.0->-c /opt/stack/requirements/upper-constraints.txt (line 222)) (5.9.0)
Requirement already satisfied: pkgutil-resolve-name>=1.3.10; python_version < "3.9" in /usr/local/lib/python3.8/dist-packages (from jsonschema===4.16.0->-c /opt/stack/requirements/upper-constraints.txt (line 222)) (1.3.10)
Requirement already satisfied: iso8601===1.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 210)) (1.1.0)
Requirement already satisfied: fasteners===0.18 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 165)) (0.18)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 129)) (2.5.0)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.8.0)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 109)) (1.15.1)
Requirement already satisfied: greenlet===1.1.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 186)) (1.1.3)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 253)) (1.0.4)
Requirement already satisfied: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 167)) (4.0.1)
Requirement already satisfied: PasteDeploy===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 15)) (2.1.1)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 32)) (1.8.7)
Requirement already satisfied: Routes===2.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 24)) (2.5.1)
Requirement already satisfied: Paste===3.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 14)) (3.5.2)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 261)) (0.11.0)
Requirement already satisfied: prettytable===3.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 341)) (3.4.1)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 447)) (2019.11.28)
Requirement already satisfied: charset-normalizer===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 111)) (2.1.1)
Requirement already satisfied: idna===3.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 199)) (3.4)
Requirement already satisfied: dnspython===2.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 146)) (2.2.1)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 589)) (3.8.1)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 576)) (1.14.1)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 357)) (2.21)
Requirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (from PasteDeploy===2.1.1->-c /opt/stack/requirements/upper-constraints.txt (line 15)) (60.9.3)
Requirement already satisfied: repoze.lru===0.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (0.7)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 571)) (0.2.5)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671853115303
+ functions-common:time_stop:2442          :   [[ -z 1671853115303 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853118204
+ functions-common:time_stop:2446          :   elapsed_time=2901
+ functions-common:time_stop:2447          :   total=36343
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=39244
+ inc/python:pip_install:199               :   return 0
+ lib/glance:install_glance:526            :   copy_rootwrap /usr/local/etc/glance
+ lib/glance:copy_rootwrap:239             :   local source_path=/usr/local/etc/glance
+ lib/glance:copy_rootwrap:241             :   sudo install -d -o stack /etc/glance
+ lib/glance:copy_rootwrap:242             :   cp -r /usr/local/etc/glance/rootwrap.conf /usr/local/etc/glance/rootwrap.d /etc/glance/
+ lib/glance:install_glance:529            :   git_clone https://opendev.org/openstack/glance.git /opt/stack/glance master
+ functions-common:git_clone:612           :   local git_remote=https://opendev.org/openstack/glance.git
+ functions-common:git_clone:613           :   local git_dest=/opt/stack/glance
+ functions-common:git_clone:614           :   local git_ref=master
+ functions-common:git_clone:615           :   local orig_dir
++ functions-common:git_clone:616           :   pwd
+ functions-common:git_clone:616           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:617           :   local git_clone_flags=
++ functions-common:git_clone:619           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:619           :   RECLONE=False
+ functions-common:git_clone:620           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:624           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:633           :   echo master
+ functions-common:git_clone:633           :   egrep -q '^refs'
+ functions-common:git_clone:647           :   [[ ! -d /opt/stack/glance ]]
+ functions-common:git_clone:648           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:654           :   git_timed clone https://opendev.org/openstack/glance.git /opt/stack/glance --branch master
+ functions-common:git_timed:718           :   local count=0
+ functions-common:git_timed:719           :   local timeout=0
+ functions-common:git_timed:721           :   [[ -n 0 ]]
+ functions-common:git_timed:722           :   timeout=0
+ functions-common:git_timed:725           :   time_start git_timed
+ functions-common:time_start:2419         :   local name=git_timed
+ functions-common:time_start:2420         :   local start_time=
+ functions-common:time_start:2421         :   [[ -n '' ]]
++ functions-common:time_start:2424         :   date +%s%3N
+ functions-common:time_start:2424         :   _TIME_START[$name]=1671853118336
+ functions-common:git_timed:726           :   timeout -s SIGINT 0 git clone https://opendev.org/openstack/glance.git /opt/stack/glance --branch master
Cloning into '/opt/stack/glance'...
+ functions-common:git_timed:740           :   time_stop git_timed
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=git_timed
+ functions-common:time_stop:2440          :   start_time=1671853118336
+ functions-common:time_stop:2442          :   [[ -z 1671853118336 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853156357
+ functions-common:time_stop:2446          :   elapsed_time=38021
+ functions-common:time_stop:2447          :   total=86410
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=124431
+ functions-common:git_clone:690           :   sudo git config --system --add safe.directory /opt/stack/glance
+ functions-common:git_clone:693           :   cd /opt/stack/glance
+ functions-common:git_clone:694           :   git show --oneline
+ functions-common:git_clone:694           :   head -1
bc9856ea9 Merge "Quota configuration: improve example oslo_limit section"
+ functions-common:git_clone:695           :   cd /opt/stack/devstack
+ lib/glance:install_glance:531            :   setup_develop /opt/stack/glance
+ inc/python:setup_develop:334             :   local bindep
+ inc/python:setup_develop:335             :   [[ /opt/stack/glance == -bindep* ]]
+ inc/python:setup_develop:339             :   local project_dir=/opt/stack/glance
+ inc/python:setup_develop:340             :   local extras=
+ inc/python:setup_develop:341             :   _setup_package_with_constraints_edit /opt/stack/glance -e
+ inc/python:_setup_package_with_constraints_edit:360 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:361 :   [[ /opt/stack/glance == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:365 :   local project_dir=/opt/stack/glance
+ inc/python:_setup_package_with_constraints_edit:366 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:367 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:374 :   cd /opt/stack/glance
++ inc/python:_setup_package_with_constraints_edit:374 :   pwd
+ inc/python:_setup_package_with_constraints_edit:374 :   project_dir=/opt/stack/glance
+ inc/python:_setup_package_with_constraints_edit:376 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:380 :   local name
++ inc/python:_setup_package_with_constraints_edit:381 :   awk '/^name.*=/ {print $3}' /opt/stack/glance/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:381 :   name=glance
+ inc/python:_setup_package_with_constraints_edit:383 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- glance
+ inc/python:_setup_package_with_constraints_edit:386 :   setup_package /opt/stack/glance -e
+ inc/python:setup_package:414             :   local bindep=0
+ inc/python:setup_package:415             :   local bindep_flag=
+ inc/python:setup_package:416             :   local bindep_profiles=
+ inc/python:setup_package:417             :   [[ /opt/stack/glance == -bindep* ]]
+ inc/python:setup_package:422             :   local project_dir=/opt/stack/glance
+ inc/python:setup_package:423             :   local flags=-e
+ inc/python:setup_package:424             :   local extras=
+ inc/python:setup_package:428             :   [[ -n -e ]]
+ inc/python:setup_package:428             :   [[ -z '' ]]
+ inc/python:setup_package:428             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:433             :   [[ ! -z '' ]]
+ inc/python:setup_package:438             :   [[ 0 == 1 ]]
+ inc/python:setup_package:442             :   pip_install -e /opt/stack/glance
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/glance
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -e /opt/stack/glance
Obtaining file:///opt/stack/glance
Requirement already satisfied: Paste===3.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 14)) (3.5.2)
Requirement already satisfied: PasteDeploy===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 15)) (2.1.1)
Requirement already satisfied: Routes===2.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 24)) (2.5.1)
Requirement already satisfied: SQLAlchemy===1.4.41 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 25)) (1.4.41)
Requirement already satisfied: WSME===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 31)) (0.11.0)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 32)) (1.8.7)
Requirement already satisfied: alembic===1.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 78)) (1.8.1)
Requirement already satisfied: castellan===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 106)) (4.0.0)
Requirement already satisfied: cryptography===38.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 125)) (38.0.2)
Requirement already satisfied: cursive===0.2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 126)) (0.2.3)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 129)) (2.5.0)
Requirement already satisfied: defusedxml===0.7.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 131)) (0.7.1)
Requirement already satisfied: eventlet===0.33.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 160)) (0.33.1)
Requirement already satisfied: futurist===2.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 172)) (2.4.1)
Requirement already satisfied: glance-store===4.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 177)) (4.1.0)
Requirement already satisfied: greenlet===1.1.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 186)) (1.1.3)
Requirement already satisfied: httplib2===0.20.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 194)) (0.20.4)
Requirement already satisfied: importlib-metadata===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 203)) (5.0.0)
Requirement already satisfied: iso8601===1.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 210)) (1.1.0)
Requirement already satisfied: jsonschema===4.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (4.16.0)
Requirement already satisfied: keystoneauth1===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 226)) (5.1.0)
Requirement already satisfied: keystonemiddleware===10.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 227)) (10.1.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.8.0)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 294)) (1.7.0)
Requirement already satisfied: os-win===5.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 298)) (5.8.0)
Requirement already satisfied: oslo.cache===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 302)) (3.3.0)
Requirement already satisfied: oslo.concurrency===5.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (5.0.1)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 304)) (9.0.0)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (5.0.0)
Requirement already satisfied: oslo.db===12.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 306)) (12.2.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 307)) (5.1.0)
Requirement already satisfied: oslo.limit===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 308)) (2.0.1)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 309)) (5.0.0)
Requirement already satisfied: oslo.messaging===14.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 310)) (14.0.0)
Requirement already satisfied: oslo.metrics===0.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 311)) (0.5.0)
Requirement already satisfied: oslo.middleware===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 312)) (5.0.0)
Requirement already satisfied: oslo.policy===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 313)) (4.0.0)
Requirement already satisfied: oslo.reports===2.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 315)) (2.4.0)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 317)) (5.0.0)
Requirement already satisfied: oslo.service===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (3.0.0)
Requirement already satisfied: oslo.upgradecheck===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 319)) (2.0.0)
Requirement already satisfied: oslo.utils===6.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 320)) (6.1.0)
Requirement already satisfied: osprofiler===3.4.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 325)) (3.4.3)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 328)) (21.3)
Requirement already satisfied: pbr===5.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 332)) (5.11.0)
Requirement already satisfied: prettytable===3.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 341)) (3.4.1)
Requirement already satisfied: prometheus-client===0.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 343)) (0.14.1)
Requirement already satisfied: psutil===5.9.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 345)) (5.9.2)
Requirement already satisfied: pyOpenSSL===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 351)) (22.1.0)
Requirement already satisfied: pycadf===3.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 355)) (3.1.1)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 364)) (0.9.6)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (3.0.9)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 373)) (0.18.1)
Requirement already satisfied: python-barbicanclient===5.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 389)) (5.4.0)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 397)) (2.8.2)
Requirement already satisfied: python-keystoneclient===5.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 406)) (5.0.1)
Requirement already satisfied: pytz===2022.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 435)) (2022.4)
Requirement already satisfied: repoze.lru===0.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (0.7)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 447)) (2.28.1)
Requirement already satisfied: retrying===1.3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 458)) (1.3.3)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 460)) (1.5.0)
Requirement already satisfied: simplegeneric===0.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 481)) (0.8.1)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 483)) (1.16.0)
Requirement already satisfied: sqlalchemy-migrate===0.13.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 510)) (0.13.0)
Requirement already satisfied: sqlparse===0.4.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 511)) (0.4.3)
Requirement already satisfied: statsd===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 514)) (3.3.0)
Requirement already satisfied: stevedore===4.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 516)) (4.1.1)
Requirement already satisfied: taskflow===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 529)) (5.0.0)
Requirement already satisfied: tenacity===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 530)) (6.3.1)
Requirement already satisfied: testresources===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 533)) (2.0.1)
Requirement already satisfied: testscenarios===0.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 534)) (0.5.0)
Requirement already satisfied: testtools===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 535)) (2.5.0)
Requirement already satisfied: urllib3===1.26.12 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 561)) (1.26.12)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 571)) (0.2.5)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 576)) (1.14.1)
Requirement already satisfied: yappi===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 584)) (1.4.0)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 589)) (3.8.1)
Requirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (from Paste===3.5.2->-c /opt/stack/requirements/upper-constraints.txt (line 14)) (60.9.3)
Requirement already satisfied: importlib-resources; python_version < "3.9" in /usr/local/lib/python3.8/dist-packages (from alembic===1.8.1->-c /opt/stack/requirements/upper-constraints.txt (line 78)) (5.9.0)
Requirement already satisfied: Mako===1.2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 12)) (1.2.3)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 109)) (1.15.1)
Requirement already satisfied: dnspython===2.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 146)) (2.2.1)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: pkgutil-resolve-name>=1.3.10; python_version < "3.9" in /usr/local/lib/python3.8/dist-packages (from jsonschema===4.16.0->-c /opt/stack/requirements/upper-constraints.txt (line 222)) (1.3.10)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 150)) (1.1.8)
Requirement already satisfied: fasteners===0.18 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 165)) (0.18)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: openstacksdk===0.103.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 283)) (0.103.0)
Requirement already satisfied: cachetools===5.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 102)) (5.2.0)
Requirement already satisfied: amqp===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 79)) (5.1.1)
Requirement already satisfied: kombu===5.2.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 228)) (5.2.4)
Requirement already satisfied: Jinja2===3.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 10)) (3.1.2)
Requirement already satisfied: bcrypt===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 94)) (4.0.0)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 253)) (1.0.4)
Requirement already satisfied: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 167)) (4.0.1)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 261)) (0.11.0)
Requirement already satisfied: cliff===4.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 113)) (4.1.0)
Requirement already satisfied: idna===3.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 199)) (3.4)
Requirement already satisfied: charset-normalizer===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 111)) (2.1.1)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 447)) (2019.11.28)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (5.1.1)
Requirement already satisfied: Tempita===0.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 29)) (0.5.2)
Requirement already satisfied: automaton===3.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 92)) (3.0.1)
Requirement already satisfied: pydot===1.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 359)) (1.4.2)
Requirement already satisfied: networkx===2.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 263)) (2.8.7)
Requirement already satisfied: extras===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 163)) (1.0.0)
Requirement already satisfied: MarkupSafe===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 13)) (2.1.1)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 357)) (2.21)
Requirement already satisfied: appdirs===1.4.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 86)) (1.4.4)
Requirement already satisfied: jsonpatch===1.32 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 218)) (1.32)
Requirement already satisfied: jmespath===1.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 216)) (1.0.1)
Requirement already satisfied: requestsexceptions===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 455)) (1.4.0)
Requirement already satisfied: munch===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 254)) (2.5.0)
Requirement already satisfied: vine===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 563)) (5.0.0)
Requirement already satisfied: autopage===0.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 93)) (0.5.1)
Requirement already satisfied: cmd2===2.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 114)) (2.4.2)
Requirement already satisfied: jsonpointer===2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 221)) (2.3)
Requirement already satisfied: pyperclip===1.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 370)) (1.8.2)
Installing collected packages: glance
  Attempting uninstall: glance
    Found existing installation: glance 25.1.0.dev22
    Can't uninstall 'glance'. No files were found to uninstall.
  Running setup.py develop for glance
Successfully installed glance
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671853156798
+ functions-common:time_stop:2442          :   [[ -z 1671853156798 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853163133
+ functions-common:time_stop:2446          :   elapsed_time=6335
+ functions-common:time_stop:2447          :   total=39244
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=45579
+ inc/python:pip_install:199               :   return 0
+ inc/python:setup_package:444             :   [[ -e == \-\e ]]
+ inc/python:setup_package:445             :   safe_chown -R stack /opt/stack/glance/glance.egg-info
+ functions-common:safe_chown:2334         :   _safe_permission_operation chown -R stack /opt/stack/glance/glance.egg-info
+ functions-common:_safe_permission_operation:2159 :   local xtrace
++ functions-common:_safe_permission_operation:2160 :   set +o
++ functions-common:_safe_permission_operation:2160 :   grep xtrace
+ functions-common:_safe_permission_operation:2160 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2161 :   set +o xtrace
+ functions-common:_safe_permission_operation:2182 :   sudo chown -R stack /opt/stack/glance/glance.egg-info
+ inc/python:_setup_package_with_constraints_edit:390 :   use_library_from_git /opt/stack/glance
+ inc/python:use_library_from_git:246      :   local name=/opt/stack/glance
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,/opt/stack/glance, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:924                      :   configure_glance
+ lib/glance:configure_glance:323          :   sudo install -d -o stack /etc/glance /etc/glance/metadefs
+ lib/glance:configure_glance:326          :   local dburl
++ lib/glance:configure_glance:327          :   database_connection_url glance
++ lib/database:database_connection_url:134 :   local db=glance
++ lib/database:database_connection_url:135 :   database_connection_url_mysql glance
++ lib/databases/mysql:database_connection_url_mysql:237 :   local db=glance
++ lib/databases/mysql:database_connection_url_mysql:238 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:242 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:243 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:244 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:248 :   echo 'mysql+pymysql://root:****@127.0.0.1/glance?charset=utf8&plugin=dbcounter'
+ lib/glance:configure_glance:327          :   dburl='mysql+pymysql://root:****@127.0.0.1/glance?charset=utf8&plugin=dbcounter'
+ lib/glance:configure_glance:329          :   iniset /etc/glance/glance-api.conf DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:330          :   iniset /etc/glance/glance-api.conf database connection 'mysql+pymysql://root:****@127.0.0.1/glance?charset=utf8&plugin=dbcounter'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:331          :   iniset /etc/glance/glance-api.conf DEFAULT use_syslog False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:332          :   iniset /etc/glance/glance-api.conf DEFAULT image_cache_dir /opt/stack/data/glance/cache/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:333          :   iniset /etc/glance/glance-api.conf oslo_concurrency lock_path /opt/stack/data/glance/locks
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:334          :   iniset /etc/glance/glance-api.conf paste_deploy flavor keystone+cachemanagement
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:335          :   configure_keystone_authtoken_middleware /etc/glance/glance-api.conf glance
+ lib/keystone:configure_keystone_authtoken_middleware:447 :   local conf_file=/etc/glance/glance-api.conf
+ lib/keystone:configure_keystone_authtoken_middleware:448 :   local admin_user=glance
+ lib/keystone:configure_keystone_authtoken_middleware:449 :   local section=keystone_authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:451 :   iniset /etc/glance/glance-api.conf keystone_authtoken auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:452 :   iniset /etc/glance/glance-api.conf keystone_authtoken interface public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:453 :   iniset /etc/glance/glance-api.conf keystone_authtoken auth_url http://127.0.0.1/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:454 :   iniset /etc/glance/glance-api.conf keystone_authtoken username glance
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:455 :   iniset /etc/glance/glance-api.conf keystone_authtoken password ****
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:456 :   iniset /etc/glance/glance-api.conf keystone_authtoken user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:457 :   iniset /etc/glance/glance-api.conf keystone_authtoken project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:458 :   iniset /etc/glance/glance-api.conf keystone_authtoken project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:460 :   iniset /etc/glance/glance-api.conf keystone_authtoken cafile /opt/stack/data/ca-bundle.pem
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:461 :   iniset /etc/glance/glance-api.conf keystone_authtoken memcached_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:336          :   iniset /etc/glance/glance-api.conf oslo_messaging_notifications driver messagingv2
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:337          :   iniset_rpc_backend glance /etc/glance/glance-api.conf
+ lib/rpc_backend:iniset_rpc_backend:157   :   local package=glance
+ lib/rpc_backend:iniset_rpc_backend:158   :   local file=/etc/glance/glance-api.conf
+ lib/rpc_backend:iniset_rpc_backend:159   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:160   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:161   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:162   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:139    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:140    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ lib/rpc_backend:get_transport_url:141    :   echo rabbit://stackrabbit:****@127.0.0.1:5672/
+ lib/rpc_backend:iniset_rpc_backend:162   :   iniset /etc/glance/glance-api.conf DEFAULT transport_url rabbit://stackrabbit:****@127.0.0.1:5672/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/rpc_backend:iniset_rpc_backend:163   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:166   :   '[' -n '' ']'
+ lib/glance:configure_glance:338          :   '[' libvirt = libvirt ']'
+ lib/glance:configure_glance:338          :   '[' kvm = parallels ']'
+ lib/glance:configure_glance:342          :   iniset /etc/glance/glance-api.conf DEFAULT show_image_direct_url False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:343          :   iniset /etc/glance/glance-api.conf DEFAULT show_multiple_locations False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:346          :   configure_glance_store False False
+ lib/glance:configure_glance_store:252    :   local use_cinder_for_glance=False
+ lib/glance:configure_glance_store:253    :   local glance_enable_multiple_stores=False
+ lib/glance:configure_glance_store:254    :   local be
+ lib/glance:configure_glance_store:256    :   [[ False == \F\a\l\s\e ]]
+ lib/glance:configure_glance_store:258    :   [[ False == \T\r\u\e ]]
+ lib/glance:configure_glance_store:275    :   iniset /etc/glance/glance-api.conf glance_store filesystem_store_datadir /opt/stack/data/glance/images/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:349          :   '[' -n '' ']'
+ lib/glance:configure_glance:352          :   iniset /etc/glance/glance-api.conf cors allowed_origin http://127.0.0.1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:356          :   [[ False == \F\a\l\s\e ]]
+ lib/glance:configure_glance:358          :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/glance:configure_glance:380          :   iniset /etc/glance/glance-api.conf DEFAULT public_endpoint http://127.0.0.1/image
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:382          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/glance:configure_glance:388          :   setup_logging /etc/glance/glance-api.conf
+ functions:setup_logging:674              :   setup_systemd_logging /etc/glance/glance-api.conf
+ functions:setup_systemd_logging:689      :   local conf_file=/etc/glance/glance-api.conf
++ functions:setup_systemd_logging:694      :   trueorfalse False USE_JOURNAL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions:setup_systemd_logging:694      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:695      :   local pidstr=
+ functions:setup_systemd_logging:696      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:700      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:702      :   iniset /etc/glance/glance-api.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:704      :   iniset /etc/glance/glance-api.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:705      :   iniset /etc/glance/glance-api.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:706      :   iniset /etc/glance/glance-api.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:390          :   cp -p /opt/stack/glance/etc/glance-api-paste.ini /etc/glance/glance-api-paste.ini
+ lib/glance:configure_glance:393          :   iniset /etc/glance/glance-cache.conf DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:394          :   iniset /etc/glance/glance-cache.conf DEFAULT use_syslog False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:395          :   iniset /etc/glance/glance-cache.conf DEFAULT image_cache_dir /opt/stack/data/glance/cache/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:396          :   iniset /etc/glance/glance-cache.conf DEFAULT auth_url http://127.0.0.1/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:397          :   iniset /etc/glance/glance-cache.conf DEFAULT admin_tenant_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:398          :   iniset /etc/glance/glance-cache.conf DEFAULT admin_user glance
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:399          :   iniset /etc/glance/glance-cache.conf DEFAULT admin_password ****
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:402          :   iniset /etc/glance/glance-cache.conf glance_store filesystem_store_datadir /opt/stack/data/glance/images/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:405          :   iniset /etc/glance/glance-image-import.conf image_import_opts image_import_plugins '[]'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:406          :   iniset /etc/glance/glance-image-import.conf inject_metadata_properties ignore_user_roles admin
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:407          :   iniset /etc/glance/glance-image-import.conf inject_metadata_properties inject
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:409          :   cp -p /opt/stack/glance/etc/schema-image.json /etc/glance/schema-image.json
+ lib/glance:configure_glance:411          :   cp -p /opt/stack/glance/etc/metadefs/cim-processor-allocation-setting-data.json /opt/stack/glance/etc/metadefs/cim-resource-allocation-setting-data.json /opt/stack/glance/etc/metadefs/cim-storage-allocation-setting-data.json /opt/stack/glance/etc/metadefs/cim-virtual-system-setting-data.json /opt/stack/glance/etc/metadefs/compute-aggr-disk-filter.json /opt/stack/glance/etc/metadefs/compute-aggr-iops-filter.json /opt/stack/glance/etc/metadefs/compute-aggr-num-instances.json /opt/stack/glance/etc/metadefs/compute-cpu-mode.json /opt/stack/glance/etc/metadefs/compute-cpu-pinning.json /opt/stack/glance/etc/metadefs/compute-guest-memory-backing.json /opt/stack/glance/etc/metadefs/compute-guest-shutdown.json /opt/stack/glance/etc/metadefs/compute-host-capabilities.json /opt/stack/glance/etc/metadefs/compute-hypervisor.json /opt/stack/glance/etc/metadefs/compute-instance-data.json /opt/stack/glance/etc/metadefs/compute-libvirt-image.json /opt/stack/glance/etc/metadefs/compute-libvirt.json /opt/stack/glance/etc/metadefs/compute-quota.json /opt/stack/glance/etc/metadefs/compute-randomgen.json /opt/stack/glance/etc/metadefs/compute-vcputopology.json /opt/stack/glance/etc/metadefs/compute-vmware-flavor.json /opt/stack/glance/etc/metadefs/compute-vmware.json /opt/stack/glance/etc/metadefs/compute-vmware-quota-flavor.json /opt/stack/glance/etc/metadefs/compute-vtpm-hw.json /opt/stack/glance/etc/metadefs/compute-vtpm.json /opt/stack/glance/etc/metadefs/compute-watchdog.json /opt/stack/glance/etc/metadefs/compute-xenapi.json /opt/stack/glance/etc/metadefs/glance-common-image-props.json /opt/stack/glance/etc/metadefs/image-signature-verification.json /opt/stack/glance/etc/metadefs/operating-system.json /opt/stack/glance/etc/metadefs/software-databases.json /opt/stack/glance/etc/metadefs/software-runtimes.json /opt/stack/glance/etc/metadefs/software-webservers.json /opt/stack/glance/etc/metadefs/storage-volume-type.json /etc/glance/metadefs
+ lib/glance:configure_glance:413          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/glance:configure_glance:421          :   [[ False == False ]]
+ lib/glance:configure_glance:422          :   write_local_uwsgi_http_config /etc/glance/glance-uwsgi.ini /usr/local/bin/glance-wsgi-api /image
+ lib/apache:write_local_uwsgi_http_config:319 :   local file=/etc/glance/glance-uwsgi.ini
+ lib/apache:write_local_uwsgi_http_config:320 :   local wsgi=/usr/local/bin/glance-wsgi-api
+ lib/apache:write_local_uwsgi_http_config:321 :   local url=/image
++ lib/apache:write_local_uwsgi_http_config:322 :   basename /usr/local/bin/glance-wsgi-api
+ lib/apache:write_local_uwsgi_http_config:322 :   name=glance-wsgi-api
+ lib/apache:write_local_uwsgi_http_config:328 :   rm -rf /etc/glance/glance-uwsgi.ini
+ lib/apache:write_local_uwsgi_http_config:329 :   iniset /etc/glance/glance-uwsgi.ini uwsgi wsgi-file /usr/local/bin/glance-wsgi-api
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/apache:write_local_uwsgi_http_config:330 :   get_random_port
++ functions:get_random_port:836            :   read lower_port upper_port
++ functions:get_random_port:837            :   true
++ functions:get_random_port:838            :   (( port = upper_port  ))
++ functions:get_random_port:838            :   (( port >= lower_port  ))
++ functions:get_random_port:839            :   sudo lsof -i :60999
++ functions:get_random_port:840            :   [[ 1 > 0 ]]
++ functions:get_random_port:841            :   break 2
++ functions:get_random_port:845            :   echo 60999
+ lib/apache:write_local_uwsgi_http_config:330 :   port=60999
+ lib/apache:write_local_uwsgi_http_config:331 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-socket 127.0.0.1:60999
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:332 :   iniset /etc/glance/glance-uwsgi.ini uwsgi processes 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:334 :   iniset /etc/glance/glance-uwsgi.ini uwsgi master true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:336 :   iniset /etc/glance/glance-uwsgi.ini uwsgi die-on-term true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:337 :   iniset /etc/glance/glance-uwsgi.ini uwsgi exit-on-reload false
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:338 :   iniset /etc/glance/glance-uwsgi.ini uwsgi enable-threads true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:339 :   iniset /etc/glance/glance-uwsgi.ini uwsgi plugins http,python3
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:341 :   iniset /etc/glance/glance-uwsgi.ini uwsgi thunder-lock true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:343 :   iniset /etc/glance/glance-uwsgi.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:346 :   iniset /etc/glance/glance-uwsgi.ini uwsgi worker-reload-mercy 90
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:348 :   iniset /etc/glance/glance-uwsgi.ini uwsgi buffer-size 65535
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:350 :   iniset /etc/glance/glance-uwsgi.ini uwsgi add-header 'Connection: close'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:352 :   iniset /etc/glance/glance-uwsgi.ini uwsgi lazy-apps true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:353 :   iniset /etc/glance/glance-uwsgi.ini uwsgi chmod-socket 666
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:354 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-raw-body true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:355 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-chunked-input true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:356 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-auto-chunked true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:357 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-keepalive false
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:359 :   iniset /etc/glance/glance-uwsgi.ini uwsgi socket-timeout 30
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:361 :   enable_apache_mod proxy
+ lib/apache:enable_apache_mod:59          :   local mod=proxy
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ proxy != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_mod:64          :   a2query -m proxy
proxy (enabled by site administrator)
+ lib/apache:write_local_uwsgi_http_config:362 :   enable_apache_mod proxy_http
+ lib/apache:enable_apache_mod:59          :   local mod=proxy_http
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ proxy_http != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_mod:64          :   a2query -m proxy_http
proxy_http (enabled by site administrator)
+ lib/apache:write_local_uwsgi_http_config:363 :   local apache_conf=
++ lib/apache:write_local_uwsgi_http_config:364 :   apache_site_config_for glance-wsgi-api
++ lib/apache:apache_site_config_for:186    :   local site=glance-wsgi-api
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:575           :   [[ -z deb ]]
++ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/glance-wsgi-api.conf
+ lib/apache:write_local_uwsgi_http_config:364 :   apache_conf=/etc/apache2/sites-available/glance-wsgi-api.conf
+ lib/apache:write_local_uwsgi_http_config:365 :   echo 'KeepAlive Off'
+ lib/apache:write_local_uwsgi_http_config:365 :   sudo tee /etc/apache2/sites-available/glance-wsgi-api.conf
KeepAlive Off
+ lib/apache:write_local_uwsgi_http_config:366 :   echo 'SetEnv proxy-sendchunked 1'
+ lib/apache:write_local_uwsgi_http_config:366 :   sudo tee -a /etc/apache2/sites-available/glance-wsgi-api.conf
SetEnv proxy-sendchunked 1
+ lib/apache:write_local_uwsgi_http_config:367 :   echo 'ProxyPass "/image" "http://127.0.0.1:60999" retry=0 '
+ lib/apache:write_local_uwsgi_http_config:367 :   sudo tee -a /etc/apache2/sites-available/glance-wsgi-api.conf
ProxyPass "/image" "http://127.0.0.1:60999" retry=0 
+ lib/apache:write_local_uwsgi_http_config:368 :   enable_apache_site glance-wsgi-api
+ lib/apache:enable_apache_site:203        :   local site=glance-wsgi-api
+ lib/apache:enable_apache_site:205        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:59          :   local mod=version
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:206        :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:207        :   sudo a2ensite glance-wsgi-api
Site glance-wsgi-api already enabled
+ lib/apache:write_local_uwsgi_http_config:369 :   restart_apache_server
+ lib/apache:restart_apache_server:250     :   restart_service apache2
+ functions-common:restart_service:2317    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2318    :   sudo /bin/systemctl restart apache2
++ lib/glance:configure_glance:425          :   awk '-F= ' '/^http-socket/ { print "http://"$2}' /etc/glance/glance-uwsgi.ini
+ lib/glance:configure_glance:425          :   iniset /etc/glance/glance-api.conf DEFAULT worker_self_reference_url http://127.0.0.1:60999
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:435          :   [[ False == True ]]
+ lib/glance:configure_glance:435          :   [[ False == True ]]
+ ./stack.sh:main:927                      :   is_service_enabled cinder
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./stack.sh:main:929                      :   stack_install_service cinder
+ lib/stack:stack_install_service:20       :   local service=cinder
+ lib/stack:stack_install_service:21       :   type install_cinder
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_cinder
+ lib/cinder:install_cinder:502            :   git_clone https://opendev.org/openstack/cinder.git /opt/stack/cinder master
+ functions-common:git_clone:612           :   local git_remote=https://opendev.org/openstack/cinder.git
+ functions-common:git_clone:613           :   local git_dest=/opt/stack/cinder
+ functions-common:git_clone:614           :   local git_ref=master
+ functions-common:git_clone:615           :   local orig_dir
++ functions-common:git_clone:616           :   pwd
+ functions-common:git_clone:616           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:617           :   local git_clone_flags=
++ functions-common:git_clone:619           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   set +o
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:619           :   RECLONE=False
+ functions-common:git_clone:620           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:624           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:633           :   echo master
+ functions-common:git_clone:633           :   egrep -q '^refs'
+ functions-common:git_clone:647           :   [[ ! -d /opt/stack/cinder ]]
+ functions-common:git_clone:648           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:654           :   git_timed clone https://opendev.org/openstack/cinder.git /opt/stack/cinder --branch master
+ functions-common:git_timed:718           :   local count=0
+ functions-common:git_timed:719           :   local timeout=0
+ functions-common:git_timed:721           :   [[ -n 0 ]]
+ functions-common:git_timed:722           :   timeout=0
+ functions-common:git_timed:725           :   time_start git_timed
+ functions-common:time_start:2419         :   local name=git_timed
+ functions-common:time_start:2420         :   local start_time=
+ functions-common:time_start:2421         :   [[ -n '' ]]
++ functions-common:time_start:2424         :   date +%s%3N
+ functions-common:time_start:2424         :   _TIME_START[$name]=1671853166512
+ functions-common:git_timed:726           :   timeout -s SIGINT 0 git clone https://opendev.org/openstack/cinder.git /opt/stack/cinder --branch master
Cloning into '/opt/stack/cinder'...
+ functions-common:git_timed:740           :   time_stop git_timed
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=git_timed
+ functions-common:time_stop:2440          :   start_time=1671853166512
+ functions-common:time_stop:2442          :   [[ -z 1671853166512 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853333736
+ functions-common:time_stop:2446          :   elapsed_time=167224
+ functions-common:time_stop:2447          :   total=124431
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=291655
+ functions-common:git_clone:690           :   sudo git config --system --add safe.directory /opt/stack/cinder
+ functions-common:git_clone:693           :   cd /opt/stack/cinder
+ functions-common:git_clone:694           :   git show --oneline
+ functions-common:git_clone:694           :   head -1
d110b26a5 Get ready for tox 4
+ functions-common:git_clone:695           :   cd /opt/stack/devstack
+ lib/cinder:install_cinder:503            :   setup_develop /opt/stack/cinder
+ inc/python:setup_develop:334             :   local bindep
+ inc/python:setup_develop:335             :   [[ /opt/stack/cinder == -bindep* ]]
+ inc/python:setup_develop:339             :   local project_dir=/opt/stack/cinder
+ inc/python:setup_develop:340             :   local extras=
+ inc/python:setup_develop:341             :   _setup_package_with_constraints_edit /opt/stack/cinder -e
+ inc/python:_setup_package_with_constraints_edit:360 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:361 :   [[ /opt/stack/cinder == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:365 :   local project_dir=/opt/stack/cinder
+ inc/python:_setup_package_with_constraints_edit:366 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:367 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:374 :   cd /opt/stack/cinder
++ inc/python:_setup_package_with_constraints_edit:374 :   pwd
+ inc/python:_setup_package_with_constraints_edit:374 :   project_dir=/opt/stack/cinder
+ inc/python:_setup_package_with_constraints_edit:376 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:380 :   local name
++ inc/python:_setup_package_with_constraints_edit:381 :   awk '/^name.*=/ {print $3}' /opt/stack/cinder/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:381 :   name=cinder
+ inc/python:_setup_package_with_constraints_edit:383 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- cinder
+ inc/python:_setup_package_with_constraints_edit:386 :   setup_package /opt/stack/cinder -e
+ inc/python:setup_package:414             :   local bindep=0
+ inc/python:setup_package:415             :   local bindep_flag=
+ inc/python:setup_package:416             :   local bindep_profiles=
+ inc/python:setup_package:417             :   [[ /opt/stack/cinder == -bindep* ]]
+ inc/python:setup_package:422             :   local project_dir=/opt/stack/cinder
+ inc/python:setup_package:423             :   local flags=-e
+ inc/python:setup_package:424             :   local extras=
+ inc/python:setup_package:428             :   [[ -n -e ]]
+ inc/python:setup_package:428             :   [[ -z '' ]]
+ inc/python:setup_package:428             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:433             :   [[ ! -z '' ]]
+ inc/python:setup_package:438             :   [[ 0 == 1 ]]
+ inc/python:setup_package:442             :   pip_install -e /opt/stack/cinder
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   grep xtrace
++ inc/python:pip_install:129               :   set +o
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/cinder
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -e /opt/stack/cinder
Obtaining file:///opt/stack/cinder
Requirement already satisfied: Paste===3.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 14)) (3.5.2)
Requirement already satisfied: PasteDeploy===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 15)) (2.1.1)
Requirement already satisfied: Routes===2.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 24)) (2.5.1)
Requirement already satisfied: SQLAlchemy===1.4.41 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 25)) (1.4.41)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 32)) (1.8.7)
Requirement already satisfied: boto3===1.24.89 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 100)) (1.24.89)
Requirement already satisfied: botocore===1.27.89 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 101)) (1.27.89)
Requirement already satisfied: castellan===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 106)) (4.0.0)
Requirement already satisfied: cryptography===38.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 125)) (38.0.2)
Requirement already satisfied: cursive===0.2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 126)) (0.2.3)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (5.1.1)
Requirement already satisfied: eventlet===0.33.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 160)) (0.33.1)
Requirement already satisfied: google-api-python-client===2.64.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 180)) (2.64.0)
Requirement already satisfied: google-auth===2.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 181)) (2.12.0)
Requirement already satisfied: google-auth-httplib2===0.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 182)) (0.1.0)
Requirement already satisfied: greenlet===1.1.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 186)) (1.1.3)
Requirement already satisfied: httplib2===0.20.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 194)) (0.20.4)
Requirement already satisfied: importlib-metadata===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 203)) (5.0.0)
Requirement already satisfied: iso8601===1.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 210)) (1.1.0)
Requirement already satisfied: jmespath===1.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 216)) (1.0.1)
Requirement already satisfied: jsonschema===4.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (4.16.0)
Requirement already satisfied: keystoneauth1===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 226)) (5.1.0)
Requirement already satisfied: keystonemiddleware===10.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 227)) (10.1.0)
Requirement already satisfied: lxml===4.9.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 239)) (4.9.1)
Requirement already satisfied: oauth2client===4.1.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 276)) (4.1.3)
Requirement already satisfied: os-brick===6.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 287)) (6.1.0)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 294)) (1.7.0)
Requirement already satisfied: os-win===5.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 298)) (5.8.0)
Requirement already satisfied: oslo.cache===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 302)) (3.3.0)
Requirement already satisfied: oslo.concurrency===5.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (5.0.1)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 304)) (9.0.0)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (5.0.0)
Requirement already satisfied: oslo.db===12.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 306)) (12.2.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 307)) (5.1.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 309)) (5.0.0)
Requirement already satisfied: oslo.messaging===14.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 310)) (14.0.0)
Requirement already satisfied: oslo.metrics===0.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 311)) (0.5.0)
Requirement already satisfied: oslo.middleware===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 312)) (5.0.0)
Requirement already satisfied: oslo.policy===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 313)) (4.0.0)
Requirement already satisfied: oslo.privsep===3.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 314)) (3.0.1)
Requirement already satisfied: oslo.reports===2.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 315)) (2.4.0)
Requirement already satisfied: oslo.rootwrap===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 316)) (6.3.1)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 317)) (5.0.0)
Requirement already satisfied: oslo.service===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (3.0.0)
Requirement already satisfied: oslo.upgradecheck===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 319)) (2.0.0)
Requirement already satisfied: oslo.utils===6.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 320)) (6.1.0)
Requirement already satisfied: oslo.versionedobjects===3.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 321)) (3.0.1)
Requirement already satisfied: oslo.vmware===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 322)) (4.0.1)
Requirement already satisfied: osprofiler===3.4.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 325)) (3.4.3)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 328)) (21.3)
Requirement already satisfied: paramiko===2.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 330)) (2.11.0)
Requirement already satisfied: pbr===5.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 332)) (5.11.0)
Requirement already satisfied: prettytable===3.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 341)) (3.4.1)
Requirement already satisfied: prometheus-client===0.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 343)) (0.14.1)
Requirement already satisfied: psutil===5.9.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 345)) (5.9.2)
Requirement already satisfied: pyasn1===0.4.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 353)) (0.4.8)
Requirement already satisfied: pyasn1-modules===0.2.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 354)) (0.2.8)
Requirement already satisfied: pycadf===3.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 355)) (3.1.1)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 364)) (0.9.6)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (3.0.9)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 373)) (0.18.1)
Requirement already satisfied: python-barbicanclient===5.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 389)) (5.4.0)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 397)) (2.8.2)
Requirement already satisfied: python-glanceclient===4.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 400)) (4.2.0)
Requirement already satisfied: python-keystoneclient===5.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 406)) (5.0.1)
Requirement already satisfied: python-novaclient===18.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 417)) (18.2.0)
Requirement already satisfied: python-swiftclient===4.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 428)) (4.1.0)
Requirement already satisfied: pytz===2022.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 435)) (2022.4)
Requirement already satisfied: repoze.lru===0.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (0.7)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 447)) (2.28.1)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 460)) (1.5.0)
Requirement already satisfied: rsa===4.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 462)) (4.9)
Requirement already satisfied: rtslib-fb===2.1.75 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 465)) (2.1.75)
Requirement already satisfied: s3transfer===0.6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 469)) (0.6.0)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 483)) (1.16.0)
Requirement already satisfied: sqlalchemy-migrate===0.13.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 510)) (0.13.0)
Requirement already satisfied: sqlparse===0.4.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 511)) (0.4.3)
Requirement already satisfied: statsd===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 514)) (3.3.0)
Requirement already satisfied: stevedore===4.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 516)) (4.1.1)
Requirement already satisfied: suds-community===1.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 521)) (1.1.2)
Requirement already satisfied: tabulate===0.9.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 526)) (0.9.0)
Requirement already satisfied: taskflow===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 529)) (5.0.0)
Requirement already satisfied: tenacity===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 530)) (6.3.1)
Requirement already satisfied: testresources===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 533)) (2.0.1)
Requirement already satisfied: testscenarios===0.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 534)) (0.5.0)
Requirement already satisfied: testtools===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 535)) (2.5.0)
Requirement already satisfied: tooz===3.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 544)) (3.2.0)
Requirement already satisfied: uritemplate===4.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 560)) (4.1.1)
Requirement already satisfied: urllib3===1.26.12 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 561)) (1.26.12)
Requirement already satisfied: voluptuous===0.13.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 567)) (0.13.1)
Requirement already satisfied: warlock===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 570)) (2.0.1)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 571)) (0.2.5)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 576)) (1.14.1)
Requirement already satisfied: yappi===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 584)) (1.4.0)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 589)) (3.8.1)
Requirement already satisfied: zstd===127.0.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 590)) (127.0.0.1)
Requirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (from Paste===3.5.2->-c /opt/stack/requirements/upper-constraints.txt (line 14)) (60.9.3)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 109)) (1.15.1)
Requirement already satisfied: dnspython===2.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 146)) (2.2.1)
Requirement already satisfied: google-api-core===2.10.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 179)) (2.10.2)
Requirement already satisfied: cachetools===5.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 102)) (5.2.0)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: importlib-resources>=1.4.0; python_version < "3.9" in /usr/local/lib/python3.8/dist-packages (from jsonschema===4.16.0->-c /opt/stack/requirements/upper-constraints.txt (line 222)) (5.9.0)
Requirement already satisfied: pkgutil-resolve-name>=1.3.10; python_version < "3.9" in /usr/local/lib/python3.8/dist-packages (from jsonschema===4.16.0->-c /opt/stack/requirements/upper-constraints.txt (line 222)) (1.3.10)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 150)) (1.1.8)
Requirement already satisfied: fasteners===0.18 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 165)) (0.18)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 129)) (2.5.0)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.8.0)
Requirement already satisfied: alembic===1.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 78)) (1.8.1)
Requirement already satisfied: amqp===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 79)) (5.1.1)
Requirement already satisfied: futurist===2.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 172)) (2.4.1)
Requirement already satisfied: kombu===5.2.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 228)) (5.2.4)
Requirement already satisfied: bcrypt===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 94)) (4.0.0)
Requirement already satisfied: Jinja2===3.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 10)) (3.1.2)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 253)) (1.0.4)
Requirement already satisfied: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 167)) (4.0.1)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 261)) (0.11.0)
Requirement already satisfied: PyNaCl===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 21)) (1.5.0)
Requirement already satisfied: cliff===4.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 113)) (4.1.0)
Requirement already satisfied: pyOpenSSL===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 351)) (22.1.0)
Requirement already satisfied: idna===3.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 199)) (3.4)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 447)) (2019.11.28)
Requirement already satisfied: charset-normalizer===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 111)) (2.1.1)
Requirement already satisfied: pyudev===0.24.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 437)) (0.24.0)
Requirement already satisfied: Tempita===0.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 29)) (0.5.2)
Requirement already satisfied: networkx===2.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 263)) (2.8.7)
Requirement already satisfied: automaton===3.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 92)) (3.0.1)
Requirement already satisfied: pydot===1.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 359)) (1.4.2)
Requirement already satisfied: extras===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 163)) (1.0.0)
Requirement already satisfied: jsonpatch===1.32 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 218)) (1.32)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 357)) (2.21)
Requirement already satisfied: protobuf===4.21.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 344)) (4.21.7)
Requirement already satisfied: googleapis-common-protos===1.56.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 183)) (1.56.4)
Requirement already satisfied: Mako===1.2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 12)) (1.2.3)
Requirement already satisfied: vine===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 563)) (5.0.0)
Requirement already satisfied: MarkupSafe===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 13)) (2.1.1)
Requirement already satisfied: autopage===0.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 93)) (0.5.1)
Requirement already satisfied: cmd2===2.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 114)) (2.4.2)
Requirement already satisfied: jsonpointer===2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 221)) (2.3)
Requirement already satisfied: pyperclip===1.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 370)) (1.8.2)
Installing collected packages: cinder
  Attempting uninstall: cinder
    Found existing installation: cinder 21.1.0.dev62
    Can't uninstall 'cinder'. No files were found to uninstall.
  Running setup.py develop for cinder
Successfully installed cinder
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=pip_install
+ functions-common:time_stop:2440          :   start_time=1671853334178
+ functions-common:time_stop:2442          :   [[ -z 1671853334178 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853341405
+ functions-common:time_stop:2446          :   elapsed_time=7227
+ functions-common:time_stop:2447          :   total=45579
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=52806
+ inc/python:pip_install:199               :   return 0
+ inc/python:setup_package:444             :   [[ -e == \-\e ]]
+ inc/python:setup_package:445             :   safe_chown -R stack /opt/stack/cinder/cinder.egg-info
+ functions-common:safe_chown:2334         :   _safe_permission_operation chown -R stack /opt/stack/cinder/cinder.egg-info
+ functions-common:_safe_permission_operation:2159 :   local xtrace
++ functions-common:_safe_permission_operation:2160 :   set +o
++ functions-common:_safe_permission_operation:2160 :   grep xtrace
+ functions-common:_safe_permission_operation:2160 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2161 :   set +o xtrace
+ functions-common:_safe_permission_operation:2182 :   sudo chown -R stack /opt/stack/cinder/cinder.egg-info
+ inc/python:_setup_package_with_constraints_edit:390 :   use_library_from_git /opt/stack/cinder
+ inc/python:use_library_from_git:246      :   local name=/opt/stack/cinder
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,/opt/stack/cinder, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/cinder:install_cinder:504            :   [[ lioadm == \t\g\t\a\d\m ]]
+ lib/cinder:install_cinder:506            :   [[ lioadm == \l\i\o\a\d\m ]]
+ lib/cinder:install_cinder:507            :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/cinder:install_cinder:509            :   sudo mkdir -p /etc/target
+ lib/cinder:install_cinder:511            :   install_package targetcli-fb
+ functions-common:install_package:1457    :   update_package_repo
+ functions-common:update_package_repo:1429 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1430 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1431 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1433 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1437 :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1438 :   apt_get_update
+ functions-common:apt_get_update:1183     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1183     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1184     :   return
+ functions-common:install_package:1458    :   real_install_package targetcli-fb
+ functions-common:real_install_package:1443 :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ functions-common:real_install_package:1444 :   apt_get install targetcli-fb
+ functions-common:apt_get:1211            :   local xtrace result
++ functions-common:apt_get:1212            :   set +o
++ functions-common:apt_get:1212            :   grep xtrace
+ functions-common:apt_get:1212            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1213            :   set +o xtrace
+ functions-common:apt_get:1224            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install targetcli-fb
Reading package lists...
Building dependency tree...
Reading state information...
targetcli-fb is already the newest version (1:2.1.51-0ubuntu1).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 206 not upgraded.
+ functions-common:apt_get:1228            :   result=0
+ functions-common:apt_get:1231            :   time_stop apt-get
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=apt-get
+ functions-common:time_stop:2440          :   start_time=1671853341573
+ functions-common:time_stop:2442          :   [[ -z 1671853341573 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853342245
+ functions-common:time_stop:2446          :   elapsed_time=672
+ functions-common:time_stop:2447          :   total=80412
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=81084
+ functions-common:apt_get:1232            :   return 0
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:930                      :   configure_cinder
+ lib/cinder:configure_cinder:277          :   sudo install -d -o stack -m 755 /etc/cinder
+ lib/cinder:configure_cinder:279          :   rm -f /etc/cinder/cinder.conf
+ lib/cinder:configure_cinder:281          :   configure_rootwrap cinder
+ inc/rootwrap:configure_rootwrap:43       :   local project=cinder
+ inc/rootwrap:configure_rootwrap:44       :   local project_uc
++ inc/rootwrap:configure_rootwrap:45       :   echo cinder
++ inc/rootwrap:configure_rootwrap:45       :   tr a-z A-Z
+ inc/rootwrap:configure_rootwrap:45       :   project_uc=CINDER
+ inc/rootwrap:configure_rootwrap:46       :   local bin_dir=CINDER_BIN_DIR
+ inc/rootwrap:configure_rootwrap:47       :   bin_dir=/usr/local/bin
+ inc/rootwrap:configure_rootwrap:48       :   local project_dir=CINDER_DIR
+ inc/rootwrap:configure_rootwrap:49       :   project_dir=/opt/stack/cinder
+ inc/rootwrap:configure_rootwrap:51       :   local rootwrap_conf_src_dir=/opt/stack/cinder/etc/cinder
+ inc/rootwrap:configure_rootwrap:52       :   local rootwrap_bin=/usr/local/bin/cinder-rootwrap
+ inc/rootwrap:configure_rootwrap:55       :   sudo rm -rf /etc/cinder/rootwrap.d
+ inc/rootwrap:configure_rootwrap:56       :   sudo install -d -o root -g root -m 755 /etc/cinder/rootwrap.d
+ inc/rootwrap:configure_rootwrap:57       :   sudo install -o root -g root -m 644 /opt/stack/cinder/etc/cinder/rootwrap.d/volume.filters /etc/cinder/rootwrap.d
+ inc/rootwrap:configure_rootwrap:60       :   sudo install -o root -g root -m 644 /opt/stack/cinder/etc/cinder/rootwrap.conf /etc/cinder/rootwrap.conf
+ inc/rootwrap:configure_rootwrap:61       :   sudo sed -e 's:^filters_path=.*$:filters_path=/etc/cinder/rootwrap.d:' -i /etc/cinder/rootwrap.conf
+ inc/rootwrap:configure_rootwrap:64       :   local tempfile
++ inc/rootwrap:configure_rootwrap:65       :   mktemp
+ inc/rootwrap:configure_rootwrap:65       :   tempfile=/tmp/tmp.jzCNrMGR2i
+ inc/rootwrap:configure_rootwrap:67       :   rootwrap_sudo_cmd='/usr/local/bin/cinder-rootwrap /etc/cinder/rootwrap.conf *'
+ inc/rootwrap:configure_rootwrap:68       :   echo 'stack ALL=(root) NOPASSWD: /usr/local/bin/cinder-rootwrap /etc/cinder/rootwrap.conf *'
+ inc/rootwrap:configure_rootwrap:69       :   '[' -f /usr/local/bin/cinder-rootwrap-daemon ']'
+ inc/rootwrap:configure_rootwrap:74       :   chmod 0440 /tmp/tmp.jzCNrMGR2i
+ inc/rootwrap:configure_rootwrap:75       :   sudo chown root:root /tmp/tmp.jzCNrMGR2i
+ inc/rootwrap:configure_rootwrap:76       :   sudo mv /tmp/tmp.jzCNrMGR2i /etc/sudoers.d/cinder-rootwrap
++ inc/rootwrap:configure_rootwrap:80       :   dirname /usr/local/bin/cinder-rootwrap
+ inc/rootwrap:configure_rootwrap:80       :   add_sudo_secure_path /usr/local/bin
+ inc/rootwrap:add_sudo_secure_path:21     :   local dir=/usr/local/bin
+ inc/rootwrap:add_sudo_secure_path:22     :   local line
+ inc/rootwrap:add_sudo_secure_path:25     :   [[ -r /etc/sudoers.d/zz-secure-path ]]
+ inc/rootwrap:add_sudo_secure_path:28     :   line='Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin'
+ inc/rootwrap:add_sudo_secure_path:32     :   [[ ! Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin =~ /usr/local/bin ]]
+ lib/cinder:configure_cinder:283          :   [[ -f /opt/stack/cinder/etc/cinder/resource_filters.json ]]
+ lib/cinder:configure_cinder:284          :   cp -p /opt/stack/cinder/etc/cinder/resource_filters.json /etc/cinder/resource_filters.json
+ lib/cinder:configure_cinder:287          :   cp /opt/stack/cinder/etc/cinder/api-paste.ini /etc/cinder/api-paste.ini
+ lib/cinder:configure_cinder:289          :   inicomment /etc/cinder/api-paste.ini filter:authtoken auth_host
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:290          :   inicomment /etc/cinder/api-paste.ini filter:authtoken auth_port
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:291          :   inicomment /etc/cinder/api-paste.ini filter:authtoken auth_protocol
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:292          :   inicomment /etc/cinder/api-paste.ini filter:authtoken cafile
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:293          :   inicomment /etc/cinder/api-paste.ini filter:authtoken admin_tenant_name
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:294          :   inicomment /etc/cinder/api-paste.ini filter:authtoken admin_user
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   grep xtrace
++ inc/ini-config:inicomment:43             :   set +o
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:295          :   inicomment /etc/cinder/api-paste.ini filter:authtoken admin_password
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:296          :   inicomment /etc/cinder/api-paste.ini filter:authtoken signing_dir
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   grep xtrace
++ inc/ini-config:inicomment:43             :   set +o
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:298          :   configure_keystone_authtoken_middleware /etc/cinder/cinder.conf cinder
+ lib/keystone:configure_keystone_authtoken_middleware:447 :   local conf_file=/etc/cinder/cinder.conf
+ lib/keystone:configure_keystone_authtoken_middleware:448 :   local admin_user=cinder
+ lib/keystone:configure_keystone_authtoken_middleware:449 :   local section=keystone_authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:451 :   iniset /etc/cinder/cinder.conf keystone_authtoken auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:452 :   iniset /etc/cinder/cinder.conf keystone_authtoken interface public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:453 :   iniset /etc/cinder/cinder.conf keystone_authtoken auth_url http://127.0.0.1/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:454 :   iniset /etc/cinder/cinder.conf keystone_authtoken username cinder
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:455 :   iniset /etc/cinder/cinder.conf keystone_authtoken password ****
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:456 :   iniset /etc/cinder/cinder.conf keystone_authtoken user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:457 :   iniset /etc/cinder/cinder.conf keystone_authtoken project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:458 :   iniset /etc/cinder/cinder.conf keystone_authtoken project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:460 :   iniset /etc/cinder/cinder.conf keystone_authtoken cafile /opt/stack/data/ca-bundle.pem
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:461 :   iniset /etc/cinder/cinder.conf keystone_authtoken memcached_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:300          :   iniset /etc/cinder/cinder.conf DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:302          :   iniset /etc/cinder/cinder.conf DEFAULT target_helper lioadm
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/cinder:configure_cinder:303          :   database_connection_url cinder
++ lib/database:database_connection_url:134 :   local db=cinder
++ lib/database:database_connection_url:135 :   database_connection_url_mysql cinder
++ lib/databases/mysql:database_connection_url_mysql:237 :   local db=cinder
++ lib/databases/mysql:database_connection_url_mysql:238 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:242 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:243 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:244 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:248 :   echo 'mysql+pymysql://root:****@127.0.0.1/cinder?charset=utf8&plugin=dbcounter'
+ lib/cinder:configure_cinder:303          :   iniset /etc/cinder/cinder.conf database connection 'mysql+pymysql://root:****@127.0.0.1/cinder?charset=utf8&plugin=dbcounter'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:304          :   iniset /etc/cinder/cinder.conf DEFAULT api_paste_config /etc/cinder/api-paste.ini
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:305          :   iniset /etc/cinder/cinder.conf DEFAULT rootwrap_config /etc/cinder/rootwrap.conf
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:306          :   iniset /etc/cinder/cinder.conf DEFAULT osapi_volume_extension cinder.api.contrib.standard_extensions
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:307          :   iniset /etc/cinder/cinder.conf DEFAULT osapi_volume_listen 127.0.0.1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:308          :   iniset /etc/cinder/cinder.conf DEFAULT state_path /opt/stack/data/cinder
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:309          :   iniset /etc/cinder/cinder.conf oslo_concurrency lock_path /opt/stack/data/cinder
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:310          :   iniset /etc/cinder/cinder.conf DEFAULT my_ip 127.0.0.1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:311          :   iniset /etc/cinder/cinder.conf key_manager backend cinder.keymgr.conf_key_mgr.ConfKeyManager
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/cinder:configure_cinder:312          :   openssl rand -hex 16
+ lib/cinder:configure_cinder:312          :   iniset /etc/cinder/cinder.conf key_manager fixed_key e2659dab2a99d10f968a424b636fead9
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:313          :   [[ -n '' ]]
+ lib/cinder:configure_cinder:318          :   iniset /etc/cinder/cinder.conf DEFAULT quota_volumes 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:319          :   iniset /etc/cinder/cinder.conf DEFAULT quota_backups 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:320          :   iniset /etc/cinder/cinder.conf DEFAULT quota_snapshots 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:325          :   iniset /etc/cinder/cinder.conf DEFAULT rpc_response_timeout 120
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:327          :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   set +o
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/cinder:configure_cinder:327          :   [[ -n lvm:lvmdriver-1 ]]
+ lib/cinder:configure_cinder:328          :   local enabled_backends=
+ lib/cinder:configure_cinder:329          :   local default_name=
+ lib/cinder:configure_cinder:330          :   local be be_name be_type
+ lib/cinder:configure_cinder:331          :   for be in ${CINDER_ENABLED_BACKENDS//,/ }
+ lib/cinder:configure_cinder:332          :   be_type=lvm
+ lib/cinder:configure_cinder:333          :   be_name=lvmdriver-1
+ lib/cinder:configure_cinder:334          :   type configure_cinder_backend_lvm
+ lib/cinder:configure_cinder:335          :   configure_cinder_backend_lvm lvmdriver-1
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:48 :   local be_name=lvmdriver-1
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:50 :   iniset /etc/cinder/cinder.conf lvmdriver-1 volume_backend_name lvmdriver-1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:51 :   iniset /etc/cinder/cinder.conf lvmdriver-1 volume_driver cinder.volume.drivers.lvm.LVMVolumeDriver
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:52 :   iniset /etc/cinder/cinder.conf lvmdriver-1 volume_group stack-volumes-lvmdriver-1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:53 :   iniset /etc/cinder/cinder.conf lvmdriver-1 target_helper lioadm
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:54 :   iniset /etc/cinder/cinder.conf lvmdriver-1 target_protocol iscsi
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:55 :   iniset /etc/cinder/cinder.conf lvmdriver-1 target_port 3260
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:56 :   iniset /etc/cinder/cinder.conf lvmdriver-1 target_prefix iqn.2010-10.org.openstack:
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:57 :   iniset /etc/cinder/cinder.conf lvmdriver-1 lvm_type auto
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:58 :   iniset /etc/cinder/cinder.conf lvmdriver-1 volume_clear zero
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:337          :   [[ -z '' ]]
+ lib/cinder:configure_cinder:338          :   default_name=lvmdriver-1
+ lib/cinder:configure_cinder:340          :   enabled_backends+=lvmdriver-1,
+ lib/cinder:configure_cinder:342          :   iniset /etc/cinder/cinder.conf DEFAULT enabled_backends lvmdriver-1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:343          :   [[ -n lvmdriver-1 ]]
+ lib/cinder:configure_cinder:344          :   iniset /etc/cinder/cinder.conf DEFAULT default_volume_type lvmdriver-1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:346          :   configure_cinder_image_volume_cache
+ lib/cinder:configure_cinder_image_volume_cache:697 :   for be in ${CINDER_CACHE_ENABLED_FOR_BACKENDS//,/ }
+ lib/cinder:configure_cinder_image_volume_cache:698 :   local be_name=lvmdriver-1
+ lib/cinder:configure_cinder_image_volume_cache:700 :   iniset /etc/cinder/cinder.conf lvmdriver-1 image_volume_cache_enabled True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder_image_volume_cache:702 :   [[ -n '' ]]
+ lib/cinder:configure_cinder_image_volume_cache:706 :   [[ -n '' ]]
+ lib/cinder:configure_cinder:349          :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/cinder:configure_cinder:357          :   is_service_enabled ceilometer
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/cinder:configure_cinder:361          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/cinder:configure_cinder:375          :   '[' False '!=' False ']'
+ lib/cinder:configure_cinder:379          :   iniset_rpc_backend cinder /etc/cinder/cinder.conf
+ lib/rpc_backend:iniset_rpc_backend:157   :   local package=cinder
+ lib/rpc_backend:iniset_rpc_backend:158   :   local file=/etc/cinder/cinder.conf
+ lib/rpc_backend:iniset_rpc_backend:159   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:160   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:161   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:162   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:139    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:140    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2060 :   local xtrace
+++ functions-common:is_service_enabled:2061 :   set +o
+++ functions-common:is_service_enabled:2061 :   grep xtrace
++ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2062 :   set +o xtrace
++ functions-common:is_service_enabled:2089 :   return 0
++ lib/rpc_backend:get_transport_url:141    :   echo rabbit://stackrabbit:****@127.0.0.1:5672/
+ lib/rpc_backend:iniset_rpc_backend:162   :   iniset /etc/cinder/cinder.conf DEFAULT transport_url rabbit://stackrabbit:****@127.0.0.1:5672/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/rpc_backend:iniset_rpc_backend:163   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:166   :   '[' -n '' ']'
+ lib/cinder:configure_cinder:382          :   setup_logging /etc/cinder/cinder.conf True
+ functions:setup_logging:674              :   setup_systemd_logging /etc/cinder/cinder.conf
+ functions:setup_systemd_logging:689      :   local conf_file=/etc/cinder/cinder.conf
++ functions:setup_systemd_logging:694      :   trueorfalse False USE_JOURNAL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions:setup_systemd_logging:694      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:695      :   local pidstr=
+ functions:setup_systemd_logging:696      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:700      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:702      :   iniset /etc/cinder/cinder.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:704      :   iniset /etc/cinder/cinder.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:705      :   iniset /etc/cinder/cinder.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:706      :   iniset /etc/cinder/cinder.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:384          :   is_service_enabled c-api
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/cinder:configure_cinder:385          :   write_uwsgi_config /etc/cinder/cinder-api-uwsgi.ini /usr/local/bin/cinder-wsgi /volume
+ lib/apache:write_uwsgi_config:254        :   local file=/etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:write_uwsgi_config:255        :   local wsgi=/usr/local/bin/cinder-wsgi
+ lib/apache:write_uwsgi_config:256        :   local url=/volume
+ lib/apache:write_uwsgi_config:257        :   local http=
+ lib/apache:write_uwsgi_config:258        :   local name=
++ lib/apache:write_uwsgi_config:259        :   basename /usr/local/bin/cinder-wsgi
+ lib/apache:write_uwsgi_config:259        :   name=cinder-wsgi
+ lib/apache:write_uwsgi_config:263        :   local socket_dir=/var/run/uwsgi
+ lib/apache:write_uwsgi_config:267        :   sudo mkdir -p /etc/tmpfiles.d/
+ lib/apache:write_uwsgi_config:268        :   echo 'd /var/run/uwsgi 0755 stack root'
+ lib/apache:write_uwsgi_config:268        :   sudo tee /etc/tmpfiles.d/uwsgi.conf
d /var/run/uwsgi 0755 stack root
+ lib/apache:write_uwsgi_config:269        :   sudo systemd-tmpfiles --create /etc/tmpfiles.d/uwsgi.conf
+ lib/apache:write_uwsgi_config:271        :   local socket=/var/run/uwsgi/cinder-wsgi.socket
+ lib/apache:write_uwsgi_config:274        :   rm -rf /etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:write_uwsgi_config:275        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi wsgi-file /usr/local/bin/cinder-wsgi
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:276        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi processes 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:278        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi master true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:280        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi die-on-term true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:281        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi exit-on-reload false
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:284        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi worker-reload-mercy 90
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:285        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi enable-threads true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:286        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi plugins http,python3
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:288        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi thunder-lock true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:290        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:292        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi buffer-size 65535
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:294        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi add-header 'Connection: close'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:296        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi lazy-apps true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:299        :   [[ -n '' ]]
+ lib/apache:write_uwsgi_config:302        :   local apache_conf=
++ lib/apache:write_uwsgi_config:303        :   apache_site_config_for cinder-wsgi
++ lib/apache:apache_site_config_for:186    :   local site=cinder-wsgi
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:575           :   [[ -z deb ]]
++ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/cinder-wsgi.conf
+ lib/apache:write_uwsgi_config:303        :   apache_conf=/etc/apache2/sites-available/cinder-wsgi.conf
+ lib/apache:write_uwsgi_config:304        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi socket /var/run/uwsgi/cinder-wsgi.socket
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:305        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi chmod-socket 666
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:306        :   echo 'ProxyPass "/volume" "unix:/var/run/uwsgi/cinder-wsgi.socket|uwsgi://uwsgi-uds-cinder-wsgi" retry=0 '
+ lib/apache:write_uwsgi_config:306        :   sudo tee -a /etc/apache2/sites-available/cinder-wsgi.conf
ProxyPass "/volume" "unix:/var/run/uwsgi/cinder-wsgi.socket|uwsgi://uwsgi-uds-cinder-wsgi" retry=0 
+ lib/apache:write_uwsgi_config:307        :   enable_apache_site cinder-wsgi
+ lib/apache:enable_apache_site:203        :   local site=cinder-wsgi
+ lib/apache:enable_apache_site:205        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:59          :   local mod=version
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:206        :   is_ubuntu
+ functions-common:is_ubuntu:575           :   [[ -z deb ]]
+ functions-common:is_ubuntu:578           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:207        :   sudo a2ensite cinder-wsgi
Enabling site cinder-wsgi.
To activate the new configuration, you need to run:
  systemctl reload apache2
+ lib/apache:write_uwsgi_config:308        :   restart_apache_server
+ lib/apache:restart_apache_server:250     :   restart_service apache2
+ functions-common:restart_service:2317    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2318    :   sudo /bin/systemctl restart apache2
+ lib/cinder:configure_cinder:388          :   [[ -r /opt/stack/devstack/lib/cinder_plugins/default ]]
+ lib/cinder:configure_cinder:392          :   iniset /etc/cinder/cinder.conf DEFAULT osapi_volume_workers 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:394          :   iniset /etc/cinder/cinder.conf DEFAULT glance_api_servers http://127.0.0.1/image
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:395          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 1
+ lib/cinder:configure_cinder:401          :   configure_keystone_authtoken_middleware /etc/cinder/cinder.conf nova nova
+ lib/keystone:configure_keystone_authtoken_middleware:447 :   local conf_file=/etc/cinder/cinder.conf
+ lib/keystone:configure_keystone_authtoken_middleware:448 :   local admin_user=nova
+ lib/keystone:configure_keystone_authtoken_middleware:449 :   local section=nova
+ lib/keystone:configure_keystone_authtoken_middleware:451 :   iniset /etc/cinder/cinder.conf nova auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:452 :   iniset /etc/cinder/cinder.conf nova interface public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:453 :   iniset /etc/cinder/cinder.conf nova auth_url http://127.0.0.1/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:454 :   iniset /etc/cinder/cinder.conf nova username nova
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:455 :   iniset /etc/cinder/cinder.conf nova password ****
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:456 :   iniset /etc/cinder/cinder.conf nova user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:457 :   iniset /etc/cinder/cinder.conf nova project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:458 :   iniset /etc/cinder/cinder.conf nova project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:460 :   iniset /etc/cinder/cinder.conf nova cafile /opt/stack/data/ca-bundle.pem
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:461 :   iniset /etc/cinder/cinder.conf nova memcached_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:402          :   iniset /etc/cinder/cinder.conf nova region_name RegionOne
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:403          :   iniset /etc/cinder/cinder.conf DEFAULT graceful_shutdown_timeout 5
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:405          :   [[ ! -z '' ]]
+ lib/cinder:configure_cinder:407          :   is_service_enabled etcd3
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ lib/cinder:configure_cinder:408          :   iniset /etc/cinder/cinder.conf coordination backend_url etcd3+http://127.0.0.1:2379
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:411          :   [[ False == True ]]
+ lib/cinder:configure_cinder:411          :   [[ False == True ]]
+ ./stack.sh:main:933                      :   is_service_enabled neutron
+ functions-common:is_service_enabled:2060 :   local xtrace
++ functions-common:is_service_enabled:2061 :   set +o
++ functions-common:is_service_enabled:2061 :   grep xtrace
+ functions-common:is_service_enabled:2061 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2062 :   set +o xtrace
+ functions-common:is_service_enabled:2089 :   return 0
+ ./stack.sh:main:935                      :   stack_install_service neutron
+ lib/stack:stack_install_service:20       :   local service=neutron
+ lib/stack:stack_install_service:21       :   type install_neutron
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_neutron
+ lib/neutron:install_neutron:512          :   use_library_from_git neutron-lib
+ inc/python:use_library_from_git:246      :   local name=neutron-lib
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,neutron-lib, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/neutron:install_neutron:517          :   git_clone https://opendev.org/openstack/neutron.git /opt/stack/neutron master
+ functions-common:git_clone:612           :   local git_remote=https://opendev.org/openstack/neutron.git
+ functions-common:git_clone:613           :   local git_dest=/opt/stack/neutron
+ functions-common:git_clone:614           :   local git_ref=master
+ functions-common:git_clone:615           :   local orig_dir
++ functions-common:git_clone:616           :   pwd
+ functions-common:git_clone:616           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:617           :   local git_clone_flags=
++ functions-common:git_clone:619           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:619           :   RECLONE=False
+ functions-common:git_clone:620           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:624           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:633           :   echo master
+ functions-common:git_clone:633           :   egrep -q '^refs'
+ functions-common:git_clone:647           :   [[ ! -d /opt/stack/neutron ]]
+ functions-common:git_clone:648           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:654           :   git_timed clone https://opendev.org/openstack/neutron.git /opt/stack/neutron --branch master
+ functions-common:git_timed:718           :   local count=0
+ functions-common:git_timed:719           :   local timeout=0
+ functions-common:git_timed:721           :   [[ -n 0 ]]
+ functions-common:git_timed:722           :   timeout=0
+ functions-common:git_timed:725           :   time_start git_timed
+ functions-common:time_start:2419         :   local name=git_timed
+ functions-common:time_start:2420         :   local start_time=
+ functions-common:time_start:2421         :   [[ -n '' ]]
++ functions-common:time_start:2424         :   date +%s%3N
+ functions-common:time_start:2424         :   _TIME_START[$name]=1671853346295
+ functions-common:git_timed:726           :   timeout -s SIGINT 0 git clone https://opendev.org/openstack/neutron.git /opt/stack/neutron --branch master
Cloning into '/opt/stack/neutron'...
+ functions-common:git_timed:740           :   time_stop git_timed
+ functions-common:time_stop:2433          :   local name
+ functions-common:time_stop:2434          :   local end_time
+ functions-common:time_stop:2435          :   local elapsed_time
+ functions-common:time_stop:2436          :   local total
+ functions-common:time_stop:2437          :   local start_time
+ functions-common:time_stop:2439          :   name=git_timed
+ functions-common:time_stop:2440          :   start_time=1671853346295
+ functions-common:time_stop:2442          :   [[ -z 1671853346295 ]]
++ functions-common:time_stop:2445          :   date +%s%3N
+ functions-common:time_stop:2445          :   end_time=1671853521484
+ functions-common:time_stop:2446          :   elapsed_time=175189
+ functions-common:time_stop:2447          :   total=291655
+ functions-common:time_stop:2449          :   _TIME_START[$name]=
+ functions-common:time_stop:2450          :   _TIME_TOTAL[$name]=466844
+ functions-common:git_clone:690           :   sudo git config --system --add safe.directory /opt/stack/neutron
+ functions-common:git_clone:693           :   cd /opt/stack/neutron
+ functions-common:git_clone:694           :   git show --oneline
+ functions-common:git_clone:694           :   head -1
cd46baa488 Merge "segment: enable multisegments support for host"
+ functions-common:git_clone:695           :   cd /opt/stack/devstack
+ lib/neutron:install_neutron:518          :   setup_develop /opt/stack/neutron
+ inc/python:setup_develop:334             :   local bindep
+ inc/python:setup_develop:335             :   [[ /opt/stack/neutron == -bindep* ]]
+ inc/python:setup_develop:339             :   local project_dir=/opt/stack/neutron
+ inc/python:setup_develop:340             :   local extras=
+ inc/python:setup_develop:341             :   _setup_package_with_constraints_edit /opt/stack/neutron -e
+ inc/python:_setup_package_with_constraints_edit:360 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:361 :   [[ /opt/stack/neutron == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:365 :   local project_dir=/opt/stack/neutron
+ inc/python:_setup_package_with_constraints_edit:366 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:367 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:374 :   cd /opt/stack/neutron
++ inc/python:_setup_package_with_constraints_edit:374 :   pwd
+ inc/python:_setup_package_with_constraints_edit:374 :   project_dir=/opt/stack/neutron
+ inc/python:_setup_package_with_constraints_edit:376 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:380 :   local name
++ inc/python:_setup_package_with_constraints_edit:381 :   awk '/^name.*=/ {print $3}' /opt/stack/neutron/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:381 :   name=neutron
+ inc/python:_setup_package_with_constraints_edit:383 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- neutron
+ inc/python:_setup_package_with_constraints_edit:386 :   setup_package /opt/stack/neutron -e
+ inc/python:setup_package:414             :   local bindep=0
+ inc/python:setup_package:415             :   local bindep_flag=
+ inc/python:setup_package:416             :   local bindep_profiles=
+ inc/python:setup_package:417             :   [[ /opt/stack/neutron == -bindep* ]]
+ inc/python:setup_package:422             :   local project_dir=/opt/stack/neutron
+ inc/python:setup_package:423             :   local flags=-e
+ inc/python:setup_package:424             :   local extras=
+ inc/python:setup_package:428             :   [[ -n -e ]]
+ inc/python:setup_package:428             :   [[ -z '' ]]
+ inc/python:setup_package:428             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:433             :   [[ ! -z '' ]]
+ inc/python:setup_package:438             :   [[ 0 == 1 ]]
+ inc/python:setup_package:442             :   pip_install -e /opt/stack/neutron
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/neutron
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -e /opt/stack/neutron
Obtaining file:///opt/stack/neutron
ERROR: Exception:
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/pip/_internal/req/req_install.py", line 443, in check_if_exists
    self.satisfied_by = pkg_resources.get_distribution(str(no_marker))
  File "/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py", line 481, in get_distribution
    dist = get_provider(dist)
  File "/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py", line 357, in get_provider
    return working_set.find(moduleOrReq) or require(str(moduleOrReq))[0]
  File "/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py", line 900, in require
    needed = self.resolve(parse_requirements(requirements))
  File "/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py", line 791, in resolve
    raise VersionConflict(dist, req).with_context(dependent_req)
pkg_resources.ContextualVersionConflict: (os-vif 2.8.0 (/usr/local/lib/python3.8/dist-packages), Requirement.parse('os-vif>=3.1.0'), {'neutron'})

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/pip/_internal/cli/base_command.py", line 186, in _main
    status = self.run(options, args)
  File "/usr/lib/python3/dist-packages/pip/_internal/commands/install.py", line 357, in run
    resolver.resolve(requirement_set)
  File "/usr/lib/python3/dist-packages/pip/_internal/legacy_resolve.py", line 177, in resolve
    discovered_reqs.extend(self._resolve_one(requirement_set, req))
  File "/usr/lib/python3/dist-packages/pip/_internal/legacy_resolve.py", line 333, in _resolve_one
    abstract_dist = self._get_abstract_dist_for(req_to_install)
  File "/usr/lib/python3/dist-packages/pip/_internal/legacy_resolve.py", line 265, in _get_abstract_dist_for
    return self.preparer.prepare_editable_requirement(req)
  File "/usr/lib/python3/dist-packages/pip/_internal/operations/prepare.py", line 560, in prepare_editable_requirement
    req.check_if_exists(self.use_user_site)
  File "/usr/lib/python3/dist-packages/pip/_internal/req/req_install.py", line 447, in check_if_exists
    existing_dist = pkg_resources.get_distribution(
  File "/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py", line 481, in get_distribution
    dist = get_provider(dist)
  File "/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py", line 357, in get_provider
    return working_set.find(moduleOrReq) or require(str(moduleOrReq))[0]
  File "/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py", line 900, in require
    needed = self.resolve(parse_requirements(requirements))
  File "/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py", line 791, in resolve
    raise VersionConflict(dist, req).with_context(dependent_req)
pkg_resources.ContextualVersionConflict: (os-vif 2.8.0 (/usr/local/lib/python3.8/dist-packages), Requirement.parse('os-vif>=3.1.0'), {'neutron'})
+ inc/python:pip_install:1                 :   exit_trap
+ ./stack.sh:exit_trap:525                 :   local r=2
++ ./stack.sh:exit_trap:526                 :   jobs -p
+ ./stack.sh:exit_trap:526                 :   jobs=
+ ./stack.sh:exit_trap:529                 :   [[ -n '' ]]
+ ./stack.sh:exit_trap:535                 :   '[' -f '' ']'
+ ./stack.sh:exit_trap:540                 :   kill_spinner
+ ./stack.sh:kill_spinner:435              :   '[' '!' -z '' ']'
+ ./stack.sh:exit_trap:542                 :   [[ 2 -ne 0 ]]
+ ./stack.sh:exit_trap:543                 :   echo 'Error on exit'
Error on exit
+ ./stack.sh:exit_trap:545                 :   type -p generate-subunit
+ ./stack.sh:exit_trap:546                 :   generate-subunit 1671852879 646 fail
+ ./stack.sh:exit_trap:548                 :   [[ -z /opt/stack/logs ]]
+ ./stack.sh:exit_trap:551                 :   /usr/bin/python3.8 /opt/stack/devstack/tools/worlddump.py -d /opt/stack/logs
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
+ ./stack.sh:exit_trap:560                 :   exit 2
Start DevStack [ PASSED ]
Waiting for patchset. FROM_JENKINS: 1
Already on 'master'
Your branch is up to date with 'origin/master'.
git checkout cinder master Success
Already up to date.
git pull Success
changeBranch: change-867183-3
From https://opendev.org/openstack/cinder
 * [new ref]             refs/changes/83/867183/3 -> change-867183-3
git fetch origin refs/changes/83/867183/3:change-867183-3 Success
Switched to branch 'change-867183-3'
git checkout change-867183-3 Success
./checkout-patchset.sh: line 67: cd: /opt/stack/tempest/: No such file or directory
There is no tracking information for the current branch.
Please specify which branch you want to merge with.
See git-pull(1) for details.

    git pull <remote> <branch>

If you wish to set tracking information for this branch you can do so with:

    git branch --set-upstream-to=origin/<branch> change-867183-3

Checkout patchset [ PASSED ]
##########################################################################
DevStack Installation Took 15 minutes and 26 seconds.
##########################################################################
Updating tempest config
WARNING: setting legacy OS_TENANT_NAME to support cli tools.
Failed to discover available identity versions when contacting http://127.0.0.1/identity. Attempting to parse version from URL.
Could not find versioned identity endpoints when attempting to authenticate. Please check that your auth_url is correct. Service Unavailable (HTTP 503)
Failed to discover available identity versions when contacting http://127.0.0.1/identity. Attempting to parse version from URL.
Could not find versioned identity endpoints when attempting to authenticate. Please check that your auth_url is correct. Service Unavailable (HTTP 503)
Clearing logs
Generating Cinder config [ PASSED ]
/tmp/ci-result-1671852725542
Starting iSCSI Test configuration
Updating cinder.conf with iSCSI driver details [ PASSED ]
WARNING:keystoneauth.identity.generic.base:Failed to discover available identity versions when contacting http://127.0.0.1/identity. Attempting to parse version from URL.
ERROR: Could not find versioned identity endpoints when attempting to authenticate. Please check that your auth_url is correct. Service Unavailable (HTTP 503)
WARNING:keystoneauth.identity.generic.base:Failed to discover available identity versions when contacting http://127.0.0.1/identity. Attempting to parse version from URL.
ERROR: Could not find versioned identity endpoints when attempting to authenticate. Please check that your auth_url is correct. Service Unavailable (HTTP 503)
Creating datacore_iscsi1 volume type [ FAILED ]
Already up to date.
Updating cinder-tempest-logs repo [ PASSED ]
