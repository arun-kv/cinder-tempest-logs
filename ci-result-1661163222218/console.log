Source the openrc file
WARNING: setting legacy OS_TENANT_NAME to support cli tools.
Patch Details: GERRIT_CHANGE_NUMBER: 853941 GERRIT_PATCHSET_NUMBER: 1 GERRIT_REFSPEC: refs/changes/41/853941/1 GERRIT_PROJECT: openstack/cinder
Fetching latest cinder patch
Running unstack.sh
WARNING: setting legacy OS_TENANT_NAME to support cli tools.
+ ./unstack.sh:main:96                     :   run_phase unstack
+ functions-common:run_phase:1867          :   local mode=unstack
+ functions-common:run_phase:1868          :   local phase=
+ functions-common:run_phase:1869          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1870          :   local extra_plugin_file_name
+ functions-common:run_phase:1871          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1876          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1877          :   local extra
++ functions-common:run_phase:1878          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1878          :   extra=80-tempest.sh
+ functions-common:run_phase:1879          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1883          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1883          :   source /opt/stack/devstack/extras.d/80-tempest.sh unstack
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ unstack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:27         :   [[ unstack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:29         :   :
++ extras.d/80-tempest.sh:source:32         :   [[ unstack == \c\l\e\a\n ]]
+ functions-common:run_phase:1888          :   [[ unstack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1891          :   [[ unstack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1894          :   run_plugins unstack
+ functions-common:run_plugins:1853        :   local mode=unstack
+ functions-common:run_plugins:1854        :   local phase=
+ functions-common:run_plugins:1856        :   local plugins=
+ functions-common:run_plugins:1857        :   local plugin
+ ./unstack.sh:main:100                    :   is_service_enabled nova
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./unstack.sh:main:101                    :   stop_nova
+ lib/nova:stop_nova:1195                  :   stop_nova_rest
+ lib/nova:stop_nova_rest:1159             :   for serv in n-api n-api-meta n-sch
+ lib/nova:stop_nova_rest:1160             :   stop_process n-api
+ functions-common:stop_process:1715       :   local service=n-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-api.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@n-api.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@n-api.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@n-api.service.
+ lib/nova:stop_nova_rest:1159             :   for serv in n-api n-api-meta n-sch
+ lib/nova:stop_nova_rest:1160             :   stop_process n-api-meta
+ functions-common:stop_process:1715       :   local service=n-api-meta
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-api-meta.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@n-api-meta.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@n-api-meta.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@n-api-meta.service.
+ lib/nova:stop_nova_rest:1159             :   for serv in n-api n-api-meta n-sch
+ lib/nova:stop_nova_rest:1160             :   stop_process n-sch
+ functions-common:stop_process:1715       :   local service=n-sch
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-sch
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-sch.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@n-sch.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@n-sch.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@n-sch.service.
+ lib/nova:stop_nova:1196                  :   stop_nova_console_proxies
+ lib/nova:stop_nova_console_proxies:1165  :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:stop_nova_console_proxies:1170  :   enable_nova_console_proxies
++ lib/nova:enable_nova_console_proxies:1057 :   seq 1 1
+ lib/nova:enable_nova_console_proxies:1057 :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:enable_nova_console_proxies:1058 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1059 :   is_service_enabled n-novnc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:enable_nova_console_proxies:1060 :   enable_service n-novnc-cell1
+ functions-common:enable_service:2026     :   local xtrace
++ functions-common:enable_service:2027     :   grep xtrace
++ functions-common:enable_service:2027     :   set +o
+ functions-common:enable_service:2027     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2028     :   set +o xtrace
+ lib/nova:enable_nova_console_proxies:1058 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1059 :   is_service_enabled n-spice
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:enable_nova_console_proxies:1058 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1059 :   is_service_enabled n-sproxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
++ lib/nova:stop_nova_console_proxies:1171  :   seq 1 1
+ lib/nova:stop_nova_console_proxies:1171  :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:stop_nova_console_proxies:1172  :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:stop_nova_console_proxies:1173  :   stop_process n-novnc-cell1
+ functions-common:stop_process:1715       :   local service=n-novnc-cell1
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-novnc-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-novnc-cell1.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@n-novnc-cell1.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@n-novnc-cell1.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@n-novnc-cell1.service.
+ lib/nova:stop_nova_console_proxies:1172  :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:stop_nova_console_proxies:1173  :   stop_process n-spice-cell1
+ functions-common:stop_process:1715       :   local service=n-spice-cell1
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-spice-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:stop_nova_console_proxies:1172  :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:stop_nova_console_proxies:1173  :   stop_process n-sproxy-cell1
+ functions-common:stop_process:1715       :   local service=n-sproxy-cell1
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-sproxy-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:stop_nova:1197                  :   stop_nova_conductor
+ lib/nova:stop_nova_conductor:1180        :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:stop_nova_conductor:1185        :   enable_nova_fleet
+ lib/nova:enable_nova_fleet:1093          :   is_service_enabled n-cond
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:enable_nova_fleet:1094          :   enable_service n-super-cond
+ functions-common:enable_service:2026     :   local xtrace
++ functions-common:enable_service:2027     :   set +o
++ functions-common:enable_service:2027     :   grep xtrace
+ functions-common:enable_service:2027     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2028     :   set +o xtrace
++ lib/nova:enable_nova_fleet:1095          :   seq 1 1
+ lib/nova:enable_nova_fleet:1095          :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:enable_nova_fleet:1096          :   enable_service n-cond-cell1
+ functions-common:enable_service:2026     :   local xtrace
++ functions-common:enable_service:2027     :   set +o
++ functions-common:enable_service:2027     :   grep xtrace
+ functions-common:enable_service:2027     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2028     :   set +o xtrace
++ lib/nova:stop_nova_conductor:1186        :   seq -f n-cond-cell%0.f 1 1
+ lib/nova:stop_nova_conductor:1186        :   for srv in n-super-cond $(seq -f n-cond-cell%0.f 1 $NOVA_NUM_CELLS)
+ lib/nova:stop_nova_conductor:1187        :   is_service_enabled n-super-cond
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:stop_nova_conductor:1188        :   stop_process n-super-cond
+ functions-common:stop_process:1715       :   local service=n-super-cond
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-super-cond
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-super-cond.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@n-super-cond.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@n-super-cond.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@n-super-cond.service.
+ lib/nova:stop_nova_conductor:1186        :   for srv in n-super-cond $(seq -f n-cond-cell%0.f 1 $NOVA_NUM_CELLS)
+ lib/nova:stop_nova_conductor:1187        :   is_service_enabled n-cond-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:stop_nova_conductor:1188        :   stop_process n-cond-cell1
+ functions-common:stop_process:1715       :   local service=n-cond-cell1
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-cond-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-cond-cell1.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@n-cond-cell1.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@n-cond-cell1.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@n-cond-cell1.service.
+ lib/nova:stop_nova:1198                  :   stop_nova_compute
+ lib/nova:stop_nova_compute:1144          :   '[' libvirt == fake ']'
+ lib/nova:stop_nova_compute:1150          :   stop_process n-cpu
+ functions-common:stop_process:1715       :   local service=n-cpu
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-cpu.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@n-cpu.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@n-cpu.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@n-cpu.service.
+ lib/nova:stop_nova_compute:1152          :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:stop_nova_compute:1152          :   [[ -r /opt/stack/devstack/lib/nova_plugins/hypervisor-libvirt ]]
+ lib/nova:stop_nova_compute:1153          :   stop_nova_hypervisor
+ lib/nova_plugins/hypervisor-libvirt:stop_nova_hypervisor:135 :   :
+ ./unstack.sh:main:102                    :   cleanup_nova
+ lib/nova:cleanup_nova:198                :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:cleanup_nova:200                :   clean_iptables
+ lib/nova:clean_iptables:186              :   sudo iptables -S -v
+ lib/nova:clean_iptables:186              :   grep nova
+ lib/nova:clean_iptables:186              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:186              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:186              :   grep '\-A'
+ lib/nova:clean_iptables:186              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:186              :   bash
+ lib/nova:clean_iptables:188              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:188              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:188              :   grep nova
+ lib/nova:clean_iptables:188              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:188              :   grep '\-A'
+ lib/nova:clean_iptables:188              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:clean_iptables:188              :   bash
+ lib/nova:clean_iptables:190              :   sudo iptables -S -v
+ lib/nova:clean_iptables:190              :   grep '\-N'
+ lib/nova:clean_iptables:190              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:190              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:190              :   grep nova
+ lib/nova:clean_iptables:190              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:190              :   bash
+ lib/nova:clean_iptables:192              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:192              :   grep nova
+ lib/nova:clean_iptables:192              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:192              :   grep '\-N'
+ lib/nova:clean_iptables:192              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:clean_iptables:192              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:192              :   bash
+ lib/nova:cleanup_nova:203                :   local instances
++ lib/nova:cleanup_nova:204                :   sudo virsh list --all
++ lib/nova:cleanup_nova:204                :   grep instance-
++ lib/nova:cleanup_nova:204                :   sed 's/.*\(instance-[0-9a-fA-F]*\).*/\1/g'
+ lib/nova:cleanup_nova:204                :   instances=
+ lib/nova:cleanup_nova:205                :   '[' '!' '' = '' ']'
+ lib/nova:cleanup_nova:214                :   local tgts
++ lib/nova:cleanup_nova:215                :   sudo iscsiadm --mode node
++ lib/nova:cleanup_nova:215                :   grep volume-
++ lib/nova:cleanup_nova:215                :   cut -d ' ' -f2
iscsiadm: No records found
+ lib/nova:cleanup_nova:215                :   tgts=
+ lib/nova:cleanup_nova:216                :   local target
+ lib/nova:cleanup_nova:220                :   sudo iscsiadm --mode node --op delete
iscsiadm: No records found
+ lib/nova:cleanup_nova:220                :   true
+ lib/nova:cleanup_nova:223                :   sudo rm -rf /opt/stack/data/nova/instances/_base /opt/stack/data/nova/instances/compute_nodes /opt/stack/data/nova/instances/locks
+ lib/nova:cleanup_nova:226                :   sudo rm -rf /opt/stack/data/nova
+ lib/nova:cleanup_nova:235                :   stop_process n-api
+ functions-common:stop_process:1715       :   local service=n-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-api.service
disabled
+ lib/nova:cleanup_nova:236                :   stop_process n-api-meta
+ functions-common:stop_process:1715       :   local service=n-api-meta
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-api-meta.service
disabled
+ lib/nova:cleanup_nova:237                :   remove_uwsgi_config /etc/nova/nova-api-uwsgi.ini /usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/nova/nova-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=nova-api-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/nova/nova-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site nova-api-wsgi
+ lib/apache:disable_apache_site:219       :   local site=nova-api-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite nova-api-wsgi
Site nova-api-wsgi disabled.
To activate the new configuration, you need to run:
  systemctl reload apache2
+ lib/nova:cleanup_nova:238                :   remove_uwsgi_config /etc/nova/nova-metadata-uwsgi.ini /usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site nova-metadata-wsgi
+ lib/apache:disable_apache_site:219       :   local site=nova-metadata-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite nova-metadata-wsgi
ERROR: Site nova-metadata-wsgi does not exist!
+ lib/apache:disable_apache_site:221       :   true
+ lib/nova:cleanup_nova:240                :   [[ '' == \L\V\M ]]
+ ./unstack.sh:main:105                    :   is_service_enabled placement
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./unstack.sh:main:106                    :   stop_placement
+ lib/placement:stop_placement:165         :   [[ uwsgi == \u\w\s\g\i ]]
+ lib/placement:stop_placement:166         :   stop_process placement-api
+ functions-common:stop_process:1715       :   local service=placement-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled placement-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@placement-api.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@placement-api.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@placement-api.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@placement-api.service.
+ ./unstack.sh:main:109                    :   is_service_enabled glance
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./unstack.sh:main:110                    :   stop_glance
+ lib/glance:stop_glance:628               :   stop_process g-api
+ functions-common:stop_process:1715       :   local service=g-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled g-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@g-api.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@g-api.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@g-api.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@g-api.service.
+ lib/glance:stop_glance:629               :   stop_process g-api-r
+ functions-common:stop_process:1715       :   local service=g-api-r
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled g-api-r
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./unstack.sh:main:113                    :   is_service_enabled keystone
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./unstack.sh:main:114                    :   stop_keystone
+ lib/keystone:stop_keystone:587           :   '[' uwsgi == mod_wsgi ']'
+ lib/keystone:stop_keystone:591           :   stop_process keystone
+ functions-common:stop_process:1715       :   local service=keystone
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled keystone
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@keystone.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@keystone.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@keystone.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@keystone.service.
+ ./unstack.sh:main:118                    :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./unstack.sh:main:124                    :   is_service_enabled horizon
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./unstack.sh:main:125                    :   stop_horizon
+ lib/horizon:stop_horizon:176             :   stop_apache_server
+ lib/apache:stop_apache_server:238        :   '[' -n apache2 ']'
+ lib/apache:stop_apache_server:239        :   stop_service apache2
+ functions-common:stop_service:2356       :   '[' -x /bin/systemctl ']'
+ functions-common:stop_service:2357       :   sudo /bin/systemctl stop apache2
+ ./unstack.sh:main:129                    :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./unstack.sh:main:134                    :   SCSI_PERSIST_DIR='/opt/stack/data/cinder/volumes/*'
+ ./unstack.sh:main:140                    :   is_service_enabled cinder
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./unstack.sh:main:141                    :   stop_cinder
+ lib/cinder:stop_cinder:570               :   stop_process c-api
+ functions-common:stop_process:1715       :   local service=c-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled c-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@c-api.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@c-api.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@c-api.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@c-api.service.
+ lib/cinder:stop_cinder:571               :   stop_process c-bak
+ functions-common:stop_process:1715       :   local service=c-bak
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/cinder:stop_cinder:572               :   stop_process c-sch
+ functions-common:stop_process:1715       :   local service=c-sch
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled c-sch
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@c-sch.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@c-sch.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@c-sch.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@c-sch.service.
+ lib/cinder:stop_cinder:573               :   stop_process c-vol
+ functions-common:stop_process:1715       :   local service=c-vol
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@c-vol.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@c-vol.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@c-vol.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@c-vol.service.
+ ./unstack.sh:main:142                    :   cleanup_cinder
+ lib/cinder:cleanup_cinder:190            :   '[' lioadm = tgtadm ']'
+ lib/cinder:cleanup_cinder:219            :   sudo xargs -rn 1 cinder-rtstool delete
+ lib/cinder:cleanup_cinder:219            :   sudo cinder-rtstool get-targets
+ lib/cinder:cleanup_cinder:222            :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/cinder:cleanup_cinder:222            :   [[ -n lvm:lvmdriver-1 ]]
+ lib/cinder:cleanup_cinder:223            :   local be be_name be_type
+ lib/cinder:cleanup_cinder:224            :   for be in ${CINDER_ENABLED_BACKENDS//,/ }
+ lib/cinder:cleanup_cinder:225            :   be_type=lvm
+ lib/cinder:cleanup_cinder:226            :   be_name=lvmdriver-1
+ lib/cinder:cleanup_cinder:227            :   type cleanup_cinder_backend_lvm
+ lib/cinder:cleanup_cinder:228            :   cleanup_cinder_backend_lvm lvmdriver-1
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:38 :   local be_name=lvmdriver-1
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:41 :   clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:61        :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:63        :   _clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:40       :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:43       :   sudo lvremove -f stack-volumes-lvmdriver-1
  Logical volume "stack-volumes-lvmdriver-1-pool" successfully removed
+ lib/lvm:clean_lvm_volume_group:64        :   _remove_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_remove_lvm_volume_group:50      :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_remove_lvm_volume_group:53      :   sudo vgremove -f stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" successfully removed
++ lib/lvm:clean_lvm_volume_group:67        :   sudo lvs --noheadings -o lv_name stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:67        :   [[ -z '' ]]
+ lib/lvm:clean_lvm_volume_group:68        :   local backing_file=/opt/stack/data/stack-volumes-lvmdriver-1-backing-file
+ lib/lvm:clean_lvm_volume_group:70        :   [[ -n stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:71        :   [[ -e /etc/systemd/system/stack-volumes-lvmdriver-1-backing-file.service ]]
+ lib/lvm:clean_lvm_volume_group:72        :   sudo systemctl disable --now stack-volumes-lvmdriver-1-backing-file.service
Removed /etc/systemd/system/local-fs.target.wants/stack-volumes-lvmdriver-1-backing-file.service.
+ lib/lvm:clean_lvm_volume_group:73        :   sudo rm -f /etc/systemd/system/stack-volumes-lvmdriver-1-backing-file.service
+ lib/lvm:clean_lvm_volume_group:74        :   sudo systemctl daemon-reload
+ lib/lvm:clean_lvm_volume_group:78        :   [[ -n /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:78        :   [[ -e /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:79        :   rm -f /opt/stack/data/stack-volumes-lvmdriver-1-backing-file
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:42 :   clean_lvm_filter
+ lib/lvm:clean_lvm_filter:171             :   sudo sed -i 's/^.*# from devstack$//' /etc/lvm/lvm.conf
+ lib/cinder:cleanup_cinder:233            :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/cinder:cleanup_cinder:239            :   stop_process c-api
+ functions-common:stop_process:1715       :   local service=c-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled c-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@c-api.service
disabled
+ lib/cinder:cleanup_cinder:240            :   remove_uwsgi_config /etc/cinder/cinder-api-uwsgi.ini /usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=cinder-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site cinder-wsgi
+ lib/apache:disable_apache_site:219       :   local site=cinder-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite cinder-wsgi
Site cinder-wsgi disabled.
To activate the new configuration, you need to run:
  systemctl reload apache2
+ ./unstack.sh:main:145                    :   [[ -n '' ]]
+ ./unstack.sh:main:161                    :   is_service_enabled neutron
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./unstack.sh:main:162                    :   stop_neutron
+ lib/neutron:stop_neutron:758             :   is_neutron_legacy_enabled
++ lib/neutron:is_neutron_legacy_enabled:142 :   echo
++ lib/neutron:is_neutron_legacy_enabled:142 :   sed s/neutron-//g
+ lib/neutron:is_neutron_legacy_enabled:142 :   disabled_services_copy=
+ lib/neutron:is_neutron_legacy_enabled:143 :   [[ , =~ ,neutron ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   [[ ,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat,n-novnc-cell1,n-super-cond,n-cond-cell1 =~ ,q- ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   return 0
+ lib/neutron:stop_neutron:760             :   stop_mutnauq
+ lib/neutron-legacy:stop_mutnauq:646      :   stop_mutnauq_other
+ lib/neutron-legacy:stop_mutnauq_other:612 :   is_service_enabled q-dhcp
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:stop_mutnauq_other:618 :   '[' False == True ']'
+ lib/neutron-legacy:stop_mutnauq_other:622 :   stop_process q-svc
+ functions-common:stop_process:1715       :   local service=q-svc
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled q-svc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@q-svc.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@q-svc.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@q-svc.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@q-svc.service.
+ lib/neutron-legacy:stop_mutnauq_other:625 :   is_service_enabled q-l3
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:stop_mutnauq_other:630 :   is_service_enabled q-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:stop_mutnauq_other:635 :   is_service_enabled q-metering
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:stop_mutnauq_other:639 :   [[ True == \T\r\u\e ]]
+ lib/neutron-legacy:stop_mutnauq_other:640 :   sudo pkill -9 -f /usr/local/bin/neutron-rootwrap-daemon
/opt/stack/devstack/lib/neutron-legacy: line 611: 3122864 Killed                  sudo pkill -9 -f $NEUTRON_ROOTWRAP-daemon
+ lib/neutron-legacy:stop_mutnauq_other:640 :   :
+ lib/neutron-legacy:stop_mutnauq:647      :   stop_mutnauq_l2_agent
+ lib/neutron-legacy:stop_mutnauq_l2_agent:607 :   stop_process q-agt
+ functions-common:stop_process:1715       :   local service=q-agt
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled q-agt
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:stop_mutnauq:649      :   [[ ovn == \o\v\n ]]
+ lib/neutron-legacy:stop_mutnauq:649      :   [[ False != \T\r\u\e ]]
+ lib/neutron-legacy:stop_mutnauq:650      :   stop_ovn
+ lib/neutron_plugins/ovn_agent:stop_ovn:773 :   is_service_enabled q-ovn-metadata-agent
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:stop_ovn:774 :   sudo pkill -9 -f haproxy
/opt/stack/devstack/lib/neutron_plugins/ovn_agent: line 772: 3122918 Killed                  sudo pkill -9 -f haproxy
+ lib/neutron_plugins/ovn_agent:stop_ovn:774 :   :
+ lib/neutron_plugins/ovn_agent:stop_ovn:775 :   _stop_process devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   local service=devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   echo 'Stopping process devstack@q-ovn-metadata-agent.service'
Stopping process devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:766 :   sudo systemctl is-enabled devstack@q-ovn-metadata-agent.service
enabled
+ lib/neutron_plugins/ovn_agent:_stop_process:767 :   sudo systemctl stop devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:768 :   sudo systemctl disable devstack@q-ovn-metadata-agent.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@q-ovn-metadata-agent.service.
+ lib/neutron_plugins/ovn_agent:stop_ovn:777 :   is_service_enabled ovn-controller-vtep
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:stop_ovn:780 :   is_service_enabled ovn-controller
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:stop_ovn:781 :   _stop_process ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   local service=ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   echo 'Stopping process ovn-controller.service'
Stopping process ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:766 :   sudo systemctl is-enabled ovn-controller.service
static
+ lib/neutron_plugins/ovn_agent:_stop_process:767 :   sudo systemctl stop ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:768 :   sudo systemctl disable ovn-controller.service
+ lib/neutron_plugins/ovn_agent:stop_ovn:783 :   is_service_enabled ovn-northd
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:stop_ovn:784 :   _stop_process ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   local service=ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   echo 'Stopping process ovn-central.service'
Stopping process ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:766 :   sudo systemctl is-enabled ovn-central.service
enabled
+ lib/neutron_plugins/ovn_agent:_stop_process:767 :   sudo systemctl stop ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:768 :   sudo systemctl disable ovn-central.service
Removed /etc/systemd/system/multi-user.target.wants/ovn-central.service.
+ lib/neutron_plugins/ovn_agent:stop_ovn:786 :   is_service_enabled ovs-vtep
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:stop_ovn:790 :   _stop_process ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   local service=ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   echo 'Stopping process ovs-vswitchd.service'
Stopping process ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:766 :   sudo systemctl is-enabled ovs-vswitchd.service
static
+ lib/neutron_plugins/ovn_agent:_stop_process:767 :   sudo systemctl stop ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:768 :   sudo systemctl disable ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:stop_ovn:791 :   _stop_process ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   local service=ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   echo 'Stopping process ovsdb-server.service'
Stopping process ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:766 :   sudo systemctl is-enabled ovsdb-server.service
static
+ lib/neutron_plugins/ovn_agent:_stop_process:767 :   sudo systemctl stop ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:768 :   sudo systemctl disable ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:stop_ovn:793 :   _stop_ovs_dp
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:759 :   sudo ovs-dpctl dump-dps
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:759 :   sudo xargs -n1 ovs-dpctl del-dp
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:760 :   modprobe -q -r vport_geneve vport_vxlan openvswitch
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:760 :   true
+ ./unstack.sh:main:163                    :   cleanup_neutron
+ lib/neutron:cleanup_neutron:620          :   '[' False == True ']'
+ lib/neutron:cleanup_neutron:627          :   is_neutron_legacy_enabled
++ lib/neutron:is_neutron_legacy_enabled:142 :   echo
++ lib/neutron:is_neutron_legacy_enabled:142 :   sed s/neutron-//g
+ lib/neutron:is_neutron_legacy_enabled:142 :   disabled_services_copy=
+ lib/neutron:is_neutron_legacy_enabled:143 :   [[ , =~ ,neutron ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   [[ ,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat,n-novnc-cell1,n-super-cond,n-cond-cell1 =~ ,q- ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   return 0
+ lib/neutron:cleanup_neutron:629          :   cleanup_mutnauq
+ lib/neutron-legacy:cleanup_mutnauq:734   :   [[ -n br-ex ]]
+ lib/neutron-legacy:cleanup_mutnauq:735   :   _move_neutron_addresses_route br-ex '' False True inet
+ lib/neutron-legacy:_move_neutron_addresses_route:658 :   local from_intf=br-ex
+ lib/neutron-legacy:_move_neutron_addresses_route:659 :   local to_intf=
+ lib/neutron-legacy:_move_neutron_addresses_route:660 :   local add_ovs_port=False
+ lib/neutron-legacy:_move_neutron_addresses_route:661 :   local del_ovs_port=True
+ lib/neutron-legacy:_move_neutron_addresses_route:662 :   local af=inet
+ lib/neutron-legacy:_move_neutron_addresses_route:664 :   [[ -n br-ex ]]
+ lib/neutron-legacy:_move_neutron_addresses_route:664 :   [[ -n '' ]]
++ lib/neutron-legacy:cleanup_mutnauq:737   :   ip -f inet6 a s dev br-ex
++ lib/neutron-legacy:cleanup_mutnauq:737   :   grep -c global
Device "br-ex" does not exist.
+ lib/neutron-legacy:cleanup_mutnauq:737   :   [[ 0 != 0 ]]
+ lib/neutron-legacy:cleanup_mutnauq:745   :   is_provider_network
+ functions-common:is_provider_network:2288 :   '[' '' == True ']'
+ functions-common:is_provider_network:2291 :   return 1
+ lib/neutron-legacy:cleanup_mutnauq:754   :   is_neutron_ovs_base_plugin
+ lib/neutron_plugins/ovs_base:is_neutron_ovs_base_plugin:23 :   return 0
+ lib/neutron-legacy:cleanup_mutnauq:755   :   neutron_ovs_base_cleanup
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:46 :   sudo ovs-vsctl list port
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:46 :   grep -o -e '[a-zA-Z-]*tap[0-9a-f-]*' -e 'q[rg]-[0-9a-f-]*'
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:51 :   grep -o -e br-int -e br-ex -e br-tun
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:51 :   sudo ovs-vsctl list-br
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
+ lib/neutron-legacy:cleanup_mutnauq:758   :   [[ ovn == \l\i\n\u\x\b\r\i\d\g\e ]]
++ lib/neutron-legacy:cleanup_mutnauq:763   :   sudo ip netns list
++ lib/neutron-legacy:cleanup_mutnauq:763   :   grep -o -E '(qdhcp|qrouter|fip|snat)-[0-9a-f-]*'
+ lib/neutron-legacy:cleanup_mutnauq:767   :   [[ ovn == \o\v\n ]]
+ lib/neutron-legacy:cleanup_mutnauq:768   :   cleanup_ovn
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:808 :   local ovn_path=/opt/stack/ovn
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:809 :   local ovs_path=/opt/stack/ovs
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:811 :   '[' -d /opt/stack/ovn ']'
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:815 :   '[' -d /opt/stack/ovs ']'
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:819 :   sudo rm -f /var/run/ovn
+ ./unstack.sh:main:166                    :   is_service_enabled etcd3
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./unstack.sh:main:167                    :   stop_etcd3
+ lib/etcd3:stop_etcd3:76                  :   '[' 10.200.2.118 '!=' 10.200.2.118 ']'
+ lib/etcd3:stop_etcd3:80                  :   sudo systemctl stop devstack@etcd.service
+ ./unstack.sh:main:168                    :   cleanup_etcd3
+ lib/etcd3:cleanup_etcd3:85               :   '[' 10.200.2.118 '!=' 10.200.2.118 ']'
+ lib/etcd3:cleanup_etcd3:89               :   sudo systemctl disable devstack@etcd.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@etcd.service.
+ lib/etcd3:cleanup_etcd3:91               :   local unitfile=/etc/systemd/system/devstack@etcd.service
+ lib/etcd3:cleanup_etcd3:92               :   sudo rm -f /etc/systemd/system/devstack@etcd.service
+ lib/etcd3:cleanup_etcd3:94               :   sudo systemctl daemon-reload
+ lib/etcd3:cleanup_etcd3:96               :   [[ True == \T\r\u\e ]]
+ lib/etcd3:cleanup_etcd3:97               :   sudo umount /opt/stack/data/etcd
+ lib/etcd3:cleanup_etcd3:99               :   sudo rm -rf /opt/stack/data/etcd
+ ./unstack.sh:main:171                    :   is_service_enabled dstat
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./unstack.sh:main:172                    :   stop_dstat
+ lib/dstat:stop_dstat:47                  :   stop_process dstat
+ functions-common:stop_process:1715       :   local service=dstat
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled dstat
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@dstat.service
enabled
+ functions-common:stop_process:1724       :   sudo systemctl stop devstack@dstat.service
+ functions-common:stop_process:1725       :   sudo systemctl disable devstack@dstat.service
Removed /etc/systemd/system/multi-user.target.wants/devstack@dstat.service.
+ lib/dstat:stop_dstat:48                  :   stop_process memory_tracker
+ functions-common:stop_process:1715       :   local service=memory_tracker
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled memory_tracker
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./unstack.sh:main:178                    :   is_service_enabled cinder
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./unstack.sh:main:178                    :   is_package_installed lvm2
+ functions-common:is_package_installed:1472 :   [[ -z lvm2 ]]
+ functions-common:is_package_installed:1476 :   [[ -z deb ]]
+ functions-common:is_package_installed:1480 :   [[ deb = \d\e\b ]]
+ functions-common:is_package_installed:1481 :   dpkg -s lvm2
+ ./unstack.sh:main:179                    :   clean_lvm_filter
+ lib/lvm:clean_lvm_filter:171             :   sudo sed -i 's/^.*# from devstack$//' /etc/lvm/lvm.conf
+ ./unstack.sh:main:182                    :   clean_pyc_files
+ functions-common:clean_pyc_files:2549    :   [[ -n /opt/stack ]]
+ functions-common:clean_pyc_files:2549    :   [[ -d /opt/stack ]]
+ functions-common:clean_pyc_files:2550    :   sudo find /opt/stack -name '*.pyc' -delete
+ ./unstack.sh:main:183                    :   rm -Rf /opt/stack/async
+ ./unstack.sh:main:188                    :   sudo sed -i '\+directory = /opt/stack+ d' /etc/gitconfig
Updating cinder
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
Already up to date.
Updating devstack
Already on 'master'
Your branch is up to date with 'origin/master'.
Already up to date.
Updating glance
Already on 'master'
Your branch is up to date with 'origin/master'.
Already up to date.
Updating horizon
Already on 'master'
Your branch is up to date with 'origin/master'.
Already up to date.
Updating keystone
Already on 'master'
Your branch is up to date with 'origin/master'.
Already up to date.
Updating neutron
Already on 'master'
Your branch is up to date with 'origin/master'.
From https://opendev.org/openstack/neutron
   e5e2024a36..f1926c086a  master     -> origin/master
Updating e5e2024a36..f1926c086a
Fast-forward
 neutron/common/ovn/constants.py                    |  1 +
 neutron/conf/policies/base.py                      | 28 ---------
 .../ml2/drivers/ovn/mech_driver/ovsdb/commands.py  | 28 +++++++++
 .../ovn/mech_driver/ovsdb/extensions/qos.py        | 70 ++++++++++++++++++----
 .../drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py  |  4 ++
 .../drivers/ovn/mech_driver/ovsdb/ovn_client.py    |  2 +-
 .../drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py   |  2 +-
 .../ovn/mech_driver/ovsdb/extensions/test_qos.py   | 35 +++++++++++
 .../ovn/mech_driver/ovsdb/extensions/test_qos.py   | 40 +++++++++----
 ...ovn-qos-minimum-bandwidth-74d51f63a536440a.yaml |  6 ++
 10 files changed, 163 insertions(+), 53 deletions(-)
 create mode 100644 releasenotes/notes/ovn-qos-minimum-bandwidth-74d51f63a536440a.yaml
Updating nova
Already on 'master'
Your branch is up to date with 'origin/master'.
Already up to date.
Updating novnc
Already on 'master'
Your branch is up to date with 'origin/master'.
Already up to date.
Updating tempest
Already on 'master'
Your branch is up to date with 'origin/master'.
Already up to date.
Updating placement
Already on 'master'
Your branch is up to date with 'origin/master'.
Already up to date.
Updating requirements
Already on 'master'
Your branch is up to date with 'origin/master'.
Already up to date.
WARNING: setting legacy OS_TENANT_NAME to support cli tools.
+ ./clean.sh:main:61                       :   [[ -d /opt/stack/devstack/extras.d ]]
+ ./clean.sh:main:62                       :   for i in $TOP_DIR/extras.d/*.sh
+ ./clean.sh:main:63                       :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ ./clean.sh:main:63                       :   source /opt/stack/devstack/extras.d/80-tempest.sh source
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ source == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:6          :   source /opt/stack/devstack/lib/tempest
++++ lib/tempest:source:40                    :   set +o
++++ lib/tempest:source:40                    :   grep xtrace
+++ lib/tempest:source:40                    :   _XTRACE_TEMPEST='set -o xtrace'
+++ lib/tempest:source:41                    :   set +o xtrace
++ extras.d/80-tempest.sh:source:27         :   [[ source == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ source == \c\l\e\a\n ]]
+ ./clean.sh:main:68                       :   /opt/stack/devstack/unstack.sh --all
WARNING: setting legacy OS_TENANT_NAME to support cli tools.
+ unstack.sh:main:96                       :   run_phase unstack
+ functions-common:run_phase:1867          :   local mode=unstack
+ functions-common:run_phase:1868          :   local phase=
+ functions-common:run_phase:1869          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1870          :   local extra_plugin_file_name
+ functions-common:run_phase:1871          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1876          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1877          :   local extra
++ functions-common:run_phase:1878          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1878          :   extra=80-tempest.sh
+ functions-common:run_phase:1879          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1883          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1883          :   source /opt/stack/devstack/extras.d/80-tempest.sh unstack
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ unstack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ unstack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:27         :   [[ unstack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:29         :   :
++ extras.d/80-tempest.sh:source:32         :   [[ unstack == \c\l\e\a\n ]]
+ functions-common:run_phase:1888          :   [[ unstack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1891          :   [[ unstack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1894          :   run_plugins unstack
+ functions-common:run_plugins:1853        :   local mode=unstack
+ functions-common:run_plugins:1854        :   local phase=
+ functions-common:run_plugins:1856        :   local plugins=
+ functions-common:run_plugins:1857        :   local plugin
+ unstack.sh:main:100                      :   is_service_enabled nova
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ unstack.sh:main:101                      :   stop_nova
+ lib/nova:stop_nova:1195                  :   stop_nova_rest
+ lib/nova:stop_nova_rest:1159             :   for serv in n-api n-api-meta n-sch
+ lib/nova:stop_nova_rest:1160             :   stop_process n-api
+ functions-common:stop_process:1715       :   local service=n-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-api.service
disabled
+ lib/nova:stop_nova_rest:1159             :   for serv in n-api n-api-meta n-sch
+ lib/nova:stop_nova_rest:1160             :   stop_process n-api-meta
+ functions-common:stop_process:1715       :   local service=n-api-meta
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-api-meta.service
disabled
+ lib/nova:stop_nova_rest:1159             :   for serv in n-api n-api-meta n-sch
+ lib/nova:stop_nova_rest:1160             :   stop_process n-sch
+ functions-common:stop_process:1715       :   local service=n-sch
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-sch
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-sch.service
disabled
+ lib/nova:stop_nova:1196                  :   stop_nova_console_proxies
+ lib/nova:stop_nova_console_proxies:1165  :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:stop_nova_console_proxies:1170  :   enable_nova_console_proxies
++ lib/nova:enable_nova_console_proxies:1057 :   seq 1 1
+ lib/nova:enable_nova_console_proxies:1057 :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:enable_nova_console_proxies:1058 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1059 :   is_service_enabled n-novnc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:enable_nova_console_proxies:1060 :   enable_service n-novnc-cell1
+ functions-common:enable_service:2026     :   local xtrace
++ functions-common:enable_service:2027     :   set +o
++ functions-common:enable_service:2027     :   grep xtrace
+ functions-common:enable_service:2027     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2028     :   set +o xtrace
+ lib/nova:enable_nova_console_proxies:1058 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1059 :   is_service_enabled n-spice
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:enable_nova_console_proxies:1058 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1059 :   is_service_enabled n-sproxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
++ lib/nova:stop_nova_console_proxies:1171  :   seq 1 1
+ lib/nova:stop_nova_console_proxies:1171  :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:stop_nova_console_proxies:1172  :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:stop_nova_console_proxies:1173  :   stop_process n-novnc-cell1
+ functions-common:stop_process:1715       :   local service=n-novnc-cell1
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-novnc-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-novnc-cell1.service
disabled
+ lib/nova:stop_nova_console_proxies:1172  :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:stop_nova_console_proxies:1173  :   stop_process n-spice-cell1
+ functions-common:stop_process:1715       :   local service=n-spice-cell1
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-spice-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:stop_nova_console_proxies:1172  :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:stop_nova_console_proxies:1173  :   stop_process n-sproxy-cell1
+ functions-common:stop_process:1715       :   local service=n-sproxy-cell1
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-sproxy-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:stop_nova:1197                  :   stop_nova_conductor
+ lib/nova:stop_nova_conductor:1180        :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:stop_nova_conductor:1185        :   enable_nova_fleet
+ lib/nova:enable_nova_fleet:1093          :   is_service_enabled n-cond
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:enable_nova_fleet:1094          :   enable_service n-super-cond
+ functions-common:enable_service:2026     :   local xtrace
++ functions-common:enable_service:2027     :   set +o
++ functions-common:enable_service:2027     :   grep xtrace
+ functions-common:enable_service:2027     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2028     :   set +o xtrace
++ lib/nova:enable_nova_fleet:1095          :   seq 1 1
+ lib/nova:enable_nova_fleet:1095          :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:enable_nova_fleet:1096          :   enable_service n-cond-cell1
+ functions-common:enable_service:2026     :   local xtrace
++ functions-common:enable_service:2027     :   set +o
++ functions-common:enable_service:2027     :   grep xtrace
+ functions-common:enable_service:2027     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2028     :   set +o xtrace
++ lib/nova:stop_nova_conductor:1186        :   seq -f n-cond-cell%0.f 1 1
+ lib/nova:stop_nova_conductor:1186        :   for srv in n-super-cond $(seq -f n-cond-cell%0.f 1 $NOVA_NUM_CELLS)
+ lib/nova:stop_nova_conductor:1187        :   is_service_enabled n-super-cond
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:stop_nova_conductor:1188        :   stop_process n-super-cond
+ functions-common:stop_process:1715       :   local service=n-super-cond
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-super-cond
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-super-cond.service
disabled
+ lib/nova:stop_nova_conductor:1186        :   for srv in n-super-cond $(seq -f n-cond-cell%0.f 1 $NOVA_NUM_CELLS)
+ lib/nova:stop_nova_conductor:1187        :   is_service_enabled n-cond-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:stop_nova_conductor:1188        :   stop_process n-cond-cell1
+ functions-common:stop_process:1715       :   local service=n-cond-cell1
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-cond-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-cond-cell1.service
disabled
+ lib/nova:stop_nova:1198                  :   stop_nova_compute
+ lib/nova:stop_nova_compute:1144          :   '[' libvirt == fake ']'
+ lib/nova:stop_nova_compute:1150          :   stop_process n-cpu
+ functions-common:stop_process:1715       :   local service=n-cpu
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-cpu.service
disabled
+ lib/nova:stop_nova_compute:1152          :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:stop_nova_compute:1152          :   [[ -r /opt/stack/devstack/lib/nova_plugins/hypervisor-libvirt ]]
+ lib/nova:stop_nova_compute:1153          :   stop_nova_hypervisor
+ lib/nova_plugins/hypervisor-libvirt:stop_nova_hypervisor:135 :   :
+ unstack.sh:main:102                      :   cleanup_nova
+ lib/nova:cleanup_nova:198                :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:cleanup_nova:200                :   clean_iptables
+ lib/nova:clean_iptables:186              :   sudo iptables -S -v
+ lib/nova:clean_iptables:186              :   grep nova
+ lib/nova:clean_iptables:186              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:186              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:186              :   grep '\-A'
+ lib/nova:clean_iptables:186              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:186              :   bash
+ lib/nova:clean_iptables:188              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:188              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:188              :   grep nova
+ lib/nova:clean_iptables:188              :   grep '\-A'
+ lib/nova:clean_iptables:188              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:clean_iptables:188              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:188              :   bash
+ lib/nova:clean_iptables:190              :   grep nova
+ lib/nova:clean_iptables:190              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:190              :   sudo iptables -S -v
+ lib/nova:clean_iptables:190              :   grep '\-N'
+ lib/nova:clean_iptables:190              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:190              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:190              :   bash
+ lib/nova:clean_iptables:192              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:192              :   grep nova
+ lib/nova:clean_iptables:192              :   grep '\-N'
+ lib/nova:clean_iptables:192              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:192              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:192              :   bash
+ lib/nova:clean_iptables:192              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:cleanup_nova:203                :   local instances
++ lib/nova:cleanup_nova:204                :   sudo virsh list --all
++ lib/nova:cleanup_nova:204                :   grep instance-
++ lib/nova:cleanup_nova:204                :   sed 's/.*\(instance-[0-9a-fA-F]*\).*/\1/g'
+ lib/nova:cleanup_nova:204                :   instances=
+ lib/nova:cleanup_nova:205                :   '[' '!' '' = '' ']'
+ lib/nova:cleanup_nova:214                :   local tgts
++ lib/nova:cleanup_nova:215                :   sudo iscsiadm --mode node
++ lib/nova:cleanup_nova:215                :   grep volume-
++ lib/nova:cleanup_nova:215                :   cut -d ' ' -f2
iscsiadm: No records found
+ lib/nova:cleanup_nova:215                :   tgts=
+ lib/nova:cleanup_nova:216                :   local target
+ lib/nova:cleanup_nova:220                :   sudo iscsiadm --mode node --op delete
iscsiadm: No records found
+ lib/nova:cleanup_nova:220                :   true
+ lib/nova:cleanup_nova:223                :   sudo rm -rf '/opt/stack/data/nova/instances/*'
+ lib/nova:cleanup_nova:226                :   sudo rm -rf /opt/stack/data/nova
+ lib/nova:cleanup_nova:235                :   stop_process n-api
+ functions-common:stop_process:1715       :   local service=n-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-api.service
disabled
+ lib/nova:cleanup_nova:236                :   stop_process n-api-meta
+ functions-common:stop_process:1715       :   local service=n-api-meta
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-api-meta.service
disabled
+ lib/nova:cleanup_nova:237                :   remove_uwsgi_config /etc/nova/nova-api-uwsgi.ini /usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/nova/nova-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=nova-api-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/nova/nova-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site nova-api-wsgi
+ lib/apache:disable_apache_site:219       :   local site=nova-api-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite nova-api-wsgi
Site nova-api-wsgi already disabled
+ lib/nova:cleanup_nova:238                :   remove_uwsgi_config /etc/nova/nova-metadata-uwsgi.ini /usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site nova-metadata-wsgi
+ lib/apache:disable_apache_site:219       :   local site=nova-metadata-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite nova-metadata-wsgi
ERROR: Site nova-metadata-wsgi does not exist!
+ lib/apache:disable_apache_site:221       :   true
+ lib/nova:cleanup_nova:240                :   [[ '' == \L\V\M ]]
+ unstack.sh:main:105                      :   is_service_enabled placement
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ unstack.sh:main:106                      :   stop_placement
+ lib/placement:stop_placement:165         :   [[ uwsgi == \u\w\s\g\i ]]
+ lib/placement:stop_placement:166         :   stop_process placement-api
+ functions-common:stop_process:1715       :   local service=placement-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled placement-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@placement-api.service
disabled
+ unstack.sh:main:109                      :   is_service_enabled glance
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ unstack.sh:main:110                      :   stop_glance
+ lib/glance:stop_glance:628               :   stop_process g-api
+ functions-common:stop_process:1715       :   local service=g-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled g-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@g-api.service
disabled
+ lib/glance:stop_glance:629               :   stop_process g-api-r
+ functions-common:stop_process:1715       :   local service=g-api-r
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled g-api-r
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ unstack.sh:main:113                      :   is_service_enabled keystone
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ unstack.sh:main:114                      :   stop_keystone
+ lib/keystone:stop_keystone:587           :   '[' uwsgi == mod_wsgi ']'
+ lib/keystone:stop_keystone:591           :   stop_process keystone
+ functions-common:stop_process:1715       :   local service=keystone
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled keystone
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@keystone.service
disabled
+ unstack.sh:main:118                      :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ unstack.sh:main:124                      :   is_service_enabled horizon
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ unstack.sh:main:125                      :   stop_horizon
+ lib/horizon:stop_horizon:176             :   stop_apache_server
+ lib/apache:stop_apache_server:238        :   '[' -n apache2 ']'
+ lib/apache:stop_apache_server:239        :   stop_service apache2
+ functions-common:stop_service:2356       :   '[' -x /bin/systemctl ']'
+ functions-common:stop_service:2357       :   sudo /bin/systemctl stop apache2
+ unstack.sh:main:129                      :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ unstack.sh:main:134                      :   SCSI_PERSIST_DIR='/opt/stack/data/cinder/volumes/*'
+ unstack.sh:main:140                      :   is_service_enabled cinder
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ unstack.sh:main:141                      :   stop_cinder
+ lib/cinder:stop_cinder:570               :   stop_process c-api
+ functions-common:stop_process:1715       :   local service=c-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled c-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@c-api.service
disabled
+ lib/cinder:stop_cinder:571               :   stop_process c-bak
+ functions-common:stop_process:1715       :   local service=c-bak
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/cinder:stop_cinder:572               :   stop_process c-sch
+ functions-common:stop_process:1715       :   local service=c-sch
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled c-sch
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@c-sch.service
disabled
+ lib/cinder:stop_cinder:573               :   stop_process c-vol
+ functions-common:stop_process:1715       :   local service=c-vol
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@c-vol.service
disabled
+ unstack.sh:main:142                      :   cleanup_cinder
+ lib/cinder:cleanup_cinder:190            :   '[' lioadm = tgtadm ']'
+ lib/cinder:cleanup_cinder:219            :   sudo cinder-rtstool get-targets
+ lib/cinder:cleanup_cinder:219            :   sudo xargs -rn 1 cinder-rtstool delete
+ lib/cinder:cleanup_cinder:222            :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/cinder:cleanup_cinder:222            :   [[ -n lvm:lvmdriver-1 ]]
+ lib/cinder:cleanup_cinder:223            :   local be be_name be_type
+ lib/cinder:cleanup_cinder:224            :   for be in ${CINDER_ENABLED_BACKENDS//,/ }
+ lib/cinder:cleanup_cinder:225            :   be_type=lvm
+ lib/cinder:cleanup_cinder:226            :   be_name=lvmdriver-1
+ lib/cinder:cleanup_cinder:227            :   type cleanup_cinder_backend_lvm
+ lib/cinder:cleanup_cinder:228            :   cleanup_cinder_backend_lvm lvmdriver-1
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:38 :   local be_name=lvmdriver-1
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:41 :   clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:61        :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:63        :   _clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:40       :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:43       :   sudo lvremove -f stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" not found
  Cannot process volume group stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:64        :   _remove_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_remove_lvm_volume_group:50      :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_remove_lvm_volume_group:53      :   sudo vgremove -f stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" not found
  Cannot process volume group stack-volumes-lvmdriver-1
++ lib/lvm:clean_lvm_volume_group:67        :   sudo lvs --noheadings -o lv_name stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:67        :   [[ -z '' ]]
+ lib/lvm:clean_lvm_volume_group:68        :   local backing_file=/opt/stack/data/stack-volumes-lvmdriver-1-backing-file
+ lib/lvm:clean_lvm_volume_group:70        :   [[ -n stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:71        :   [[ -e /etc/systemd/system/stack-volumes-lvmdriver-1-backing-file.service ]]
+ lib/lvm:clean_lvm_volume_group:78        :   [[ -n /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:78        :   [[ -e /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:42 :   clean_lvm_filter
+ lib/lvm:clean_lvm_filter:171             :   sudo sed -i 's/^.*# from devstack$//' /etc/lvm/lvm.conf
+ lib/cinder:cleanup_cinder:233            :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/cinder:cleanup_cinder:239            :   stop_process c-api
+ functions-common:stop_process:1715       :   local service=c-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled c-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@c-api.service
disabled
+ lib/cinder:cleanup_cinder:240            :   remove_uwsgi_config /etc/cinder/cinder-api-uwsgi.ini /usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=cinder-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site cinder-wsgi
+ lib/apache:disable_apache_site:219       :   local site=cinder-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite cinder-wsgi
Site cinder-wsgi already disabled
+ unstack.sh:main:145                      :   [[ -n -1 ]]
+ unstack.sh:main:147                      :   is_service_enabled mysql
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ unstack.sh:main:148                      :   stop_service mysql
+ functions-common:stop_service:2356       :   '[' -x /bin/systemctl ']'
+ functions-common:stop_service:2357       :   sudo /bin/systemctl stop mysql
+ unstack.sh:main:151                      :   is_service_enabled postgresql
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ unstack.sh:main:156                      :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ unstack.sh:main:157                      :   stop_service rabbitmq-server
+ functions-common:stop_service:2356       :   '[' -x /bin/systemctl ']'
+ functions-common:stop_service:2357       :   sudo /bin/systemctl stop rabbitmq-server
+ unstack.sh:main:161                      :   is_service_enabled neutron
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ unstack.sh:main:162                      :   stop_neutron
+ lib/neutron:stop_neutron:758             :   is_neutron_legacy_enabled
++ lib/neutron:is_neutron_legacy_enabled:142 :   echo
++ lib/neutron:is_neutron_legacy_enabled:142 :   sed s/neutron-//g
+ lib/neutron:is_neutron_legacy_enabled:142 :   disabled_services_copy=
+ lib/neutron:is_neutron_legacy_enabled:143 :   [[ , =~ ,neutron ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   [[ ,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat,n-novnc-cell1,n-super-cond,n-cond-cell1 =~ ,q- ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   return 0
+ lib/neutron:stop_neutron:760             :   stop_mutnauq
+ lib/neutron-legacy:stop_mutnauq:646      :   stop_mutnauq_other
+ lib/neutron-legacy:stop_mutnauq_other:612 :   is_service_enabled q-dhcp
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:stop_mutnauq_other:618 :   '[' False == True ']'
+ lib/neutron-legacy:stop_mutnauq_other:622 :   stop_process q-svc
+ functions-common:stop_process:1715       :   local service=q-svc
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled q-svc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@q-svc.service
disabled
+ lib/neutron-legacy:stop_mutnauq_other:625 :   is_service_enabled q-l3
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:stop_mutnauq_other:630 :   is_service_enabled q-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:stop_mutnauq_other:635 :   is_service_enabled q-metering
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:stop_mutnauq_other:639 :   [[ True == \T\r\u\e ]]
+ lib/neutron-legacy:stop_mutnauq_other:640 :   sudo pkill -9 -f /usr/local/bin/neutron-rootwrap-daemon
/opt/stack/devstack/lib/neutron-legacy: line 611: 3127555 Killed                  sudo pkill -9 -f $NEUTRON_ROOTWRAP-daemon
+ lib/neutron-legacy:stop_mutnauq_other:640 :   :
+ lib/neutron-legacy:stop_mutnauq:647      :   stop_mutnauq_l2_agent
+ lib/neutron-legacy:stop_mutnauq_l2_agent:607 :   stop_process q-agt
+ functions-common:stop_process:1715       :   local service=q-agt
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled q-agt
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:stop_mutnauq:649      :   [[ ovn == \o\v\n ]]
+ lib/neutron-legacy:stop_mutnauq:649      :   [[ False != \T\r\u\e ]]
+ lib/neutron-legacy:stop_mutnauq:650      :   stop_ovn
+ lib/neutron_plugins/ovn_agent:stop_ovn:773 :   is_service_enabled q-ovn-metadata-agent
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:stop_ovn:774 :   sudo pkill -9 -f haproxy
/opt/stack/devstack/lib/neutron_plugins/ovn_agent: line 772: 3127609 Killed                  sudo pkill -9 -f haproxy
+ lib/neutron_plugins/ovn_agent:stop_ovn:774 :   :
+ lib/neutron_plugins/ovn_agent:stop_ovn:775 :   _stop_process devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   local service=devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   echo 'Stopping process devstack@q-ovn-metadata-agent.service'
Stopping process devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_stop_process:766 :   sudo systemctl is-enabled devstack@q-ovn-metadata-agent.service
disabled
+ lib/neutron_plugins/ovn_agent:stop_ovn:777 :   is_service_enabled ovn-controller-vtep
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:stop_ovn:780 :   is_service_enabled ovn-controller
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:stop_ovn:781 :   _stop_process ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   local service=ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   echo 'Stopping process ovn-controller.service'
Stopping process ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:766 :   sudo systemctl is-enabled ovn-controller.service
static
+ lib/neutron_plugins/ovn_agent:_stop_process:767 :   sudo systemctl stop ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_stop_process:768 :   sudo systemctl disable ovn-controller.service
+ lib/neutron_plugins/ovn_agent:stop_ovn:783 :   is_service_enabled ovn-northd
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:stop_ovn:784 :   _stop_process ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   local service=ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   echo 'Stopping process ovn-central.service'
Stopping process ovn-central.service
+ lib/neutron_plugins/ovn_agent:_stop_process:766 :   sudo systemctl is-enabled ovn-central.service
disabled
+ lib/neutron_plugins/ovn_agent:stop_ovn:786 :   is_service_enabled ovs-vtep
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:stop_ovn:790 :   _stop_process ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   local service=ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   echo 'Stopping process ovs-vswitchd.service'
Stopping process ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:766 :   sudo systemctl is-enabled ovs-vswitchd.service
static
+ lib/neutron_plugins/ovn_agent:_stop_process:767 :   sudo systemctl stop ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_stop_process:768 :   sudo systemctl disable ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:stop_ovn:791 :   _stop_process ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:764 :   local service=ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:765 :   echo 'Stopping process ovsdb-server.service'
Stopping process ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:766 :   sudo systemctl is-enabled ovsdb-server.service
static
+ lib/neutron_plugins/ovn_agent:_stop_process:767 :   sudo systemctl stop ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_stop_process:768 :   sudo systemctl disable ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:stop_ovn:793 :   _stop_ovs_dp
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:759 :   sudo xargs -n1 ovs-dpctl del-dp
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:759 :   sudo ovs-dpctl dump-dps
ovs-dpctl: 'del-dp' command requires at least 1 arguments
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:760 :   modprobe -q -r vport_geneve vport_vxlan openvswitch
+ lib/neutron_plugins/ovn_agent:_stop_ovs_dp:760 :   true
+ unstack.sh:main:163                      :   cleanup_neutron
+ lib/neutron:cleanup_neutron:620          :   '[' False == True ']'
+ lib/neutron:cleanup_neutron:627          :   is_neutron_legacy_enabled
++ lib/neutron:is_neutron_legacy_enabled:142 :   echo
++ lib/neutron:is_neutron_legacy_enabled:142 :   sed s/neutron-//g
+ lib/neutron:is_neutron_legacy_enabled:142 :   disabled_services_copy=
+ lib/neutron:is_neutron_legacy_enabled:143 :   [[ , =~ ,neutron ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   [[ ,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat,n-novnc-cell1,n-super-cond,n-cond-cell1 =~ ,q- ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   return 0
+ lib/neutron:cleanup_neutron:629          :   cleanup_mutnauq
+ lib/neutron-legacy:cleanup_mutnauq:734   :   [[ -n br-ex ]]
+ lib/neutron-legacy:cleanup_mutnauq:735   :   _move_neutron_addresses_route br-ex '' False True inet
+ lib/neutron-legacy:_move_neutron_addresses_route:658 :   local from_intf=br-ex
+ lib/neutron-legacy:_move_neutron_addresses_route:659 :   local to_intf=
+ lib/neutron-legacy:_move_neutron_addresses_route:660 :   local add_ovs_port=False
+ lib/neutron-legacy:_move_neutron_addresses_route:661 :   local del_ovs_port=True
+ lib/neutron-legacy:_move_neutron_addresses_route:662 :   local af=inet
+ lib/neutron-legacy:_move_neutron_addresses_route:664 :   [[ -n br-ex ]]
+ lib/neutron-legacy:_move_neutron_addresses_route:664 :   [[ -n '' ]]
++ lib/neutron-legacy:cleanup_mutnauq:737   :   grep -c global
++ lib/neutron-legacy:cleanup_mutnauq:737   :   ip -f inet6 a s dev br-ex
Device "br-ex" does not exist.
+ lib/neutron-legacy:cleanup_mutnauq:737   :   [[ 0 != 0 ]]
+ lib/neutron-legacy:cleanup_mutnauq:745   :   is_provider_network
+ functions-common:is_provider_network:2288 :   '[' '' == True ']'
+ functions-common:is_provider_network:2291 :   return 1
+ lib/neutron-legacy:cleanup_mutnauq:754   :   is_neutron_ovs_base_plugin
+ lib/neutron_plugins/ovs_base:is_neutron_ovs_base_plugin:23 :   return 0
+ lib/neutron-legacy:cleanup_mutnauq:755   :   neutron_ovs_base_cleanup
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:46 :   sudo ovs-vsctl list port
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:46 :   grep -o -e '[a-zA-Z-]*tap[0-9a-f-]*' -e 'q[rg]-[0-9a-f-]*'
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:51 :   sudo ovs-vsctl list-br
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:51 :   grep -o -e br-int -e br-ex -e br-tun
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
+ lib/neutron-legacy:cleanup_mutnauq:758   :   [[ ovn == \l\i\n\u\x\b\r\i\d\g\e ]]
++ lib/neutron-legacy:cleanup_mutnauq:763   :   grep -o -E '(qdhcp|qrouter|fip|snat)-[0-9a-f-]*'
++ lib/neutron-legacy:cleanup_mutnauq:763   :   sudo ip netns list
+ lib/neutron-legacy:cleanup_mutnauq:767   :   [[ ovn == \o\v\n ]]
+ lib/neutron-legacy:cleanup_mutnauq:768   :   cleanup_ovn
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:808 :   local ovn_path=/opt/stack/ovn
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:809 :   local ovs_path=/opt/stack/ovs
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:811 :   '[' -d /opt/stack/ovn ']'
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:815 :   '[' -d /opt/stack/ovs ']'
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:819 :   sudo rm -f /var/run/ovn
+ unstack.sh:main:166                      :   is_service_enabled etcd3
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ unstack.sh:main:167                      :   stop_etcd3
+ lib/etcd3:stop_etcd3:76                  :   '[' 10.200.2.118 '!=' 10.200.2.118 ']'
+ lib/etcd3:stop_etcd3:80                  :   sudo systemctl stop devstack@etcd.service
Failed to stop devstack@etcd.service: Unit devstack@etcd.service not loaded.
+ unstack.sh:main:168                      :   cleanup_etcd3
+ lib/etcd3:cleanup_etcd3:85               :   '[' 10.200.2.118 '!=' 10.200.2.118 ']'
+ lib/etcd3:cleanup_etcd3:89               :   sudo systemctl disable devstack@etcd.service
Failed to disable unit: Unit file devstack@etcd.service does not exist.
+ lib/etcd3:cleanup_etcd3:91               :   local unitfile=/etc/systemd/system/devstack@etcd.service
+ lib/etcd3:cleanup_etcd3:92               :   sudo rm -f /etc/systemd/system/devstack@etcd.service
+ lib/etcd3:cleanup_etcd3:94               :   sudo systemctl daemon-reload
+ lib/etcd3:cleanup_etcd3:96               :   [[ True == \T\r\u\e ]]
+ lib/etcd3:cleanup_etcd3:97               :   sudo umount /opt/stack/data/etcd
umount: /opt/stack/data/etcd: no mount point specified.
+ lib/etcd3:cleanup_etcd3:99               :   sudo rm -rf /opt/stack/data/etcd
+ unstack.sh:main:171                      :   is_service_enabled dstat
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ unstack.sh:main:172                      :   stop_dstat
+ lib/dstat:stop_dstat:47                  :   stop_process dstat
+ functions-common:stop_process:1715       :   local service=dstat
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled dstat
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@dstat.service
disabled
+ lib/dstat:stop_dstat:48                  :   stop_process memory_tracker
+ functions-common:stop_process:1715       :   local service=memory_tracker
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled memory_tracker
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ unstack.sh:main:178                      :   is_service_enabled cinder
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ unstack.sh:main:178                      :   is_package_installed lvm2
+ functions-common:is_package_installed:1472 :   [[ -z lvm2 ]]
+ functions-common:is_package_installed:1476 :   [[ -z deb ]]
+ functions-common:is_package_installed:1480 :   [[ deb = \d\e\b ]]
+ functions-common:is_package_installed:1481 :   dpkg -s lvm2
+ unstack.sh:main:179                      :   clean_lvm_filter
+ lib/lvm:clean_lvm_filter:171             :   sudo sed -i 's/^.*# from devstack$//' /etc/lvm/lvm.conf
+ unstack.sh:main:182                      :   clean_pyc_files
+ functions-common:clean_pyc_files:2549    :   [[ -n /opt/stack ]]
+ functions-common:clean_pyc_files:2549    :   [[ -d /opt/stack ]]
+ functions-common:clean_pyc_files:2550    :   sudo find /opt/stack -name '*.pyc' -delete
+ unstack.sh:main:183                      :   rm -Rf /opt/stack/async
+ unstack.sh:main:188                      :   sudo sed -i '\+directory = /opt/stack+ d' /etc/gitconfig
+ ./clean.sh:main:74                       :   load_plugin_settings
+ functions-common:load_plugin_settings:1803 :   local plugins=
+ functions-common:load_plugin_settings:1804 :   local plugin
+ functions-common:load_plugin_settings:1807 :   [[ -z '' ]]
+ functions-common:load_plugin_settings:1808 :   return
+ ./clean.sh:main:75                       :   run_phase clean
+ functions-common:run_phase:1867          :   local mode=clean
+ functions-common:run_phase:1868          :   local phase=
+ functions-common:run_phase:1869          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1870          :   local extra_plugin_file_name
+ functions-common:run_phase:1871          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1876          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1877          :   local extra
++ functions-common:run_phase:1878          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1878          :   extra=80-tempest.sh
+ functions-common:run_phase:1879          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1883          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1883          :   source /opt/stack/devstack/extras.d/80-tempest.sh clean
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ clean == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:27         :   [[ clean == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ clean == \c\l\e\a\n ]]
++ extras.d/80-tempest.sh:source:34         :   :
+ functions-common:run_phase:1888          :   [[ clean == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1891          :   [[ clean == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1894          :   run_plugins clean
+ functions-common:run_plugins:1853        :   local mode=clean
+ functions-common:run_plugins:1854        :   local phase=
+ functions-common:run_plugins:1856        :   local plugins=
+ functions-common:run_plugins:1857        :   local plugin
+ ./clean.sh:main:77                       :   [[ -d /opt/stack/devstack/extras.d ]]
+ ./clean.sh:main:78                       :   for i in $TOP_DIR/extras.d/*.sh
+ ./clean.sh:main:79                       :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ ./clean.sh:main:79                       :   source /opt/stack/devstack/extras.d/80-tempest.sh clean
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ clean == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ clean == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:27         :   [[ clean == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ clean == \c\l\e\a\n ]]
++ extras.d/80-tempest.sh:source:34         :   :
+ ./clean.sh:main:86                       :   cleanup_cinder
+ lib/cinder:cleanup_cinder:190            :   '[' lioadm = tgtadm ']'
+ lib/cinder:cleanup_cinder:219            :   sudo xargs -rn 1 cinder-rtstool delete
+ lib/cinder:cleanup_cinder:219            :   sudo cinder-rtstool get-targets
+ lib/cinder:cleanup_cinder:222            :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/cinder:cleanup_cinder:222            :   [[ -n lvm:lvmdriver-1 ]]
+ lib/cinder:cleanup_cinder:223            :   local be be_name be_type
+ lib/cinder:cleanup_cinder:224            :   for be in ${CINDER_ENABLED_BACKENDS//,/ }
+ lib/cinder:cleanup_cinder:225            :   be_type=lvm
+ lib/cinder:cleanup_cinder:226            :   be_name=lvmdriver-1
+ lib/cinder:cleanup_cinder:227            :   type cleanup_cinder_backend_lvm
+ lib/cinder:cleanup_cinder:228            :   cleanup_cinder_backend_lvm lvmdriver-1
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:38 :   local be_name=lvmdriver-1
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:41 :   clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:61        :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:63        :   _clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:40       :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:43       :   sudo lvremove -f stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" not found
  Cannot process volume group stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:64        :   _remove_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_remove_lvm_volume_group:50      :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_remove_lvm_volume_group:53      :   sudo vgremove -f stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" not found
  Cannot process volume group stack-volumes-lvmdriver-1
++ lib/lvm:clean_lvm_volume_group:67        :   sudo lvs --noheadings -o lv_name stack-volumes-lvmdriver-1
+ lib/lvm:clean_lvm_volume_group:67        :   [[ -z '' ]]
+ lib/lvm:clean_lvm_volume_group:68        :   local backing_file=/opt/stack/data/stack-volumes-lvmdriver-1-backing-file
+ lib/lvm:clean_lvm_volume_group:70        :   [[ -n stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:71        :   [[ -e /etc/systemd/system/stack-volumes-lvmdriver-1-backing-file.service ]]
+ lib/lvm:clean_lvm_volume_group:78        :   [[ -n /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:clean_lvm_volume_group:78        :   [[ -e /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/cinder_backends/lvm:cleanup_cinder_backend_lvm:42 :   clean_lvm_filter
+ lib/lvm:clean_lvm_filter:171             :   sudo sed -i 's/^.*# from devstack$//' /etc/lvm/lvm.conf
+ lib/cinder:cleanup_cinder:233            :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/cinder:cleanup_cinder:239            :   stop_process c-api
+ functions-common:stop_process:1715       :   local service=c-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled c-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@c-api.service
disabled
+ lib/cinder:cleanup_cinder:240            :   remove_uwsgi_config /etc/cinder/cinder-api-uwsgi.ini /usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/cinder-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=cinder-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site cinder-wsgi
+ lib/apache:disable_apache_site:219       :   local site=cinder-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite cinder-wsgi
Site cinder-wsgi already disabled
+ ./clean.sh:main:88                       :   cleanup_glance
+ lib/glance:cleanup_glance:158            :   sudo rm -rf /opt/stack/data/glance/cache /opt/stack/data/glance/images /opt/stack/data/glance-remote
+ lib/glance:cleanup_glance:161            :   [[ False == \T\r\u\e ]]
+ ./clean.sh:main:89                       :   cleanup_keystone
+ lib/keystone:cleanup_keystone:147        :   '[' uwsgi == mod_wsgi ']'
+ lib/keystone:cleanup_keystone:152        :   stop_process keystone
+ functions-common:stop_process:1715       :   local service=keystone
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled keystone
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@keystone.service
disabled
+ lib/keystone:cleanup_keystone:153        :   remove_uwsgi_config /etc/keystone/keystone-uwsgi-public.ini /usr/local/bin/keystone-wsgi-public
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/keystone/keystone-uwsgi-public.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/keystone-wsgi-public
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/keystone-wsgi-public
+ lib/apache:remove_uwsgi_config:395       :   name=keystone-wsgi-public
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/keystone/keystone-uwsgi-public.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site keystone-wsgi-public
+ lib/apache:disable_apache_site:219       :   local site=keystone-wsgi-public
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite keystone-wsgi-public
Site keystone-wsgi-public disabled.
To activate the new configuration, you need to run:
  systemctl reload apache2
++ lib/keystone:cleanup_keystone:154        :   apache_site_config_for keystone-wsgi-public
++ lib/apache:apache_site_config_for:186    :   local site=keystone-wsgi-public
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:567           :   [[ -z deb ]]
++ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/keystone-wsgi-public.conf
+ lib/keystone:cleanup_keystone:154        :   sudo rm -f /etc/apache2/sites-available/keystone-wsgi-public.conf
+ ./clean.sh:main:90                       :   cleanup_nova
+ lib/nova:cleanup_nova:198                :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:cleanup_nova:200                :   clean_iptables
+ lib/nova:clean_iptables:186              :   sudo iptables -S -v
+ lib/nova:clean_iptables:186              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:186              :   grep '\-A'
+ lib/nova:clean_iptables:186              :   grep nova
+ lib/nova:clean_iptables:186              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:186              :   bash
+ lib/nova:clean_iptables:186              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:188              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:188              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:188              :   sed s/-A/-D/g
+ lib/nova:clean_iptables:188              :   grep nova
+ lib/nova:clean_iptables:188              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:clean_iptables:188              :   grep '\-A'
+ lib/nova:clean_iptables:188              :   bash
+ lib/nova:clean_iptables:190              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:190              :   sudo iptables -S -v
+ lib/nova:clean_iptables:190              :   grep nova
+ lib/nova:clean_iptables:190              :   awk '{print "sudo iptables",$0}'
+ lib/nova:clean_iptables:190              :   grep '\-N'
+ lib/nova:clean_iptables:190              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:190              :   bash
+ lib/nova:clean_iptables:192              :   sudo iptables -S -v -t nat
+ lib/nova:clean_iptables:192              :   sed 's/-c [0-9]* [0-9]* //g'
+ lib/nova:clean_iptables:192              :   grep nova
+ lib/nova:clean_iptables:192              :   grep '\-N'
+ lib/nova:clean_iptables:192              :   sed s/-N/-X/g
+ lib/nova:clean_iptables:192              :   bash
+ lib/nova:clean_iptables:192              :   awk '{print "sudo iptables -t nat",$0}'
+ lib/nova:cleanup_nova:203                :   local instances
++ lib/nova:cleanup_nova:204                :   sudo virsh list --all
++ lib/nova:cleanup_nova:204                :   grep instance-
++ lib/nova:cleanup_nova:204                :   sed 's/.*\(instance-[0-9a-fA-F]*\).*/\1/g'
+ lib/nova:cleanup_nova:204                :   instances=
+ lib/nova:cleanup_nova:205                :   '[' '!' '' = '' ']'
+ lib/nova:cleanup_nova:214                :   local tgts
++ lib/nova:cleanup_nova:215                :   sudo iscsiadm --mode node
++ lib/nova:cleanup_nova:215                :   grep volume-
++ lib/nova:cleanup_nova:215                :   cut -d ' ' -f2
iscsiadm: No records found
+ lib/nova:cleanup_nova:215                :   tgts=
+ lib/nova:cleanup_nova:216                :   local target
+ lib/nova:cleanup_nova:220                :   sudo iscsiadm --mode node --op delete
iscsiadm: No records found
+ lib/nova:cleanup_nova:220                :   true
+ lib/nova:cleanup_nova:223                :   sudo rm -rf '/opt/stack/data/nova/instances/*'
+ lib/nova:cleanup_nova:226                :   sudo rm -rf /opt/stack/data/nova
+ lib/nova:cleanup_nova:235                :   stop_process n-api
+ functions-common:stop_process:1715       :   local service=n-api
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-api.service
disabled
+ lib/nova:cleanup_nova:236                :   stop_process n-api-meta
+ functions-common:stop_process:1715       :   local service=n-api-meta
+ functions-common:stop_process:1717       :   SERVICE_DIR=/opt/stack/status
+ functions-common:stop_process:1719       :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:stop_process:1723       :   sudo systemctl is-enabled devstack@n-api-meta.service
disabled
+ lib/nova:cleanup_nova:237                :   remove_uwsgi_config /etc/nova/nova-api-uwsgi.ini /usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/nova/nova-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/nova-api-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=nova-api-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/nova/nova-api-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site nova-api-wsgi
+ lib/apache:disable_apache_site:219       :   local site=nova-api-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite nova-api-wsgi
Site nova-api-wsgi already disabled
+ lib/nova:cleanup_nova:238                :   remove_uwsgi_config /etc/nova/nova-metadata-uwsgi.ini /usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:395       :   name=nova-metadata-wsgi
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site nova-metadata-wsgi
+ lib/apache:disable_apache_site:219       :   local site=nova-metadata-wsgi
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite nova-metadata-wsgi
ERROR: Site nova-metadata-wsgi does not exist!
+ lib/apache:disable_apache_site:221       :   true
+ lib/nova:cleanup_nova:240                :   [[ '' == \L\V\M ]]
+ ./clean.sh:main:91                       :   cleanup_placement
++ lib/placement:cleanup_placement:64       :   apache_site_config_for placement-api
++ lib/apache:apache_site_config_for:186    :   local site=placement-api
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:567           :   [[ -z deb ]]
++ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/placement-api.conf
+ lib/placement:cleanup_placement:64       :   sudo rm -f /etc/apache2/sites-available/placement-api.conf
+ lib/placement:cleanup_placement:65       :   remove_uwsgi_config /etc/placement/placement-uwsgi.ini /usr/local/bin/placement-api
+ lib/apache:remove_uwsgi_config:392       :   local file=/etc/placement/placement-uwsgi.ini
+ lib/apache:remove_uwsgi_config:393       :   local wsgi=/usr/local/bin/placement-api
+ lib/apache:remove_uwsgi_config:394       :   local name=
++ lib/apache:remove_uwsgi_config:395       :   basename /usr/local/bin/placement-api
+ lib/apache:remove_uwsgi_config:395       :   name=placement-api
+ lib/apache:remove_uwsgi_config:397       :   rm -rf /etc/placement/placement-uwsgi.ini
+ lib/apache:remove_uwsgi_config:398       :   disable_apache_site placement-api
+ lib/apache:disable_apache_site:219       :   local site=placement-api
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite placement-api
removing dangling symlink /etc/apache2/sites-enabled/placement-api.conf
+ ./clean.sh:main:92                       :   cleanup_neutron
+ lib/neutron:cleanup_neutron:620          :   '[' False == True ']'
+ lib/neutron:cleanup_neutron:627          :   is_neutron_legacy_enabled
++ lib/neutron:is_neutron_legacy_enabled:142 :   echo
++ lib/neutron:is_neutron_legacy_enabled:142 :   sed s/neutron-//g
+ lib/neutron:is_neutron_legacy_enabled:142 :   disabled_services_copy=
+ lib/neutron:is_neutron_legacy_enabled:143 :   [[ , =~ ,neutron ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   [[ ,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat,n-novnc-cell1,n-super-cond,n-cond-cell1 =~ ,q- ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   return 0
+ lib/neutron:cleanup_neutron:629          :   cleanup_mutnauq
+ lib/neutron-legacy:cleanup_mutnauq:734   :   [[ -n br-ex ]]
+ lib/neutron-legacy:cleanup_mutnauq:735   :   _move_neutron_addresses_route br-ex '' False True inet
+ lib/neutron-legacy:_move_neutron_addresses_route:658 :   local from_intf=br-ex
+ lib/neutron-legacy:_move_neutron_addresses_route:659 :   local to_intf=
+ lib/neutron-legacy:_move_neutron_addresses_route:660 :   local add_ovs_port=False
+ lib/neutron-legacy:_move_neutron_addresses_route:661 :   local del_ovs_port=True
+ lib/neutron-legacy:_move_neutron_addresses_route:662 :   local af=inet
+ lib/neutron-legacy:_move_neutron_addresses_route:664 :   [[ -n br-ex ]]
+ lib/neutron-legacy:_move_neutron_addresses_route:664 :   [[ -n '' ]]
++ lib/neutron-legacy:cleanup_mutnauq:737   :   ip -f inet6 a s dev br-ex
++ lib/neutron-legacy:cleanup_mutnauq:737   :   grep -c global
Device "br-ex" does not exist.
+ lib/neutron-legacy:cleanup_mutnauq:737   :   [[ 0 != 0 ]]
+ lib/neutron-legacy:cleanup_mutnauq:745   :   is_provider_network
+ functions-common:is_provider_network:2288 :   '[' '' == True ']'
+ functions-common:is_provider_network:2291 :   return 1
+ lib/neutron-legacy:cleanup_mutnauq:754   :   is_neutron_ovs_base_plugin
+ lib/neutron_plugins/ovs_base:is_neutron_ovs_base_plugin:23 :   return 0
+ lib/neutron-legacy:cleanup_mutnauq:755   :   neutron_ovs_base_cleanup
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:46 :   sudo ovs-vsctl list port
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:46 :   grep -o -e '[a-zA-Z-]*tap[0-9a-f-]*' -e 'q[rg]-[0-9a-f-]*'
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:51 :   sudo ovs-vsctl list-br
++ lib/neutron_plugins/ovs_base:neutron_ovs_base_cleanup:51 :   grep -o -e br-int -e br-ex -e br-tun
ovs-vsctl: unix:/var/run/openvswitch/db.sock: database connection failed (No such file or directory)
+ lib/neutron-legacy:cleanup_mutnauq:758   :   [[ ovn == \l\i\n\u\x\b\r\i\d\g\e ]]
++ lib/neutron-legacy:cleanup_mutnauq:763   :   sudo ip netns list
++ lib/neutron-legacy:cleanup_mutnauq:763   :   grep -o -E '(qdhcp|qrouter|fip|snat)-[0-9a-f-]*'
+ lib/neutron-legacy:cleanup_mutnauq:767   :   [[ ovn == \o\v\n ]]
+ lib/neutron-legacy:cleanup_mutnauq:768   :   cleanup_ovn
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:808 :   local ovn_path=/opt/stack/ovn
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:809 :   local ovs_path=/opt/stack/ovs
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:811 :   '[' -d /opt/stack/ovn ']'
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:815 :   '[' -d /opt/stack/ovs ']'
+ lib/neutron_plugins/ovn_agent:cleanup_ovn:819 :   sudo rm -f /var/run/ovn
+ ./clean.sh:main:93                       :   cleanup_swift
+ lib/swift:cleanup_swift:181              :   rm -f '/etc/swift*.builder' '/etc/swift*.ring.gz' '/etc/swiftbackups/*.builder' '/etc/swiftbackups/*.ring.gz'
+ lib/swift:cleanup_swift:183              :   destroy_disk /opt/stack/data/swift/drives/images/swift.img /opt/stack/data/swift/drives/sdb1
+ functions:destroy_disk:763               :   local disk_image=/opt/stack/data/swift/drives/images/swift.img
+ functions:destroy_disk:764               :   local storage_data_dir=/opt/stack/data/swift/drives/sdb1
+ functions:destroy_disk:765               :   local key
++ functions:destroy_disk:767               :   echo /opt/stack/data/swift/drives/images/swift.img
++ functions:destroy_disk:767               :   sed s#/.##
+ functions:destroy_disk:767               :   key=pt/stack/data/swift/drives/images/swift.img
+ functions:destroy_disk:768               :   key=devstack-pt/stack/data/swift/drives/images/swift.img
+ functions:destroy_disk:771               :   egrep -q /opt/stack/data/swift/drives/sdb1 /proc/mounts
+ functions:destroy_disk:776               :   sudo sed -i '/.*comment=$key.*/ d' /etc/fstab
+ functions:destroy_disk:779               :   sudo rm -f /opt/stack/data/swift/drives/images/swift.img
+ lib/swift:cleanup_swift:185              :   rm -rf /opt/stack/data/swift/run/
+ lib/swift:cleanup_swift:186              :   '[' False == True ']'
+ ./clean.sh:main:94                       :   cleanup_horizon
+ lib/horizon:cleanup_horizon:69           :   disable_apache_site horizon
+ lib/apache:disable_apache_site:219       :   local site=horizon
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite horizon
Site horizon disabled.
To activate the new configuration, you need to run:
  systemctl reload apache2
++ lib/horizon:cleanup_horizon:70           :   apache_site_config_for horizon
++ lib/apache:apache_site_config_for:186    :   local site=horizon
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:567           :   [[ -z deb ]]
++ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/horizon.conf
+ lib/horizon:cleanup_horizon:70           :   sudo rm -f /etc/apache2/sites-available/horizon.conf
+ ./clean.sh:main:96                       :   is_service_enabled ldap
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./clean.sh:main:101                      :   is_service_enabled nova
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./clean.sh:main:101                      :   [[ -r /opt/stack/devstack/lib/nova_plugins/hypervisor-libvirt ]]
+ ./clean.sh:main:102                      :   cleanup_nova_hypervisor
+ lib/nova_plugins/hypervisor-libvirt:cleanup_nova_hypervisor:35 :   :
+ ./clean.sh:main:106                      :   sudo rm -rf /etc/keystone /etc/glance /etc/nova /etc/cinder /etc/swift /etc/neutron /etc/openstack/
+ ./clean.sh:main:109                      :   sudo rm -f '/etc/tgt/conf.d/*'
+ ./clean.sh:main:112                      :   cleanup_rpc_backend
+ lib/rpc_backend:cleanup_rpc_backend:38   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/rpc_backend:cleanup_rpc_backend:40   :   uninstall_package rabbitmq-server
+ functions-common:uninstall_package:1492  :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:uninstall_package:1493  :   apt_get purge rabbitmq-server
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   set +o
++ functions-common:apt_get:1218            :   grep xtrace
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes purge rabbitmq-server
Reading package lists...
Building dependency tree...
Reading state information...
The following packages were automatically installed and are no longer required:
  apg colord-data erlang-asn1 erlang-base erlang-crypto erlang-eldap
  erlang-ftp erlang-inets erlang-mnesia erlang-os-mon erlang-parsetools
  erlang-public-key erlang-runtime-tools erlang-snmp erlang-ssl
  erlang-syntax-tools erlang-tftp erlang-tools erlang-xmerl
  gnome-control-center-faces gnome-online-accounts hplip-data libcolord-gtk1
  libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0 libgupnp-av-1.0-2
  libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0 librygel-core-2.6-2
  librygel-db-2.6-2 librygel-renderer-2.6-2 librygel-server-2.6-2
  libsane-common libsnmp-base libwebpmux3 locales-all
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  rabbitmq-server*
0 upgraded, 0 newly installed, 1 to remove and 202 not upgraded.
After this operation, 20.8 MB disk space will be freed.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 310223 files and directories currently installed.)
Removing rabbitmq-server (3.8.2-0ubuntu1.3) ...
Processing triggers for man-db (2.9.1-1) ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 309912 files and directories currently installed.)
Purging configuration files for rabbitmq-server (3.8.2-0ubuntu1.3) ...
dpkg: warning: while removing rabbitmq-server, directory '/usr/lib/ocf/resource.d' not empty so not removed
Processing triggers for systemd (245.4-4ubuntu3.17) ...
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163397329
+ functions-common:time_stop:2448          :   [[ -z 1661163397329 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163416062
+ functions-common:time_stop:2452          :   elapsed_time=18733
+ functions-common:time_stop:2453          :   total=0
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=18733
+ functions-common:apt_get:1238            :   return 0
+ lib/rpc_backend:cleanup_rpc_backend:42   :   sudo killall epmd
+ lib/rpc_backend:cleanup_rpc_backend:43   :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/rpc_backend:cleanup_rpc_backend:45   :   apt_get purge -y 'erlang*'
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   grep xtrace
++ functions-common:apt_get:1218            :   set +o
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes purge -y 'erlang*'
Reading package lists...
Building dependency tree...
Reading state information...
Package 'erlang-typer' is not installed, so not removed
Package 'erlang-dev' is not installed, so not removed
Package 'erlang-doc' is not installed, so not removed
Package 'erlang-examples' is not installed, so not removed
Package 'erlang-megaco' is not installed, so not removed
Package 'erlang-ssh' is not installed, so not removed
Package 'erlang' is not installed, so not removed
Package 'erlang-asciideck' is not installed, so not removed
Package 'erlang-base-hipe' is not installed, so not removed
Package 'erlang-base64url' is not installed, so not removed
Package 'erlang-bbmustache' is not installed, so not removed
Package 'erlang-bear' is not installed, so not removed
Package 'erlang-bitcask' is not installed, so not removed
Package 'erlang-bitcask-dev' is not installed, so not removed
Package 'erlang-cf' is not installed, so not removed
Package 'erlang-cl' is not installed, so not removed
Package 'erlang-common-test' is not installed, so not removed
Package 'erlang-cowboy' is not installed, so not removed
Package 'erlang-cowboy-doc' is not installed, so not removed
Package 'erlang-cowboy-examples' is not installed, so not removed
Package 'erlang-cowlib' is not installed, so not removed
Package 'erlang-cuttlefish' is not installed, so not removed
Package 'erlang-debugger' is not installed, so not removed
Package 'erlang-dialyzer' is not installed, so not removed
Package 'erlang-diameter' is not installed, so not removed
Package 'erlang-edoc' is not installed, so not removed
Package 'erlang-erl-docgen' is not installed, so not removed
Package 'erlang-erlware-commons' is not installed, so not removed
Package 'erlang-esdl' is not installed, so not removed
Package 'erlang-esdl-dev' is not installed, so not removed
Package 'erlang-esdl-doc' is not installed, so not removed
Package 'erlang-et' is not installed, so not removed
Package 'erlang-eunit' is not installed, so not removed
Package 'erlang-folsom' is not installed, so not removed
Package 'erlang-folsom-dev' is not installed, so not removed
Package 'erlang-getopt' is not installed, so not removed
Package 'erlang-goldrush' is not installed, so not removed
Package 'erlang-guestfs' is not installed, so not removed
Package 'erlang-horse' is not installed, so not removed
Package 'erlang-idna' is not installed, so not removed
Package 'erlang-jiffy' is not installed, so not removed
Package 'erlang-jinterface' is not installed, so not removed
Package 'erlang-jose' is not installed, so not removed
Package 'erlang-lager' is not installed, so not removed
Package 'erlang-luerl' is not installed, so not removed
Package 'erlang-manpages' is not installed, so not removed
Package 'erlang-meck' is not installed, so not removed
Package 'erlang-metrics' is not installed, so not removed
Package 'erlang-mimerl' is not installed, so not removed
Package 'erlang-mochiweb' is not installed, so not removed
Package 'erlang-mode' is not installed, so not removed
Package 'erlang-neotoma' is not installed, so not removed
Package 'erlang-nox' is not installed, so not removed
Package 'erlang-observer' is not installed, so not removed
Package 'erlang-odbc' is not installed, so not removed
Package 'erlang-p1-acme' is not installed, so not removed
Package 'erlang-p1-cache-tab' is not installed, so not removed
Package 'erlang-p1-eimp' is not installed, so not removed
Package 'erlang-p1-iconv' is not installed, so not removed
Package 'erlang-p1-mqtree' is not installed, so not removed
Package 'erlang-p1-mysql' is not installed, so not removed
Package 'erlang-p1-oauth2' is not installed, so not removed
Package 'erlang-p1-pam' is not installed, so not removed
Package 'erlang-p1-pgsql' is not installed, so not removed
Package 'erlang-p1-pkix' is not installed, so not removed
Package 'erlang-p1-sip' is not installed, so not removed
Package 'erlang-p1-sqlite3' is not installed, so not removed
Package 'erlang-p1-stringprep' is not installed, so not removed
Package 'erlang-p1-stun' is not installed, so not removed
Package 'erlang-p1-tls' is not installed, so not removed
Package 'erlang-p1-utils' is not installed, so not removed
Package 'erlang-p1-xml' is not installed, so not removed
Package 'erlang-p1-xmpp' is not installed, so not removed
Package 'erlang-p1-yaml' is not installed, so not removed
Package 'erlang-p1-yconf' is not installed, so not removed
Package 'erlang-p1-zlib' is not installed, so not removed
Package 'erlang-proper' is not installed, so not removed
Package 'erlang-proper-dev' is not installed, so not removed
Package 'erlang-proper-doc' is not installed, so not removed
Package 'erlang-ranch' is not installed, so not removed
Package 'erlang-ranch-doc' is not installed, so not removed
Package 'erlang-redis-client' is not installed, so not removed
Package 'erlang-reltool' is not installed, so not removed
Package 'erlang-src' is not installed, so not removed
Package 'erlang-unicode-util-compat' is not installed, so not removed
Package 'erlang-uuid' is not installed, so not removed
Package 'erlang-wx' is not installed, so not removed
Package 'erlang-x11' is not installed, so not removed
Package 'erlang-yapp' is not installed, so not removed
Package 'erlang-yaws' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3 locales-all
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  erlang-asn1* erlang-base* erlang-crypto* erlang-eldap* erlang-ftp*
  erlang-inets* erlang-mnesia* erlang-os-mon* erlang-parsetools*
  erlang-public-key* erlang-runtime-tools* erlang-snmp* erlang-ssl*
  erlang-syntax-tools* erlang-tftp* erlang-tools* erlang-xmerl*
0 upgraded, 0 newly installed, 17 to remove and 202 not upgraded.
After this operation, 28.2 MB disk space will be freed.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 309904 files and directories currently installed.)
Removing erlang-eldap (1:22.2.7+dfsg-1) ...
Removing erlang-inets (1:22.2.7+dfsg-1) ...
Removing erlang-xmerl (1:22.2.7+dfsg-1) ...
Removing erlang-tools (1:22.2.7+dfsg-1) ...
Removing erlang-os-mon (1:22.2.7+dfsg-1) ...
Removing erlang-snmp (1:22.2.7+dfsg-1) ...
Removing erlang-ftp (1:22.2.7+dfsg-1) ...
Removing erlang-parsetools (1:22.2.7+dfsg-1) ...
Removing erlang-syntax-tools (1:22.2.7+dfsg-1) ...
Removing erlang-tftp (1:22.2.7+dfsg-1) ...
Removing erlang-ssl (1:22.2.7+dfsg-1) ...
Removing erlang-public-key (1:22.2.7+dfsg-1) ...
Removing erlang-asn1 (1:22.2.7+dfsg-1) ...
Removing erlang-crypto (1:22.2.7+dfsg-1) ...
Removing erlang-runtime-tools (1:22.2.7+dfsg-1) ...
Removing erlang-mnesia (1:22.2.7+dfsg-1) ...
Removing erlang-base (1:22.2.7+dfsg-1) ...
Searching for services which depend on erlang and should be stopped... none found.
Killing epmd... it is not running.
Processing triggers for man-db (2.9.1-1) ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 308773 files and directories currently installed.)
Purging configuration files for erlang-base (1:22.2.7+dfsg-1) ...
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163416135
+ functions-common:time_stop:2448          :   [[ -z 1661163416135 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163442445
+ functions-common:time_stop:2452          :   elapsed_time=26310
+ functions-common:time_stop:2453          :   total=18733
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=45043
+ functions-common:apt_get:1238            :   return 0
+ ./clean.sh:main:113                      :   cleanup_database
+ lib/database:cleanup_database:60         :   cleanup_database_mysql
+ lib/databases/mysql:cleanup_database_mysql:47 :   stop_service mysql
+ functions-common:stop_service:2356       :   '[' -x /bin/systemctl ']'
+ functions-common:stop_service:2357       :   sudo /bin/systemctl stop mysql
+ lib/databases/mysql:cleanup_database_mysql:48 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/databases/mysql:cleanup_database_mysql:50 :   apt_get purge -y 'mysql*' 'mariadb*'
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   grep xtrace
++ functions-common:apt_get:1218            :   set +o
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes purge -y 'mysql*' 'mariadb*'
Reading package lists...
Building dependency tree...
Reading state information...
Package 'mysql-client-5.7' is not installed, so not removed
Package 'mysql-client-core-5.7' is not installed, so not removed
Package 'mysql-server-5.5' is not installed, so not removed
Package 'mysql-server-5.7' is not installed, so not removed
Package 'mysql-server-core-5.7' is not installed, so not removed
Package 'mysql-client-core-5.5' is not installed, so not removed
Package 'mysql-client-core-5.6' is not installed, so not removed
Package 'mysql-client-5.5' is not installed, so not removed
Package 'mysql-client-5.6' is not installed, so not removed
Package 'mysql-server-core-5.5' is not installed, so not removed
Package 'mysql-server-core-5.6' is not installed, so not removed
Package 'mysql-server-5.6' is not installed, so not removed
Package 'mysql-testsuite-5.5' is not installed, so not removed
Package 'mysql-testsuite-5.6' is not installed, so not removed
Package 'mysql-testsuite-5.7' is not installed, so not removed
Package 'mariadb-client-10.1' is not installed, so not removed
Package 'mariadb-client-core-10.1' is not installed, so not removed
Package 'mariadb-server-5.5' is not installed, so not removed
Package 'mariadb-server-10.1' is not installed, so not removed
Package 'mariadb-server-core-10.1' is not installed, so not removed
Package 'mariadb-galera-server-10.0' is not installed, so not removed
Package 'mariadb-galera-server-5.5' is not installed, so not removed
Package 'mariadb-server-10.0' is not installed, so not removed
Package 'mariadb-server-5.1' is not installed, so not removed
Package 'mariadb-server-5.2' is not installed, so not removed
Package 'mariadb-server-5.3' is not installed, so not removed
Package 'mariadb-backup-10.1' is not installed, so not removed
Package 'mariadb-backup-10.2' is not installed, so not removed
Package 'mariadb-client-10.0' is not installed, so not removed
Package 'mariadb-client-10.2' is not installed, so not removed
Package 'mariadb-client-5.5' is not installed, so not removed
Package 'mariadb-client-core-10.0' is not installed, so not removed
Package 'mariadb-client-core-10.2' is not installed, so not removed
Package 'mariadb-client-core-5.5' is not installed, so not removed
Package 'mariadb-connect-engine-10.0' is not installed, so not removed
Package 'mariadb-connect-engine-10.1' is not installed, so not removed
Package 'mariadb-gssapi-client-10.1' is not installed, so not removed
Package 'mariadb-gssapi-client-10.2' is not installed, so not removed
Package 'mariadb-gssapi-server-10.1' is not installed, so not removed
Package 'mariadb-gssapi-server-10.2' is not installed, so not removed
Package 'mariadb-oqgraph-engine-10.0' is not installed, so not removed
Package 'mariadb-oqgraph-engine-10.1' is not installed, so not removed
Package 'mariadb-rocksdb-engine-10.2' is not installed, so not removed
Package 'mariadb-rocksdb-engine-10.3' is not installed, so not removed
Package 'mariadb-tokudb-engine-10.0' is not installed, so not removed
Package 'mariadb-tokudb-engine-10.1' is not installed, so not removed
Package 'mariadb-tokudb-engine-5.5' is not installed, so not removed
Package 'mariadb-galera-server' is not installed, so not removed
Package 'mariadb-server-10.2' is not installed, so not removed
Package 'mariadb-server-core-10.0' is not installed, so not removed
Package 'mariadb-server-core-10.2' is not installed, so not removed
Package 'mariadb-server-core-5.5' is not installed, so not removed
Package 'mariadb-test-10.0' is not installed, so not removed
Package 'mariadb-test-10.1' is not installed, so not removed
Package 'mariadb-test-5.5' is not installed, so not removed
Package 'mariadb-test-data-10.0' is not installed, so not removed
Package 'mariadb-testsuite-10.1' is not installed, so not removed
Package 'mariadb-testsuite-10.3' is not installed, so not removed
Package 'mysql-sandbox' is not installed, so not removed
Package 'mysqltcl' is not installed, so not removed
Package 'mysqltuner' is not installed, so not removed
Package 'mysql-client' is not installed, so not removed
Package 'mariadb-backup' is not installed, so not removed
Package 'mariadb-client' is not installed, so not removed
Package 'mariadb-client-10.3' is not installed, so not removed
Package 'mariadb-client-core-10.3' is not installed, so not removed
Package 'mariadb-common' is not installed, so not removed
Package 'mariadb-plugin-connect' is not installed, so not removed
Package 'mariadb-plugin-cracklib-password-check' is not installed, so not removed
Package 'mariadb-plugin-gssapi-client' is not installed, so not removed
Package 'mariadb-plugin-gssapi-server' is not installed, so not removed
Package 'mariadb-plugin-mroonga' is not installed, so not removed
Package 'mariadb-plugin-oqgraph' is not installed, so not removed
Package 'mariadb-plugin-rocksdb' is not installed, so not removed
Package 'mariadb-plugin-spider' is not installed, so not removed
Package 'mariadb-plugin-tokudb' is not installed, so not removed
Package 'mariadb-server' is not installed, so not removed
Package 'mariadb-server-10.3' is not installed, so not removed
Package 'mariadb-server-core-10.3' is not installed, so not removed
Package 'mariadb-test' is not installed, so not removed
Package 'mariadb-test-data' is not installed, so not removed
Package 'mysql-router' is not installed, so not removed
Package 'mysql-source-8.0' is not installed, so not removed
Package 'mysql-testsuite' is not installed, so not removed
Package 'mysql-testsuite-8.0' is not installed, so not removed
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcgi-fast-perl libcgi-pm-perl libcolord-gtk1 libcolorhug2
  libevent-core-2.1-7 libevent-pthreads-2.1-7 libfcgi-perl libgsound0
  libgssdp-1.2-0 libgupnp-1.2-0 libgupnp-av-1.0-2 libgupnp-dlna-2.0-3
  libhtml-template-perl libieee1284-3 libimagequant0 libmecab2
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3 locales-all
  mecab-ipadic mecab-ipadic-utf8 mecab-utils mobile-broadband-provider-info
  network-manager-gnome printer-driver-postscript-hp python3-macaroonbakery
  python3-olefile python3-pil python3-protobuf python3-pymacaroons
  python3-renderpm python3-reportlab python3-reportlab-accel python3-rfc3339
  python3-tz rygel
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  libmysqlclient21* mysql-client-8.0* mysql-client-core-8.0* mysql-common*
  mysql-server* mysql-server-8.0* mysql-server-core-8.0* python3-mysqldb*
0 upgraded, 0 newly installed, 8 to remove and 202 not upgraded.
After this operation, 213 MB disk space will be freed.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 308773 files and directories currently installed.)
Removing python3-mysqldb (1.4.4-2build1) ...
Removing libmysqlclient21:amd64 (8.0.30-0ubuntu0.20.04.2) ...
Removing mysql-server (8.0.30-0ubuntu0.20.04.2) ...
Removing mysql-server-8.0 (8.0.30-0ubuntu0.20.04.2) ...
update-alternatives: using /etc/mysql/my.cnf.fallback to provide /etc/mysql/my.cnf (my.cnf) in auto mode
update-alternatives: warning: not replacing /etc/mysql/my.cnf with a link
Removing mysql-client-8.0 (8.0.30-0ubuntu0.20.04.2) ...
Removing mysql-client-core-8.0 (8.0.30-0ubuntu0.20.04.2) ...
Removing mysql-common (5.8+1.0.5ubuntu2) ...
Removing mysql-server-core-8.0 (8.0.30-0ubuntu0.20.04.2) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for libc-bin (2.31-0ubuntu9.7) ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 308514 files and directories currently installed.)
Purging configuration files for mysql-server-8.0 (8.0.30-0ubuntu0.20.04.2) ...
Purging configuration files for mysql-common (5.8+1.0.5ubuntu2) ...
dpkg: warning: while removing mysql-common, directory '/etc/mysql' not empty so not removed
Processing triggers for systemd (245.4-4ubuntu3.17) ...
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163442533
+ functions-common:time_stop:2448          :   [[ -z 1661163442533 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163463475
+ functions-common:time_stop:2452          :   elapsed_time=20942
+ functions-common:time_stop:2453          :   total=45043
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=65985
+ functions-common:apt_get:1238            :   return 0
+ lib/databases/mysql:cleanup_database_mysql:51 :   sudo rm -rf /var/lib/mysql
+ lib/databases/mysql:cleanup_database_mysql:52 :   sudo rm -rf /etc/mysql
+ lib/databases/mysql:cleanup_database_mysql:53 :   return
+ ./clean.sh:main:116                      :   sudo rm -rf /opt/stack/data /opt/stack/status /opt/stack/async
+ ./clean.sh:main:119                      :   [[ -n '' ]]
+ ./clean.sh:main:122                      :   [[ -n /opt/stack/logs ]]
+ ./clean.sh:main:122                      :   [[ -d /opt/stack/logs ]]
+ ./clean.sh:main:123                      :   sudo rm -rf /opt/stack/logs
+ ./clean.sh:main:127                      :   sudo find /etc/systemd/system -type f -name '*devstack@*service' -delete
+ ./clean.sh:main:129                      :   sudo systemctl daemon-reload
+ ./clean.sh:main:132                      :   DIRS_TO_CLEAN='  .config/openstack'
+ ./clean.sh:main:133                      :   rm -rf .config/openstack
+ ./clean.sh:main:137                      :   FILES_TO_CLEAN='.localrc.auto .localrc.password '
+ ./clean.sh:main:138                      :   FILES_TO_CLEAN+='docs/files docs/html shocco/ '
+ ./clean.sh:main:139                      :   FILES_TO_CLEAN+='stack-screenrc test*.conf* test.ini* '
+ ./clean.sh:main:140                      :   FILES_TO_CLEAN+='.stackenv .prereqs'
+ ./clean.sh:main:142                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:143                      :   rm -rf /opt/stack/devstack/.localrc.auto
+ ./clean.sh:main:142                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:143                      :   rm -rf /opt/stack/devstack/.localrc.password
+ ./clean.sh:main:142                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:143                      :   rm -rf /opt/stack/devstack/docs/files
+ ./clean.sh:main:142                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:143                      :   rm -rf /opt/stack/devstack/docs/html
+ ./clean.sh:main:142                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:143                      :   rm -rf /opt/stack/devstack/shocco/
+ ./clean.sh:main:142                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:143                      :   rm -rf /opt/stack/devstack/stack-screenrc
+ ./clean.sh:main:142                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:143                      :   rm -rf '/opt/stack/devstack/test*.conf*'
+ ./clean.sh:main:142                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:143                      :   rm -rf '/opt/stack/devstack/test.ini*'
+ ./clean.sh:main:142                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:143                      :   rm -rf /opt/stack/devstack/.stackenv
+ ./clean.sh:main:142                      :   for file in $FILES_TO_CLEAN
+ ./clean.sh:main:143                      :   rm -rf /opt/stack/devstack/.prereqs
+ ./clean.sh:main:146                      :   rm -rf /opt/stack/.config/openstack
+ ./clean.sh:main:149                      :   sudo sed -i '/.*comment=devstack-.*/ d' /etc/fstab
Running stack.sh
+ ./stack.sh:main:28                       :   unset GREP_OPTIONS
+ ./stack.sh:main:58                       :   unset LANG
+ ./stack.sh:main:59                       :   unset LANGUAGE
+ ./stack.sh:main:60                       :   LC_ALL=en_US.utf8
+ ./stack.sh:main:61                       :   export LC_ALL
++ ./stack.sh:main:64                       :   grep -E '^OS_'
++ ./stack.sh:main:64                       :   env
++ ./stack.sh:main:64                       :   cut -d = -f 1
+ ./stack.sh:main:64                       :   unset OS_REGION_NAME OS_PROJECT_DOMAIN_ID OS_CACERT OS_AUTH_URL OS_TENANT_NAME OS_USER_DOMAIN_ID OS_USERNAME OS_VOLUME_API_VERSION OS_AUTH_TYPE OS_PROJECT_NAME OS_PASSWORD OS_IDENTITY_API_VERSION
+ ./stack.sh:main:67                       :   umask 022
+ ./stack.sh:main:72                       :   PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+++ ./stack.sh:main:75                       :   dirname ./stack.sh
++ ./stack.sh:main:75                       :   cd .
++ ./stack.sh:main:75                       :   pwd
+ ./stack.sh:main:75                       :   TOP_DIR=/opt/stack/devstack
+ ./stack.sh:main:78                       :   NOUNSET=
+ ./stack.sh:main:79                       :   [[ -n '' ]]
++ ./stack.sh:main:84                       :   date +%s
+ ./stack.sh:main:84                       :   DEVSTACK_START_TIME=1661163494
+ ./stack.sh:main:93                       :   [[ -r /opt/stack/devstack/.stackenv ]]
+ ./stack.sh:main:99                       :   FILES=/opt/stack/devstack/files
+ ./stack.sh:main:100                      :   '[' '!' -d /opt/stack/devstack/files ']'
+ ./stack.sh:main:108                      :   '[' '!' -d /opt/stack/devstack/inc ']'
+ ./stack.sh:main:116                      :   '[' '!' -d /opt/stack/devstack/lib ']'
+ ./stack.sh:main:123                      :   [[ '' == \y ]]
+ ./stack.sh:main:134                      :   [[ 1001 -eq 0 ]]
+ ./stack.sh:main:147                      :   [[ -n '' ]]
+ ./stack.sh:main:161                      :   [[ -e /opt/stack/.no-devstack ]]
+ ./stack.sh:main:173                      :   LAST_SPINNER_PID=
+ ./stack.sh:main:176                      :   source /opt/stack/devstack/functions
++ opt/stack/devstack/functions:source:14   :   [[ -z '' ]]
++ opt/stack/devstack/functions:source:15   :   declare -r -g _DEVSTACK_FUNCTIONS=1
++++ opt/stack/devstack/functions:source:18   :   dirname /opt/stack/devstack/functions
+++ opt/stack/devstack/functions:source:18   :   cd /opt/stack/devstack
+++ opt/stack/devstack/functions:source:18   :   pwd
++ opt/stack/devstack/functions:source:18   :   FUNC_DIR=/opt/stack/devstack
++ opt/stack/devstack/functions:source:19   :   source /opt/stack/devstack/functions-common
++++ opt/stack/devstack/functions-common:source:34 :   set +o
++++ opt/stack/devstack/functions-common:source:34 :   grep xtrace
+++ opt/stack/devstack/functions-common:source:34 :   _XTRACE_FUNCTIONS_COMMON='set -o xtrace'
+++ opt/stack/devstack/functions-common:source:35 :   set +o xtrace
++ opt/stack/devstack/functions:source:20   :   source /opt/stack/devstack/inc/ini-config
++++ opt/stack/devstack/inc/ini-config:source:10 :   set +o
++++ opt/stack/devstack/inc/ini-config:source:10 :   grep xtrace
+++ opt/stack/devstack/inc/ini-config:source:10 :   INC_CONF_TRACE='set -o xtrace'
+++ opt/stack/devstack/inc/ini-config:source:11 :   set +o xtrace
++ opt/stack/devstack/functions:source:21   :   source /opt/stack/devstack/inc/meta-config
++++ opt/stack/devstack/inc/meta-config:source:23 :   set +o
++++ opt/stack/devstack/inc/meta-config:source:23 :   grep xtrace
+++ opt/stack/devstack/inc/meta-config:source:23 :   _XTRACE_INC_META='set -o xtrace'
+++ opt/stack/devstack/inc/meta-config:source:24 :   set +o xtrace
++ opt/stack/devstack/functions:source:22   :   source /opt/stack/devstack/inc/python
++++ opt/stack/devstack/inc/python:source:14  :   set +o
++++ opt/stack/devstack/inc/python:source:14  :   grep xtrace
+++ opt/stack/devstack/inc/python:source:14  :   INC_PY_TRACE='set -o xtrace'
+++ opt/stack/devstack/inc/python:source:15  :   set +o xtrace
++ opt/stack/devstack/functions:source:23   :   source /opt/stack/devstack/inc/rootwrap
++++ opt/stack/devstack/inc/rootwrap:source:11 :   set +o
++++ opt/stack/devstack/inc/rootwrap:source:11 :   grep xtrace
+++ opt/stack/devstack/inc/rootwrap:source:11 :   INC_ROOT_TRACE='set -o xtrace'
+++ opt/stack/devstack/inc/rootwrap:source:12 :   set +o xtrace
++ opt/stack/devstack/functions:source:24   :   source /opt/stack/devstack/inc/async
++++ opt/stack/devstack/inc/async:source:14   :   trueorfalse True DEVSTACK_PARALLEL
++++ opt/stack/devstack/functions-common:trueorfalse:219 :   local xtrace
+++++ opt/stack/devstack/functions-common:trueorfalse:220 :   set +o
+++++ opt/stack/devstack/functions-common:trueorfalse:220 :   grep xtrace
++++ opt/stack/devstack/functions-common:trueorfalse:220 :   xtrace='set -o xtrace'
++++ opt/stack/devstack/functions-common:trueorfalse:221 :   set +o xtrace
+++ opt/stack/devstack/inc/async:source:14   :   DEVSTACK_PARALLEL=True
+++ opt/stack/devstack/inc/async:source:15   :   _ASYNC_BG_TIME=0
+++ opt/stack/devstack/functions:source:27   :   set +o
+++ opt/stack/devstack/functions:source:27   :   grep xtrace
++ opt/stack/devstack/functions:source:27   :   _XTRACE_FUNCTIONS='set -o xtrace'
++ opt/stack/devstack/functions:source:28   :   set +o xtrace
+ ./stack.sh:main:179                      :   source /opt/stack/devstack/lib/stack
+ ./stack.sh:main:184                      :   GetDistro
+ opt/stack/devstack/functions-common:GetDistro:446 :   GetOSVersion
+ opt/stack/devstack/functions-common:GetOSVersion:416 :   source /etc/os-release
++ etc/os-release:source:1                  :   NAME=Ubuntu
++ etc/os-release:source:2                  :   VERSION='20.04.2 LTS (Focal Fossa)'
++ etc/os-release:source:3                  :   ID=ubuntu
++ etc/os-release:source:4                  :   ID_LIKE=debian
++ etc/os-release:source:5                  :   PRETTY_NAME='Ubuntu 20.04.2 LTS'
++ etc/os-release:source:6                  :   VERSION_ID=20.04
++ etc/os-release:source:7                  :   HOME_URL=https://www.ubuntu.com/
++ etc/os-release:source:8                  :   SUPPORT_URL=https://help.ubuntu.com/
++ etc/os-release:source:9                  :   BUG_REPORT_URL=https://bugs.launchpad.net/ubuntu/
++ etc/os-release:source:10                 :   PRIVACY_POLICY_URL=https://www.ubuntu.com/legal/terms-and-policies/privacy-policy
++ etc/os-release:source:11                 :   VERSION_CODENAME=focal
++ etc/os-release:source:12                 :   UBUNTU_CODENAME=focal
+ opt/stack/devstack/functions-common:GetOSVersion:417 :   [[ ubuntu20.04.2 LTS (Focal Fossa) == \c\e\n\t\o\s\9 ]]
+ opt/stack/devstack/functions-common:GetOSVersion:422 :   _ensure_lsb_release
++ opt/stack/devstack/functions-common:_ensure_lsb_release:393 :   command -v lsb_release
+ opt/stack/devstack/functions-common:_ensure_lsb_release:393 :   [[ -x /usr/bin/lsb_release ]]
+ opt/stack/devstack/functions-common:_ensure_lsb_release:394 :   return
++ opt/stack/devstack/functions-common:GetOSVersion:424 :   lsb_release -r -s
+ opt/stack/devstack/functions-common:GetOSVersion:424 :   os_RELEASE=20.04
++ opt/stack/devstack/functions-common:GetOSVersion:425 :   lsb_release -c -s
+ opt/stack/devstack/functions-common:GetOSVersion:425 :   os_CODENAME=focal
++ opt/stack/devstack/functions-common:GetOSVersion:426 :   lsb_release -i -s
+ opt/stack/devstack/functions-common:GetOSVersion:426 :   os_VENDOR=Ubuntu
+ opt/stack/devstack/functions-common:GetOSVersion:429 :   [[ Ubuntu =~ (Debian|Ubuntu) ]]
+ opt/stack/devstack/functions-common:GetOSVersion:430 :   os_PACKAGE=deb
+ opt/stack/devstack/functions-common:GetOSVersion:435 :   typeset -xr os_VENDOR
+ opt/stack/devstack/functions-common:GetOSVersion:436 :   typeset -xr os_RELEASE
+ opt/stack/devstack/functions-common:GetOSVersion:437 :   typeset -xr os_PACKAGE
+ opt/stack/devstack/functions-common:GetOSVersion:438 :   typeset -xr os_CODENAME
+ opt/stack/devstack/functions-common:GetDistro:447 :   [[ Ubuntu =~ (Ubuntu) ]]
+ opt/stack/devstack/functions-common:GetDistro:450 :   DISTRO=focal
+ opt/stack/devstack/functions-common:GetDistro:495 :   typeset -xr DISTRO
+ ./stack.sh:main:194                      :   rm -f /opt/stack/devstack/.localrc.auto
+ ./stack.sh:main:195                      :   extract_localrc_section /opt/stack/devstack/local.conf /opt/stack/devstack/localrc /opt/stack/devstack/.localrc.auto
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:198 :   local configfile=/opt/stack/devstack/local.conf
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:199 :   local localrcfile=/opt/stack/devstack/localrc
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:200 :   local localautofile=/opt/stack/devstack/.localrc.auto
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:202 :   [[ -r /opt/stack/devstack/local.conf ]]
++ opt/stack/devstack/inc/meta-config:extract_localrc_section:203 :   get_meta_section_files /opt/stack/devstack/local.conf local
++ opt/stack/devstack/inc/meta-config:get_meta_section_files:63 :   local file=/opt/stack/devstack/local.conf
++ opt/stack/devstack/inc/meta-config:get_meta_section_files:64 :   local matchgroup=local
++ opt/stack/devstack/inc/meta-config:get_meta_section_files:66 :   [[ -r /opt/stack/devstack/local.conf ]]
++ opt/stack/devstack/inc/meta-config:get_meta_section_files:68 :   awk -v matchgroup=local '
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup)
                print a[2]
        }
    ' /opt/stack/devstack/local.conf
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:203 :   LRC=localrc
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:204 :   for lfile in $LRC
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:205 :   [[ localrc == \l\o\c\a\l\r\c ]]
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:206 :   [[ -r /opt/stack/devstack/localrc ]]
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:209 :   echo '# Generated file, do not edit'
+ opt/stack/devstack/inc/meta-config:extract_localrc_section:210 :   get_meta_section /opt/stack/devstack/local.conf local localrc
+ opt/stack/devstack/inc/meta-config:get_meta_section:33 :   local file=/opt/stack/devstack/local.conf
+ opt/stack/devstack/inc/meta-config:get_meta_section:34 :   local matchgroup=local
+ opt/stack/devstack/inc/meta-config:get_meta_section:35 :   local configfile=localrc
+ opt/stack/devstack/inc/meta-config:get_meta_section:37 :   [[ -r /opt/stack/devstack/local.conf ]]
+ opt/stack/devstack/inc/meta-config:get_meta_section:38 :   [[ -z localrc ]]
+ opt/stack/devstack/inc/meta-config:get_meta_section:40 :   awk -v matchgroup=local -v configfile=localrc '
        BEGIN { group = "" }
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup && a[2] == configfile) {
                group=a[1]
            } else {
                group=""
            }
            next
        }
        {
            if (group != "")
                print $0
        }
    ' /opt/stack/devstack/local.conf
+ ./stack.sh:main:222                      :   [[ ! -r /opt/stack/devstack/stackrc ]]
+ ./stack.sh:main:225                      :   source /opt/stack/devstack/stackrc
++ opt/stack/devstack/stackrc:source:7      :   [[ -z '' ]]
++ opt/stack/devstack/stackrc:source:8      :   declare -r -g _DEVSTACK_STACKRC=1
++++ opt/stack/devstack/stackrc:source:11     :   dirname /opt/stack/devstack/stackrc
+++ opt/stack/devstack/stackrc:source:11     :   cd /opt/stack/devstack
+++ opt/stack/devstack/stackrc:source:11     :   pwd
++ opt/stack/devstack/stackrc:source:11     :   RC_DIR=/opt/stack/devstack
++ stackrc:source:14                        :   source /opt/stack/devstack/functions
+++ functions:source:14                      :   [[ -z 1 ]]
+++ functions:source:14                      :   return 0
++ stackrc:source:18                        :   TARGET_BRANCH=master
++ stackrc:source:21                        :   TRAILING_TARGET_BRANCH=master
++ stackrc:source:26                        :   BRANCHLESS_TARGET_BRANCH=master
++ stackrc:source:29                        :   DEST=/opt/stack
++ stackrc:source:32                        :   DATA_DIR=/opt/stack/data
++ stackrc:source:35                        :   SERVICE_DIR=/opt/stack/status
++ stackrc:source:38                        :   SUBUNIT_OUTPUT=/opt/stack/devstack.subunit
++ stackrc:source:41                        :   [[ 1001 -eq 0 ]]
+++ stackrc:source:44                        :   whoami
++ stackrc:source:44                        :   STACK_USER=stack
++ stackrc:source:48                        :   REGION_NAME=RegionOne
++ stackrc:source:54                        :   KEYSTONE_REGION_NAME=RegionOne
++ stackrc:source:64                        :   isset ENABLED_SERVICES
++ functions-common:isset:240               :   [[ -v ENABLED_SERVICES ]]
++ stackrc:source:66                        :   ENABLED_SERVICES=key
++ stackrc:source:68                        :   ENABLED_SERVICES+=,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta
++ stackrc:source:70                        :   ENABLED_SERVICES+=,placement-api,placement-client
++ stackrc:source:72                        :   ENABLED_SERVICES+=,g-api
++ stackrc:source:74                        :   ENABLED_SERVICES+=,c-sch,c-api,c-vol
++ stackrc:source:76                        :   ENABLED_SERVICES+=,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server
++ stackrc:source:78                        :   ENABLED_SERVICES+=,q-svc,q-ovn-metadata-agent
++ stackrc:source:80                        :   ENABLED_SERVICES+=,horizon
++ stackrc:source:82                        :   ENABLED_SERVICES+=,rabbit,tempest,mysql,etcd3,dstat
++ stackrc:source:89                        :   ENABLE_HTTPD_MOD_WSGI_SERVICES=True
++ stackrc:source:92                        :   NOVA_ENABLED_APIS=osapi_compute,metadata
++ stackrc:source:95                        :   [[ -f /opt/stack/devstack/localrc ]]
++ stackrc:source:98                        :   [[ -f /opt/stack/devstack/.localrc.auto ]]
++ stackrc:source:100                       :   source /opt/stack/devstack/.localrc.auto
+++ .localrc.auto:source:2                   :   ADMIN_PASSWORD=Datacore1
+++ .localrc.auto:source:3                   :   DATABASE_PASSWORD=Datacore1
+++ .localrc.auto:source:4                   :   RABBIT_PASSWORD=Datacore1
+++ .localrc.auto:source:5                   :   SERVICE_PASSWORD=Datacore1
++ stackrc:source:109                       :   CELLSV2_SETUP=superconductor
++ stackrc:source:112                       :   HORIZON_APACHE_ROOT=/dashboard
+++ stackrc:source:115                       :   trueorfalse False USER_UNITS
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:115                       :   USER_UNITS=False
++ stackrc:source:116                       :   [[ False == \T\r\u\e ]]
++ stackrc:source:120                       :   SYSTEMD_DIR=/etc/systemd/system
++ stackrc:source:121                       :   SYSTEMCTL='sudo systemctl'
+++ stackrc:source:131                       :   trueorfalse True ENABLE_KSM
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:131                       :   ENABLE_KSM=True
++ stackrc:source:134                       :   [[ -r /opt/stack/devstack/.localrc.password ]]
++ stackrc:source:140                       :   export USE_PYTHON3=True
++ stackrc:source:140                       :   USE_PYTHON3=True
+++ stackrc:source:144                       :   _get_python_version python3
+++ functions-common:_get_python_version:2297 :   local interp=python3
+++ functions-common:_get_python_version:2298 :   local version
++++ functions-common:_get_python_version:2300 :   which python3
+++ functions-common:_get_python_version:2300 :   [[ -x /usr/bin/python3 ]]
++++ functions-common:_get_python_version:2301 :   python3 -c 'import sys; print("%s.%s" % sys.version_info[0:2])'
+++ functions-common:_get_python_version:2301 :   version=3.8
+++ functions-common:_get_python_version:2303 :   echo 3.8
++ stackrc:source:144                       :   _DEFAULT_PYTHON3_VERSION=3.8
++ stackrc:source:145                       :   export PYTHON3_VERSION=3.8
++ stackrc:source:145                       :   PYTHON3_VERSION=3.8
++ stackrc:source:149                       :   export 'VIRTUALENV_CMD=python3 -m venv'
++ stackrc:source:149                       :   VIRTUALENV_CMD='python3 -m venv'
++ stackrc:source:156                       :   '[' -t 1 ']'
++ stackrc:source:159                       :   _LOG_COLOR_DEFAULT=False
+++ stackrc:source:163                       :   trueorfalse False LOG_COLOR
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:163                       :   LOG_COLOR=False
++ stackrc:source:166                       :   [[ False == \T\r\u\e ]]
++ stackrc:source:175                       :   export 'PS4=+ $(short_source):   '
++ stackrc:source:175                       :   PS4='+ $(short_source):   '
++ stackrc:source:180                       :   IDENTITY_API_VERSION=3
+++ stackrc:source:184                       :   trueorfalse False ENFORCE_SCOPE
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:184                       :   ENFORCE_SCOPE=False
+++ stackrc:source:190                       :   trueorfalse False USE_VENV
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   grep xtrace
++++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:190                       :   USE_VENV=False
++ stackrc:source:194                       :   ADDITIONAL_VENV_PACKAGES=
+++ stackrc:source:198                       :   trueorfalse False DATABASE_QUERY_LOGGING
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:198                       :   DATABASE_QUERY_LOGGING=False
+++ stackrc:source:202                       :   trueorfalse True MYSQL_GATHER_PERFORMANCE
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:202                       :   MYSQL_GATHER_PERFORMANCE=True
++ stackrc:source:213                       :   GIT_TIMEOUT=0
++ stackrc:source:219                       :   WSGI_MODE=uwsgi
++ stackrc:source:225                       :   GIT_BASE=https://opendev.org
++ stackrc:source:228                       :   REQUIREMENTS_DIR=/opt/stack/requirements
++ stackrc:source:246                       :   DEVSTACK_SERIES=zed
++ stackrc:source:255                       :   CINDER_REPO=https://opendev.org/openstack/cinder.git
++ stackrc:source:256                       :   CINDER_BRANCH=master
++ stackrc:source:259                       :   GLANCE_REPO=https://opendev.org/openstack/glance.git
++ stackrc:source:260                       :   GLANCE_BRANCH=master
++ stackrc:source:263                       :   HORIZON_REPO=https://opendev.org/openstack/horizon.git
++ stackrc:source:264                       :   HORIZON_BRANCH=master
++ stackrc:source:267                       :   KEYSTONE_REPO=https://opendev.org/openstack/keystone.git
++ stackrc:source:268                       :   KEYSTONE_BRANCH=master
++ stackrc:source:271                       :   NEUTRON_REPO=https://opendev.org/openstack/neutron.git
++ stackrc:source:272                       :   NEUTRON_BRANCH=master
++ stackrc:source:275                       :   NOVA_REPO=https://opendev.org/openstack/nova.git
++ stackrc:source:276                       :   NOVA_BRANCH=master
++ stackrc:source:279                       :   SWIFT_REPO=https://opendev.org/openstack/swift.git
++ stackrc:source:280                       :   SWIFT_BRANCH=master
++ stackrc:source:283                       :   PLACEMENT_REPO=https://opendev.org/openstack/placement.git
++ stackrc:source:284                       :   PLACEMENT_BRANCH=master
++ stackrc:source:293                       :   REQUIREMENTS_REPO=https://opendev.org/openstack/requirements.git
++ stackrc:source:294                       :   REQUIREMENTS_BRANCH=master
++ stackrc:source:297                       :   TEMPEST_REPO=https://opendev.org/openstack/tempest.git
++ stackrc:source:298                       :   TEMPEST_BRANCH=master
++ stackrc:source:299                       :   TEMPEST_VENV_UPPER_CONSTRAINTS=master
++ stackrc:source:310                       :   GITREPO["python-cinderclient"]=https://opendev.org/openstack/python-cinderclient.git
++ stackrc:source:311                       :   GITBRANCH["python-cinderclient"]=master
++ stackrc:source:314                       :   GITREPO["python-brick-cinderclient-ext"]=https://opendev.org/openstack/python-brick-cinderclient-ext.git
++ stackrc:source:315                       :   GITBRANCH["python-brick-cinderclient-ext"]=master
++ stackrc:source:318                       :   GITREPO["python-barbicanclient"]=https://opendev.org/openstack/python-barbicanclient.git
++ stackrc:source:319                       :   GITBRANCH["python-barbicanclient"]=master
++ stackrc:source:320                       :   GITDIR["python-barbicanclient"]=/opt/stack/python-barbicanclient
++ stackrc:source:323                       :   GITREPO["python-glanceclient"]=https://opendev.org/openstack/python-glanceclient.git
++ stackrc:source:324                       :   GITBRANCH["python-glanceclient"]=master
++ stackrc:source:327                       :   GITREPO["python-ironicclient"]=https://opendev.org/openstack/python-ironicclient.git
++ stackrc:source:328                       :   GITBRANCH["python-ironicclient"]=master
++ stackrc:source:330                       :   GITDIR["python-ironicclient"]=/opt/stack/python-ironicclient
++ stackrc:source:333                       :   GITREPO["keystoneauth"]=https://opendev.org/openstack/keystoneauth.git
++ stackrc:source:334                       :   GITBRANCH["keystoneauth"]=master
++ stackrc:source:337                       :   GITREPO["python-keystoneclient"]=https://opendev.org/openstack/python-keystoneclient.git
++ stackrc:source:338                       :   GITBRANCH["python-keystoneclient"]=master
++ stackrc:source:341                       :   GITREPO["python-neutronclient"]=https://opendev.org/openstack/python-neutronclient.git
++ stackrc:source:342                       :   GITBRANCH["python-neutronclient"]=master
++ stackrc:source:345                       :   GITREPO["python-novaclient"]=https://opendev.org/openstack/python-novaclient.git
++ stackrc:source:346                       :   GITBRANCH["python-novaclient"]=master
++ stackrc:source:349                       :   GITREPO["python-swiftclient"]=https://opendev.org/openstack/python-swiftclient.git
++ stackrc:source:350                       :   GITBRANCH["python-swiftclient"]=master
++ stackrc:source:353                       :   GITREPO["python-openstackclient"]=https://opendev.org/openstack/python-openstackclient.git
++ stackrc:source:354                       :   GITBRANCH["python-openstackclient"]=master
++ stackrc:source:356                       :   GITDIR["python-openstackclient"]=/opt/stack/python-openstackclient
++ stackrc:source:359                       :   GITREPO["osc-placement"]=https://opendev.org/openstack/osc-placement.git
++ stackrc:source:360                       :   GITBRANCH["osc-placement"]=master
++ stackrc:source:371                       :   GITREPO["castellan"]=https://opendev.org/openstack/castellan.git
++ stackrc:source:372                       :   GITBRANCH["castellan"]=master
++ stackrc:source:375                       :   GITREPO["cliff"]=https://opendev.org/openstack/cliff.git
++ stackrc:source:376                       :   GITBRANCH["cliff"]=master
++ stackrc:source:379                       :   GITREPO["futurist"]=https://opendev.org/openstack/futurist.git
++ stackrc:source:380                       :   GITBRANCH["futurist"]=master
++ stackrc:source:383                       :   GITREPO["debtcollector"]=https://opendev.org/openstack/debtcollector.git
++ stackrc:source:384                       :   GITBRANCH["debtcollector"]=master
++ stackrc:source:387                       :   GITREPO["automaton"]=https://opendev.org/openstack/automaton.git
++ stackrc:source:388                       :   GITBRANCH["automaton"]=master
++ stackrc:source:391                       :   GITREPO["oslo.cache"]=https://opendev.org/openstack/oslo.cache.git
++ stackrc:source:392                       :   GITBRANCH["oslo.cache"]=master
++ stackrc:source:395                       :   GITREPO["oslo.concurrency"]=https://opendev.org/openstack/oslo.concurrency.git
++ stackrc:source:396                       :   GITBRANCH["oslo.concurrency"]=master
++ stackrc:source:399                       :   GITREPO["oslo.config"]=https://opendev.org/openstack/oslo.config.git
++ stackrc:source:400                       :   GITBRANCH["oslo.config"]=master
++ stackrc:source:403                       :   GITREPO["oslo.context"]=https://opendev.org/openstack/oslo.context.git
++ stackrc:source:404                       :   GITBRANCH["oslo.context"]=master
++ stackrc:source:407                       :   GITREPO["oslo.db"]=https://opendev.org/openstack/oslo.db.git
++ stackrc:source:408                       :   GITBRANCH["oslo.db"]=master
++ stackrc:source:411                       :   GITREPO["oslo.i18n"]=https://opendev.org/openstack/oslo.i18n.git
++ stackrc:source:412                       :   GITBRANCH["oslo.i18n"]=master
++ stackrc:source:415                       :   GITREPO["oslo.limit"]=https://opendev.org/openstack/oslo.limit.git
++ stackrc:source:416                       :   GITBRANCH["oslo.limit"]=master
++ stackrc:source:419                       :   GITREPO["oslo.log"]=https://opendev.org/openstack/oslo.log.git
++ stackrc:source:420                       :   GITBRANCH["oslo.log"]=master
++ stackrc:source:423                       :   GITREPO["oslo.messaging"]=https://opendev.org/openstack/oslo.messaging.git
++ stackrc:source:424                       :   GITBRANCH["oslo.messaging"]=master
++ stackrc:source:427                       :   GITREPO["oslo.middleware"]=https://opendev.org/openstack/oslo.middleware.git
++ stackrc:source:428                       :   GITBRANCH["oslo.middleware"]=master
++ stackrc:source:431                       :   GITREPO["oslo.policy"]=https://opendev.org/openstack/oslo.policy.git
++ stackrc:source:432                       :   GITBRANCH["oslo.policy"]=master
++ stackrc:source:435                       :   GITREPO["oslo.privsep"]=https://opendev.org/openstack/oslo.privsep.git
++ stackrc:source:436                       :   GITBRANCH["oslo.privsep"]=master
++ stackrc:source:439                       :   GITREPO["oslo.reports"]=https://opendev.org/openstack/oslo.reports.git
++ stackrc:source:440                       :   GITBRANCH["oslo.reports"]=master
++ stackrc:source:443                       :   GITREPO["oslo.rootwrap"]=https://opendev.org/openstack/oslo.rootwrap.git
++ stackrc:source:444                       :   GITBRANCH["oslo.rootwrap"]=master
++ stackrc:source:447                       :   GITREPO["oslo.serialization"]=https://opendev.org/openstack/oslo.serialization.git
++ stackrc:source:448                       :   GITBRANCH["oslo.serialization"]=master
++ stackrc:source:451                       :   GITREPO["oslo.service"]=https://opendev.org/openstack/oslo.service.git
++ stackrc:source:452                       :   GITBRANCH["oslo.service"]=master
++ stackrc:source:455                       :   GITREPO["oslo.utils"]=https://opendev.org/openstack/oslo.utils.git
++ stackrc:source:456                       :   GITBRANCH["oslo.utils"]=master
++ stackrc:source:459                       :   GITREPO["oslo.versionedobjects"]=https://opendev.org/openstack/oslo.versionedobjects.git
++ stackrc:source:460                       :   GITBRANCH["oslo.versionedobjects"]=master
++ stackrc:source:463                       :   GITREPO["oslo.vmware"]=https://opendev.org/openstack/oslo.vmware.git
++ stackrc:source:464                       :   GITBRANCH["oslo.vmware"]=master
++ stackrc:source:467                       :   GITREPO["osprofiler"]=https://opendev.org/openstack/osprofiler.git
++ stackrc:source:468                       :   GITBRANCH["osprofiler"]=master
++ stackrc:source:471                       :   GITREPO["pycadf"]=https://opendev.org/openstack/pycadf.git
++ stackrc:source:472                       :   GITBRANCH["pycadf"]=master
++ stackrc:source:475                       :   GITREPO["stevedore"]=https://opendev.org/openstack/stevedore.git
++ stackrc:source:476                       :   GITBRANCH["stevedore"]=master
++ stackrc:source:479                       :   GITREPO["taskflow"]=https://opendev.org/openstack/taskflow.git
++ stackrc:source:480                       :   GITBRANCH["taskflow"]=master
++ stackrc:source:483                       :   GITREPO["tooz"]=https://opendev.org/openstack/tooz.git
++ stackrc:source:484                       :   GITBRANCH["tooz"]=master
++ stackrc:source:487                       :   GITREPO["pbr"]=https://opendev.org/openstack/pbr.git
++ stackrc:source:488                       :   GITBRANCH["pbr"]=master
++ stackrc:source:498                       :   GITREPO["cursive"]=https://opendev.org/openstack/cursive.git
++ stackrc:source:499                       :   GITBRANCH["cursive"]=master
++ stackrc:source:502                       :   GITREPO["glance_store"]=https://opendev.org/openstack/glance_store.git
++ stackrc:source:503                       :   GITBRANCH["glance_store"]=master
++ stackrc:source:506                       :   GITREPO["keystonemiddleware"]=https://opendev.org/openstack/keystonemiddleware.git
++ stackrc:source:507                       :   GITBRANCH["keystonemiddleware"]=master
++ stackrc:source:510                       :   GITREPO["ceilometermiddleware"]=https://opendev.org/openstack/ceilometermiddleware.git
++ stackrc:source:511                       :   GITBRANCH["ceilometermiddleware"]=master
++ stackrc:source:512                       :   GITDIR["ceilometermiddleware"]=/opt/stack/ceilometermiddleware
++ stackrc:source:515                       :   GITREPO["openstacksdk"]=https://opendev.org/openstack/openstacksdk.git
++ stackrc:source:516                       :   GITBRANCH["openstacksdk"]=master
++ stackrc:source:519                       :   GITREPO["os-brick"]=https://opendev.org/openstack/os-brick.git
++ stackrc:source:520                       :   GITBRANCH["os-brick"]=master
++ stackrc:source:523                       :   GITREPO["os-client-config"]=https://opendev.org/openstack/os-client-config.git
++ stackrc:source:524                       :   GITBRANCH["os-client-config"]=master
++ stackrc:source:525                       :   GITDIR["os-client-config"]=/opt/stack/os-client-config
++ stackrc:source:528                       :   GITREPO["os-vif"]=https://opendev.org/openstack/os-vif.git
++ stackrc:source:529                       :   GITBRANCH["os-vif"]=master
++ stackrc:source:532                       :   GITREPO["osc-lib"]=https://opendev.org/openstack/osc-lib.git
++ stackrc:source:533                       :   GITBRANCH["osc-lib"]=master
++ stackrc:source:536                       :   GITREPO["ironic-lib"]=https://opendev.org/openstack/ironic-lib.git
++ stackrc:source:537                       :   GITBRANCH["ironic-lib"]=master
++ stackrc:source:539                       :   GITDIR["ironic-lib"]=/opt/stack/ironic-lib
++ stackrc:source:542                       :   GITREPO["diskimage-builder"]=https://opendev.org/openstack/diskimage-builder.git
++ stackrc:source:543                       :   GITBRANCH["diskimage-builder"]=master
++ stackrc:source:544                       :   GITDIR["diskimage-builder"]=/opt/stack/diskimage-builder
++ stackrc:source:547                       :   GITREPO["neutron-lib"]=https://opendev.org/openstack/neutron-lib.git
++ stackrc:source:548                       :   GITBRANCH["neutron-lib"]=master
++ stackrc:source:549                       :   GITDIR["neutron-lib"]=/opt/stack/neutron-lib
++ stackrc:source:552                       :   GITREPO["os-resource-classes"]=https://opendev.org/openstack/os-resource-classes.git
++ stackrc:source:553                       :   GITBRANCH["os-resource-classes"]=master
++ stackrc:source:556                       :   GITREPO["os-traits"]=https://opendev.org/openstack/os-traits.git
++ stackrc:source:557                       :   GITBRANCH["os-traits"]=master
++ stackrc:source:560                       :   GITREPO["ovsdbapp"]=https://opendev.org/openstack/ovsdbapp.git
++ stackrc:source:561                       :   GITBRANCH["ovsdbapp"]=master
++ stackrc:source:562                       :   GITDIR["ovsdbapp"]=/opt/stack/ovsdbapp
++ stackrc:source:565                       :   GITREPO["os-ken"]=https://opendev.org/openstack/os-ken.git
++ stackrc:source:566                       :   GITBRANCH["os-ken"]=master
++ stackrc:source:567                       :   GITDIR["os-ken"]=/opt/stack/os-ken
++ stackrc:source:576                       :   DIB_UTILS_REPO=https://opendev.org/openstack/dib-utils.git
++ stackrc:source:577                       :   DIB_UTILS_BRANCH=master
++ stackrc:source:580                       :   OAC_REPO=https://opendev.org/openstack/os-apply-config.git
++ stackrc:source:581                       :   OAC_BRANCH=master
++ stackrc:source:584                       :   OCC_REPO=https://opendev.org/openstack/os-collect-config.git
++ stackrc:source:585                       :   OCC_BRANCH=master
++ stackrc:source:588                       :   ORC_REPO=https://opendev.org/openstack/os-refresh-config.git
++ stackrc:source:589                       :   ORC_BRANCH=master
++ stackrc:source:601                       :   IRONIC_PYTHON_AGENT_REPO=https://opendev.org/openstack/ironic-python-agent.git
++ stackrc:source:602                       :   IRONIC_PYTHON_AGENT_BRANCH=master
++ stackrc:source:605                       :   NOVNC_REPO=https://github.com/novnc/novnc.git
++ stackrc:source:606                       :   NOVNC_BRANCH=v1.3.0
++ stackrc:source:609                       :   SPICE_REPO=http://anongit.freedesktop.org/git/spice/spice-html5.git
++ stackrc:source:610                       :   SPICE_BRANCH=master
+++ stackrc:source:616                       :   trueorfalse False ENABLE_VOLUME_MULTIATTACH
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   grep xtrace
++++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:616                       :   ENABLE_VOLUME_MULTIATTACH=False
++ stackrc:source:621                       :   DEFAULT_VIRT_DRIVER=libvirt
++ stackrc:source:622                       :   VIRT_DRIVER=libvirt
++ stackrc:source:623                       :   case "$VIRT_DRIVER" in
++ stackrc:source:625                       :   LIBVIRT_TYPE=kvm
++ stackrc:source:626                       :   LIBVIRT_CPU_MODE=custom
++ stackrc:source:627                       :   LIBVIRT_CPU_MODEL=Nehalem
++ stackrc:source:628                       :   [[ Ubuntu =~ (Debian|Ubuntu) ]]
+++ stackrc:source:632                       :   cut -d : -f 1 /etc/group
+++ stackrc:source:632                       :   grep 'libvirtd$'
+++ stackrc:source:632                       :   true
++ stackrc:source:632                       :   LIBVIRT_GROUP=
++ stackrc:source:633                       :   LIBVIRT_GROUP=libvirt
++ stackrc:source:673                       :   CIRROS_VERSION=0.5.2
+++ stackrc:source:674                       :   uname -m
++ stackrc:source:674                       :   CIRROS_ARCH=x86_64
+++ stackrc:source:679                       :   trueorfalse True DOWNLOAD_DEFAULT_IMAGES
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:679                       :   DOWNLOAD_DEFAULT_IMAGES=True
++ stackrc:source:680                       :   [[ True == \T\r\u\e ]]
++ stackrc:source:681                       :   [[ -n '' ]]
++ stackrc:source:684                       :   case "$VIRT_DRIVER" in
++ stackrc:source:686                       :   case "$LIBVIRT_TYPE" in
++ stackrc:source:692                       :   DEFAULT_IMAGE_NAME=cirros-0.5.2-x86_64-disk
++ stackrc:source:693                       :   DEFAULT_IMAGE_FILE_NAME=cirros-0.5.2-x86_64-disk.img
++ stackrc:source:694                       :   IMAGE_URLS+=http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img
++ stackrc:source:707                       :   DOWNLOAD_DEFAULT_IMAGES=False
++ stackrc:source:716                       :   EXTRA_CACHE_URLS=
++ stackrc:source:719                       :   ETCD_VERSION=v3.3.12
++ stackrc:source:720                       :   ETCD_SHA256_AMD64=dc5d82df095dae0a2970e4d870b6929590689dd707ae3d33e7b86da0f7f211b6
++ stackrc:source:721                       :   ETCD_SHA256_ARM64=170b848ac1a071fe7d495d404a868a2c0090750b2944f8a260ef1c6125b2b4f4
++ stackrc:source:722                       :   ETCD_SHA256_PPC64=77f807b1b51abbf51e020bb05bdb8ce088cb58260fcd22749ea32eee710463d3
++ stackrc:source:724                       :   ETCD_SHA256_S390X=
++ stackrc:source:726                       :   is_arch x86_64
+++ functions-common:is_arch:501             :   uname -m
++ functions-common:is_arch:501             :   [[ x86_64 == \x\8\6\_\6\4 ]]
++ stackrc:source:727                       :   ETCD_ARCH=amd64
++ stackrc:source:728                       :   ETCD_SHA256=dc5d82df095dae0a2970e4d870b6929590689dd707ae3d33e7b86da0f7f211b6
++ stackrc:source:748                       :   ETCD_PORT=2379
++ stackrc:source:749                       :   ETCD_PEER_PORT=2380
++ stackrc:source:750                       :   ETCD_DOWNLOAD_URL=https://github.com/etcd-io/etcd/releases/download
++ stackrc:source:751                       :   ETCD_NAME=etcd-v3.3.12-linux-amd64
++ stackrc:source:752                       :   ETCD_DOWNLOAD_FILE=etcd-v3.3.12-linux-amd64.tar.gz
++ stackrc:source:753                       :   ETCD_DOWNLOAD_LOCATION=https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz
++ stackrc:source:755                       :   EXTRA_CACHE_URLS+=,https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz
++ stackrc:source:758                       :   CACHE_BACKEND=dogpile.cache.memcached
++ stackrc:source:759                       :   MEMCACHE_SERVERS=localhost:11211
++ stackrc:source:762                       :   for image_url in ${IMAGE_URLS//,/ }
+++ stackrc:source:763                       :   echo http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img
+++ stackrc:source:763                       :   grep -o -F http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img
+++ stackrc:source:763                       :   wc -l
++ stackrc:source:763                       :   '[' 1 -gt 1 ']'
++ stackrc:source:769                       :   VOLUME_BACKING_FILE_SIZE=30G
++ stackrc:source:772                       :   VOLUME_NAME_PREFIX=volume-
++ stackrc:source:773                       :   INSTANCE_NAME_PREFIX=instance-
++ stackrc:source:776                       :   S3_SERVICE_PORT=3333
++ stackrc:source:779                       :   PRIVATE_NETWORK_NAME=private
++ stackrc:source:780                       :   PUBLIC_NETWORK_NAME=public
++ stackrc:source:782                       :   PUBLIC_INTERFACE=
++ stackrc:source:785                       :   SERVICE_PROTOCOL=http
+++ stackrc:source:791                       :   nproc
+++ stackrc:source:791                       :   nproc
++ stackrc:source:791                       :   API_WORKERS=10
++ stackrc:source:794                       :   SERVICE_TIMEOUT=60
++ stackrc:source:797                       :   NOVA_READY_TIMEOUT=60
++ stackrc:source:800                       :   SERVICE_GRACEFUL_SHUTDOWN_TIMEOUT=5
++ stackrc:source:803                       :   WORKER_TIMEOUT=90
+++ stackrc:source:811                       :   trueorfalse False OFFLINE
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   grep xtrace
++++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:811                       :   OFFLINE=False
+++ stackrc:source:816                       :   trueorfalse False ERROR_ON_CLONE
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   grep xtrace
++++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:816                       :   ERROR_ON_CLONE=False
+++ stackrc:source:819                       :   trueorfalse True ENABLE_DEBUG_LOG_LEVEL
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:819                       :   ENABLE_DEBUG_LOG_LEVEL=True
++ stackrc:source:825                       :   FLOATING_RANGE=172.24.4.0/24
++ stackrc:source:826                       :   IPV4_ADDRS_SAFE_TO_USE=10.0.0.0/22
++ stackrc:source:827                       :   FIXED_RANGE=10.0.0.0/22
++ stackrc:source:828                       :   HOST_IP_IFACE=
++ stackrc:source:829                       :   HOST_IP=
++ stackrc:source:830                       :   HOST_IPV6=
+++ stackrc:source:832                       :   get_default_host_ip 10.0.0.0/22 172.24.4.0/24 '' '' inet
+++ functions-common:get_default_host_ip:765 :   local fixed_range=10.0.0.0/22
+++ functions-common:get_default_host_ip:766 :   local floating_range=172.24.4.0/24
+++ functions-common:get_default_host_ip:767 :   local host_ip_iface=
+++ functions-common:get_default_host_ip:768 :   local host_ip=
+++ functions-common:get_default_host_ip:769 :   local af=inet
+++ functions-common:get_default_host_ip:772 :   '[' -z '' -o '' == dhcp ']'
+++ functions-common:get_default_host_ip:773 :   host_ip=
++++ functions-common:get_default_host_ip:775 :   ip -f inet route
++++ functions-common:get_default_host_ip:775 :   awk '/default/ {print $5}'
++++ functions-common:get_default_host_ip:775 :   head -1
+++ functions-common:get_default_host_ip:775 :   host_ip_iface=eno1
+++ functions-common:get_default_host_ip:776 :   local host_ips
++++ functions-common:get_default_host_ip:777 :   LC_ALL=C
++++ functions-common:get_default_host_ip:777 :   sed /temporary/d
++++ functions-common:get_default_host_ip:777 :   awk '/inet/ {split($2,parts,"/");  print parts[1]}'
++++ functions-common:get_default_host_ip:777 :   ip -f inet addr show eno1
+++ functions-common:get_default_host_ip:777 :   host_ips=10.200.2.118
+++ functions-common:get_default_host_ip:778 :   local ip
+++ functions-common:get_default_host_ip:779 :   for ip in $host_ips
+++ functions-common:get_default_host_ip:786 :   [[ inet == \i\n\e\t\6 ]]
+++ functions-common:get_default_host_ip:790 :   address_in_net 10.200.2.118 10.0.0.0/22
+++ functions-common:address_in_net:2195     :   local ip=10.200.2.118
+++ functions-common:address_in_net:2196     :   local range=10.0.0.0/22
+++ functions-common:address_in_net:2197     :   local masklen=22
+++ functions-common:address_in_net:2198     :   local network
+++++ functions-common:address_in_net:2199     :   cidr2netmask 22
+++++ functions-common:cidr2netmask:2217       :   local 'maskpat=255 255 255 255'
+++++ functions-common:cidr2netmask:2218       :   local 'maskdgt=254 252 248 240 224 192 128'
+++++ functions-common:cidr2netmask:2219       :   set -- 255 255 252
+++++ functions-common:cidr2netmask:2220       :   echo 255.255.252.0
++++ functions-common:address_in_net:2199     :   maskip 10.0.0.0 255.255.252.0
++++ functions-common:maskip:2279             :   local ip=10.0.0.0
++++ functions-common:maskip:2280             :   local mask=255.255.252.0
++++ functions-common:maskip:2281             :   local l=10.0.0
++++ functions-common:maskip:2281             :   local r=0.0.0
++++ functions-common:maskip:2281             :   local n=255.255.252
++++ functions-common:maskip:2281             :   local m=255.252.0
++++ functions-common:maskip:2282             :   local subnet
++++ functions-common:maskip:2283             :   subnet=10.0.0.0
++++ functions-common:maskip:2284             :   echo 10.0.0.0
+++ functions-common:address_in_net:2199     :   network=10.0.0.0
+++ functions-common:address_in_net:2200     :   local subnet
+++++ functions-common:address_in_net:2201     :   cidr2netmask 22
+++++ functions-common:cidr2netmask:2217       :   local 'maskpat=255 255 255 255'
+++++ functions-common:cidr2netmask:2218       :   local 'maskdgt=254 252 248 240 224 192 128'
+++++ functions-common:cidr2netmask:2219       :   set -- 255 255 252
+++++ functions-common:cidr2netmask:2220       :   echo 255.255.252.0
++++ functions-common:address_in_net:2201     :   maskip 10.200.2.118 255.255.252.0
++++ functions-common:maskip:2279             :   local ip=10.200.2.118
++++ functions-common:maskip:2280             :   local mask=255.255.252.0
++++ functions-common:maskip:2281             :   local l=10.200.2
++++ functions-common:maskip:2281             :   local r=200.2.118
++++ functions-common:maskip:2281             :   local n=255.255.252
++++ functions-common:maskip:2281             :   local m=255.252.0
++++ functions-common:maskip:2282             :   local subnet
++++ functions-common:maskip:2283             :   subnet=10.200.0.0
++++ functions-common:maskip:2284             :   echo 10.200.0.0
+++ functions-common:address_in_net:2201     :   subnet=10.200.0.0
+++ functions-common:address_in_net:2202     :   [[ 10.0.0.0 == 10.200.0.0 ]]
+++ functions-common:get_default_host_ip:790 :   address_in_net 10.200.2.118 172.24.4.0/24
+++ functions-common:address_in_net:2195     :   local ip=10.200.2.118
+++ functions-common:address_in_net:2196     :   local range=172.24.4.0/24
+++ functions-common:address_in_net:2197     :   local masklen=24
+++ functions-common:address_in_net:2198     :   local network
+++++ functions-common:address_in_net:2199     :   cidr2netmask 24
+++++ functions-common:cidr2netmask:2217       :   local 'maskpat=255 255 255 255'
+++++ functions-common:cidr2netmask:2218       :   local 'maskdgt=254 252 248 240 224 192 128'
+++++ functions-common:cidr2netmask:2219       :   set -- 255 255 255
+++++ functions-common:cidr2netmask:2220       :   echo 255.255.255.0
++++ functions-common:address_in_net:2199     :   maskip 172.24.4.0 255.255.255.0
++++ functions-common:maskip:2279             :   local ip=172.24.4.0
++++ functions-common:maskip:2280             :   local mask=255.255.255.0
++++ functions-common:maskip:2281             :   local l=172.24.4
++++ functions-common:maskip:2281             :   local r=24.4.0
++++ functions-common:maskip:2281             :   local n=255.255.255
++++ functions-common:maskip:2281             :   local m=255.255.0
++++ functions-common:maskip:2282             :   local subnet
++++ functions-common:maskip:2283             :   subnet=172.24.4.0
++++ functions-common:maskip:2284             :   echo 172.24.4.0
+++ functions-common:address_in_net:2199     :   network=172.24.4.0
+++ functions-common:address_in_net:2200     :   local subnet
+++++ functions-common:address_in_net:2201     :   cidr2netmask 24
+++++ functions-common:cidr2netmask:2217       :   local 'maskpat=255 255 255 255'
+++++ functions-common:cidr2netmask:2218       :   local 'maskdgt=254 252 248 240 224 192 128'
+++++ functions-common:cidr2netmask:2219       :   set -- 255 255 255
+++++ functions-common:cidr2netmask:2220       :   echo 255.255.255.0
++++ functions-common:address_in_net:2201     :   maskip 10.200.2.118 255.255.255.0
++++ functions-common:maskip:2279             :   local ip=10.200.2.118
++++ functions-common:maskip:2280             :   local mask=255.255.255.0
++++ functions-common:maskip:2281             :   local l=10.200.2
++++ functions-common:maskip:2281             :   local r=200.2.118
++++ functions-common:maskip:2281             :   local n=255.255.255
++++ functions-common:maskip:2281             :   local m=255.255.0
++++ functions-common:maskip:2282             :   local subnet
++++ functions-common:maskip:2283             :   subnet=10.200.2.0
++++ functions-common:maskip:2284             :   echo 10.200.2.0
+++ functions-common:address_in_net:2201     :   subnet=10.200.2.0
+++ functions-common:address_in_net:2202     :   [[ 172.24.4.0 == 10.200.2.0 ]]
+++ functions-common:get_default_host_ip:791 :   host_ip=10.200.2.118
+++ functions-common:get_default_host_ip:792 :   break
+++ functions-common:get_default_host_ip:796 :   echo 10.200.2.118
++ stackrc:source:832                       :   HOST_IP=10.200.2.118
++ stackrc:source:833                       :   '[' 10.200.2.118 == '' ']'
+++ stackrc:source:837                       :   get_default_host_ip '' '' '' '' inet6
+++ functions-common:get_default_host_ip:765 :   local fixed_range=
+++ functions-common:get_default_host_ip:766 :   local floating_range=
+++ functions-common:get_default_host_ip:767 :   local host_ip_iface=
+++ functions-common:get_default_host_ip:768 :   local host_ip=
+++ functions-common:get_default_host_ip:769 :   local af=inet6
+++ functions-common:get_default_host_ip:772 :   '[' -z '' -o '' == dhcp ']'
+++ functions-common:get_default_host_ip:773 :   host_ip=
++++ functions-common:get_default_host_ip:775 :   awk '/default/ {print $5}'
++++ functions-common:get_default_host_ip:775 :   ip -f inet6 route
++++ functions-common:get_default_host_ip:775 :   head -1
+++ functions-common:get_default_host_ip:775 :   host_ip_iface=
+++ functions-common:get_default_host_ip:776 :   local host_ips
++++ functions-common:get_default_host_ip:777 :   LC_ALL=C
++++ functions-common:get_default_host_ip:777 :   sed /temporary/d
++++ functions-common:get_default_host_ip:777 :   awk '/inet6/ {split($2,parts,"/");  print parts[1]}'
++++ functions-common:get_default_host_ip:777 :   ip -f inet6 addr show
+++ functions-common:get_default_host_ip:777 :   host_ips='::1
fe80::2152:a640:2f71:c8f4'
+++ functions-common:get_default_host_ip:778 :   local ip
+++ functions-common:get_default_host_ip:779 :   for ip in $host_ips
+++ functions-common:get_default_host_ip:786 :   [[ inet6 == \i\n\e\t\6 ]]
+++ functions-common:get_default_host_ip:787 :   host_ip=::1
+++ functions-common:get_default_host_ip:788 :   break
+++ functions-common:get_default_host_ip:796 :   echo ::1
++ stackrc:source:837                       :   HOST_IPV6=::1
+++ stackrc:source:840                       :   trueorfalse True NEUTRON_PORT_SECURITY
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:840                       :   NEUTRON_PORT_SECURITY=True
++ stackrc:source:845                       :   SERVICE_IP_VERSION=4
++ stackrc:source:851                       :   [[ 4 != \4 ]]
++ stackrc:source:855                       :   [[ 4 == 4 ]]
++ stackrc:source:856                       :   DEF_SERVICE_HOST=10.200.2.118
++ stackrc:source:857                       :   DEF_SERVICE_LOCAL_HOST=127.0.0.1
++ stackrc:source:858                       :   DEF_SERVICE_LISTEN_ADDRESS=0.0.0.0
++ stackrc:source:861                       :   [[ 4 == 6 ]]
++ stackrc:source:872                       :   SERVICE_LISTEN_ADDRESS=0.0.0.0
++ stackrc:source:876                       :   SERVICE_HOST=10.200.2.118
++ stackrc:source:878                       :   SERVICE_LOCAL_HOST=127.0.0.1
++ stackrc:source:882                       :   TUNNEL_IP_VERSION=4
++ stackrc:source:885                       :   [[ 4 != \4 ]]
++ stackrc:source:889                       :   [[ 4 == 4 ]]
++ stackrc:source:890                       :   DEF_TUNNEL_ENDPOINT_IP=10.200.2.118
++ stackrc:source:893                       :   [[ 4 == 6 ]]
++ stackrc:source:904                       :   TUNNEL_ENDPOINT_IP=10.200.2.118
+++ stackrc:source:907                       :   trueorfalse False SYSLOG
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:907                       :   SYSLOG=False
++ stackrc:source:908                       :   SYSLOG_HOST=10.200.2.118
++ stackrc:source:909                       :   SYSLOG_PORT=516
++ stackrc:source:913                       :   GIT_DEPTH=0
+++ stackrc:source:917                       :   trueorfalse True RECREATE_KEYSTONE_DB
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ stackrc:source:917                       :   RECREATE_KEYSTONE_DB=True
++ stackrc:source:929                       :   [[ -z '' ]]
++ stackrc:source:930                       :   default_logdir=/opt/stack/logs
++ stackrc:source:931                       :   [[ -z '' ]]
++ stackrc:source:933                       :   LOGDIR=/opt/stack/logs
++ stackrc:source:943                       :   unset default_logdir logfile
++ stackrc:source:949                       :   ULIMIT_NOFILE=2048
+ ./stack.sh:main:228                      :   write_devstack_version
+ functions:write_devstack_version:852     :   cat -
+ functions:write_devstack_version:852     :   sudo tee /etc/devstack-version
++ functions:write_devstack_version:852     :   git log '--format=%H %s %ci' -1
+ ./stack.sh:main:232                      :   SUPPORTED_DISTROS='bullseye|focal|jammy|f35|opensuse-15.2|opensuse-tumbleweed|rhel8|rhel9'
+ ./stack.sh:main:234                      :   [[ ! focal =~ bullseye|focal|jammy|f35|opensuse-15.2|opensuse-tumbleweed|rhel8|rhel9 ]]
+ ./stack.sh:main:245                      :   export_proxy_variables
+ functions-common:export_proxy_variables:2257 :   isset http_proxy
+ functions-common:isset:240               :   [[ -v http_proxy ]]
+ functions-common:export_proxy_variables:2260 :   isset https_proxy
+ functions-common:isset:240               :   [[ -v https_proxy ]]
+ functions-common:export_proxy_variables:2263 :   isset no_proxy
+ functions-common:isset:240               :   [[ -v no_proxy ]]
+ ./stack.sh:main:250                      :   disable_negated_services
+ functions-common:disable_negated_services:1962 :   local xtrace
++ functions-common:disable_negated_services:1963 :   set +o
++ functions-common:disable_negated_services:1963 :   grep xtrace
+ functions-common:disable_negated_services:1963 :   xtrace='set -o xtrace'
+ functions-common:disable_negated_services:1964 :   set +o xtrace
+ ./stack.sh:main:257                      :   is_package_installed sudo
+ functions-common:is_package_installed:1472 :   [[ -z sudo ]]
+ functions-common:is_package_installed:1476 :   [[ -z deb ]]
+ functions-common:is_package_installed:1480 :   [[ deb = \d\e\b ]]
+ functions-common:is_package_installed:1481 :   dpkg -s sudo
+ ./stack.sh:main:260                      :   sudo grep -q '^#includedir.*/etc/sudoers.d' /etc/sudoers
+ ./stack.sh:main:264                      :   [[ -n '' ]]
++ ./stack.sh:main:273                      :   mktemp
+ ./stack.sh:main:273                      :   TEMPFILE=/tmp/tmp.ZK0AN7Jroy
+ ./stack.sh:main:274                      :   echo 'stack ALL=(root) NOPASSWD:ALL'
+ ./stack.sh:main:277                      :   echo 'Defaults:stack secure_path=/sbin:/usr/sbin:/usr/bin:/bin:/usr/local/sbin:/usr/local/bin'
+ ./stack.sh:main:278                      :   echo 'Defaults:stack !requiretty'
+ ./stack.sh:main:279                      :   chmod 0440 /tmp/tmp.ZK0AN7Jroy
+ ./stack.sh:main:280                      :   sudo chown root:root /tmp/tmp.ZK0AN7Jroy
+ ./stack.sh:main:281                      :   sudo mv /tmp/tmp.ZK0AN7Jroy /etc/sudoers.d/50_stack_sh
+ ./stack.sh:main:287                      :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ ./stack.sh:main:288                      :   echo 'APT::Acquire::Retries "20";'
+ ./stack.sh:main:288                      :   sudo tee /etc/apt/apt.conf.d/80retry
+ ./stack.sh:main:324                      :   DEST=/opt/stack
+ ./stack.sh:main:329                      :   [[ ! -d /opt/stack ]]
+ ./stack.sh:main:336                      :   [[ -n /opt/stack/logs ]]
+ ./stack.sh:main:337                      :   mkdir -p /opt/stack/logs
+ ./stack.sh:main:341                      :   DATA_DIR=/opt/stack/data
+ ./stack.sh:main:342                      :   [[ ! -d /opt/stack/data ]]
+ ./stack.sh:main:343                      :   sudo mkdir -p /opt/stack/data
+ ./stack.sh:main:344                      :   safe_chown -R stack /opt/stack/data
+ functions-common:safe_chown:2340         :   _safe_permission_operation chown -R stack /opt/stack/data
+ functions-common:_safe_permission_operation:2165 :   local xtrace
++ functions-common:_safe_permission_operation:2166 :   set +o
++ functions-common:_safe_permission_operation:2166 :   grep xtrace
+ functions-common:_safe_permission_operation:2166 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2167 :   set +o xtrace
+ functions-common:_safe_permission_operation:2188 :   sudo chown -R stack /opt/stack/data
+ ./stack.sh:main:345                      :   safe_chmod 0755 /opt/stack/data
+ functions-common:safe_chmod:2334         :   _safe_permission_operation chmod 0755 /opt/stack/data
+ functions-common:_safe_permission_operation:2165 :   local xtrace
++ functions-common:_safe_permission_operation:2166 :   grep xtrace
++ functions-common:_safe_permission_operation:2166 :   set +o
+ functions-common:_safe_permission_operation:2166 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2167 :   set +o xtrace
+ functions-common:_safe_permission_operation:2188 :   sudo chmod 0755 /opt/stack/data
+ ./stack.sh:main:349                      :   async_init
+ inc/async:async_init:217                 :   local async_dir=/opt/stack/async
+ inc/async:async_init:220                 :   rm -Rf /opt/stack/async
+ inc/async:async_init:223                 :   mkdir -p /opt/stack/async
++ ./stack.sh:main:354                      :   hostname -s
+ ./stack.sh:main:354                      :   LOCAL_HOSTNAME=datacore-PowerEdge-R740
+ ./stack.sh:main:355                      :   fgrep -qwe datacore-PowerEdge-R740 /etc/hosts
++ ./stack.sh:main:362                      :   trueorfalse False SKIP_EPEL_INSTALL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ ./stack.sh:main:362                      :   SKIP_EPEL_INSTALL=False
+ ./stack.sh:main:364                      :   [[ focal == \r\h\e\l\8 ]]
+ ./stack.sh:main:393                      :   [[ focal == \r\h\e\l\9 ]]
+ ./stack.sh:main:401                      :   install_python
+ inc/python:install_python:457            :   install_python3
+ inc/python:install_python3:463           :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ inc/python:install_python3:464           :   apt_get install python3.8 python3.8-dev
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   set +o
++ functions-common:apt_get:1218            :   grep xtrace
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install python3.8 python3.8-dev
Reading package lists...
Building dependency tree...
Reading state information...
python3.8 is already the newest version (3.8.10-0ubuntu1~20.04.5).
python3.8-dev is already the newest version (3.8.10-0ubuntu1~20.04.5).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcgi-fast-perl libcgi-pm-perl libcolord-gtk1 libcolorhug2
  libevent-core-2.1-7 libevent-pthreads-2.1-7 libfcgi-perl libgsound0
  libgssdp-1.2-0 libgupnp-1.2-0 libgupnp-av-1.0-2 libgupnp-dlna-2.0-3
  libhtml-template-perl libieee1284-3 libimagequant0 libmecab2
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3 locales-all
  mecab-ipadic mecab-ipadic-utf8 mecab-utils mobile-broadband-provider-info
  network-manager-gnome printer-driver-postscript-hp python3-macaroonbakery
  python3-olefile python3-pil python3-protobuf python3-pymacaroons
  python3-renderpm python3-reportlab python3-reportlab-accel python3-rfc3339
  python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 202 not upgraded.
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163496154
+ functions-common:time_stop:2448          :   [[ -z 1661163496154 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163496807
+ functions-common:time_stop:2452          :   elapsed_time=653
+ functions-common:time_stop:2453          :   total=0
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=653
+ functions-common:apt_get:1238            :   return 0
++ inc/python:install_python:458            :   which python3.8
+ inc/python:install_python:458            :   export PYTHON=/usr/bin/python3.8
+ inc/python:install_python:458            :   PYTHON=/usr/bin/python3.8
++ ./stack.sh:main:408                      :   trueorfalse True VERBOSE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ ./stack.sh:main:408                      :   VERBOSE=True
++ ./stack.sh:main:409                      :   trueorfalse False VERBOSE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ ./stack.sh:main:409                      :   VERBOSE_NO_TIMESTAMP=True
+ ./stack.sh:main:455                      :   TIMESTAMP_FORMAT=%F-%H%M%S
+ ./stack.sh:main:456                      :   LOGDAYS=7
++ ./stack.sh:main:457                      :   date +%F-%H%M%S
+ ./stack.sh:main:457                      :   CURRENT_LOG_TIME=2022-08-22-154816
+ ./stack.sh:main:459                      :   [[ -n '' ]]
+ ./stack.sh:main:498                      :   exec
+ ./stack.sh:main:499                      :   [[ True != \T\r\u\e ]]
+ ./stack.sh:main:504                      :   exec
++ ./stack.sh:main:504                      :   /usr/bin/python3.8 /opt/stack/devstack/tools/outfilter.py -v
+ ./stack.sh:main:508                      :   check_path_perm_sanity /opt/stack
+ functions:check_path_perm_sanity:596     :   local real_path
++ functions:check_path_perm_sanity:597     :   readlink -f /opt/stack
+ functions:check_path_perm_sanity:597     :   real_path=/opt/stack
+ functions:check_path_perm_sanity:598     :   local rebuilt_path=
++ functions:check_path_perm_sanity:599     :   echo /opt/stack
++ functions:check_path_perm_sanity:599     :   tr / ' '
+ functions:check_path_perm_sanity:599     :   for i in $(echo ${real_path} | tr "/" " ")
+ functions:check_path_perm_sanity:600     :   rebuilt_path=/opt
++ functions:check_path_perm_sanity:602     :   stat -c %a /opt
+ functions:check_path_perm_sanity:602     :   [[ 755 = 700 ]]
+ functions:check_path_perm_sanity:599     :   for i in $(echo ${real_path} | tr "/" " ")
+ functions:check_path_perm_sanity:600     :   rebuilt_path=/opt/stack
++ functions:check_path_perm_sanity:602     :   stat -c %a /opt/stack
+ functions:check_path_perm_sanity:602     :   [[ 755 = 700 ]]
+ ./stack.sh:main:514                      :   trap exit_trap EXIT
+ ./stack.sh:main:555                      :   trap err_trap ERR
+ ./stack.sh:main:568                      :   set -o errexit
+ ./stack.sh:main:571                      :   uname -a
Linux datacore-PowerEdge-R740 5.15.0-41-generic #44~20.04.1-Ubuntu SMP Fri Jun 24 13:27:29 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux
+ ./stack.sh:main:574                      :   SSL_BUNDLE_FILE=/opt/stack/data/ca-bundle.pem
+ ./stack.sh:main:575                      :   rm -f /opt/stack/data/ca-bundle.pem
+ ./stack.sh:main:578                      :   source /opt/stack/devstack/lib/database
+++ lib/database:source:23                   :   set +o
+++ lib/database:source:23                   :   grep xtrace
++ lib/database:source:23                   :   _XTRACE_LIB_DB='set -o xtrace'
++ lib/database:source:24                   :   set +o xtrace
+ ./stack.sh:main:579                      :   source /opt/stack/devstack/lib/rpc_backend
+++ lib/rpc_backend:source:24                :   set +o
+++ lib/rpc_backend:source:24                :   grep xtrace
++ lib/rpc_backend:source:24                :   _XTRACE_RPC_BACKEND='set -o xtrace'
++ lib/rpc_backend:source:25                :   set +o xtrace
+ ./stack.sh:main:585                      :   fetch_plugins
+ functions-common:fetch_plugins:1785      :   local plugins=
+ functions-common:fetch_plugins:1786      :   local plugin
+ functions-common:fetch_plugins:1789      :   [[ -z '' ]]
+ functions-common:fetch_plugins:1790      :   return
+ ./stack.sh:main:589                      :   run_phase override_defaults
+ functions-common:run_phase:1867          :   local mode=override_defaults
+ functions-common:run_phase:1868          :   local phase=
+ functions-common:run_phase:1869          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1870          :   local extra_plugin_file_name
+ functions-common:run_phase:1871          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1876          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1877          :   local extra
++ functions-common:run_phase:1878          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1878          :   extra=80-tempest.sh
+ functions-common:run_phase:1879          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1883          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1883          :   source /opt/stack/devstack/extras.d/80-tempest.sh override_defaults
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ override_defaults == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ override_defaults == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:27         :   [[ override_defaults == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ override_defaults == \c\l\e\a\n ]]
+ functions-common:run_phase:1888          :   [[ override_defaults == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1891          :   [[ override_defaults == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1892          :   plugin_override_defaults
+ functions-common:plugin_override_defaults:1826 :   local plugins=
+ functions-common:plugin_override_defaults:1827 :   local plugin
+ functions-common:plugin_override_defaults:1830 :   [[ -z '' ]]
+ functions-common:plugin_override_defaults:1831 :   return
+ ./stack.sh:main:592                      :   source /opt/stack/devstack/lib/apache
+++ lib/apache:source:22                     :   set +o
+++ lib/apache:source:22                     :   grep xtrace
++ lib/apache:source:22                     :   _XTRACE_LIB_APACHE='set -o xtrace'
++ lib/apache:source:23                     :   set +o xtrace
+ ./stack.sh:main:595                      :   source /opt/stack/devstack/lib/tls
++ lib/tls:source:38                        :   is_service_enabled tls-proxy
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 1
+++ lib/tls:source:43                        :   hostname -f
++ lib/tls:source:43                        :   DEVSTACK_HOSTNAME=datacore-PowerEdge-R740
++ lib/tls:source:44                        :   DEVSTACK_CERT_NAME=devstack-cert
++ lib/tls:source:45                        :   DEVSTACK_CERT=/opt/stack/data/devstack-cert.pem
++ lib/tls:source:48                        :   ROOT_CA_DIR=/opt/stack/data/CA/root-ca
++ lib/tls:source:49                        :   INT_CA_DIR=/opt/stack/data/CA/int-ca
++ lib/tls:source:51                        :   ORG_NAME=OpenStack
++ lib/tls:source:52                        :   ORG_UNIT_NAME=DevStack
++ lib/tls:source:55                        :   STUD_PROTO=--tls
++ lib/tls:source:56                        :   STUD_CIPHERS='TLSv1+HIGH:!DES:!aNULL:!eNULL:@STRENGTH'
++ lib/tls:source:63                        :   OPENSSL=/usr/bin/openssl
+ ./stack.sh:main:598                      :   source /opt/stack/devstack/lib/infra
+++ lib/infra:source:18                      :   set +o
+++ lib/infra:source:18                      :   grep xtrace
++ lib/infra:source:18                      :   _XTRACE_INFRA='set -o xtrace'
++ lib/infra:source:19                      :   set +o xtrace
+ ./stack.sh:main:599                      :   source /opt/stack/devstack/lib/libraries
+++ lib/libraries:source:19                  :   set +o
+++ lib/libraries:source:19                  :   grep xtrace
++ lib/libraries:source:19                  :   _XTRACE_LIB_LIBRARIES='set -o xtrace'
++ lib/libraries:source:20                  :   set +o xtrace
+ ./stack.sh:main:600                      :   source /opt/stack/devstack/lib/lvm
+++ lib/lvm:source:19                        :   set +o
+++ lib/lvm:source:19                        :   grep xtrace
++ lib/lvm:source:19                        :   _XTRACE_LVM='set -o xtrace'
++ lib/lvm:source:20                        :   set +o xtrace
+ ./stack.sh:main:601                      :   source /opt/stack/devstack/lib/horizon
+++ lib/horizon:source:22                    :   set +o
+++ lib/horizon:source:22                    :   grep xtrace
++ lib/horizon:source:22                    :   _XTRACE_HORIZON='set -o xtrace'
++ lib/horizon:source:23                    :   set +o xtrace
+ ./stack.sh:main:602                      :   source /opt/stack/devstack/lib/keystone
+++ lib/keystone:source:29                   :   grep xtrace
+++ lib/keystone:source:29                   :   set +o
++ lib/keystone:source:29                   :   _XTRACE_KEYSTONE='set -o xtrace'
++ lib/keystone:source:30                   :   set +o xtrace
+ ./stack.sh:main:603                      :   source /opt/stack/devstack/lib/glance
+++ lib/glance:source:24                     :   set +o
+++ lib/glance:source:24                     :   grep xtrace
++ lib/glance:source:24                     :   _XTRACE_GLANCE='set -o xtrace'
++ lib/glance:source:25                     :   set +o xtrace
+ ./stack.sh:main:604                      :   source /opt/stack/devstack/lib/nova
+++ lib/nova:source:27                       :   set +o
+++ lib/nova:source:27                       :   grep xtrace
++ lib/nova:source:27                       :   _XTRACE_LIB_NOVA='set -o xtrace'
++ lib/nova:source:28                       :   set +o xtrace
+ ./stack.sh:main:605                      :   source /opt/stack/devstack/lib/placement
+++ lib/placement:source:23                  :   set +o
+++ lib/placement:source:23                  :   grep xtrace
++ lib/placement:source:23                  :   _XTRACE_LIB_PLACEMENT='set -o xtrace'
++ lib/placement:source:24                  :   set +o xtrace
+ ./stack.sh:main:606                      :   source /opt/stack/devstack/lib/cinder
+++ lib/cinder:source:23                     :   grep xtrace
+++ lib/cinder:source:23                     :   set +o
++ lib/cinder:source:23                     :   _XTRACE_CINDER='set -o xtrace'
++ lib/cinder:source:24                     :   set +o xtrace
+ ./stack.sh:main:607                      :   source /opt/stack/devstack/lib/swift
+++ lib/swift:source:27                      :   set +o
+++ lib/swift:source:27                      :   grep xtrace
++ lib/swift:source:27                      :   _XTRACE_LIB_SWIFT='set -o xtrace'
++ lib/swift:source:28                      :   set +o xtrace
+ ./stack.sh:main:608                      :   source /opt/stack/devstack/lib/neutron
+++ lib/neutron:source:22                    :   set +o
+++ lib/neutron:source:22                    :   grep xtrace
++ lib/neutron:source:22                    :   XTRACE='set -o xtrace'
++ lib/neutron:source:23                    :   set +o xtrace
+ ./stack.sh:main:609                      :   source /opt/stack/devstack/lib/ldap
+++ lib/ldap:source:11                       :   set +o
+++ lib/ldap:source:11                       :   grep xtrace
++ lib/ldap:source:11                       :   _XTRACE_LDAP='set -o xtrace'
++ lib/ldap:source:12                       :   set +o xtrace
+ ./stack.sh:main:610                      :   source /opt/stack/devstack/lib/dstat
+++ lib/dstat:source:17                      :   set +o
+++ lib/dstat:source:17                      :   grep xtrace
++ lib/dstat:source:17                      :   _XTRACE_DSTAT='set -o xtrace'
++ lib/dstat:source:18                      :   set +o xtrace
+ ./stack.sh:main:611                      :   source /opt/stack/devstack/lib/tcpdump
+++ lib/tcpdump:source:16                    :   set +o
+++ lib/tcpdump:source:16                    :   grep xtrace
++ lib/tcpdump:source:16                    :   _XTRACE_TCPDUMP='set -o xtrace'
++ lib/tcpdump:source:17                    :   set +o xtrace
+ ./stack.sh:main:612                      :   source /opt/stack/devstack/lib/etcd3
+++ lib/etcd3:source:19                      :   set +o
+++ lib/etcd3:source:19                      :   grep xtrace
++ lib/etcd3:source:19                      :   _XTRACE_ETCD3='set -o xtrace'
++ lib/etcd3:source:20                      :   set +o xtrace
+ ./stack.sh:main:613                      :   source /opt/stack/devstack/lib/os-vif
++ lib/os-vif:source:6                      :   OS_VIF_OVS_OVSDB_INTERFACE=vsctl
+++ lib/os-vif:source:17                     :   is_ml2_ovs
+++ lib/os-vif:is_ml2_ovs:9                  :   [[ ovn == \o\p\e\n\v\s\w\i\t\c\h ]]
+++ lib/os-vif:is_ml2_ovs:12                 :   echo False
++ lib/os-vif:source:17                     :   OS_VIF_OVS_ISOLATE_VIF=False
+++ lib/os-vif:source:18                     :   trueorfalse False OS_VIF_OVS_ISOLATE_VIF
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ lib/os-vif:source:18                     :   OS_VIF_OVS_ISOLATE_VIF=False
+ ./stack.sh:main:619                      :   run_phase source
+ functions-common:run_phase:1867          :   local mode=source
+ functions-common:run_phase:1868          :   local phase=
+ functions-common:run_phase:1869          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1870          :   local extra_plugin_file_name
+ functions-common:run_phase:1871          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1876          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1877          :   local extra
++ functions-common:run_phase:1878          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1878          :   extra=80-tempest.sh
+ functions-common:run_phase:1879          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1883          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1883          :   source /opt/stack/devstack/extras.d/80-tempest.sh source
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ source == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:6          :   source /opt/stack/devstack/lib/tempest
++++ lib/tempest:source:40                    :   set +o
++++ lib/tempest:source:40                    :   grep xtrace
+++ lib/tempest:source:40                    :   _XTRACE_TEMPEST='set -o xtrace'
+++ lib/tempest:source:41                    :   set +o xtrace
++ extras.d/80-tempest.sh:source:27         :   [[ source == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ source == \c\l\e\a\n ]]
+ functions-common:run_phase:1888          :   [[ source == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1889          :   load_plugin_settings
+ functions-common:load_plugin_settings:1803 :   local plugins=
+ functions-common:load_plugin_settings:1804 :   local plugin
+ functions-common:load_plugin_settings:1807 :   [[ -z '' ]]
+ functions-common:load_plugin_settings:1808 :   return
+ functions-common:run_phase:1890          :   verify_disabled_services
+ functions-common:verify_disabled_services:2150 :   local service
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,key, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,n-api, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,n-cpu, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,n-cond, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,n-sch, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,n-novnc, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,n-api-meta, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,placement-api, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,placement-client, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,g-api, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,c-sch, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,c-api, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,c-vol, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,ovn-controller, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,ovn-northd, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,ovs-vswitchd, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,ovsdb-server, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,q-svc, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,q-ovn-metadata-agent, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,horizon, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,rabbit, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,tempest, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,mysql, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,etcd3, ]]
+ functions-common:verify_disabled_services:2151 :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:verify_disabled_services:2152 :   [[ ,, =~ ,dstat, ]]
+ ./stack.sh:main:690                      :   initialize_database_backends
+ lib/database:initialize_database_backends:65 :   for backend in $DATABASE_BACKENDS
+ lib/database:initialize_database_backends:66 :   is_service_enabled mysql
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/database:initialize_database_backends:66 :   DATABASE_TYPE=mysql
+ lib/database:initialize_database_backends:65 :   for backend in $DATABASE_BACKENDS
+ lib/database:initialize_database_backends:66 :   is_service_enabled postgresql
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/database:initialize_database_backends:69 :   '[' -z mysql ']'
+ lib/database:initialize_database_backends:73 :   MYSQL_HOST=127.0.0.1
+ lib/database:initialize_database_backends:74 :   MYSQL_USER=root
+ lib/database:initialize_database_backends:80 :   [[ 4 == 6 ]]
+ lib/database:initialize_database_backends:83 :   DATABASE_HOST=127.0.0.1
+ lib/database:initialize_database_backends:86 :   DATABASE_USER=root
+ lib/database:initialize_database_backends:88 :   '[' -n '' ']'
+ lib/database:initialize_database_backends:92 :   return 0
+ ./stack.sh:main:691                      :   echo 'Using mysql database backend'
Using mysql database backend
+ ./stack.sh:main:694                      :   read_password DATABASE_PASSWORD 'ENTER A PASSWORD TO USE FOR THE DATABASE.'
+ ./stack.sh:read_password:629             :   local xtrace
++ ./stack.sh:read_password:630             :   set +o
++ ./stack.sh:read_password:630             :   grep xtrace
+ ./stack.sh:read_password:630             :   xtrace='set -o xtrace'
+ ./stack.sh:read_password:631             :   set +o xtrace
+ ./stack.sh:main:696                      :   define_database_baseurl
++ lib/database:define_database_baseurl:106 :   get_database_type_mysql
++ lib/databases/mysql:get_database_type_mysql:38 :   [[ PyMySQL == \P\y\M\y\S\Q\L ]]
++ lib/databases/mysql:get_database_type_mysql:39 :   echo mysql+pymysql
+ lib/database:define_database_baseurl:106 :   BASE_SQL_CONN=mysql+pymysql://root:Datacore1@127.0.0.1
+ ./stack.sh:main:708                      :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:709                      :   read_password RABBIT_PASSWORD 'ENTER A PASSWORD TO USE FOR RABBIT.'
+ ./stack.sh:read_password:629             :   local xtrace
++ ./stack.sh:read_password:630             :   grep xtrace
++ ./stack.sh:read_password:630             :   set +o
+ ./stack.sh:read_password:630             :   xtrace='set -o xtrace'
+ ./stack.sh:read_password:631             :   set +o xtrace
+ ./stack.sh:main:716                      :   is_service_enabled keystone
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:718                      :   read_password SERVICE_PASSWORD 'ENTER A SERVICE_PASSWORD TO USE FOR THE SERVICE AUTHENTICATION.'
+ ./stack.sh:read_password:629             :   local xtrace
++ ./stack.sh:read_password:630             :   set +o
++ ./stack.sh:read_password:630             :   grep xtrace
+ ./stack.sh:read_password:630             :   xtrace='set -o xtrace'
+ ./stack.sh:read_password:631             :   set +o xtrace
+ ./stack.sh:main:720                      :   read_password ADMIN_PASSWORD 'ENTER A PASSWORD TO USE FOR HORIZON AND KEYSTONE (20 CHARS OR LESS).'
+ ./stack.sh:read_password:629             :   local xtrace
++ ./stack.sh:read_password:630             :   set +o
++ ./stack.sh:read_password:630             :   grep xtrace
+ ./stack.sh:read_password:630             :   xtrace='set -o xtrace'
+ ./stack.sh:read_password:631             :   set +o xtrace
+ ./stack.sh:main:731                      :   is_service_enabled ldap
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:740                      :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:752                      :   save_stackenv 752
+ functions-common:save_stackenv:60        :   local tag=752
++ functions-common:save_stackenv:62        :   date +%F-%H%M%S
+ functions-common:save_stackenv:62        :   time_stamp=2022-08-22-154818
+ functions-common:save_stackenv:63        :   echo '# 2022-08-22-154818 752'
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo BASE_SQL_CONN=mysql+pymysql://root:Datacore1@127.0.0.1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo DATA_DIR=/opt/stack/data
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo DEST=/opt/stack
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo ENABLED_SERVICES=key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo HOST_IP=10.200.2.118
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo KEYSTONE_SERVICE_URI=http://10.200.2.118/identity
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo LOGFILE=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo OS_CACERT=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo SERVICE_HOST=10.200.2.118
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo STACK_USER=stack
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TLS_IP=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo HOST_IPV6=::1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo SERVICE_IP_VERSION=4
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TUNNEL_ENDPOINT_IP=10.200.2.118
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TUNNEL_IP_VERSION=4
+ ./stack.sh:main:765                      :   GIT_DEPTH=0
+ ./stack.sh:main:765                      :   git_clone https://opendev.org/openstack/requirements.git /opt/stack/requirements master
+ functions-common:git_clone:596           :   local git_remote=https://opendev.org/openstack/requirements.git
+ functions-common:git_clone:597           :   local git_dest=/opt/stack/requirements
+ functions-common:git_clone:598           :   local git_ref=master
+ functions-common:git_clone:599           :   local orig_dir
++ functions-common:git_clone:600           :   pwd
+ functions-common:git_clone:600           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:601           :   local git_clone_flags=
++ functions-common:git_clone:603           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:603           :   RECLONE=False
+ functions-common:git_clone:604           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:608           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:617           :   echo master
+ functions-common:git_clone:617           :   egrep -q '^refs'
+ functions-common:git_clone:631           :   [[ ! -d /opt/stack/requirements ]]
+ functions-common:git_clone:639           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:674           :   sudo git config --system --add safe.directory /opt/stack/requirements
+ functions-common:git_clone:677           :   cd /opt/stack/requirements
+ functions-common:git_clone:678           :   git show --oneline
+ functions-common:git_clone:678           :   head -1
d4f0334e Merge "update constraint for ovsdbapp to new release 2.1.0"
+ functions-common:git_clone:679           :   cd /opt/stack/devstack
+ ./stack.sh:main:769                      :   echo_summary 'Installing package prerequisites'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Installing package prerequisites
2022-08-22 10:18:18.738 | Installing package prerequisites
+ ./stack.sh:main:770                      :   source /opt/stack/devstack/tools/install_prereqs.sh
++ tools/install_prereqs.sh:source:11       :   FORCE_PREREQ=0
++ tools/install_prereqs.sh:source:13       :   getopts :f opt
++ tools/install_prereqs.sh:source:23       :   [[ -z /opt/stack/devstack ]]
++ tools/install_prereqs.sh:source:43       :   PREREQ_RERUN_MARKER=/opt/stack/devstack/.prereqs
++ tools/install_prereqs.sh:source:44       :   PREREQ_RERUN_HOURS=2
++ tools/install_prereqs.sh:source:45       :   PREREQ_RERUN_SECONDS=7200
+++ tools/install_prereqs.sh:source:47       :   date +%s
++ tools/install_prereqs.sh:source:47       :   NOW=1661163498
+++ tools/install_prereqs.sh:source:48       :   head -1 /opt/stack/devstack/.prereqs
+++ tools/install_prereqs.sh:source:48       :   echo 0
++ tools/install_prereqs.sh:source:48       :   LAST_RUN=0
++ tools/install_prereqs.sh:source:49       :   DELTA=1661163498
++ tools/install_prereqs.sh:source:50       :   [[ 1661163498 -lt 7200 ]]
++ tools/install_prereqs.sh:source:57       :   export_proxy_variables
++ functions-common:export_proxy_variables:2257 :   isset http_proxy
++ functions-common:isset:240               :   [[ -v http_proxy ]]
++ functions-common:export_proxy_variables:2260 :   isset https_proxy
++ functions-common:isset:240               :   [[ -v https_proxy ]]
++ functions-common:export_proxy_variables:2263 :   isset no_proxy
++ functions-common:isset:240               :   [[ -v no_proxy ]]
+++ tools/install_prereqs.sh:source:64       :   get_packages general,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat
+++ functions-common:get_packages:1311       :   local xtrace
++++ functions-common:get_packages:1312       :   set +o
++++ functions-common:get_packages:1312       :   grep xtrace
+++ functions-common:get_packages:1312       :   xtrace='set -o xtrace'
+++ functions-common:get_packages:1313       :   set +o xtrace
++ tools/install_prereqs.sh:source:64       :   PACKAGES='apache2
apache2-dev
bc
bsdmainutils
curl
g++
gawk
gcc
gettext  
git
graphviz 
iputils-ping
libapache2-mod-proxy-uwsgi
libffi-dev 
libjpeg-dev 
libpcre3-dev 
libpq-dev  
libssl-dev 
libsystemd-dev 
libxml2-dev  
libxslt1-dev  
libyaml-dev
lsof 
openssh-server
openssl
pkg-config
psmisc
python3-dev
python3-pip
python3-systemd
python3-venv
tar
tcpdump
unzip
uuid-runtime
wget
wget
zlib1g-dev
libkrb5-dev
libldap2-dev
libsasl2-dev
memcached
python3-mysqldb
sqlite3
conntrack
curl
dnsmasq-base
dnsmasq-utils 
ebtables
genisoimage 
iptables
iputils-arping
kpartx
libjs-jquery-tablesorter 
parted
pm-utils
python3-mysqldb
socat 
sqlite3
sudo
vlan
lsscsi
open-iscsi
cryptsetup
dosfstools
genisoimage
gir1.2-libosinfo-1.0
netcat-openbsd
open-iscsi
qemu-utils
sg3-utils
sysfsutils
lvm2
qemu-utils
thin-provisioning-tools
acl
dnsmasq-base
dnsmasq-utils 
ebtables
haproxy 
iptables
iputils-arping
iputils-ping
postgresql-server-dev-all
python3-mysqldb
sqlite3
sudo
vlan
pcp'
+++ tools/install_prereqs.sh:source:65       :   get_plugin_packages
+++ functions-common:get_plugin_packages:1394 :   local xtrace
++++ functions-common:get_plugin_packages:1395 :   grep xtrace
++++ functions-common:get_plugin_packages:1395 :   set +o
+++ functions-common:get_plugin_packages:1395 :   xtrace='set -o xtrace'
+++ functions-common:get_plugin_packages:1396 :   set +o xtrace
++ tools/install_prereqs.sh:source:65       :   PACKAGES='apache2
apache2-dev
bc
bsdmainutils
curl
g++
gawk
gcc
gettext  
git
graphviz 
iputils-ping
libapache2-mod-proxy-uwsgi
libffi-dev 
libjpeg-dev 
libpcre3-dev 
libpq-dev  
libssl-dev 
libsystemd-dev 
libxml2-dev  
libxslt1-dev  
libyaml-dev
lsof 
openssh-server
openssl
pkg-config
psmisc
python3-dev
python3-pip
python3-systemd
python3-venv
tar
tcpdump
unzip
uuid-runtime
wget
wget
zlib1g-dev
libkrb5-dev
libldap2-dev
libsasl2-dev
memcached
python3-mysqldb
sqlite3
conntrack
curl
dnsmasq-base
dnsmasq-utils 
ebtables
genisoimage 
iptables
iputils-arping
kpartx
libjs-jquery-tablesorter 
parted
pm-utils
python3-mysqldb
socat 
sqlite3
sudo
vlan
lsscsi
open-iscsi
cryptsetup
dosfstools
genisoimage
gir1.2-libosinfo-1.0
netcat-openbsd
open-iscsi
qemu-utils
sg3-utils
sysfsutils
lvm2
qemu-utils
thin-provisioning-tools
acl
dnsmasq-base
dnsmasq-utils 
ebtables
haproxy 
iptables
iputils-arping
iputils-ping
postgresql-server-dev-all
python3-mysqldb
sqlite3
sudo
vlan
pcp '
++ tools/install_prereqs.sh:source:67       :   is_ubuntu
++ functions-common:is_ubuntu:567           :   [[ -z deb ]]
++ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
++ tools/install_prereqs.sh:source:67       :   echo apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl dnsmasq-base dnsmasq-utils ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan lsscsi open-iscsi cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils lvm2 qemu-utils thin-provisioning-tools acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan pcp
++ tools/install_prereqs.sh:source:67       :   grep -q dkms
++ tools/install_prereqs.sh:source:72       :   install_package apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl dnsmasq-base dnsmasq-utils ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan lsscsi open-iscsi cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils lvm2 qemu-utils thin-provisioning-tools acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan pcp
++ functions-common:install_package:1463    :   update_package_repo
++ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
++ functions-common:update_package_repo:1436 :   REPOS_UPDATED=False
++ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
++ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
++ functions-common:update_package_repo:1443 :   is_ubuntu
++ functions-common:is_ubuntu:567           :   [[ -z deb ]]
++ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
++ functions-common:update_package_repo:1444 :   apt_get_update
++ functions-common:apt_get_update:1189     :   [[ False == \T\r\u\e ]]
++ functions-common:apt_get_update:1194     :   [[ False = \T\r\u\e ]]
++ functions-common:apt_get_update:1196     :   local sudo=sudo
+++ functions-common:apt_get_update:1197     :   id -u
++ functions-common:apt_get_update:1197     :   [[ 1001 = \0 ]]
++ functions-common:apt_get_update:1200     :   time_start apt-get-update
++ functions-common:time_start:2425         :   local name=apt-get-update
++ functions-common:time_start:2426         :   local start_time=
++ functions-common:time_start:2427         :   [[ -n '' ]]
+++ functions-common:time_start:2430         :   date +%s%3N
++ functions-common:time_start:2430         :   _TIME_START[$name]=1661163498958
++ functions-common:apt_get_update:1202     :   local 'proxies=http_proxy= https_proxy= no_proxy= '
++ functions-common:apt_get_update:1203     :   local 'update_cmd=sudo http_proxy= https_proxy= no_proxy=  apt-get update'
++ functions-common:apt_get_update:1204     :   timeout 300 sh -c 'while ! sudo http_proxy= https_proxy= no_proxy=  apt-get update; do sleep 30; done'
Hit:1 http://ppa.launchpad.net/deadsnakes/ppa/ubuntu focal InRelease
Hit:2 http://in.archive.ubuntu.com/ubuntu focal InRelease
Get:3 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Get:4 http://in.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Get:5 http://security.ubuntu.com/ubuntu focal-security/main amd64 DEP-11 Metadata [40.7 kB]
Get:6 http://in.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
Get:7 http://security.ubuntu.com/ubuntu focal-security/universe amd64 DEP-11 Metadata [77.2 kB]
Get:8 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 DEP-11 Metadata [2,464 B]
Get:9 http://in.archive.ubuntu.com/ubuntu focal-updates/main amd64 DEP-11 Metadata [278 kB]
Get:10 http://in.archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [941 kB]
Get:11 http://in.archive.ubuntu.com/ubuntu focal-updates/universe i386 Packages [688 kB]
Get:12 http://in.archive.ubuntu.com/ubuntu focal-updates/universe Translation-en [213 kB]
Get:13 http://in.archive.ubuntu.com/ubuntu focal-updates/universe amd64 DEP-11 Metadata [391 kB]
Get:14 http://in.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 DEP-11 Metadata [944 B]
Get:15 http://in.archive.ubuntu.com/ubuntu focal-backports/main amd64 Packages [45.6 kB]
Get:16 http://in.archive.ubuntu.com/ubuntu focal-backports/main i386 Packages [36.0 kB]
Get:17 http://in.archive.ubuntu.com/ubuntu focal-backports/main amd64 DEP-11 Metadata [8,004 B]
Get:18 http://in.archive.ubuntu.com/ubuntu focal-backports/universe i386 Packages [13.4 kB]
Get:19 http://in.archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [23.9 kB]
Get:20 http://in.archive.ubuntu.com/ubuntu focal-backports/universe amd64 DEP-11 Metadata [30.5 kB]
Fetched 3,125 kB in 12s (270 kB/s)
Reading package lists...
++ functions-common:apt_get_update:1208     :   REPOS_UPDATED=True
++ functions-common:apt_get_update:1210     :   time_stop apt-get-update
++ functions-common:time_stop:2439          :   local name
++ functions-common:time_stop:2440          :   local end_time
++ functions-common:time_stop:2441          :   local elapsed_time
++ functions-common:time_stop:2442          :   local total
++ functions-common:time_stop:2443          :   local start_time
++ functions-common:time_stop:2445          :   name=apt-get-update
++ functions-common:time_stop:2446          :   start_time=1661163498958
++ functions-common:time_stop:2448          :   [[ -z 1661163498958 ]]
+++ functions-common:time_stop:2451          :   date +%s%3N
++ functions-common:time_stop:2451          :   end_time=1661163514077
++ functions-common:time_stop:2452          :   elapsed_time=15119
++ functions-common:time_stop:2453          :   total=0
++ functions-common:time_stop:2455          :   _TIME_START[$name]=
++ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=15119
++ functions-common:install_package:1464    :   real_install_package apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl dnsmasq-base dnsmasq-utils ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan lsscsi open-iscsi cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils lvm2 qemu-utils thin-provisioning-tools acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan pcp
++ functions-common:real_install_package:1449 :   is_ubuntu
++ functions-common:is_ubuntu:567           :   [[ -z deb ]]
++ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
++ functions-common:real_install_package:1450 :   apt_get install apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl dnsmasq-base dnsmasq-utils ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan lsscsi open-iscsi cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils lvm2 qemu-utils thin-provisioning-tools acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan pcp
++ functions-common:apt_get:1217            :   local xtrace result
+++ functions-common:apt_get:1218            :   set +o
+++ functions-common:apt_get:1218            :   grep xtrace
++ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
++ functions-common:apt_get:1219            :   set +o xtrace
++ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install apache2 apache2-dev bc bsdmainutils curl g++ gawk gcc gettext git graphviz iputils-ping libapache2-mod-proxy-uwsgi libffi-dev libjpeg-dev libpcre3-dev libpq-dev libssl-dev libsystemd-dev libxml2-dev libxslt1-dev libyaml-dev lsof openssh-server openssl pkg-config psmisc python3-dev python3-pip python3-systemd python3-venv tar tcpdump unzip uuid-runtime wget wget zlib1g-dev libkrb5-dev libldap2-dev libsasl2-dev memcached python3-mysqldb sqlite3 conntrack curl dnsmasq-base dnsmasq-utils ebtables genisoimage iptables iputils-arping kpartx libjs-jquery-tablesorter parted pm-utils python3-mysqldb socat sqlite3 sudo vlan lsscsi open-iscsi cryptsetup dosfstools genisoimage gir1.2-libosinfo-1.0 netcat-openbsd open-iscsi qemu-utils sg3-utils sysfsutils lvm2 qemu-utils thin-provisioning-tools acl dnsmasq-base dnsmasq-utils ebtables haproxy iptables iputils-arping iputils-ping postgresql-server-dev-all python3-mysqldb sqlite3 sudo vlan pcp
Reading package lists...
Building dependency tree...
Reading state information...
acl is already the newest version (2.2.53-6).
bc is already the newest version (1.07.1-2build1).
bsdmainutils is already the newest version (11.1.2ubuntu3).
conntrack is already the newest version (1:1.4.5-2).
dosfstools is already the newest version (4.1-2).
ebtables is already the newest version (2.0.11-3build1).
g++ is already the newest version (4:9.3.0-1ubuntu2).
gawk is already the newest version (1:5.0.1+dfsg-1).
gcc is already the newest version (4:9.3.0-1ubuntu2).
genisoimage is already the newest version (9:1.1.11-3.1ubuntu1).
gettext is already the newest version (0.19.8.1-10build1).
iptables is already the newest version (1.8.4-3ubuntu2).
iputils-arping is already the newest version (3:20190709-3).
iputils-ping is already the newest version (3:20190709-3).
kpartx is already the newest version (0.8.3-1ubuntu2).
libffi-dev is already the newest version (3.3-4).
libjpeg-dev is already the newest version (8c-2ubuntu8).
libxslt1-dev is already the newest version (1.1.34-4).
libyaml-dev is already the newest version (0.2.2-1).
lsscsi is already the newest version (0.30-0.1).
lvm2 is already the newest version (2.03.07-1ubuntu1).
netcat-openbsd is already the newest version (1.206-1ubuntu1).
pkg-config is already the newest version (0.29.1-0ubuntu4).
psmisc is already the newest version (23.3-1).
python3-dev is already the newest version (3.8.2-0ubuntu2).
python3-systemd is already the newest version (234-3build2).
sg3-utils is already the newest version (1.44-1ubuntu2).
socat is already the newest version (1.7.3.3-2).
sysfsutils is already the newest version (2.1.0+repack-6).
thin-provisioning-tools is already the newest version (0.8.5-4build1).
unzip is already the newest version (6.0-25ubuntu1).
gir1.2-libosinfo-1.0 is already the newest version (1.7.1-1).
graphviz is already the newest version (2.42.2-3build2).
libjs-jquery-tablesorter is already the newest version (1:2.31.1+dfsg1-1).
pcp is already the newest version (5.0.3-1).
pm-utils is already the newest version (1.4.1-19).
python3-venv is already the newest version (3.8.2-0ubuntu2).
apache2 is already the newest version (2.4.41-4ubuntu3.12).
apache2-dev is already the newest version (2.4.41-4ubuntu3.12).
cryptsetup is already the newest version (2:2.2.2-3ubuntu2.4).
curl is already the newest version (7.68.0-1ubuntu2.12).
dnsmasq-base is already the newest version (2.80-1.1ubuntu1.5).
dnsmasq-utils is already the newest version (2.80-1.1ubuntu1.5).
git is already the newest version (1:2.25.1-1ubuntu3.5).
haproxy is already the newest version (2.0.13-2ubuntu0.5).
libkrb5-dev is already the newest version (1.17-6ubuntu4.1).
libldap2-dev is already the newest version (2.4.49+dfsg-2ubuntu1.9).
libpcre3-dev is already the newest version (2:8.39-12ubuntu0.1).
libpq-dev is already the newest version (12.12-0ubuntu0.20.04.1).
libsasl2-dev is already the newest version (2.1.27+dfsg-2ubuntu0.1).
libssl-dev is already the newest version (1.1.1f-1ubuntu2.16).
libsystemd-dev is already the newest version (245.4-4ubuntu3.17).
libxml2-dev is already the newest version (2.9.10+dfsg-5ubuntu0.20.04.4).
lsof is already the newest version (4.93.2+dfsg-1ubuntu0.20.04.1).
memcached is already the newest version (1.5.22-2ubuntu0.2).
open-iscsi is already the newest version (2.0.874-7.1ubuntu6.2).
openssh-server is already the newest version (1:8.2p1-4ubuntu0.5).
openssl is already the newest version (1.1.1f-1ubuntu2.16).
parted is already the newest version (3.3-4ubuntu0.20.04.1).
qemu-utils is already the newest version (1:4.2-3ubuntu6.23).
sqlite3 is already the newest version (3.31.1-4ubuntu0.3).
sudo is already the newest version (1.8.31-1ubuntu1.2).
tar is already the newest version (1.30+dfsg-7ubuntu0.20.04.2).
tcpdump is already the newest version (4.9.3-4ubuntu0.1).
uuid-runtime is already the newest version (2.34-0.1ubuntu9.3).
wget is already the newest version (1.20.3-1ubuntu2).
zlib1g-dev is already the newest version (1:1.2.11.dfsg-2ubuntu1.3).
libapache2-mod-proxy-uwsgi is already the newest version (2.4.41-4ubuntu3.12).
postgresql-server-dev-all is already the newest version (214ubuntu0.1).
python3-pip is already the newest version (20.0.2-5ubuntu1.6).
vlan is already the newest version (2.0.4ubuntu1.20.04.1).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcgi-fast-perl libcgi-pm-perl libcolord-gtk1 libcolorhug2
  libevent-core-2.1-7 libevent-pthreads-2.1-7 libfcgi-perl libgsound0
  libgssdp-1.2-0 libgupnp-1.2-0 libgupnp-av-1.0-2 libgupnp-dlna-2.0-3
  libhtml-template-perl libieee1284-3 libimagequant0 libmecab2
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3 locales-all
  mecab-ipadic mecab-ipadic-utf8 mecab-utils mobile-broadband-provider-info
  network-manager-gnome printer-driver-postscript-hp python3-macaroonbakery
  python3-olefile python3-pil python3-protobuf python3-pymacaroons
  python3-renderpm python3-reportlab python3-reportlab-accel python3-rfc3339
  python3-tz rygel
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  libmysqlclient21 mysql-common
Suggested packages:
  default-mysql-server | virtual-mysql-server python3-mysqldb-dbg
The following NEW packages will be installed:
  libmysqlclient21 mysql-common python3-mysqldb
0 upgraded, 3 newly installed, 0 to remove and 202 not upgraded.
Need to get 0 B/1,375 kB of archives.
After this operation, 7,946 kB of additional disk space will be used.
Selecting previously unselected package mysql-common.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 308496 files and directories currently installed.)
Preparing to unpack .../mysql-common_5.8+1.0.5ubuntu2_all.deb ...
Unpacking mysql-common (5.8+1.0.5ubuntu2) ...
Selecting previously unselected package libmysqlclient21:amd64.
Preparing to unpack .../libmysqlclient21_8.0.30-0ubuntu0.20.04.2_amd64.deb ...
Unpacking libmysqlclient21:amd64 (8.0.30-0ubuntu0.20.04.2) ...
Selecting previously unselected package python3-mysqldb.
Preparing to unpack .../python3-mysqldb_1.4.4-2build1_amd64.deb ...
Unpacking python3-mysqldb (1.4.4-2build1) ...
Setting up mysql-common (5.8+1.0.5ubuntu2) ...
update-alternatives: using /etc/mysql/my.cnf.fallback to provide /etc/mysql/my.cnf (my.cnf) in auto mode
Setting up libmysqlclient21:amd64 (8.0.30-0ubuntu0.20.04.2) ...
Setting up python3-mysqldb (1.4.4-2build1) ...
Processing triggers for libc-bin (2.31-0ubuntu9.7) ...
++ functions-common:apt_get:1234            :   result=0
++ functions-common:apt_get:1237            :   time_stop apt-get
++ functions-common:time_stop:2439          :   local name
++ functions-common:time_stop:2440          :   local end_time
++ functions-common:time_stop:2441          :   local elapsed_time
++ functions-common:time_stop:2442          :   local total
++ functions-common:time_stop:2443          :   local start_time
++ functions-common:time_stop:2445          :   name=apt-get
++ functions-common:time_stop:2446          :   start_time=1661163514125
++ functions-common:time_stop:2448          :   [[ -z 1661163514125 ]]
+++ functions-common:time_stop:2451          :   date +%s%3N
++ functions-common:time_stop:2451          :   end_time=1661163530329
++ functions-common:time_stop:2452          :   elapsed_time=16204
++ functions-common:time_stop:2453          :   total=653
++ functions-common:time_stop:2455          :   _TIME_START[$name]=
++ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=16857
++ functions-common:apt_get:1238            :   return 0
++ tools/install_prereqs.sh:source:74       :   [[ -n False ]]
++ tools/install_prereqs.sh:source:74       :   [[ False != \F\a\l\s\e ]]
++ tools/install_prereqs.sh:source:88       :   date +%s
++ tools/install_prereqs.sh:source:89       :   date
+ ./stack.sh:main:785                      :   [[ False != \T\r\u\e ]]
+ ./stack.sh:main:786                      :   PYPI_ALTERNATIVE_URL=
+ ./stack.sh:main:786                      :   /opt/stack/devstack/tools/install_pip.sh
+ tools/install_pip.sh:main:25             :   FILES=/opt/stack/devstack/files
+ tools/install_pip.sh:main:40             :   PIP_GET_PIP_URL=https://bootstrap.pypa.io/get-pip.py
+ tools/install_pip.sh:main:41             :   PIP_GET_PIP36_URL=https://bootstrap.pypa.io/pip/3.6/get-pip.py
+ tools/install_pip.sh:main:43             :   GetDistro
+ functions-common:GetDistro:446           :   GetOSVersion
+ functions-common:GetOSVersion:416        :   source /etc/os-release
++ /etc/os-release:source:1                 :   NAME=Ubuntu
++ /etc/os-release:source:2                 :   VERSION='20.04.2 LTS (Focal Fossa)'
++ /etc/os-release:source:3                 :   ID=ubuntu
++ /etc/os-release:source:4                 :   ID_LIKE=debian
++ /etc/os-release:source:5                 :   PRETTY_NAME='Ubuntu 20.04.2 LTS'
++ /etc/os-release:source:6                 :   VERSION_ID=20.04
++ /etc/os-release:source:7                 :   HOME_URL=https://www.ubuntu.com/
++ /etc/os-release:source:8                 :   SUPPORT_URL=https://help.ubuntu.com/
++ /etc/os-release:source:9                 :   BUG_REPORT_URL=https://bugs.launchpad.net/ubuntu/
++ /etc/os-release:source:10                :   PRIVACY_POLICY_URL=https://www.ubuntu.com/legal/terms-and-policies/privacy-policy
++ /etc/os-release:source:11                :   VERSION_CODENAME=focal
++ /etc/os-release:source:12                :   UBUNTU_CODENAME=focal
+ functions-common:GetOSVersion:417        :   [[ ubuntu20.04.2 LTS (Focal Fossa) == \c\e\n\t\o\s\9 ]]
+ functions-common:GetOSVersion:422        :   _ensure_lsb_release
++ functions-common:_ensure_lsb_release:393 :   command -v lsb_release
+ functions-common:_ensure_lsb_release:393 :   [[ -x /usr/bin/lsb_release ]]
+ functions-common:_ensure_lsb_release:394 :   return
++ functions-common:GetOSVersion:424        :   lsb_release -r -s
+ functions-common:GetOSVersion:424        :   os_RELEASE=20.04
++ functions-common:GetOSVersion:425        :   lsb_release -c -s
+ functions-common:GetOSVersion:425        :   os_CODENAME=focal
++ functions-common:GetOSVersion:426        :   lsb_release -i -s
+ functions-common:GetOSVersion:426        :   os_VENDOR=Ubuntu
+ functions-common:GetOSVersion:429        :   [[ Ubuntu =~ (Debian|Ubuntu) ]]
+ functions-common:GetOSVersion:430        :   os_PACKAGE=deb
+ functions-common:GetOSVersion:435        :   typeset -xr os_VENDOR
+ functions-common:GetOSVersion:436        :   typeset -xr os_RELEASE
+ functions-common:GetOSVersion:437        :   typeset -xr os_PACKAGE
+ functions-common:GetOSVersion:438        :   typeset -xr os_CODENAME
+ functions-common:GetDistro:447           :   [[ Ubuntu =~ (Ubuntu) ]]
+ functions-common:GetDistro:450           :   DISTRO=focal
+ functions-common:GetDistro:495           :   typeset -xr DISTRO
+ tools/install_pip.sh:main:44             :   echo 'Distro: focal'
Distro: focal
+ tools/install_pip.sh:main:124            :   get_versions
++ tools/install_pip.sh:get_versions:49     :   which pip
+ tools/install_pip.sh:get_versions:49     :   PIP=/usr/bin/pip
+ tools/install_pip.sh:get_versions:50     :   [[ -n /usr/bin/pip ]]
++ tools/install_pip.sh:get_versions:51     :   /usr/bin/pip --version
++ tools/install_pip.sh:get_versions:51     :   awk '{ print $2}'
+ tools/install_pip.sh:get_versions:51     :   PIP_VERSION=20.0.2
+ tools/install_pip.sh:get_versions:52     :   echo 'pip: 20.0.2'
pip: 20.0.2
+ tools/install_pip.sh:main:126            :   [[ -n '' ]]
+ tools/install_pip.sh:main:130            :   is_fedora
+ functions-common:is_fedora:519           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:523           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:523           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:524           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:525           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:527           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = Virtuozzo ']'
+ tools/install_pip.sh:main:141            :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ tools/install_pip.sh:main:144            :   sed -i -e /setuptools/d /opt/stack/requirements/upper-constraints.txt
+ tools/install_pip.sh:main:153            :   set -x
+ tools/install_pip.sh:main:156            :   get_versions
++ tools/install_pip.sh:get_versions:49     :   which pip
+ tools/install_pip.sh:get_versions:49     :   PIP=/usr/bin/pip
+ tools/install_pip.sh:get_versions:50     :   [[ -n /usr/bin/pip ]]
++ tools/install_pip.sh:get_versions:51     :   /usr/bin/pip --version
++ tools/install_pip.sh:get_versions:51     :   awk '{ print $2}'
+ tools/install_pip.sh:get_versions:51     :   PIP_VERSION=20.0.2
+ tools/install_pip.sh:get_versions:52     :   echo 'pip: 20.0.2'
pip: 20.0.2
+ ./stack.sh:main:790                      :   source /opt/stack/devstack/tools/fixup_stuff.sh
++ tools/fixup_stuff.sh:source:12           :   [[ -z /opt/stack/devstack ]]
+ ./stack.sh:main:791                      :   fixup_all
+ tools/fixup_stuff.sh:fixup_all:157       :   fixup_ubuntu
+ tools/fixup_stuff.sh:fixup_ubuntu:141    :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ tools/fixup_stuff.sh:fixup_ubuntu:151    :   sudo rm -rf '/usr/lib/python3/dist-packages/PyYAML-*.egg-info'
+ tools/fixup_stuff.sh:fixup_ubuntu:152    :   sudo rm -rf '/usr/lib/python3/dist-packages/pyasn1_modules-*.egg-info'
+ tools/fixup_stuff.sh:fixup_ubuntu:153    :   sudo rm -rf '/usr/lib/python3/dist-packages/simplejson-*.egg-info'
+ tools/fixup_stuff.sh:fixup_all:158       :   fixup_fedora
+ tools/fixup_stuff.sh:fixup_fedora:33     :   is_fedora
+ functions-common:is_fedora:519           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:523           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:523           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:524           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:525           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:527           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = Virtuozzo ']'
+ tools/fixup_stuff.sh:fixup_fedora:34     :   return
+ tools/fixup_stuff.sh:fixup_all:159       :   fixup_suse
+ tools/fixup_stuff.sh:fixup_suse:94       :   is_suse
+ functions-common:is_suse:536             :   is_opensuse
+ functions-common:is_opensuse:543         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:547         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:536             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:555 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:559 :   [[ Ubuntu =~ (^SUSE) ]]
+ tools/fixup_stuff.sh:fixup_suse:95       :   return
+ ./stack.sh:main:794                      :   pip_install -U os-testr
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install os-testr
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -U os-testr
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Requirement already up-to-date: os-testr===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 448)) (3.0.0)
Requirement already up-to-date: python-subunit===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 177)) (1.4.0)
Requirement already up-to-date: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 45)) (5.10.0)
Requirement already up-to-date: testtools===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 352)) (2.5.0)
Requirement already up-to-date: extras===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 161)) (1.0.0)
Requirement already up-to-date: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 61)) (4.0.1)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163532705
+ functions-common:time_stop:2448          :   [[ -z 1661163532705 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163536078
+ functions-common:time_stop:2452          :   elapsed_time=3373
+ functions-common:time_stop:2453          :   total=0
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=3373
+ inc/python:pip_install:199               :   return 0
+ ./stack.sh:main:798                      :   iniset -sudo /etc/systemd/journald.conf Journal RateLimitBurst 0
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ ./stack.sh:main:799                      :   sudo systemctl restart systemd-journald
+ ./stack.sh:main:805                      :   install_infra
+ lib/infra:install_infra:31               :   local PIP_VIRTUAL_ENV=/opt/stack/requirements/.venv
+ lib/infra:install_infra:32               :   '[' '!' -d /opt/stack/requirements/.venv ']'
+ lib/infra:install_infra:34               :   PIP_VIRTUAL_ENV=/opt/stack/requirements/.venv
+ lib/infra:install_infra:34               :   pip_install -U pbr
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
+ inc/python:pip_install:190               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/requirements/.venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt -U pbr
Requirement already up-to-date: pbr===5.10.0 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 45)) (5.10.0)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163536319
+ functions-common:time_stop:2448          :   [[ -z 1661163536319 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163538207
+ functions-common:time_stop:2452          :   elapsed_time=1888
+ functions-common:time_stop:2453          :   total=3373
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=5261
+ inc/python:pip_install:199               :   return 0
+ lib/infra:install_infra:35               :   PIP_VIRTUAL_ENV=/opt/stack/requirements/.venv
+ lib/infra:install_infra:35               :   pip_install /opt/stack/requirements
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
+ inc/python:pip_install:190               :   env http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= /opt/stack/requirements/.venv/bin/pip install -c /opt/stack/requirements/upper-constraints.txt /opt/stack/requirements
Processing /opt/stack/requirements
Requirement already satisfied: fixtures===4.0.1 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 61)) (4.0.1)
Requirement already satisfied: PyYAML===6.0 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 181)) (6.0)
Requirement already satisfied: requests===2.28.1 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (2.28.1)
Requirement already satisfied: packaging===21.3 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 339)) (21.3)
Requirement already satisfied: idna===3.3 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 370)) (3.3)
Requirement already satisfied: pyparsing===3.0.9 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 414)) (3.0.9)
Requirement already satisfied: six===1.16.0 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 454)) (1.16.0)
Requirement already satisfied: charset-normalizer===2.1.0 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 561)) (2.1.0)
Requirement already satisfied: Parsley>=1.2 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from openstack-requirements==1.2.1.dev5629) (1.3)
Requirement already satisfied: beagle>=0.2.1 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from openstack-requirements==1.2.1.dev5629) (0.3.0)
Requirement already satisfied: pbr===5.10.0 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 45)) (5.10.0)
Requirement already satisfied: urllib3===1.26.11 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 172)) (1.26.11)
Requirement already satisfied: certifi>=2017.4.17 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 222)) (2021.10.8)
Requirement already satisfied: cliff===4.0.0 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 250)) (4.0.0)
Requirement already satisfied: prettytable===3.3.0 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 141)) (3.3.0)
Requirement already satisfied: stevedore===4.0.0 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 427)) (4.0.0)
Requirement already satisfied: cmd2===2.4.2 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 437)) (2.4.2)
Requirement already satisfied: autopage===0.5.1 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 324)) (0.5.1)
Requirement already satisfied: importlib-metadata===4.12.0 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 288)) (4.12.0)
Requirement already satisfied: wcwidth===0.2.5 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 138)) (0.2.5)
Requirement already satisfied: attrs===22.1.0 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 48)) (22.1.0)
Requirement already satisfied: pyperclip===1.8.2 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 275)) (1.8.2)
Requirement already satisfied: zipp===3.8.1 in /opt/stack/requirements/.venv/lib/python3.8/site-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 554)) (3.8.1)
Building wheels for collected packages: openstack-requirements
  Building wheel for openstack-requirements (setup.py): started
  Building wheel for openstack-requirements (setup.py): finished with status 'error'
  ERROR: Command errored out with exit status 1:
   command: /opt/stack/requirements/.venv/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/tmp/pip-req-build-14811zuc/setup.py'"'"'; __file__='"'"'/tmp/pip-req-build-14811zuc/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' bdist_wheel -d /tmp/pip-wheel-0w37k_bp
       cwd: /tmp/pip-req-build-14811zuc/
  Complete output (6 lines):
  usage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]
     or: setup.py --help [cmd1 cmd2 ...]
     or: setup.py --help-commands
     or: setup.py cmd --help
  
  error: invalid command 'bdist_wheel'
  ----------------------------------------
  ERROR: Failed building wheel for openstack-requirements
  Running setup.py clean for openstack-requirements
Failed to build openstack-requirements
Installing collected packages: openstack-requirements
  Attempting uninstall: openstack-requirements
    Found existing installation: openstack-requirements 1.2.1.dev5629
    Uninstalling openstack-requirements-1.2.1.dev5629:
      Successfully uninstalled openstack-requirements-1.2.1.dev5629
    Running setup.py install for openstack-requirements: started
    Running setup.py install for openstack-requirements: finished with status 'done'
Successfully installed openstack-requirements-1.2.1.dev5629
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163538247
+ functions-common:time_stop:2448          :   [[ -z 1661163538247 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163543201
+ functions-common:time_stop:2452          :   elapsed_time=4954
+ functions-common:time_stop:2453          :   total=5261
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=10215
+ inc/python:pip_install:199               :   return 0
+ lib/infra:install_infra:39               :   unset PIP_VIRTUAL_ENV
+ lib/infra:install_infra:42               :   use_library_from_git pbr
+ inc/python:use_library_from_git:246      :   local name=pbr
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,pbr, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/infra:install_infra:48               :   pip_install -U pbr
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install pbr
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -U pbr
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Requirement already up-to-date: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 45)) (5.10.0)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163543257
+ functions-common:time_stop:2448          :   [[ -z 1661163543257 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163546277
+ functions-common:time_stop:2452          :   elapsed_time=3020
+ functions-common:time_stop:2453          :   total=10215
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=13235
+ inc/python:pip_install:199               :   return 0
+ ./stack.sh:main:808                      :   python3 -m venv /opt/stack/bindep-venv
+ ./stack.sh:main:810                      :   /opt/stack/bindep-venv/bin/pip install bindep
Requirement already satisfied: bindep in /opt/stack/bindep-venv/lib/python3.8/site-packages (2.10.2)
Requirement already satisfied: pbr>=2.0.0 in /opt/stack/bindep-venv/lib/python3.8/site-packages (from bindep) (5.8.1)
Requirement already satisfied: packaging; python_version >= "3.6" in /opt/stack/bindep-venv/lib/python3.8/site-packages (from bindep) (21.3)
Requirement already satisfied: distro in /opt/stack/bindep-venv/lib/python3.8/site-packages (from bindep) (1.7.0)
Requirement already satisfied: Parsley in /opt/stack/bindep-venv/lib/python3.8/site-packages (from bindep) (1.3)
Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in /opt/stack/bindep-venv/lib/python3.8/site-packages (from packaging; python_version >= "3.6"->bindep) (3.0.7)
+ ./stack.sh:main:811                      :   export BINDEP_CMD=/opt/stack/bindep-venv/bin/bindep
+ ./stack.sh:main:811                      :   BINDEP_CMD=/opt/stack/bindep-venv/bin/bindep
++ ./stack.sh:main:814                      :   _get_plugin_bindep_packages
++ functions-common:_get_plugin_bindep_packages:1414 :   local xtrace
+++ functions-common:_get_plugin_bindep_packages:1415 :   set +o
+++ functions-common:_get_plugin_bindep_packages:1415 :   grep xtrace
++ functions-common:_get_plugin_bindep_packages:1415 :   xtrace='set -o xtrace'
++ functions-common:_get_plugin_bindep_packages:1416 :   set +o xtrace
+ ./stack.sh:main:814                      :   pkgs=
+ ./stack.sh:main:815                      :   [[ -n '' ]]
+ ./stack.sh:main:822                      :   run_phase stack pre-install
+ functions-common:run_phase:1867          :   local mode=stack
+ functions-common:run_phase:1868          :   local phase=pre-install
+ functions-common:run_phase:1869          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1870          :   local extra_plugin_file_name
+ functions-common:run_phase:1871          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1876          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1877          :   local extra
++ functions-common:run_phase:1878          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1878          :   extra=80-tempest.sh
+ functions-common:run_phase:1879          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1883          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1883          :   source /opt/stack/devstack/extras.d/80-tempest.sh stack pre-install
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ stack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:7          :   [[ pre-install == \i\n\s\t\a\l\l ]]
++ extras.d/80-tempest.sh:source:10         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ pre-install == \p\o\s\t\-\c\o\n\f\i\g ]]
++ extras.d/80-tempest.sh:source:13         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ pre-install == \e\x\t\r\a ]]
++ extras.d/80-tempest.sh:source:16         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ pre-install == \p\o\s\t\-\e\x\t\r\a ]]
++ extras.d/80-tempest.sh:source:19         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ pre-install == \t\e\s\t\-\c\o\n\f\i\g ]]
++ extras.d/80-tempest.sh:source:27         :   [[ stack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ stack == \c\l\e\a\n ]]
+ functions-common:run_phase:1888          :   [[ stack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1891          :   [[ stack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1894          :   run_plugins stack pre-install
+ functions-common:run_plugins:1853        :   local mode=stack
+ functions-common:run_plugins:1854        :   local phase=pre-install
+ functions-common:run_plugins:1856        :   local plugins=
+ functions-common:run_plugins:1857        :   local plugin
+ ./stack.sh:main:825                      :   set_systemd_override DefaultLimitNOFILE 2048
+ functions:set_systemd_override:820       :   local key=DefaultLimitNOFILE
+ functions:set_systemd_override:821       :   local value=2048
+ functions:set_systemd_override:823       :   local sysconf=/etc/systemd/system.conf
+ functions:set_systemd_override:824       :   iniset -sudo /etc/systemd/system.conf Manager DefaultLimitNOFILE 2048
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:set_systemd_override:825       :   echo 'Set systemd system override for DefaultLimitNOFILE=2048'
Set systemd system override for DefaultLimitNOFILE=2048
+ functions:set_systemd_override:827       :   sudo systemctl daemon-reload
+ ./stack.sh:main:827                      :   install_rpc_backend
+ lib/rpc_backend:install_rpc_backend:52   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/rpc_backend:install_rpc_backend:54   :   install_package rabbitmq-server
+ functions-common:install_package:1463    :   update_package_repo
+ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1436 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1443 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1444 :   apt_get_update
+ functions-common:apt_get_update:1189     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1189     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1190     :   return
+ functions-common:install_package:1464    :   real_install_package rabbitmq-server
+ functions-common:real_install_package:1449 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:real_install_package:1450 :   apt_get install rabbitmq-server
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   set +o
++ functions-common:apt_get:1218            :   grep xtrace
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install rabbitmq-server
Reading package lists...
Building dependency tree...
Reading state information...
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcgi-fast-perl libcgi-pm-perl libcolord-gtk1 libcolorhug2
  libevent-core-2.1-7 libevent-pthreads-2.1-7 libfcgi-perl libgsound0
  libgssdp-1.2-0 libgupnp-1.2-0 libgupnp-av-1.0-2 libgupnp-dlna-2.0-3
  libhtml-template-perl libieee1284-3 libimagequant0 libmecab2
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3 mecab-ipadic
  mecab-ipadic-utf8 mecab-utils mobile-broadband-provider-info
  network-manager-gnome printer-driver-postscript-hp python3-macaroonbakery
  python3-olefile python3-pil python3-protobuf python3-pymacaroons
  python3-renderpm python3-reportlab python3-reportlab-accel python3-rfc3339
  python3-tz rygel
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  erlang-asn1 erlang-base erlang-crypto erlang-eldap erlang-ftp erlang-inets
  erlang-mnesia erlang-os-mon erlang-parsetools erlang-public-key
  erlang-runtime-tools erlang-snmp erlang-ssl erlang-syntax-tools erlang-tftp
  erlang-tools erlang-xmerl
Suggested packages:
  erlang erlang-manpages erlang-doc
The following NEW packages will be installed:
  erlang-asn1 erlang-base erlang-crypto erlang-eldap erlang-ftp erlang-inets
  erlang-mnesia erlang-os-mon erlang-parsetools erlang-public-key
  erlang-runtime-tools erlang-snmp erlang-ssl erlang-syntax-tools erlang-tftp
  erlang-tools erlang-xmerl rabbitmq-server
0 upgraded, 18 newly installed, 0 to remove and 202 not upgraded.
Need to get 0 B/27.5 MB of archives.
After this operation, 49.0 MB of additional disk space will be used.
Selecting previously unselected package erlang-base.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 308543 files and directories currently installed.)
Preparing to unpack .../00-erlang-base_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-base (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-asn1.
Preparing to unpack .../01-erlang-asn1_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-asn1 (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-crypto.
Preparing to unpack .../02-erlang-crypto_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-crypto (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-public-key.
Preparing to unpack .../03-erlang-public-key_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-public-key (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-mnesia.
Preparing to unpack .../04-erlang-mnesia_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-mnesia (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-runtime-tools.
Preparing to unpack .../05-erlang-runtime-tools_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-runtime-tools (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-ssl.
Preparing to unpack .../06-erlang-ssl_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-ssl (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-eldap.
Preparing to unpack .../07-erlang-eldap_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-eldap (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-ftp.
Preparing to unpack .../08-erlang-ftp_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-ftp (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-tftp.
Preparing to unpack .../09-erlang-tftp_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-tftp (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-inets.
Preparing to unpack .../10-erlang-inets_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-inets (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-snmp.
Preparing to unpack .../11-erlang-snmp_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-snmp (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-os-mon.
Preparing to unpack .../12-erlang-os-mon_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-os-mon (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-parsetools.
Preparing to unpack .../13-erlang-parsetools_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-parsetools (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-syntax-tools.
Preparing to unpack .../14-erlang-syntax-tools_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-syntax-tools (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-tools.
Preparing to unpack .../15-erlang-tools_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-tools (1:22.2.7+dfsg-1) ...
Selecting previously unselected package erlang-xmerl.
Preparing to unpack .../16-erlang-xmerl_1%3a22.2.7+dfsg-1_amd64.deb ...
Unpacking erlang-xmerl (1:22.2.7+dfsg-1) ...
Selecting previously unselected package rabbitmq-server.
Preparing to unpack .../17-rabbitmq-server_3.8.2-0ubuntu1.3_all.deb ...
Unpacking rabbitmq-server (3.8.2-0ubuntu1.3) ...
Setting up erlang-base (1:22.2.7+dfsg-1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/epmd.service → /lib/systemd/system/epmd.service.
Created symlink /etc/systemd/system/sockets.target.wants/epmd.socket → /lib/systemd/system/epmd.socket.
Searching for services which depend on erlang and should be started... none found.
Setting up erlang-xmerl (1:22.2.7+dfsg-1) ...
Setting up erlang-syntax-tools (1:22.2.7+dfsg-1) ...
Setting up erlang-parsetools (1:22.2.7+dfsg-1) ...
Setting up erlang-asn1 (1:22.2.7+dfsg-1) ...
Setting up erlang-tftp (1:22.2.7+dfsg-1) ...
Setting up erlang-mnesia (1:22.2.7+dfsg-1) ...
Setting up erlang-crypto (1:22.2.7+dfsg-1) ...
Setting up erlang-runtime-tools (1:22.2.7+dfsg-1) ...
Setting up erlang-tools (1:22.2.7+dfsg-1) ...
Setting up erlang-snmp (1:22.2.7+dfsg-1) ...
Setting up erlang-public-key (1:22.2.7+dfsg-1) ...
Setting up erlang-ssl (1:22.2.7+dfsg-1) ...
Setting up erlang-os-mon (1:22.2.7+dfsg-1) ...
Setting up erlang-eldap (1:22.2.7+dfsg-1) ...
Setting up erlang-ftp (1:22.2.7+dfsg-1) ...
Setting up erlang-inets (1:22.2.7+dfsg-1) ...
Setting up rabbitmq-server (3.8.2-0ubuntu1.3) ...
Created symlink /etc/systemd/system/multi-user.target.wants/rabbitmq-server.service → /lib/systemd/system/rabbitmq-server.service.
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for systemd (245.4-4ubuntu3.17) ...
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163549501
+ functions-common:time_stop:2448          :   [[ -z 1661163549501 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163581165
+ functions-common:time_stop:2452          :   elapsed_time=31664
+ functions-common:time_stop:2453          :   total=16857
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=48521
+ functions-common:apt_get:1238            :   return 0
+ lib/rpc_backend:install_rpc_backend:55   :   is_suse
+ functions-common:is_suse:536             :   is_opensuse
+ functions-common:is_opensuse:543         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:547         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:536             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:555 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:559 :   [[ Ubuntu =~ (^SUSE) ]]
+ lib/rpc_backend:install_rpc_backend:68   :   is_fedora
+ functions-common:is_fedora:519           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:523           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:523           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:524           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:525           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:527           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = Virtuozzo ']'
+ lib/rpc_backend:install_rpc_backend:68   :   is_suse
+ functions-common:is_suse:536             :   is_opensuse
+ functions-common:is_opensuse:543         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:547         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:536             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:555 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:559 :   [[ Ubuntu =~ (^SUSE) ]]
+ ./stack.sh:main:828                      :   restart_rpc_backend
+ lib/rpc_backend:restart_rpc_backend:81   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/rpc_backend:restart_rpc_backend:83   :   echo_summary 'Starting RabbitMQ'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Starting RabbitMQ
2022-08-22 10:19:41.285 | Starting RabbitMQ
+ lib/rpc_backend:restart_rpc_backend:94   :   local i
++ lib/rpc_backend:restart_rpc_backend:95   :   seq 20
+ lib/rpc_backend:restart_rpc_backend:95   :   for i in `seq 20`
+ lib/rpc_backend:restart_rpc_backend:96   :   local rc=0
+ lib/rpc_backend:restart_rpc_backend:98   :   [[ 1 -eq 20 ]]
+ lib/rpc_backend:restart_rpc_backend:100  :   [[ 1 == \0 ]]
+ lib/rpc_backend:restart_rpc_backend:104  :   rabbit_setuser stackrabbit Datacore1
+ lib/rpc_backend:rabbit_setuser:173       :   local user=stackrabbit pass=Datacore1 found= out=
++ lib/rpc_backend:rabbit_setuser:174       :   sudo rabbitmqctl list_users
+ lib/rpc_backend:rabbit_setuser:174       :   out='Listing users ...
user	tags
guest	[administrator]'
++ lib/rpc_backend:rabbit_setuser:176       :   echo 'Listing users ...
user	tags
guest	[administrator]'
++ lib/rpc_backend:rabbit_setuser:176       :   awk '$1 == user { print $1 }' user=stackrabbit
+ lib/rpc_backend:rabbit_setuser:176       :   found=
+ lib/rpc_backend:rabbit_setuser:177       :   '[' '' = stackrabbit ']'
+ lib/rpc_backend:rabbit_setuser:181       :   sudo rabbitmqctl add_user stackrabbit Datacore1
Adding user "stackrabbit" ...
+ lib/rpc_backend:rabbit_setuser:184       :   sudo rabbitmqctl set_permissions stackrabbit '.*' '.*' '.*'
Setting permissions for user "stackrabbit" in vhost "/" ...
+ lib/rpc_backend:restart_rpc_backend:105  :   '[' 0 -ne 0 ']'
+ lib/rpc_backend:restart_rpc_backend:110  :   sudo rabbitmqctl change_password stackrabbit Datacore1
Changing password for user "stackrabbit" ...
+ lib/rpc_backend:restart_rpc_backend:112  :   '[' 0 -ne 0 ']'
+ lib/rpc_backend:restart_rpc_backend:116  :   break
+ lib/rpc_backend:restart_rpc_backend:119  :   sudo rabbitmqctl delete_user guest
Deleting user "guest" ...
+ ./stack.sh:main:830                      :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:831                      :   install_database
+ lib/database:install_database:118        :   install_database_mysql
+ lib/databases/mysql:install_database_mysql:170 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/databases/mysql:install_database_mysql:173 :   sudo debconf-set-selections
+ lib/databases/mysql:install_database_mysql:183 :   [[ ! -e /opt/stack/.my.cnf ]]
+ lib/databases/mysql:install_database_mysql:196 :   [[ True == \T\r\u\e ]]
+ lib/databases/mysql:install_database_mysql:197 :   is_oraclelinux
+ functions-common:is_oraclelinux:507      :   [[ -z Ubuntu ]]
+ functions-common:is_oraclelinux:511      :   '[' Ubuntu = OracleServer ']'
+ lib/databases/mysql:install_database_mysql:199 :   is_fedora
+ functions-common:is_fedora:519           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:523           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:523           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:524           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:525           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:527           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = Virtuozzo ']'
+ lib/databases/mysql:install_database_mysql:202 :   is_suse
+ functions-common:is_suse:536             :   is_opensuse
+ functions-common:is_opensuse:543         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:547         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:536             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:555 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:559 :   [[ Ubuntu =~ (^SUSE) ]]
+ lib/databases/mysql:install_database_mysql:205 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/databases/mysql:install_database_mysql:206 :   install_package mysql-server
+ functions-common:install_package:1463    :   update_package_repo
+ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1436 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1443 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1444 :   apt_get_update
+ functions-common:apt_get_update:1189     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1189     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1190     :   return
+ functions-common:install_package:1464    :   real_install_package mysql-server
+ functions-common:real_install_package:1449 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:real_install_package:1450 :   apt_get install mysql-server
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   grep xtrace
++ functions-common:apt_get:1218            :   set +o
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install mysql-server
Reading package lists...
Building dependency tree...
Reading state information...
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  mysql-client-8.0 mysql-client-core-8.0 mysql-server-8.0
  mysql-server-core-8.0
Suggested packages:
  mailx tinyca
The following NEW packages will be installed:
  mysql-client-8.0 mysql-client-core-8.0 mysql-server mysql-server-8.0
  mysql-server-core-8.0
Preconfiguring packages ...
0 upgraded, 5 newly installed, 0 to remove and 202 not upgraded.
Need to get 0 B/24.4 MB of archives.
After this operation, 205 MB of additional disk space will be used.
Selecting previously unselected package mysql-client-core-8.0.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 309993 files and directories currently installed.)
Preparing to unpack .../mysql-client-core-8.0_8.0.30-0ubuntu0.20.04.2_amd64.deb ...
Unpacking mysql-client-core-8.0 (8.0.30-0ubuntu0.20.04.2) ...
Selecting previously unselected package mysql-client-8.0.
Preparing to unpack .../mysql-client-8.0_8.0.30-0ubuntu0.20.04.2_amd64.deb ...
Unpacking mysql-client-8.0 (8.0.30-0ubuntu0.20.04.2) ...
Selecting previously unselected package mysql-server-core-8.0.
Preparing to unpack .../mysql-server-core-8.0_8.0.30-0ubuntu0.20.04.2_amd64.deb ...
Unpacking mysql-server-core-8.0 (8.0.30-0ubuntu0.20.04.2) ...
Selecting previously unselected package mysql-server-8.0.
Preparing to unpack .../mysql-server-8.0_8.0.30-0ubuntu0.20.04.2_amd64.deb ...
Unpacking mysql-server-8.0 (8.0.30-0ubuntu0.20.04.2) ...
Selecting previously unselected package mysql-server.
Preparing to unpack .../mysql-server_8.0.30-0ubuntu0.20.04.2_all.deb ...
Unpacking mysql-server (8.0.30-0ubuntu0.20.04.2) ...
Setting up mysql-client-core-8.0 (8.0.30-0ubuntu0.20.04.2) ...
Setting up mysql-server-core-8.0 (8.0.30-0ubuntu0.20.04.2) ...
Setting up mysql-client-8.0 (8.0.30-0ubuntu0.20.04.2) ...
Setting up mysql-server-8.0 (8.0.30-0ubuntu0.20.04.2) ...
update-alternatives: using /etc/mysql/mysql.cnf to provide /etc/mysql/my.cnf (my.cnf) in auto mode
Renaming removed key_buffer and myisam-recover options (if present)
mysqld will log errors to /var/log/mysql/error.log
mysqld is running as pid 3141161
Created symlink /etc/systemd/system/multi-user.target.wants/mysql.service → /lib/systemd/system/mysql.service.
Setting up mysql-server (8.0.30-0ubuntu0.20.04.2) ...
Processing triggers for systemd (245.4-4ubuntu3.17) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for libc-bin (2.31-0ubuntu9.7) ...
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163584257
+ functions-common:time_stop:2448          :   [[ -z 1661163584257 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163615728
+ functions-common:time_stop:2452          :   elapsed_time=31471
+ functions-common:time_stop:2453          :   total=48521
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=79992
+ functions-common:apt_get:1238            :   return 0
+ ./stack.sh:main:833                      :   '[' -n mysql ']'
+ ./stack.sh:main:834                      :   install_database_python
+ lib/database:install_database_python:123 :   install_database_python_mysql
+ lib/databases/mysql:install_database_python_mysql:215 :   pip_install_gr PyMySQL
+ inc/python:pip_install_gr:76             :   local name=PyMySQL
+ inc/python:pip_install_gr:77             :   local clean_name
++ inc/python:pip_install_gr:78             :   get_from_global_requirements PyMySQL
++ inc/python:get_from_global_requirements:221 :   local package=PyMySQL
++ inc/python:get_from_global_requirements:222 :   local required_pkg
+++ inc/python:get_from_global_requirements:223 :   cut -d# -f1
+++ inc/python:get_from_global_requirements:223 :   grep -i -h '^PyMySQL' /opt/stack/requirements/global-requirements.txt
++ inc/python:get_from_global_requirements:223 :   required_pkg='PyMySQL  '
++ inc/python:get_from_global_requirements:224 :   [[ PyMySQL   == '' ]]
++ inc/python:get_from_global_requirements:227 :   echo PyMySQL
+ inc/python:pip_install_gr:78             :   clean_name=PyMySQL
+ inc/python:pip_install_gr:79             :   pip_install PyMySQL
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   grep xtrace
++ inc/python:pip_install:129               :   set +o
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install PyMySQL
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt PyMySQL
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Requirement already satisfied: PyMySQL===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 407)) (1.0.2)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163615815
+ functions-common:time_stop:2448          :   [[ -z 1661163615815 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163618737
+ functions-common:time_stop:2452          :   elapsed_time=2922
+ functions-common:time_stop:2453          :   total=13235
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=16157
+ inc/python:pip_install:199               :   return 0
+ lib/databases/mysql:install_database_python_mysql:216 :   [[ PyMySQL == \M\y\S\Q\L\-\p\y\t\h\o\n ]]
+ lib/databases/mysql:install_database_python_mysql:218 :   [[ PyMySQL == \P\y\M\y\S\Q\L ]]
+ lib/databases/mysql:install_database_python_mysql:219 :   ADDITIONAL_VENV_PACKAGES+=,PyMySQL
+ ./stack.sh:main:837                      :   is_service_enabled neutron
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:838                      :   install_neutron_agent_packages
+ lib/neutron:install_neutron_agent_packages:730 :   is_neutron_legacy_enabled
++ lib/neutron:is_neutron_legacy_enabled:142 :   sed s/neutron-//g
++ lib/neutron:is_neutron_legacy_enabled:142 :   echo
+ lib/neutron:is_neutron_legacy_enabled:142 :   disabled_services_copy=
+ lib/neutron:is_neutron_legacy_enabled:143 :   [[ , =~ ,neutron ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   [[ ,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat =~ ,q- ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   return 0
+ lib/neutron:install_neutron_agent_packages:732 :   install_neutron_agent_packages_mutnauq
+ lib/neutron-legacy:install_neutron_agent_packages_mutnauq:488 :   is_service_enabled q-l3
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:install_neutron_agent_packages_mutnauq:492 :   is_service_enabled q-agt q-dhcp q-l3
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:841                      :   is_service_enabled etcd3
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:842                      :   install_etcd3
+ lib/etcd3:install_etcd3:103              :   echo 'Installing etcd'
Installing etcd
+ lib/etcd3:install_etcd3:106              :   sudo mkdir -p /opt/stack/bin
+ lib/etcd3:install_etcd3:107              :   sudo mkdir -p /opt/stack/data/etcd
+ lib/etcd3:install_etcd3:108              :   [[ True == \T\r\u\e ]]
+ lib/etcd3:install_etcd3:109              :   sudo mount -t tmpfs -o nodev,nosuid,size=512M tmpfs /opt/stack/data/etcd
+ lib/etcd3:install_etcd3:113              :   local etcd_file
++ lib/etcd3:install_etcd3:114              :   get_extra_file https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz
++ functions:get_extra_file:62              :   local file_url=https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz
+++ functions:get_extra_file:64              :   basename https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz
++ functions:get_extra_file:64              :   file_name=etcd-v3.3.12-linux-amd64.tar.gz
++ functions:get_extra_file:65              :   [[ https://github.com/etcd-io/etcd/releases/download/v3.3.12/etcd-v3.3.12-linux-amd64.tar.gz != file* ]]
++ functions:get_extra_file:67              :   [[ ! -f /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64.tar.gz ]]
++ functions:get_extra_file:73              :   echo /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64.tar.gz
++ functions:get_extra_file:74              :   return
+ lib/etcd3:install_etcd3:114              :   etcd_file=/opt/stack/devstack/files/etcd-v3.3.12-linux-amd64.tar.gz
+ lib/etcd3:install_etcd3:115              :   '[' '!' -f /opt/stack/devstack/files/etcd-v3.3.12-linux-amd64/etcd ']'
+ lib/etcd3:install_etcd3:124              :   '[' '!' -f /opt/stack/bin/etcd ']'
+ ./stack.sh:main:851                      :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:861                      :   install_dstat
+ lib/dstat:install_dstat:22               :   is_service_enabled memory_tracker
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:867                      :   echo_summary 'Installing OpenStack project source'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Installing OpenStack project source
2022-08-22 10:20:19.028 | Installing OpenStack project source
+ ./stack.sh:main:870                      :   install_libs
+ lib/libraries:install_libs:90            :   _install_lib_from_source automaton
+ lib/libraries:_install_lib_from_source:74 :   local name=automaton
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git automaton
+ inc/python:use_library_from_git:246      :   local name=automaton
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,automaton, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:91            :   _install_lib_from_source castellan
+ lib/libraries:_install_lib_from_source:74 :   local name=castellan
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git castellan
+ inc/python:use_library_from_git:246      :   local name=castellan
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,castellan, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:92            :   _install_lib_from_source cliff
+ lib/libraries:_install_lib_from_source:74 :   local name=cliff
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git cliff
+ inc/python:use_library_from_git:246      :   local name=cliff
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,cliff, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:93            :   _install_lib_from_source cursive
+ lib/libraries:_install_lib_from_source:74 :   local name=cursive
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git cursive
+ inc/python:use_library_from_git:246      :   local name=cursive
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,cursive, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:94            :   _install_lib_from_source debtcollector
+ lib/libraries:_install_lib_from_source:74 :   local name=debtcollector
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git debtcollector
+ inc/python:use_library_from_git:246      :   local name=debtcollector
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,debtcollector, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:95            :   _install_lib_from_source futurist
+ lib/libraries:_install_lib_from_source:74 :   local name=futurist
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git futurist
+ inc/python:use_library_from_git:246      :   local name=futurist
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,futurist, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:96            :   _install_lib_from_source openstacksdk
+ lib/libraries:_install_lib_from_source:74 :   local name=openstacksdk
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git openstacksdk
+ inc/python:use_library_from_git:246      :   local name=openstacksdk
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,openstacksdk, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:97            :   _install_lib_from_source osc-lib
+ lib/libraries:_install_lib_from_source:74 :   local name=osc-lib
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git osc-lib
+ inc/python:use_library_from_git:246      :   local name=osc-lib
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,osc-lib, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:98            :   _install_lib_from_source osc-placement
+ lib/libraries:_install_lib_from_source:74 :   local name=osc-placement
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git osc-placement
+ inc/python:use_library_from_git:246      :   local name=osc-placement
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,osc-placement, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:99            :   _install_lib_from_source os-client-config
+ lib/libraries:_install_lib_from_source:74 :   local name=os-client-config
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git os-client-config
+ inc/python:use_library_from_git:246      :   local name=os-client-config
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,os-client-config, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:100           :   _install_lib_from_source oslo.cache
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.cache
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.cache
+ inc/python:use_library_from_git:246      :   local name=oslo.cache
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.cache, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:101           :   _install_lib_from_source oslo.concurrency
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.concurrency
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.concurrency
+ inc/python:use_library_from_git:246      :   local name=oslo.concurrency
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.concurrency, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:102           :   _install_lib_from_source oslo.config
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.config
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.config
+ inc/python:use_library_from_git:246      :   local name=oslo.config
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.config, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:103           :   _install_lib_from_source oslo.context
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.context
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.context
+ inc/python:use_library_from_git:246      :   local name=oslo.context
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.context, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:104           :   _install_lib_from_source oslo.db
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.db
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.db
+ inc/python:use_library_from_git:246      :   local name=oslo.db
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.db, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:105           :   _install_lib_from_source oslo.i18n
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.i18n
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.i18n
+ inc/python:use_library_from_git:246      :   local name=oslo.i18n
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.i18n, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:106           :   _install_lib_from_source oslo.limit
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.limit
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.limit
+ inc/python:use_library_from_git:246      :   local name=oslo.limit
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.limit, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:107           :   _install_lib_from_source oslo.log
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.log
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.log
+ inc/python:use_library_from_git:246      :   local name=oslo.log
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.log, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:108           :   _install_lib_from_source oslo.messaging
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.messaging
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.messaging
+ inc/python:use_library_from_git:246      :   local name=oslo.messaging
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.messaging, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:109           :   _install_lib_from_source oslo.middleware
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.middleware
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.middleware
+ inc/python:use_library_from_git:246      :   local name=oslo.middleware
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.middleware, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:110           :   _install_lib_from_source oslo.policy
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.policy
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.policy
+ inc/python:use_library_from_git:246      :   local name=oslo.policy
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.policy, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:111           :   _install_lib_from_source oslo.privsep
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.privsep
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.privsep
+ inc/python:use_library_from_git:246      :   local name=oslo.privsep
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.privsep, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:112           :   _install_lib_from_source oslo.reports
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.reports
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.reports
+ inc/python:use_library_from_git:246      :   local name=oslo.reports
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.reports, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:113           :   _install_lib_from_source oslo.rootwrap
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.rootwrap
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.rootwrap
+ inc/python:use_library_from_git:246      :   local name=oslo.rootwrap
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.rootwrap, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:114           :   _install_lib_from_source oslo.serialization
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.serialization
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.serialization
+ inc/python:use_library_from_git:246      :   local name=oslo.serialization
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.serialization, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:115           :   _install_lib_from_source oslo.service
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.service
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.service
+ inc/python:use_library_from_git:246      :   local name=oslo.service
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.service, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:116           :   _install_lib_from_source oslo.utils
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.utils
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.utils
+ inc/python:use_library_from_git:246      :   local name=oslo.utils
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.utils, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:117           :   _install_lib_from_source oslo.versionedobjects
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.versionedobjects
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.versionedobjects
+ inc/python:use_library_from_git:246      :   local name=oslo.versionedobjects
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.versionedobjects, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:118           :   _install_lib_from_source oslo.vmware
+ lib/libraries:_install_lib_from_source:74 :   local name=oslo.vmware
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git oslo.vmware
+ inc/python:use_library_from_git:246      :   local name=oslo.vmware
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,oslo.vmware, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:119           :   _install_lib_from_source osprofiler
+ lib/libraries:_install_lib_from_source:74 :   local name=osprofiler
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git osprofiler
+ inc/python:use_library_from_git:246      :   local name=osprofiler
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,osprofiler, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:120           :   _install_lib_from_source pycadf
+ lib/libraries:_install_lib_from_source:74 :   local name=pycadf
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git pycadf
+ inc/python:use_library_from_git:246      :   local name=pycadf
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,pycadf, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:121           :   _install_lib_from_source stevedore
+ lib/libraries:_install_lib_from_source:74 :   local name=stevedore
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git stevedore
+ inc/python:use_library_from_git:246      :   local name=stevedore
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,stevedore, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:122           :   _install_lib_from_source taskflow
+ lib/libraries:_install_lib_from_source:74 :   local name=taskflow
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git taskflow
+ inc/python:use_library_from_git:246      :   local name=taskflow
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,taskflow, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:123           :   _install_lib_from_source tooz
+ lib/libraries:_install_lib_from_source:74 :   local name=tooz
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git tooz
+ inc/python:use_library_from_git:246      :   local name=tooz
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,tooz, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:127           :   _install_lib_from_source os-brick
+ lib/libraries:_install_lib_from_source:74 :   local name=os-brick
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git os-brick
+ inc/python:use_library_from_git:246      :   local name=os-brick
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,os-brick, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:128           :   _install_lib_from_source os-resource-classes
+ lib/libraries:_install_lib_from_source:74 :   local name=os-resource-classes
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git os-resource-classes
+ inc/python:use_library_from_git:246      :   local name=os-resource-classes
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,os-resource-classes, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:129           :   _install_lib_from_source os-traits
+ lib/libraries:_install_lib_from_source:74 :   local name=os-traits
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git os-traits
+ inc/python:use_library_from_git:246      :   local name=os-traits
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,os-traits, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:132           :   _install_lib_from_source python-barbicanclient
+ lib/libraries:_install_lib_from_source:74 :   local name=python-barbicanclient
+ lib/libraries:_install_lib_from_source:75 :   use_library_from_git python-barbicanclient
+ inc/python:use_library_from_git:246      :   local name=python-barbicanclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-barbicanclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/libraries:install_libs:139           :   pip_install etcd3
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install etcd3
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt etcd3
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Requirement already satisfied: etcd3===0.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 511)) (0.12.0)
Requirement already satisfied: grpcio===1.47.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 58)) (1.47.0)
Requirement already satisfied: protobuf===4.21.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 372)) (4.21.5)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 454)) (1.16.0)
Requirement already satisfied: tenacity===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 493)) (6.3.1)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163619879
+ functions-common:time_stop:2448          :   [[ -z 1661163619879 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163622842
+ functions-common:time_stop:2452          :   elapsed_time=2963
+ functions-common:time_stop:2453          :   total=16157
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=19120
+ inc/python:pip_install:199               :   return 0
+ lib/libraries:install_libs:140           :   pip_install etcd3gw
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install etcd3gw
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt etcd3gw
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Requirement already satisfied: etcd3gw===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 465)) (2.0.0)
Requirement already satisfied: futurist===2.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 540)) (2.4.1)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 45)) (5.10.0)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (2.28.1)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 561)) (2.1.0)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 370)) (3.3)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 172)) (1.26.11)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 222)) (2019.11.28)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163622882
+ functions-common:time_stop:2448          :   [[ -z 1661163622882 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163625824
+ functions-common:time_stop:2452          :   elapsed_time=2942
+ functions-common:time_stop:2453          :   total=19120
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=22062
+ inc/python:pip_install:199               :   return 0
+ ./stack.sh:main:873                      :   install_apache_uwsgi
+ lib/apache:install_apache_uwsgi:85       :   local apxs=apxs2
+ lib/apache:install_apache_uwsgi:86       :   is_fedora
+ functions-common:is_fedora:519           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:523           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:523           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:524           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:525           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:527           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = Virtuozzo ']'
+ lib/apache:install_apache_uwsgi:90       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:install_apache_uwsgi:91       :   local 'pkg_list=uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi'
+ lib/apache:install_apache_uwsgi:92       :   install_package uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi
+ functions-common:install_package:1463    :   update_package_repo
+ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1436 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1443 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1444 :   apt_get_update
+ functions-common:apt_get_update:1189     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1189     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1190     :   return
+ functions-common:install_package:1464    :   real_install_package uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi
+ functions-common:real_install_package:1449 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:real_install_package:1450 :   apt_get install uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   grep xtrace
++ functions-common:apt_get:1218            :   set +o
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install uwsgi uwsgi-plugin-python3 libapache2-mod-proxy-uwsgi
Reading package lists...
Building dependency tree...
Reading state information...
uwsgi is already the newest version (2.0.18-11ubuntu1).
uwsgi-plugin-python3 is already the newest version (2.0.18-11ubuntu1).
libapache2-mod-proxy-uwsgi is already the newest version (2.4.41-4ubuntu3.12).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 202 not upgraded.
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163625954
+ functions-common:time_stop:2448          :   [[ -z 1661163625954 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163626629
+ functions-common:time_stop:2452          :   elapsed_time=675
+ functions-common:time_stop:2453          :   total=79992
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=80667
+ functions-common:apt_get:1238            :   return 0
+ lib/apache:install_apache_uwsgi:128      :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:install_apache_uwsgi:130      :   sudo a2enmod proxy
Module proxy already enabled
+ lib/apache:install_apache_uwsgi:131      :   sudo a2enmod proxy_uwsgi
Considering dependency proxy for proxy_uwsgi:
Module proxy already enabled
Module proxy_uwsgi already enabled
+ lib/apache:install_apache_uwsgi:137      :   restart_apache_server
+ lib/apache:restart_apache_server:250     :   restart_service apache2
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart apache2
+ ./stack.sh:main:876                      :   install_keystoneauth
+ lib/keystone:install_keystoneauth:498    :   use_library_from_git keystoneauth
+ inc/python:use_library_from_git:246      :   local name=keystoneauth
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,keystoneauth, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:877                      :   install_keystoneclient
+ lib/keystone:install_keystoneclient:506  :   use_library_from_git python-keystoneclient
+ inc/python:use_library_from_git:246      :   local name=python-keystoneclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-keystoneclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:878                      :   install_glanceclient
+ lib/glance:install_glanceclient:498      :   use_library_from_git python-glanceclient
+ inc/python:use_library_from_git:246      :   local name=python-glanceclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-glanceclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:879                      :   install_cinderclient
+ lib/cinder:install_cinderclient:484      :   use_library_from_git python-brick-cinderclient-ext
+ inc/python:use_library_from_git:246      :   local name=python-brick-cinderclient-ext
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-brick-cinderclient-ext, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/cinder:install_cinderclient:489      :   use_library_from_git python-cinderclient
+ inc/python:use_library_from_git:246      :   local name=python-cinderclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-cinderclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:880                      :   install_novaclient
+ lib/nova:install_novaclient:878          :   use_library_from_git python-novaclient
+ inc/python:use_library_from_git:246      :   local name=python-novaclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-novaclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:881                      :   is_service_enabled swift glance horizon
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:882                      :   install_swiftclient
+ lib/swift:install_swiftclient:733        :   use_library_from_git python-swiftclient
+ inc/python:use_library_from_git:246      :   local name=python-swiftclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-swiftclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:884                      :   is_service_enabled neutron nova horizon
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:885                      :   install_neutronclient
+ lib/neutron:install_neutronclient:465    :   use_library_from_git python-neutronclient
+ inc/python:use_library_from_git:246      :   local name=python-neutronclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-neutronclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:889                      :   install_keystonemiddleware
+ lib/keystone:install_keystonemiddleware:516 :   use_library_from_git keystonemiddleware
+ inc/python:use_library_from_git:246      :   local name=keystonemiddleware
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,keystonemiddleware, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/keystone:install_keystonemiddleware:521 :   pip_install_gr keystonemiddleware
+ inc/python:pip_install_gr:76             :   local name=keystonemiddleware
+ inc/python:pip_install_gr:77             :   local clean_name
++ inc/python:pip_install_gr:78             :   get_from_global_requirements keystonemiddleware
++ inc/python:get_from_global_requirements:221 :   local package=keystonemiddleware
++ inc/python:get_from_global_requirements:222 :   local required_pkg
+++ inc/python:get_from_global_requirements:223 :   grep -i -h '^keystonemiddleware' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_from_global_requirements:223 :   cut -d# -f1
++ inc/python:get_from_global_requirements:223 :   required_pkg='keystonemiddleware  '
++ inc/python:get_from_global_requirements:224 :   [[ keystonemiddleware   == '' ]]
++ inc/python:get_from_global_requirements:227 :   echo keystonemiddleware
+ inc/python:pip_install_gr:78             :   clean_name=keystonemiddleware
+ inc/python:pip_install_gr:79             :   pip_install keystonemiddleware
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install keystonemiddleware
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt keystonemiddleware
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Requirement already satisfied: keystonemiddleware===10.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 357)) (10.0.0)
Requirement already satisfied: oslo.cache===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 376)) (3.0.0)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 399)) (9.0.0)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 418)) (1.1.8)
Requirement already satisfied: stevedore===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 427)) (4.0.0)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 454)) (1.16.0)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 492)) (1.5.0)
Requirement already satisfied: keystoneauth1===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 519)) (5.0.0)
Requirement already satisfied: python-keystoneclient===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 523)) (5.0.0)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 536)) (5.1.1)
Requirement already satisfied: oslo.utils===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 575)) (6.0.0)
Requirement already satisfied: pytz===2022.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 586)) (2022.2.1)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 284)) (5.0.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 51)) (5.1.0)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (2.28.1)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 19)) (1.8.7)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 54)) (5.0.0)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 45)) (5.10.0)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 313)) (5.0.0)
Requirement already satisfied: pycadf===3.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 57)) (3.1.1)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 181)) (6.0)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 115)) (2.5.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 133)) (0.8.0)
Requirement already satisfied: iso8601===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 366)) (1.0.2)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 332)) (1.7.0)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 339)) (21.3)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 515)) (0.11.0)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 414)) (3.0.9)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 114)) (0.9.6)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 581)) (2.8.2)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 222)) (2019.11.28)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 370)) (3.3)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 172)) (1.26.11)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 561)) (2.1.0)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 397)) (1.0.4)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 481)) (1.14.1)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163627110
+ functions-common:time_stop:2448          :   [[ -z 1661163627110 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163630097
+ functions-common:time_stop:2452          :   elapsed_time=2987
+ functions-common:time_stop:2453          :   total=22062
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=25049
+ inc/python:pip_install:199               :   return 0
+ lib/keystone:install_keystonemiddleware:525 :   pip_install_gr python-memcached
+ inc/python:pip_install_gr:76             :   local name=python-memcached
+ inc/python:pip_install_gr:77             :   local clean_name
++ inc/python:pip_install_gr:78             :   get_from_global_requirements python-memcached
++ inc/python:get_from_global_requirements:221 :   local package=python-memcached
++ inc/python:get_from_global_requirements:222 :   local required_pkg
+++ inc/python:get_from_global_requirements:223 :   grep -i -h '^python-memcached' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_from_global_requirements:223 :   cut -d# -f1
++ inc/python:get_from_global_requirements:223 :   required_pkg='python-memcached  '
++ inc/python:get_from_global_requirements:224 :   [[ python-memcached   == '' ]]
++ inc/python:get_from_global_requirements:227 :   echo python-memcached
+ inc/python:pip_install_gr:78             :   clean_name=python-memcached
+ inc/python:pip_install_gr:79             :   pip_install python-memcached
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install python-memcached
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt python-memcached
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Requirement already satisfied: python-memcached===1.59 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 452)) (1.59)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 454)) (1.16.0)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163630174
+ functions-common:time_stop:2448          :   [[ -z 1661163630174 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163633061
+ functions-common:time_stop:2452          :   elapsed_time=2887
+ functions-common:time_stop:2453          :   total=25049
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=27936
+ inc/python:pip_install:199               :   return 0
+ ./stack.sh:main:891                      :   is_service_enabled keystone
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:892                      :   '[' 10.200.2.118 == 10.200.2.118 ']'
+ ./stack.sh:main:893                      :   stack_install_service keystone
+ lib/stack:stack_install_service:20       :   local service=keystone
+ lib/stack:stack_install_service:21       :   type install_keystone
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_keystone
+ lib/keystone:install_keystone:531        :   is_service_enabled ldap
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/keystone:install_keystone:535        :   git_clone https://opendev.org/openstack/keystone.git /opt/stack/keystone master
+ functions-common:git_clone:596           :   local git_remote=https://opendev.org/openstack/keystone.git
+ functions-common:git_clone:597           :   local git_dest=/opt/stack/keystone
+ functions-common:git_clone:598           :   local git_ref=master
+ functions-common:git_clone:599           :   local orig_dir
++ functions-common:git_clone:600           :   pwd
+ functions-common:git_clone:600           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:601           :   local git_clone_flags=
++ functions-common:git_clone:603           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:603           :   RECLONE=False
+ functions-common:git_clone:604           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:608           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:617           :   echo master
+ functions-common:git_clone:617           :   egrep -q '^refs'
+ functions-common:git_clone:631           :   [[ ! -d /opt/stack/keystone ]]
+ functions-common:git_clone:639           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:674           :   sudo git config --system --add safe.directory /opt/stack/keystone
+ functions-common:git_clone:677           :   cd /opt/stack/keystone
+ functions-common:git_clone:678           :   head -1
+ functions-common:git_clone:678           :   git show --oneline
1dd6993d7 Merge "docs: Update docs to reflect migration to Alembic"
+ functions-common:git_clone:679           :   cd /opt/stack/devstack
+ lib/keystone:install_keystone:536        :   setup_develop /opt/stack/keystone
+ inc/python:setup_develop:334             :   local bindep
+ inc/python:setup_develop:335             :   [[ /opt/stack/keystone == -bindep* ]]
+ inc/python:setup_develop:339             :   local project_dir=/opt/stack/keystone
+ inc/python:setup_develop:340             :   local extras=
+ inc/python:setup_develop:341             :   _setup_package_with_constraints_edit /opt/stack/keystone -e
+ inc/python:_setup_package_with_constraints_edit:360 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:361 :   [[ /opt/stack/keystone == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:365 :   local project_dir=/opt/stack/keystone
+ inc/python:_setup_package_with_constraints_edit:366 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:367 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:374 :   cd /opt/stack/keystone
++ inc/python:_setup_package_with_constraints_edit:374 :   pwd
+ inc/python:_setup_package_with_constraints_edit:374 :   project_dir=/opt/stack/keystone
+ inc/python:_setup_package_with_constraints_edit:376 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:380 :   local name
++ inc/python:_setup_package_with_constraints_edit:381 :   awk '/^name.*=/ {print $3}' /opt/stack/keystone/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:381 :   name=keystone
+ inc/python:_setup_package_with_constraints_edit:383 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- keystone
+ inc/python:_setup_package_with_constraints_edit:386 :   setup_package /opt/stack/keystone -e
+ inc/python:setup_package:414             :   local bindep=0
+ inc/python:setup_package:415             :   local bindep_flag=
+ inc/python:setup_package:416             :   local bindep_profiles=
+ inc/python:setup_package:417             :   [[ /opt/stack/keystone == -bindep* ]]
+ inc/python:setup_package:422             :   local project_dir=/opt/stack/keystone
+ inc/python:setup_package:423             :   local flags=-e
+ inc/python:setup_package:424             :   local extras=
+ inc/python:setup_package:428             :   [[ -n -e ]]
+ inc/python:setup_package:428             :   [[ -z '' ]]
+ inc/python:setup_package:428             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:433             :   [[ ! -z '' ]]
+ inc/python:setup_package:438             :   [[ 0 == 1 ]]
+ inc/python:setup_package:442             :   pip_install -e /opt/stack/keystone
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/keystone
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -e /opt/stack/keystone
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Obtaining file:///opt/stack/keystone
Requirement already satisfied: Flask===2.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 7)) (2.2.2)
Requirement already satisfied: Flask-RESTful===0.3.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 8)) (0.3.9)
Requirement already satisfied: Jinja2===3.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 10)) (3.1.2)
Requirement already satisfied: MarkupSafe===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 13)) (2.1.1)
Requirement already satisfied: PyJWT===2.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 18)) (2.4.0)
Requirement already satisfied: SQLAlchemy===1.4.40 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 25)) (1.4.40)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 32)) (1.8.7)
Requirement already satisfied: Werkzeug===2.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 34)) (2.2.2)
Requirement already satisfied: aniso8601===9.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 80)) (9.0.1)
Requirement already satisfied: bcrypt===3.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 95)) (3.2.2)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 110)) (1.15.1)
Requirement already satisfied: click===8.1.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 113)) (8.1.3)
Requirement already satisfied: cryptography===36.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 126)) (36.0.2)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 151)) (1.1.8)
Requirement already satisfied: greenlet===1.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 187)) (1.1.2)
Requirement already satisfied: importlib-metadata===4.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 204)) (4.12.0)
Requirement already satisfied: itsdangerous===2.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 213)) (2.1.2)
Requirement already satisfied: jsonschema===4.7.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 223)) (4.7.2)
Requirement already satisfied: keystonemiddleware===10.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 228)) (10.0.0)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 253)) (1.0.4)
Requirement already satisfied: oauthlib===3.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 277)) (3.2.0)
Requirement already satisfied: oslo.cache===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 302)) (3.0.0)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 304)) (9.0.0)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (5.0.0)
Requirement already satisfied: oslo.db===12.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 306)) (12.0.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 307)) (5.1.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 309)) (5.0.0)
Requirement already satisfied: oslo.messaging===13.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 310)) (13.0.0)
Requirement already satisfied: oslo.metrics===0.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 311)) (0.4.0)
Requirement already satisfied: oslo.middleware===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 312)) (5.0.0)
Requirement already satisfied: oslo.policy===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 313)) (4.0.0)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 317)) (5.0.0)
Requirement already satisfied: oslo.service===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (3.0.0)
Requirement already satisfied: oslo.upgradecheck===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 319)) (2.0.0)
Requirement already satisfied: oslo.utils===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 320)) (6.0.0)
Requirement already satisfied: osprofiler===3.4.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 325)) (3.4.3)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 328)) (21.3)
Requirement already satisfied: passlib===1.7.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 331)) (1.7.4)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 332)) (5.10.0)
Requirement already satisfied: prettytable===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 342)) (3.3.0)
Requirement already satisfied: prometheus-client===0.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 344)) (0.14.1)
Requirement already satisfied: pycadf===3.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 356)) (3.1.1)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 358)) (2.21)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 364)) (0.9.6)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (3.0.9)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 373)) (0.18.1)
Requirement already satisfied: pysaml2===7.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 374)) (7.2.0)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 396)) (2.8.2)
Requirement already satisfied: python-keystoneclient===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 405)) (5.0.0)
Requirement already satisfied: pytz===2022.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 435)) (2022.2.1)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 447)) (2.28.1)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 460)) (1.5.0)
Requirement already satisfied: scrypt===0.8.20 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 475)) (0.8.20)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 483)) (1.16.0)
Requirement already satisfied: sqlalchemy-migrate===0.13.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 510)) (0.13.0)
Requirement already satisfied: sqlparse===0.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 511)) (0.4.2)
Requirement already satisfied: statsd===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 514)) (3.3.0)
Requirement already satisfied: stevedore===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 516)) (4.0.0)
Requirement already satisfied: testresources===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 534)) (2.0.1)
Requirement already satisfied: testscenarios===0.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 535)) (0.5.0)
Requirement already satisfied: testtools===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 536)) (2.5.0)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 562)) (1.26.11)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 572)) (0.2.5)
Requirement already satisfied: xmlschema===2.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 581)) (2.0.2)
Requirement already satisfied: yappi===1.3.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 585)) (1.3.6)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 590)) (3.8.1)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 131)) (5.1.1)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: importlib-resources===5.9.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 205)) (5.9.0)
Requirement already satisfied: keystoneauth1===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 227)) (5.0.0)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.8.0)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (2.5.0)
Requirement already satisfied: alembic===1.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 78)) (1.8.1)
Requirement already satisfied: amqp===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 79)) (5.1.1)
Requirement already satisfied: kombu===5.2.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 229)) (5.2.4)
Requirement already satisfied: futurist===2.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 173)) (2.4.1)
Requirement already satisfied: cachetools===5.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 103)) (5.2.0)
Requirement already satisfied: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 168)) (4.0.1)
Requirement already satisfied: Paste===3.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 14)) (3.5.1)
Requirement already satisfied: eventlet===0.33.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 161)) (0.33.1)
Requirement already satisfied: oslo.concurrency===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (5.0.0)
Requirement already satisfied: PasteDeploy===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 15)) (2.1.1)
Requirement already satisfied: Routes===2.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 24)) (2.5.1)
Requirement already satisfied: iso8601===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 212)) (1.0.2)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 261)) (0.11.0)
Requirement already satisfied: pyOpenSSL===22.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 352)) (22.0.0)
Requirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (from pysaml2===7.2.0->-c /opt/stack/requirements/upper-constraints.txt (line 374)) (60.9.3)
Requirement already satisfied: defusedxml===0.7.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 132)) (0.7.1)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 112)) (2.1.0)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 200)) (3.3)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 447)) (2019.11.28)
Requirement already satisfied: Tempita===0.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 29)) (0.5.2)
Requirement already satisfied: extras===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 164)) (1.0.0)
Requirement already satisfied: elementpath===3.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 156)) (3.0.2)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 294)) (1.7.0)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 577)) (1.14.1)
Requirement already satisfied: Mako===1.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 12)) (1.2.1)
Requirement already satisfied: vine===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 564)) (5.0.0)
Requirement already satisfied: dnspython===2.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 147)) (2.2.1)
Requirement already satisfied: fasteners===0.17.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 166)) (0.17.3)
Requirement already satisfied: repoze.lru===0.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (0.7)
Installing collected packages: keystone
  Attempting uninstall: keystone
    Found existing installation: keystone 21.1.0.dev33
    Can't uninstall 'keystone'. No files were found to uninstall.
  Running setup.py develop for keystone
Successfully installed keystone
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163633655
+ functions-common:time_stop:2448          :   [[ -z 1661163633655 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163639946
+ functions-common:time_stop:2452          :   elapsed_time=6291
+ functions-common:time_stop:2453          :   total=27936
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=34227
+ inc/python:pip_install:199               :   return 0
+ inc/python:setup_package:444             :   [[ -e == \-\e ]]
+ inc/python:setup_package:445             :   safe_chown -R stack /opt/stack/keystone/keystone.egg-info
+ functions-common:safe_chown:2340         :   _safe_permission_operation chown -R stack /opt/stack/keystone/keystone.egg-info
+ functions-common:_safe_permission_operation:2165 :   local xtrace
++ functions-common:_safe_permission_operation:2166 :   grep xtrace
++ functions-common:_safe_permission_operation:2166 :   set +o
+ functions-common:_safe_permission_operation:2166 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2167 :   set +o xtrace
+ functions-common:_safe_permission_operation:2188 :   sudo chown -R stack /opt/stack/keystone/keystone.egg-info
+ inc/python:_setup_package_with_constraints_edit:390 :   use_library_from_git /opt/stack/keystone
+ inc/python:use_library_from_git:246      :   local name=/opt/stack/keystone
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,/opt/stack/keystone, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/keystone:install_keystone:538        :   is_service_enabled ldap
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/keystone:install_keystone:542        :   '[' uwsgi == mod_wsgi ']'
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:894                      :   configure_keystone
+ lib/keystone:configure_keystone:192      :   sudo install -d -o stack /etc/keystone
+ lib/keystone:configure_keystone:194      :   [[ /etc/keystone != \/\o\p\t\/\s\t\a\c\k\/\k\e\y\s\t\o\n\e\/\e\t\c ]]
+ lib/keystone:configure_keystone:195      :   install -m 600 /dev/null /etc/keystone/keystone.conf
+ lib/keystone:configure_keystone:198      :   is_service_enabled ldap
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/keystone:configure_keystone:202      :   iniset /etc/keystone/keystone.conf identity driver sql
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:203      :   iniset /etc/keystone/keystone.conf identity password_hash_rounds 4
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:204      :   iniset /etc/keystone/keystone.conf assignment driver sql
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:205      :   iniset /etc/keystone/keystone.conf role driver sql
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:206      :   iniset /etc/keystone/keystone.conf resource driver sql
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:209      :   iniset /etc/keystone/keystone.conf cache enabled True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:210      :   iniset /etc/keystone/keystone.conf cache backend dogpile.cache.memcached
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:211      :   iniset /etc/keystone/keystone.conf cache memcache_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:213      :   iniset_rpc_backend keystone /etc/keystone/keystone.conf oslo_messaging_notifications
+ lib/rpc_backend:iniset_rpc_backend:157   :   local package=keystone
+ lib/rpc_backend:iniset_rpc_backend:158   :   local file=/etc/keystone/keystone.conf
+ lib/rpc_backend:iniset_rpc_backend:159   :   local section=oslo_messaging_notifications
+ lib/rpc_backend:iniset_rpc_backend:160   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:161   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:162   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:139    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:140    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:get_transport_url:141    :   echo rabbit://stackrabbit:Datacore1@10.200.2.118:5672/
+ lib/rpc_backend:iniset_rpc_backend:162   :   iniset /etc/keystone/keystone.conf oslo_messaging_notifications transport_url rabbit://stackrabbit:Datacore1@10.200.2.118:5672/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/rpc_backend:iniset_rpc_backend:163   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:166   :   '[' -n '' ']'
+ lib/keystone:configure_keystone:215      :   local service_port=5000
+ lib/keystone:configure_keystone:217      :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/keystone:configure_keystone:226      :   iniset /etc/keystone/keystone.conf DEFAULT public_endpoint http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:228      :   [[ fernet != '' ]]
+ lib/keystone:configure_keystone:229      :   iniset /etc/keystone/keystone.conf token provider fernet
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/keystone:configure_keystone:232      :   database_connection_url keystone
++ lib/database:database_connection_url:134 :   local db=keystone
++ lib/database:database_connection_url:135 :   database_connection_url_mysql keystone
++ lib/databases/mysql:database_connection_url_mysql:224 :   local db=keystone
++ lib/databases/mysql:database_connection_url_mysql:225 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:229 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:230 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:231 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:235 :   echo 'mysql+pymysql://root:Datacore1@127.0.0.1/keystone?charset=utf8&plugin=dbcounter'
+ lib/keystone:configure_keystone:232      :   iniset /etc/keystone/keystone.conf database connection 'mysql+pymysql://root:Datacore1@127.0.0.1/keystone?charset=utf8&plugin=dbcounter'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:235      :   '[' False '!=' False ']'
+ lib/keystone:configure_keystone:240      :   setup_logging /etc/keystone/keystone.conf
+ functions:setup_logging:674              :   setup_systemd_logging /etc/keystone/keystone.conf
+ functions:setup_systemd_logging:689      :   local conf_file=/etc/keystone/keystone.conf
++ functions:setup_systemd_logging:694      :   trueorfalse False USE_JOURNAL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions:setup_systemd_logging:694      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:695      :   local pidstr=
+ functions:setup_systemd_logging:696      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:700      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:702      :   iniset /etc/keystone/keystone.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:704      :   iniset /etc/keystone/keystone.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:705      :   iniset /etc/keystone/keystone.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:706      :   iniset /etc/keystone/keystone.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:242      :   iniset /etc/keystone/keystone.conf DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:244      :   '[' uwsgi == mod_wsgi ']'
+ lib/keystone:configure_keystone:248      :   write_uwsgi_config /etc/keystone/keystone-uwsgi-public.ini /usr/local/bin/keystone-wsgi-public /identity
+ lib/apache:write_uwsgi_config:254        :   local file=/etc/keystone/keystone-uwsgi-public.ini
+ lib/apache:write_uwsgi_config:255        :   local wsgi=/usr/local/bin/keystone-wsgi-public
+ lib/apache:write_uwsgi_config:256        :   local url=/identity
+ lib/apache:write_uwsgi_config:257        :   local http=
+ lib/apache:write_uwsgi_config:258        :   local name=
++ lib/apache:write_uwsgi_config:259        :   basename /usr/local/bin/keystone-wsgi-public
+ lib/apache:write_uwsgi_config:259        :   name=keystone-wsgi-public
+ lib/apache:write_uwsgi_config:263        :   local socket_dir=/var/run/uwsgi
+ lib/apache:write_uwsgi_config:267        :   sudo mkdir -p /etc/tmpfiles.d/
+ lib/apache:write_uwsgi_config:268        :   echo 'd /var/run/uwsgi 0755 stack root'
+ lib/apache:write_uwsgi_config:268        :   sudo tee /etc/tmpfiles.d/uwsgi.conf
d /var/run/uwsgi 0755 stack root
+ lib/apache:write_uwsgi_config:269        :   sudo systemd-tmpfiles --create /etc/tmpfiles.d/uwsgi.conf
+ lib/apache:write_uwsgi_config:271        :   local socket=/var/run/uwsgi/keystone-wsgi-public.socket
+ lib/apache:write_uwsgi_config:274        :   rm -rf /etc/keystone/keystone-uwsgi-public.ini
+ lib/apache:write_uwsgi_config:275        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi wsgi-file /usr/local/bin/keystone-wsgi-public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:276        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi processes 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:278        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi master true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:280        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi die-on-term true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:281        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi exit-on-reload false
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:284        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi worker-reload-mercy 90
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:285        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi enable-threads true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:286        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi plugins http,python3
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:288        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi thunder-lock true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:290        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:292        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi buffer-size 65535
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:294        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi add-header 'Connection: close'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:296        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi lazy-apps true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:299        :   [[ -n '' ]]
+ lib/apache:write_uwsgi_config:302        :   local apache_conf=
++ lib/apache:write_uwsgi_config:303        :   apache_site_config_for keystone-wsgi-public
++ lib/apache:apache_site_config_for:186    :   local site=keystone-wsgi-public
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:567           :   [[ -z deb ]]
++ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/keystone-wsgi-public.conf
+ lib/apache:write_uwsgi_config:303        :   apache_conf=/etc/apache2/sites-available/keystone-wsgi-public.conf
+ lib/apache:write_uwsgi_config:304        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi socket /var/run/uwsgi/keystone-wsgi-public.socket
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:305        :   iniset /etc/keystone/keystone-uwsgi-public.ini uwsgi chmod-socket 666
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:306        :   echo 'ProxyPass "/identity" "unix:/var/run/uwsgi/keystone-wsgi-public.socket|uwsgi://uwsgi-uds-keystone-wsgi-public" retry=0 '
+ lib/apache:write_uwsgi_config:306        :   sudo tee -a /etc/apache2/sites-available/keystone-wsgi-public.conf
ProxyPass "/identity" "unix:/var/run/uwsgi/keystone-wsgi-public.socket|uwsgi://uwsgi-uds-keystone-wsgi-public" retry=0 
+ lib/apache:write_uwsgi_config:307        :   enable_apache_site keystone-wsgi-public
+ lib/apache:enable_apache_site:203        :   local site=keystone-wsgi-public
+ lib/apache:enable_apache_site:205        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:59          :   local mod=version
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:206        :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:207        :   sudo a2ensite keystone-wsgi-public
Enabling site keystone-wsgi-public.
To activate the new configuration, you need to run:
  systemctl reload apache2
+ lib/apache:write_uwsgi_config:308        :   restart_apache_server
+ lib/apache:restart_apache_server:250     :   restart_service apache2
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart apache2
+ lib/keystone:configure_keystone:251      :   iniset /etc/keystone/keystone.conf DEFAULT max_token_size 16384
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:253      :   iniset /etc/keystone/keystone.conf fernet_tokens key_repository /etc/keystone/fernet-keys/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:255      :   iniset /etc/keystone/keystone.conf credential key_repository /etc/keystone/credential-keys/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:263      :   [[ True = True ]]
+ lib/keystone:configure_keystone:264      :   iniset /etc/keystone/keystone.conf security_compliance lockout_failure_attempts 2
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:265      :   iniset /etc/keystone/keystone.conf security_compliance lockout_duration 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:266      :   iniset /etc/keystone/keystone.conf security_compliance unique_last_password_count 2
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone:268      :   [[ False == True ]]
+ lib/keystone:configure_keystone:268      :   [[ False == True ]]
+ ./stack.sh:main:898                      :   is_service_enabled swift
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:912                      :   is_service_enabled g-api n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:914                      :   stack_install_service glance
+ lib/stack:stack_install_service:20       :   local service=glance
+ lib/stack:stack_install_service:21       :   type install_glance
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_glance
+ lib/glance:install_glance:507            :   glance_store_extras=()
+ lib/glance:install_glance:507            :   local glance_store_extras
+ lib/glance:install_glance:509            :   is_service_enabled cinder
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/glance:install_glance:510            :   glance_store_extras=("cinder" "${glance_store_extras[@]}")
+ lib/glance:install_glance:513            :   is_service_enabled swift
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/glance:install_glance:519            :   use_library_from_git glance_store
+ inc/python:use_library_from_git:246      :   local name=glance_store
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,glance_store, ]]
+ inc/python:use_library_from_git:249      :   return 1
++ lib/glance:install_glance:525            :   join_extras cinder
++ inc/python:join_extras:29                :   local IFS=,
++ inc/python:join_extras:30                :   echo cinder
+ lib/glance:install_glance:525            :   pip_install_gr_extras glance-store cinder
+ inc/python:pip_install_gr_extras:89      :   local name=glance-store
+ inc/python:pip_install_gr_extras:90      :   local extras=cinder
+ inc/python:pip_install_gr_extras:91      :   local version_constraints
++ inc/python:pip_install_gr_extras:92      :   get_version_constraints_from_global_requirements glance-store
++ inc/python:get_version_constraints_from_global_requirements:233 :   local package=glance-store
++ inc/python:get_version_constraints_from_global_requirements:234 :   local required_pkg_version_constraint
+++ inc/python:get_version_constraints_from_global_requirements:236 :   cut -d# -f1
+++ inc/python:get_version_constraints_from_global_requirements:236 :   grep -i -h -o -P '^glance-store\K.*' /opt/stack/requirements/global-requirements.txt
++ inc/python:get_version_constraints_from_global_requirements:236 :   required_pkg_version_constraint='!=0.29.0  '
++ inc/python:get_version_constraints_from_global_requirements:237 :   [[ !=0.29.0   == '' ]]
++ inc/python:get_version_constraints_from_global_requirements:240 :   echo '!=0.29.0'
+ inc/python:pip_install_gr_extras:92      :   version_constraints='!=0.29.0'
+ inc/python:pip_install_gr_extras:93      :   pip_install 'glance-store[cinder]!=0.29.0'
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install glance-store[cinder]!=0.29.0
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt 'glance-store[cinder]!=0.29.0'
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Requirement already satisfied: glance-store===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 178)) (4.0.1)
Requirement already satisfied: jsonschema===4.7.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 223)) (4.7.2)
Requirement already satisfied: keystoneauth1===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 227)) (5.0.0)
Requirement already satisfied: os-brick===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 287)) (6.0.0)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 294)) (1.7.0)
Requirement already satisfied: os-win===5.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 298)) (5.7.0)
Requirement already satisfied: oslo.concurrency===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (5.0.0)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 304)) (9.0.0)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (5.0.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 307)) (5.1.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 309)) (5.0.0)
Requirement already satisfied: oslo.privsep===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 314)) (3.0.0)
Requirement already satisfied: oslo.rootwrap===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 316)) (6.3.1)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 317)) (5.0.0)
Requirement already satisfied: oslo.service===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (3.0.0)
Requirement already satisfied: oslo.utils===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 320)) (6.0.0)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 328)) (21.3)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 332)) (5.10.0)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 364)) (0.9.6)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (3.0.9)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 373)) (0.18.1)
Requirement already satisfied: python-cinderclient===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 391)) (9.0.0)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 396)) (2.8.2)
Requirement already satisfied: python-keystoneclient===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 405)) (5.0.0)
Requirement already satisfied: pytz===2022.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 435)) (2022.2.1)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 447)) (2.28.1)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 460)) (1.5.0)
Requirement already satisfied: simplejson===3.17.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 482)) (3.17.6)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 483)) (1.16.0)
Requirement already satisfied: stevedore===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 516)) (4.0.0)
Requirement already satisfied: tenacity===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 531)) (6.3.1)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 562)) (1.26.11)
Requirement already satisfied: yappi===1.3.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 585)) (1.3.6)
Requirement already satisfied: eventlet===0.33.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 161)) (0.33.1)
Requirement already satisfied: importlib-resources===5.9.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 205)) (5.9.0)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: iso8601===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 212)) (1.0.2)
Requirement already satisfied: fasteners===0.17.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 166)) (0.17.3)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.8.0)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (2.5.0)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 253)) (1.0.4)
Requirement already satisfied: greenlet===1.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 187)) (1.1.2)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 110)) (1.15.1)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 32)) (1.8.7)
Requirement already satisfied: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 168)) (4.0.1)
Requirement already satisfied: Paste===3.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 14)) (3.5.1)
Requirement already satisfied: Routes===2.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 24)) (2.5.1)
Requirement already satisfied: PasteDeploy===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 15)) (2.1.1)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 261)) (0.11.0)
Requirement already satisfied: prettytable===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 342)) (3.3.0)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 200)) (3.3)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 112)) (2.1.0)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 447)) (2019.11.28)
Requirement already satisfied: dnspython===2.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 147)) (2.2.1)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 590)) (3.8.1)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 577)) (1.14.1)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 358)) (2.21)
Requirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (from Paste===3.5.1->-c /opt/stack/requirements/upper-constraints.txt (line 14)) (60.9.3)
Requirement already satisfied: repoze.lru===0.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (0.7)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 572)) (0.2.5)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163642300
+ functions-common:time_stop:2448          :   [[ -z 1661163642300 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163645329
+ functions-common:time_stop:2452          :   elapsed_time=3029
+ functions-common:time_stop:2453          :   total=34227
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=37256
+ inc/python:pip_install:199               :   return 0
+ lib/glance:install_glance:526            :   copy_rootwrap /usr/local/etc/glance
+ lib/glance:copy_rootwrap:239             :   local source_path=/usr/local/etc/glance
+ lib/glance:copy_rootwrap:241             :   sudo install -d -o stack /etc/glance
+ lib/glance:copy_rootwrap:242             :   cp -r /usr/local/etc/glance/rootwrap.conf /usr/local/etc/glance/rootwrap.d /etc/glance/
+ lib/glance:install_glance:529            :   git_clone https://opendev.org/openstack/glance.git /opt/stack/glance master
+ functions-common:git_clone:596           :   local git_remote=https://opendev.org/openstack/glance.git
+ functions-common:git_clone:597           :   local git_dest=/opt/stack/glance
+ functions-common:git_clone:598           :   local git_ref=master
+ functions-common:git_clone:599           :   local orig_dir
++ functions-common:git_clone:600           :   pwd
+ functions-common:git_clone:600           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:601           :   local git_clone_flags=
++ functions-common:git_clone:603           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:603           :   RECLONE=False
+ functions-common:git_clone:604           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:608           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:617           :   echo master
+ functions-common:git_clone:617           :   egrep -q '^refs'
+ functions-common:git_clone:631           :   [[ ! -d /opt/stack/glance ]]
+ functions-common:git_clone:639           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:674           :   sudo git config --system --add safe.directory /opt/stack/glance
+ functions-common:git_clone:677           :   cd /opt/stack/glance
+ functions-common:git_clone:678           :   git show --oneline
+ functions-common:git_clone:678           :   head -1
cb60c1d2f remove expired notes for Multi Store feature
+ functions-common:git_clone:679           :   cd /opt/stack/devstack
+ lib/glance:install_glance:531            :   setup_develop /opt/stack/glance
+ inc/python:setup_develop:334             :   local bindep
+ inc/python:setup_develop:335             :   [[ /opt/stack/glance == -bindep* ]]
+ inc/python:setup_develop:339             :   local project_dir=/opt/stack/glance
+ inc/python:setup_develop:340             :   local extras=
+ inc/python:setup_develop:341             :   _setup_package_with_constraints_edit /opt/stack/glance -e
+ inc/python:_setup_package_with_constraints_edit:360 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:361 :   [[ /opt/stack/glance == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:365 :   local project_dir=/opt/stack/glance
+ inc/python:_setup_package_with_constraints_edit:366 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:367 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:374 :   cd /opt/stack/glance
++ inc/python:_setup_package_with_constraints_edit:374 :   pwd
+ inc/python:_setup_package_with_constraints_edit:374 :   project_dir=/opt/stack/glance
+ inc/python:_setup_package_with_constraints_edit:376 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:380 :   local name
++ inc/python:_setup_package_with_constraints_edit:381 :   awk '/^name.*=/ {print $3}' /opt/stack/glance/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:381 :   name=glance
+ inc/python:_setup_package_with_constraints_edit:383 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- glance
+ inc/python:_setup_package_with_constraints_edit:386 :   setup_package /opt/stack/glance -e
+ inc/python:setup_package:414             :   local bindep=0
+ inc/python:setup_package:415             :   local bindep_flag=
+ inc/python:setup_package:416             :   local bindep_profiles=
+ inc/python:setup_package:417             :   [[ /opt/stack/glance == -bindep* ]]
+ inc/python:setup_package:422             :   local project_dir=/opt/stack/glance
+ inc/python:setup_package:423             :   local flags=-e
+ inc/python:setup_package:424             :   local extras=
+ inc/python:setup_package:428             :   [[ -n -e ]]
+ inc/python:setup_package:428             :   [[ -z '' ]]
+ inc/python:setup_package:428             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:433             :   [[ ! -z '' ]]
+ inc/python:setup_package:438             :   [[ 0 == 1 ]]
+ inc/python:setup_package:442             :   pip_install -e /opt/stack/glance
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/glance
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -e /opt/stack/glance
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Obtaining file:///opt/stack/glance
Requirement already satisfied: Paste===3.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 14)) (3.5.1)
Requirement already satisfied: PasteDeploy===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 15)) (2.1.1)
Requirement already satisfied: Routes===2.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 24)) (2.5.1)
Requirement already satisfied: SQLAlchemy===1.4.40 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 25)) (1.4.40)
Requirement already satisfied: WSME===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 31)) (0.11.0)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 32)) (1.8.7)
Requirement already satisfied: alembic===1.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 78)) (1.8.1)
Requirement already satisfied: castellan===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 107)) (4.0.0)
Requirement already satisfied: cryptography===36.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 126)) (36.0.2)
Requirement already satisfied: cursive===0.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 127)) (0.2.2)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (2.5.0)
Requirement already satisfied: defusedxml===0.7.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 132)) (0.7.1)
Requirement already satisfied: eventlet===0.33.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 161)) (0.33.1)
Requirement already satisfied: futurist===2.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 173)) (2.4.1)
Requirement already satisfied: glance-store===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 178)) (4.0.1)
Requirement already satisfied: greenlet===1.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 187)) (1.1.2)
Requirement already satisfied: httplib2===0.20.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 195)) (0.20.4)
Requirement already satisfied: importlib-metadata===4.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 204)) (4.12.0)
Requirement already satisfied: importlib-resources===5.9.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 205)) (5.9.0)
Requirement already satisfied: iso8601===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 212)) (1.0.2)
Requirement already satisfied: jsonschema===4.7.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 223)) (4.7.2)
Requirement already satisfied: keystoneauth1===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 227)) (5.0.0)
Requirement already satisfied: keystonemiddleware===10.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 228)) (10.0.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.8.0)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 294)) (1.7.0)
Requirement already satisfied: os-win===5.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 298)) (5.7.0)
Requirement already satisfied: oslo.cache===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 302)) (3.0.0)
Requirement already satisfied: oslo.concurrency===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (5.0.0)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 304)) (9.0.0)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (5.0.0)
Requirement already satisfied: oslo.db===12.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 306)) (12.0.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 307)) (5.1.0)
Requirement already satisfied: oslo.limit===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 308)) (2.0.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 309)) (5.0.0)
Requirement already satisfied: oslo.messaging===13.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 310)) (13.0.0)
Requirement already satisfied: oslo.metrics===0.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 311)) (0.4.0)
Requirement already satisfied: oslo.middleware===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 312)) (5.0.0)
Requirement already satisfied: oslo.policy===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 313)) (4.0.0)
Requirement already satisfied: oslo.reports===2.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 315)) (2.4.0)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 317)) (5.0.0)
Requirement already satisfied: oslo.service===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (3.0.0)
Requirement already satisfied: oslo.upgradecheck===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 319)) (2.0.0)
Requirement already satisfied: oslo.utils===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 320)) (6.0.0)
Requirement already satisfied: osprofiler===3.4.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 325)) (3.4.3)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 328)) (21.3)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 332)) (5.10.0)
Requirement already satisfied: prettytable===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 342)) (3.3.0)
Requirement already satisfied: prometheus-client===0.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 344)) (0.14.1)
Requirement already satisfied: psutil===5.9.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 346)) (5.9.1)
Requirement already satisfied: pyOpenSSL===22.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 352)) (22.0.0)
Requirement already satisfied: pycadf===3.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 356)) (3.1.1)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 364)) (0.9.6)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (3.0.9)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 373)) (0.18.1)
Requirement already satisfied: python-barbicanclient===5.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 388)) (5.4.0)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 396)) (2.8.2)
Requirement already satisfied: python-keystoneclient===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 405)) (5.0.0)
Requirement already satisfied: pytz===2022.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 435)) (2022.2.1)
Requirement already satisfied: repoze.lru===0.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (0.7)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 447)) (2.28.1)
Requirement already satisfied: retrying===1.3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 458)) (1.3.3)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 460)) (1.5.0)
Requirement already satisfied: simplegeneric===0.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 481)) (0.8.1)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 483)) (1.16.0)
Requirement already satisfied: sqlalchemy-migrate===0.13.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 510)) (0.13.0)
Requirement already satisfied: sqlparse===0.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 511)) (0.4.2)
Requirement already satisfied: statsd===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 514)) (3.3.0)
Requirement already satisfied: stevedore===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 516)) (4.0.0)
Requirement already satisfied: taskflow===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 530)) (5.0.0)
Requirement already satisfied: tenacity===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 531)) (6.3.1)
Requirement already satisfied: testresources===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 534)) (2.0.1)
Requirement already satisfied: testscenarios===0.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 535)) (0.5.0)
Requirement already satisfied: testtools===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 536)) (2.5.0)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 562)) (1.26.11)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 572)) (0.2.5)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 577)) (1.14.1)
Requirement already satisfied: yappi===1.3.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 585)) (1.3.6)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 590)) (3.8.1)
Requirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (from Paste===3.5.1->-c /opt/stack/requirements/upper-constraints.txt (line 14)) (60.9.3)
Requirement already satisfied: Mako===1.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 12)) (1.2.1)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 110)) (1.15.1)
Requirement already satisfied: dnspython===2.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 147)) (2.2.1)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 151)) (1.1.8)
Requirement already satisfied: fasteners===0.17.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 166)) (0.17.3)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: openstacksdk===0.100.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 283)) (0.100.0)
Requirement already satisfied: amqp===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 79)) (5.1.1)
Requirement already satisfied: cachetools===5.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 103)) (5.2.0)
Requirement already satisfied: kombu===5.2.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 229)) (5.2.4)
Requirement already satisfied: Jinja2===3.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 10)) (3.1.2)
Requirement already satisfied: bcrypt===3.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 95)) (3.2.2)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 253)) (1.0.4)
Requirement already satisfied: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 168)) (4.0.1)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 261)) (0.11.0)
Requirement already satisfied: cliff===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 114)) (4.0.0)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 200)) (3.3)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 447)) (2019.11.28)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 112)) (2.1.0)
Requirement already satisfied: Tempita===0.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 29)) (0.5.2)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 131)) (5.1.1)
Requirement already satisfied: pydot===1.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 360)) (1.4.2)
Requirement already satisfied: automaton===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 92)) (3.0.0)
Requirement already satisfied: networkx===2.8.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 263)) (2.8.5)
Requirement already satisfied: extras===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 164)) (1.0.0)
Requirement already satisfied: MarkupSafe===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 13)) (2.1.1)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 358)) (2.21)
Requirement already satisfied: jsonpatch===1.32 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 219)) (1.32)
Requirement already satisfied: appdirs===1.4.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 86)) (1.4.4)
Requirement already satisfied: munch===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 254)) (2.5.0)
Requirement already satisfied: requestsexceptions===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 455)) (1.4.0)
Requirement already satisfied: jmespath===1.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 217)) (1.0.1)
Requirement already satisfied: vine===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 564)) (5.0.0)
Requirement already satisfied: autopage===0.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 93)) (0.5.1)
Requirement already satisfied: cmd2===2.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 115)) (2.4.2)
Requirement already satisfied: jsonpointer===2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (2.3)
Requirement already satisfied: pyperclip===1.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 370)) (1.8.2)
Installing collected packages: glance
  Attempting uninstall: glance
    Found existing installation: glance 25.0.0.0b3.dev12
    Can't uninstall 'glance'. No files were found to uninstall.
  Running setup.py develop for glance
Successfully installed glance
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163645857
+ functions-common:time_stop:2448          :   [[ -z 1661163645857 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163651891
+ functions-common:time_stop:2452          :   elapsed_time=6034
+ functions-common:time_stop:2453          :   total=37256
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=43290
+ inc/python:pip_install:199               :   return 0
+ inc/python:setup_package:444             :   [[ -e == \-\e ]]
+ inc/python:setup_package:445             :   safe_chown -R stack /opt/stack/glance/glance.egg-info
+ functions-common:safe_chown:2340         :   _safe_permission_operation chown -R stack /opt/stack/glance/glance.egg-info
+ functions-common:_safe_permission_operation:2165 :   local xtrace
++ functions-common:_safe_permission_operation:2166 :   set +o
++ functions-common:_safe_permission_operation:2166 :   grep xtrace
+ functions-common:_safe_permission_operation:2166 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2167 :   set +o xtrace
+ functions-common:_safe_permission_operation:2188 :   sudo chown -R stack /opt/stack/glance/glance.egg-info
+ inc/python:_setup_package_with_constraints_edit:390 :   use_library_from_git /opt/stack/glance
+ inc/python:use_library_from_git:246      :   local name=/opt/stack/glance
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,/opt/stack/glance, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:915                      :   configure_glance
+ lib/glance:configure_glance:323          :   sudo install -d -o stack /etc/glance /etc/glance/metadefs
+ lib/glance:configure_glance:326          :   local dburl
++ lib/glance:configure_glance:327          :   database_connection_url glance
++ lib/database:database_connection_url:134 :   local db=glance
++ lib/database:database_connection_url:135 :   database_connection_url_mysql glance
++ lib/databases/mysql:database_connection_url_mysql:224 :   local db=glance
++ lib/databases/mysql:database_connection_url_mysql:225 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:229 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:230 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:231 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:235 :   echo 'mysql+pymysql://root:Datacore1@127.0.0.1/glance?charset=utf8&plugin=dbcounter'
+ lib/glance:configure_glance:327          :   dburl='mysql+pymysql://root:Datacore1@127.0.0.1/glance?charset=utf8&plugin=dbcounter'
+ lib/glance:configure_glance:329          :   iniset /etc/glance/glance-api.conf DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:330          :   iniset /etc/glance/glance-api.conf database connection 'mysql+pymysql://root:Datacore1@127.0.0.1/glance?charset=utf8&plugin=dbcounter'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:331          :   iniset /etc/glance/glance-api.conf DEFAULT use_syslog False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:332          :   iniset /etc/glance/glance-api.conf DEFAULT image_cache_dir /opt/stack/data/glance/cache/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:333          :   iniset /etc/glance/glance-api.conf oslo_concurrency lock_path /opt/stack/data/glance/locks
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:334          :   iniset /etc/glance/glance-api.conf paste_deploy flavor keystone+cachemanagement
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:335          :   configure_keystone_authtoken_middleware /etc/glance/glance-api.conf glance
+ lib/keystone:configure_keystone_authtoken_middleware:447 :   local conf_file=/etc/glance/glance-api.conf
+ lib/keystone:configure_keystone_authtoken_middleware:448 :   local admin_user=glance
+ lib/keystone:configure_keystone_authtoken_middleware:449 :   local section=keystone_authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:451 :   iniset /etc/glance/glance-api.conf keystone_authtoken auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:452 :   iniset /etc/glance/glance-api.conf keystone_authtoken interface public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:453 :   iniset /etc/glance/glance-api.conf keystone_authtoken auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:454 :   iniset /etc/glance/glance-api.conf keystone_authtoken username glance
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:455 :   iniset /etc/glance/glance-api.conf keystone_authtoken password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:456 :   iniset /etc/glance/glance-api.conf keystone_authtoken user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:457 :   iniset /etc/glance/glance-api.conf keystone_authtoken project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:458 :   iniset /etc/glance/glance-api.conf keystone_authtoken project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:460 :   iniset /etc/glance/glance-api.conf keystone_authtoken cafile /opt/stack/data/ca-bundle.pem
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:461 :   iniset /etc/glance/glance-api.conf keystone_authtoken memcached_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:336          :   iniset /etc/glance/glance-api.conf oslo_messaging_notifications driver messagingv2
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:337          :   iniset_rpc_backend glance /etc/glance/glance-api.conf
+ lib/rpc_backend:iniset_rpc_backend:157   :   local package=glance
+ lib/rpc_backend:iniset_rpc_backend:158   :   local file=/etc/glance/glance-api.conf
+ lib/rpc_backend:iniset_rpc_backend:159   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:160   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:161   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:162   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:139    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:140    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:get_transport_url:141    :   echo rabbit://stackrabbit:Datacore1@10.200.2.118:5672/
+ lib/rpc_backend:iniset_rpc_backend:162   :   iniset /etc/glance/glance-api.conf DEFAULT transport_url rabbit://stackrabbit:Datacore1@10.200.2.118:5672/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/rpc_backend:iniset_rpc_backend:163   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:166   :   '[' -n '' ']'
+ lib/glance:configure_glance:338          :   '[' libvirt = libvirt ']'
+ lib/glance:configure_glance:338          :   '[' kvm = parallels ']'
+ lib/glance:configure_glance:342          :   iniset /etc/glance/glance-api.conf DEFAULT show_image_direct_url False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:343          :   iniset /etc/glance/glance-api.conf DEFAULT show_multiple_locations False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:346          :   configure_glance_store False False
+ lib/glance:configure_glance_store:252    :   local use_cinder_for_glance=False
+ lib/glance:configure_glance_store:253    :   local glance_enable_multiple_stores=False
+ lib/glance:configure_glance_store:254    :   local be
+ lib/glance:configure_glance_store:256    :   [[ False == \F\a\l\s\e ]]
+ lib/glance:configure_glance_store:258    :   [[ False == \T\r\u\e ]]
+ lib/glance:configure_glance_store:275    :   iniset /etc/glance/glance-api.conf glance_store filesystem_store_datadir /opt/stack/data/glance/images/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:349          :   '[' -n '' ']'
+ lib/glance:configure_glance:352          :   iniset /etc/glance/glance-api.conf cors allowed_origin http://10.200.2.118
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:356          :   [[ False == \F\a\l\s\e ]]
+ lib/glance:configure_glance:358          :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/glance:configure_glance:380          :   iniset /etc/glance/glance-api.conf DEFAULT public_endpoint http://10.200.2.118/image
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:382          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/glance:configure_glance:388          :   setup_logging /etc/glance/glance-api.conf
+ functions:setup_logging:674              :   setup_systemd_logging /etc/glance/glance-api.conf
+ functions:setup_systemd_logging:689      :   local conf_file=/etc/glance/glance-api.conf
++ functions:setup_systemd_logging:694      :   trueorfalse False USE_JOURNAL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions:setup_systemd_logging:694      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:695      :   local pidstr=
+ functions:setup_systemd_logging:696      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:700      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:702      :   iniset /etc/glance/glance-api.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:704      :   iniset /etc/glance/glance-api.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:705      :   iniset /etc/glance/glance-api.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:706      :   iniset /etc/glance/glance-api.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:390          :   cp -p /opt/stack/glance/etc/glance-api-paste.ini /etc/glance/glance-api-paste.ini
+ lib/glance:configure_glance:393          :   iniset /etc/glance/glance-cache.conf DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:394          :   iniset /etc/glance/glance-cache.conf DEFAULT use_syslog False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:395          :   iniset /etc/glance/glance-cache.conf DEFAULT image_cache_dir /opt/stack/data/glance/cache/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:396          :   iniset /etc/glance/glance-cache.conf DEFAULT auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:397          :   iniset /etc/glance/glance-cache.conf DEFAULT admin_tenant_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:398          :   iniset /etc/glance/glance-cache.conf DEFAULT admin_user glance
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:399          :   iniset /etc/glance/glance-cache.conf DEFAULT admin_password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:402          :   iniset /etc/glance/glance-cache.conf glance_store filesystem_store_datadir /opt/stack/data/glance/images/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:405          :   iniset /etc/glance/glance-image-import.conf image_import_opts image_import_plugins '[]'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:406          :   iniset /etc/glance/glance-image-import.conf inject_metadata_properties ignore_user_roles admin
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:407          :   iniset /etc/glance/glance-image-import.conf inject_metadata_properties inject
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:409          :   cp -p /opt/stack/glance/etc/schema-image.json /etc/glance/schema-image.json
+ lib/glance:configure_glance:411          :   cp -p /opt/stack/glance/etc/metadefs/cim-processor-allocation-setting-data.json /opt/stack/glance/etc/metadefs/cim-resource-allocation-setting-data.json /opt/stack/glance/etc/metadefs/cim-storage-allocation-setting-data.json /opt/stack/glance/etc/metadefs/cim-virtual-system-setting-data.json /opt/stack/glance/etc/metadefs/compute-aggr-disk-filter.json /opt/stack/glance/etc/metadefs/compute-aggr-iops-filter.json /opt/stack/glance/etc/metadefs/compute-aggr-num-instances.json /opt/stack/glance/etc/metadefs/compute-cpu-mode.json /opt/stack/glance/etc/metadefs/compute-cpu-pinning.json /opt/stack/glance/etc/metadefs/compute-guest-memory-backing.json /opt/stack/glance/etc/metadefs/compute-guest-shutdown.json /opt/stack/glance/etc/metadefs/compute-host-capabilities.json /opt/stack/glance/etc/metadefs/compute-hypervisor.json /opt/stack/glance/etc/metadefs/compute-instance-data.json /opt/stack/glance/etc/metadefs/compute-libvirt-image.json /opt/stack/glance/etc/metadefs/compute-libvirt.json /opt/stack/glance/etc/metadefs/compute-quota.json /opt/stack/glance/etc/metadefs/compute-randomgen.json /opt/stack/glance/etc/metadefs/compute-vcputopology.json /opt/stack/glance/etc/metadefs/compute-vmware-flavor.json /opt/stack/glance/etc/metadefs/compute-vmware.json /opt/stack/glance/etc/metadefs/compute-vmware-quota-flavor.json /opt/stack/glance/etc/metadefs/compute-vtpm-hw.json /opt/stack/glance/etc/metadefs/compute-vtpm.json /opt/stack/glance/etc/metadefs/compute-watchdog.json /opt/stack/glance/etc/metadefs/compute-xenapi.json /opt/stack/glance/etc/metadefs/glance-common-image-props.json /opt/stack/glance/etc/metadefs/image-signature-verification.json /opt/stack/glance/etc/metadefs/operating-system.json /opt/stack/glance/etc/metadefs/software-databases.json /opt/stack/glance/etc/metadefs/software-runtimes.json /opt/stack/glance/etc/metadefs/software-webservers.json /opt/stack/glance/etc/metadefs/storage-volume-type.json /etc/glance/metadefs
+ lib/glance:configure_glance:413          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/glance:configure_glance:421          :   [[ False == False ]]
+ lib/glance:configure_glance:422          :   write_local_uwsgi_http_config /etc/glance/glance-uwsgi.ini /usr/local/bin/glance-wsgi-api /image
+ lib/apache:write_local_uwsgi_http_config:319 :   local file=/etc/glance/glance-uwsgi.ini
+ lib/apache:write_local_uwsgi_http_config:320 :   local wsgi=/usr/local/bin/glance-wsgi-api
+ lib/apache:write_local_uwsgi_http_config:321 :   local url=/image
++ lib/apache:write_local_uwsgi_http_config:322 :   basename /usr/local/bin/glance-wsgi-api
+ lib/apache:write_local_uwsgi_http_config:322 :   name=glance-wsgi-api
+ lib/apache:write_local_uwsgi_http_config:328 :   rm -rf /etc/glance/glance-uwsgi.ini
+ lib/apache:write_local_uwsgi_http_config:329 :   iniset /etc/glance/glance-uwsgi.ini uwsgi wsgi-file /usr/local/bin/glance-wsgi-api
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/apache:write_local_uwsgi_http_config:330 :   get_random_port
++ functions:get_random_port:836            :   read lower_port upper_port
++ functions:get_random_port:837            :   true
++ functions:get_random_port:838            :   (( port = upper_port  ))
++ functions:get_random_port:838            :   (( port >= lower_port  ))
++ functions:get_random_port:839            :   sudo lsof -i :60999
++ functions:get_random_port:840            :   [[ 1 > 0 ]]
++ functions:get_random_port:841            :   break 2
++ functions:get_random_port:845            :   echo 60999
+ lib/apache:write_local_uwsgi_http_config:330 :   port=60999
+ lib/apache:write_local_uwsgi_http_config:331 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-socket 127.0.0.1:60999
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:332 :   iniset /etc/glance/glance-uwsgi.ini uwsgi processes 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:334 :   iniset /etc/glance/glance-uwsgi.ini uwsgi master true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:336 :   iniset /etc/glance/glance-uwsgi.ini uwsgi die-on-term true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:337 :   iniset /etc/glance/glance-uwsgi.ini uwsgi exit-on-reload false
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:338 :   iniset /etc/glance/glance-uwsgi.ini uwsgi enable-threads true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:339 :   iniset /etc/glance/glance-uwsgi.ini uwsgi plugins http,python3
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:341 :   iniset /etc/glance/glance-uwsgi.ini uwsgi thunder-lock true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:343 :   iniset /etc/glance/glance-uwsgi.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:346 :   iniset /etc/glance/glance-uwsgi.ini uwsgi worker-reload-mercy 90
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:348 :   iniset /etc/glance/glance-uwsgi.ini uwsgi buffer-size 65535
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:350 :   iniset /etc/glance/glance-uwsgi.ini uwsgi add-header 'Connection: close'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:352 :   iniset /etc/glance/glance-uwsgi.ini uwsgi lazy-apps true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:353 :   iniset /etc/glance/glance-uwsgi.ini uwsgi chmod-socket 666
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:354 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-raw-body true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:355 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-chunked-input true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:356 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-auto-chunked true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:357 :   iniset /etc/glance/glance-uwsgi.ini uwsgi http-keepalive false
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:359 :   iniset /etc/glance/glance-uwsgi.ini uwsgi socket-timeout 30
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_local_uwsgi_http_config:361 :   enable_apache_mod proxy
+ lib/apache:enable_apache_mod:59          :   local mod=proxy
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ proxy != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_mod:64          :   a2query -m proxy
proxy (enabled by site administrator)
+ lib/apache:write_local_uwsgi_http_config:362 :   enable_apache_mod proxy_http
+ lib/apache:enable_apache_mod:59          :   local mod=proxy_http
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ proxy_http != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_mod:64          :   a2query -m proxy_http
proxy_http (enabled by site administrator)
+ lib/apache:write_local_uwsgi_http_config:363 :   local apache_conf=
++ lib/apache:write_local_uwsgi_http_config:364 :   apache_site_config_for glance-wsgi-api
++ lib/apache:apache_site_config_for:186    :   local site=glance-wsgi-api
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:567           :   [[ -z deb ]]
++ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/glance-wsgi-api.conf
+ lib/apache:write_local_uwsgi_http_config:364 :   apache_conf=/etc/apache2/sites-available/glance-wsgi-api.conf
+ lib/apache:write_local_uwsgi_http_config:365 :   echo 'KeepAlive Off'
+ lib/apache:write_local_uwsgi_http_config:365 :   sudo tee /etc/apache2/sites-available/glance-wsgi-api.conf
KeepAlive Off
+ lib/apache:write_local_uwsgi_http_config:366 :   echo 'SetEnv proxy-sendchunked 1'
+ lib/apache:write_local_uwsgi_http_config:366 :   sudo tee -a /etc/apache2/sites-available/glance-wsgi-api.conf
SetEnv proxy-sendchunked 1
+ lib/apache:write_local_uwsgi_http_config:367 :   echo 'ProxyPass "/image" "http://127.0.0.1:60999" retry=0 '
+ lib/apache:write_local_uwsgi_http_config:367 :   sudo tee -a /etc/apache2/sites-available/glance-wsgi-api.conf
ProxyPass "/image" "http://127.0.0.1:60999" retry=0 
+ lib/apache:write_local_uwsgi_http_config:368 :   enable_apache_site glance-wsgi-api
+ lib/apache:enable_apache_site:203        :   local site=glance-wsgi-api
+ lib/apache:enable_apache_site:205        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:59          :   local mod=version
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:206        :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:207        :   sudo a2ensite glance-wsgi-api
Site glance-wsgi-api already enabled
+ lib/apache:write_local_uwsgi_http_config:369 :   restart_apache_server
+ lib/apache:restart_apache_server:250     :   restart_service apache2
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart apache2
++ lib/glance:configure_glance:425          :   awk '-F= ' '/^http-socket/ { print "http://"$2}' /etc/glance/glance-uwsgi.ini
+ lib/glance:configure_glance:425          :   iniset /etc/glance/glance-api.conf DEFAULT worker_self_reference_url http://127.0.0.1:60999
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance:435          :   [[ False == True ]]
+ lib/glance:configure_glance:435          :   [[ False == True ]]
+ ./stack.sh:main:918                      :   is_service_enabled cinder
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:920                      :   stack_install_service cinder
+ lib/stack:stack_install_service:20       :   local service=cinder
+ lib/stack:stack_install_service:21       :   type install_cinder
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_cinder
+ lib/cinder:install_cinder:466            :   git_clone https://opendev.org/openstack/cinder.git /opt/stack/cinder master
+ functions-common:git_clone:596           :   local git_remote=https://opendev.org/openstack/cinder.git
+ functions-common:git_clone:597           :   local git_dest=/opt/stack/cinder
+ functions-common:git_clone:598           :   local git_ref=master
+ functions-common:git_clone:599           :   local orig_dir
++ functions-common:git_clone:600           :   pwd
+ functions-common:git_clone:600           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:601           :   local git_clone_flags=
++ functions-common:git_clone:603           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:603           :   RECLONE=False
+ functions-common:git_clone:604           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:608           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:617           :   echo master
+ functions-common:git_clone:617           :   egrep -q '^refs'
+ functions-common:git_clone:631           :   [[ ! -d /opt/stack/cinder ]]
+ functions-common:git_clone:639           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:674           :   sudo git config --system --add safe.directory /opt/stack/cinder
+ functions-common:git_clone:677           :   cd /opt/stack/cinder
+ functions-common:git_clone:678           :   git show --oneline
+ functions-common:git_clone:678           :   head -1
7fa996bb6 Merge "Update volume delete api-ref"
+ functions-common:git_clone:679           :   cd /opt/stack/devstack
+ lib/cinder:install_cinder:467            :   setup_develop /opt/stack/cinder
+ inc/python:setup_develop:334             :   local bindep
+ inc/python:setup_develop:335             :   [[ /opt/stack/cinder == -bindep* ]]
+ inc/python:setup_develop:339             :   local project_dir=/opt/stack/cinder
+ inc/python:setup_develop:340             :   local extras=
+ inc/python:setup_develop:341             :   _setup_package_with_constraints_edit /opt/stack/cinder -e
+ inc/python:_setup_package_with_constraints_edit:360 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:361 :   [[ /opt/stack/cinder == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:365 :   local project_dir=/opt/stack/cinder
+ inc/python:_setup_package_with_constraints_edit:366 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:367 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:374 :   cd /opt/stack/cinder
++ inc/python:_setup_package_with_constraints_edit:374 :   pwd
+ inc/python:_setup_package_with_constraints_edit:374 :   project_dir=/opt/stack/cinder
+ inc/python:_setup_package_with_constraints_edit:376 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:380 :   local name
++ inc/python:_setup_package_with_constraints_edit:381 :   awk '/^name.*=/ {print $3}' /opt/stack/cinder/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:381 :   name=cinder
+ inc/python:_setup_package_with_constraints_edit:383 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- cinder
+ inc/python:_setup_package_with_constraints_edit:386 :   setup_package /opt/stack/cinder -e
+ inc/python:setup_package:414             :   local bindep=0
+ inc/python:setup_package:415             :   local bindep_flag=
+ inc/python:setup_package:416             :   local bindep_profiles=
+ inc/python:setup_package:417             :   [[ /opt/stack/cinder == -bindep* ]]
+ inc/python:setup_package:422             :   local project_dir=/opt/stack/cinder
+ inc/python:setup_package:423             :   local flags=-e
+ inc/python:setup_package:424             :   local extras=
+ inc/python:setup_package:428             :   [[ -n -e ]]
+ inc/python:setup_package:428             :   [[ -z '' ]]
+ inc/python:setup_package:428             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:433             :   [[ ! -z '' ]]
+ inc/python:setup_package:438             :   [[ 0 == 1 ]]
+ inc/python:setup_package:442             :   pip_install -e /opt/stack/cinder
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/cinder
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -e /opt/stack/cinder
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Obtaining file:///opt/stack/cinder
Requirement already satisfied: Paste===3.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 14)) (3.5.1)
Requirement already satisfied: PasteDeploy===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 15)) (2.1.1)
Requirement already satisfied: Routes===2.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 24)) (2.5.1)
Requirement already satisfied: SQLAlchemy===1.4.40 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 25)) (1.4.40)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 32)) (1.8.7)
Requirement already satisfied: boto3===1.24.51 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 101)) (1.24.51)
Requirement already satisfied: botocore===1.27.51 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 102)) (1.27.51)
Requirement already satisfied: castellan===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 107)) (4.0.0)
Requirement already satisfied: cryptography===36.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 126)) (36.0.2)
Requirement already satisfied: cursive===0.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 127)) (0.2.2)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 131)) (5.1.1)
Requirement already satisfied: eventlet===0.33.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 161)) (0.33.1)
Requirement already satisfied: google-api-python-client===2.56.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 181)) (2.56.0)
Requirement already satisfied: google-auth===2.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 182)) (2.10.0)
Requirement already satisfied: google-auth-httplib2===0.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 183)) (0.1.0)
Requirement already satisfied: greenlet===1.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 187)) (1.1.2)
Requirement already satisfied: httplib2===0.20.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 195)) (0.20.4)
Requirement already satisfied: importlib-metadata===4.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 204)) (4.12.0)
Requirement already satisfied: iso8601===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 212)) (1.0.2)
Requirement already satisfied: jmespath===1.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 217)) (1.0.1)
Requirement already satisfied: jsonschema===4.7.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 223)) (4.7.2)
Requirement already satisfied: keystoneauth1===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 227)) (5.0.0)
Requirement already satisfied: keystonemiddleware===10.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 228)) (10.0.0)
Requirement already satisfied: lxml===4.9.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 240)) (4.9.1)
Requirement already satisfied: oauth2client===4.1.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 276)) (4.1.3)
Requirement already satisfied: os-brick===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 287)) (6.0.0)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 294)) (1.7.0)
Requirement already satisfied: os-win===5.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 298)) (5.7.0)
Requirement already satisfied: oslo.cache===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 302)) (3.0.0)
Requirement already satisfied: oslo.concurrency===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (5.0.0)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 304)) (9.0.0)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (5.0.0)
Requirement already satisfied: oslo.db===12.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 306)) (12.0.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 307)) (5.1.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 309)) (5.0.0)
Requirement already satisfied: oslo.messaging===13.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 310)) (13.0.0)
Requirement already satisfied: oslo.metrics===0.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 311)) (0.4.0)
Requirement already satisfied: oslo.middleware===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 312)) (5.0.0)
Requirement already satisfied: oslo.policy===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 313)) (4.0.0)
Requirement already satisfied: oslo.privsep===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 314)) (3.0.0)
Requirement already satisfied: oslo.reports===2.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 315)) (2.4.0)
Requirement already satisfied: oslo.rootwrap===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 316)) (6.3.1)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 317)) (5.0.0)
Requirement already satisfied: oslo.service===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (3.0.0)
Requirement already satisfied: oslo.upgradecheck===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 319)) (2.0.0)
Requirement already satisfied: oslo.utils===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 320)) (6.0.0)
Requirement already satisfied: oslo.versionedobjects===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 321)) (3.0.0)
Requirement already satisfied: oslo.vmware===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 322)) (4.0.0)
Requirement already satisfied: osprofiler===3.4.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 325)) (3.4.3)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 328)) (21.3)
Requirement already satisfied: paramiko===2.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 330)) (2.11.0)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 332)) (5.10.0)
Requirement already satisfied: prettytable===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 342)) (3.3.0)
Requirement already satisfied: prometheus-client===0.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 344)) (0.14.1)
Requirement already satisfied: psutil===5.9.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 346)) (5.9.1)
Requirement already satisfied: pyasn1===0.4.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 354)) (0.4.8)
Requirement already satisfied: pyasn1-modules===0.2.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 355)) (0.2.8)
Requirement already satisfied: pycadf===3.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 356)) (3.1.1)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 364)) (0.9.6)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (3.0.9)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 373)) (0.18.1)
Requirement already satisfied: python-barbicanclient===5.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 388)) (5.4.0)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 396)) (2.8.2)
Requirement already satisfied: python-glanceclient===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 399)) (4.0.1)
Requirement already satisfied: python-keystoneclient===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 405)) (5.0.0)
Requirement already satisfied: python-novaclient===18.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 416)) (18.0.0)
Requirement already satisfied: python-swiftclient===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 428)) (4.0.1)
Requirement already satisfied: pytz===2022.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 435)) (2022.2.1)
Requirement already satisfied: repoze.lru===0.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (0.7)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 447)) (2.28.1)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 460)) (1.5.0)
Requirement already satisfied: rsa===4.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 462)) (4.9)
Requirement already satisfied: rtslib-fb===2.1.75 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 465)) (2.1.75)
Requirement already satisfied: s3transfer===0.6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 469)) (0.6.0)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 483)) (1.16.0)
Requirement already satisfied: sqlalchemy-migrate===0.13.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 510)) (0.13.0)
Requirement already satisfied: sqlparse===0.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 511)) (0.4.2)
Requirement already satisfied: statsd===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 514)) (3.3.0)
Requirement already satisfied: stevedore===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 516)) (4.0.0)
Requirement already satisfied: suds-community===1.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 521)) (1.1.2)
Requirement already satisfied: tabulate===0.8.10 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 527)) (0.8.10)
Requirement already satisfied: taskflow===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 530)) (5.0.0)
Requirement already satisfied: tenacity===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 531)) (6.3.1)
Requirement already satisfied: testresources===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 534)) (2.0.1)
Requirement already satisfied: testscenarios===0.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 535)) (0.5.0)
Requirement already satisfied: testtools===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 536)) (2.5.0)
Requirement already satisfied: tooz===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 545)) (3.0.0)
Requirement already satisfied: uritemplate===4.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 561)) (4.1.1)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 562)) (1.26.11)
Requirement already satisfied: voluptuous===0.13.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 568)) (0.13.1)
Requirement already satisfied: warlock===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 571)) (2.0.1)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 572)) (0.2.5)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 577)) (1.14.1)
Requirement already satisfied: yappi===1.3.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 585)) (1.3.6)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 590)) (3.8.1)
Requirement already satisfied: zstd===1.5.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 591)) (1.5.2.5)
Requirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (from Paste===3.5.1->-c /opt/stack/requirements/upper-constraints.txt (line 14)) (60.9.3)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 110)) (1.15.1)
Requirement already satisfied: dnspython===2.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 147)) (2.2.1)
Requirement already satisfied: google-api-core===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 180)) (2.8.2)
Requirement already satisfied: cachetools===5.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 103)) (5.2.0)
Requirement already satisfied: importlib-resources===5.9.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 205)) (5.9.0)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 151)) (1.1.8)
Requirement already satisfied: fasteners===0.17.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 166)) (0.17.3)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (2.5.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.8.0)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: alembic===1.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 78)) (1.8.1)
Requirement already satisfied: amqp===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 79)) (5.1.1)
Requirement already satisfied: futurist===2.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 173)) (2.4.1)
Requirement already satisfied: kombu===5.2.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 229)) (5.2.4)
Requirement already satisfied: Jinja2===3.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 10)) (3.1.2)
Requirement already satisfied: bcrypt===3.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 95)) (3.2.2)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 253)) (1.0.4)
Requirement already satisfied: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 168)) (4.0.1)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 261)) (0.11.0)
Requirement already satisfied: PyNaCl===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 21)) (1.5.0)
Requirement already satisfied: cliff===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 114)) (4.0.0)
Requirement already satisfied: pyOpenSSL===22.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 352)) (22.0.0)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 447)) (2019.11.28)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 200)) (3.3)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 112)) (2.1.0)
Requirement already satisfied: pyudev===0.23.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 437)) (0.23.2)
Requirement already satisfied: Tempita===0.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 29)) (0.5.2)
Requirement already satisfied: pydot===1.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 360)) (1.4.2)
Requirement already satisfied: networkx===2.8.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 263)) (2.8.5)
Requirement already satisfied: automaton===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 92)) (3.0.0)
Requirement already satisfied: extras===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 164)) (1.0.0)
Requirement already satisfied: jsonpatch===1.32 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 219)) (1.32)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 358)) (2.21)
Requirement already satisfied: protobuf===4.21.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 345)) (4.21.5)
Requirement already satisfied: googleapis-common-protos===1.56.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 184)) (1.56.4)
Requirement already satisfied: Mako===1.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 12)) (1.2.1)
Requirement already satisfied: vine===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 564)) (5.0.0)
Requirement already satisfied: MarkupSafe===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 13)) (2.1.1)
Requirement already satisfied: autopage===0.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 93)) (0.5.1)
Requirement already satisfied: cmd2===2.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 115)) (2.4.2)
Requirement already satisfied: jsonpointer===2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (2.3)
Requirement already satisfied: pyperclip===1.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 370)) (1.8.2)
Installing collected packages: cinder
  Attempting uninstall: cinder
    Found existing installation: cinder 20.1.0.dev394
    Can't uninstall 'cinder'. No files were found to uninstall.
  Running setup.py develop for cinder
Successfully installed cinder
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163655760
+ functions-common:time_stop:2448          :   [[ -z 1661163655760 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163666089
+ functions-common:time_stop:2452          :   elapsed_time=10329
+ functions-common:time_stop:2453          :   total=43290
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=53619
+ inc/python:pip_install:199               :   return 0
+ inc/python:setup_package:444             :   [[ -e == \-\e ]]
+ inc/python:setup_package:445             :   safe_chown -R stack /opt/stack/cinder/cinder.egg-info
+ functions-common:safe_chown:2340         :   _safe_permission_operation chown -R stack /opt/stack/cinder/cinder.egg-info
+ functions-common:_safe_permission_operation:2165 :   local xtrace
++ functions-common:_safe_permission_operation:2166 :   set +o
++ functions-common:_safe_permission_operation:2166 :   grep xtrace
+ functions-common:_safe_permission_operation:2166 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2167 :   set +o xtrace
+ functions-common:_safe_permission_operation:2188 :   sudo chown -R stack /opt/stack/cinder/cinder.egg-info
+ inc/python:_setup_package_with_constraints_edit:390 :   use_library_from_git /opt/stack/cinder
+ inc/python:use_library_from_git:246      :   local name=/opt/stack/cinder
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,/opt/stack/cinder, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/cinder:install_cinder:468            :   [[ lioadm == \t\g\t\a\d\m ]]
+ lib/cinder:install_cinder:470            :   [[ lioadm == \l\i\o\a\d\m ]]
+ lib/cinder:install_cinder:471            :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/cinder:install_cinder:473            :   sudo mkdir -p /etc/target
+ lib/cinder:install_cinder:475            :   install_package targetcli-fb
+ functions-common:install_package:1463    :   update_package_repo
+ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1436 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1443 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1444 :   apt_get_update
+ functions-common:apt_get_update:1189     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1189     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1190     :   return
+ functions-common:install_package:1464    :   real_install_package targetcli-fb
+ functions-common:real_install_package:1449 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:real_install_package:1450 :   apt_get install targetcli-fb
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   set +o
++ functions-common:apt_get:1218            :   grep xtrace
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install targetcli-fb
Reading package lists...
Building dependency tree...
Reading state information...
targetcli-fb is already the newest version (1:2.1.51-0ubuntu1).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 202 not upgraded.
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163666267
+ functions-common:time_stop:2448          :   [[ -z 1661163666267 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163666880
+ functions-common:time_stop:2452          :   elapsed_time=613
+ functions-common:time_stop:2453          :   total=80667
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=81280
+ functions-common:apt_get:1238            :   return 0
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:921                      :   configure_cinder
+ lib/cinder:configure_cinder:245          :   sudo install -d -o stack -m 755 /etc/cinder
+ lib/cinder:configure_cinder:247          :   rm -f /etc/cinder/cinder.conf
+ lib/cinder:configure_cinder:249          :   configure_rootwrap cinder
+ inc/rootwrap:configure_rootwrap:43       :   local project=cinder
+ inc/rootwrap:configure_rootwrap:44       :   local project_uc
++ inc/rootwrap:configure_rootwrap:45       :   echo cinder
++ inc/rootwrap:configure_rootwrap:45       :   tr a-z A-Z
+ inc/rootwrap:configure_rootwrap:45       :   project_uc=CINDER
+ inc/rootwrap:configure_rootwrap:46       :   local bin_dir=CINDER_BIN_DIR
+ inc/rootwrap:configure_rootwrap:47       :   bin_dir=/usr/local/bin
+ inc/rootwrap:configure_rootwrap:48       :   local project_dir=CINDER_DIR
+ inc/rootwrap:configure_rootwrap:49       :   project_dir=/opt/stack/cinder
+ inc/rootwrap:configure_rootwrap:51       :   local rootwrap_conf_src_dir=/opt/stack/cinder/etc/cinder
+ inc/rootwrap:configure_rootwrap:52       :   local rootwrap_bin=/usr/local/bin/cinder-rootwrap
+ inc/rootwrap:configure_rootwrap:55       :   sudo rm -rf /etc/cinder/rootwrap.d
+ inc/rootwrap:configure_rootwrap:56       :   sudo install -d -o root -g root -m 755 /etc/cinder/rootwrap.d
+ inc/rootwrap:configure_rootwrap:57       :   sudo install -o root -g root -m 644 /opt/stack/cinder/etc/cinder/rootwrap.d/volume.filters /etc/cinder/rootwrap.d
+ inc/rootwrap:configure_rootwrap:60       :   sudo install -o root -g root -m 644 /opt/stack/cinder/etc/cinder/rootwrap.conf /etc/cinder/rootwrap.conf
+ inc/rootwrap:configure_rootwrap:61       :   sudo sed -e 's:^filters_path=.*$:filters_path=/etc/cinder/rootwrap.d:' -i /etc/cinder/rootwrap.conf
+ inc/rootwrap:configure_rootwrap:64       :   local tempfile
++ inc/rootwrap:configure_rootwrap:65       :   mktemp
+ inc/rootwrap:configure_rootwrap:65       :   tempfile=/tmp/tmp.Zgs2QLEDYk
+ inc/rootwrap:configure_rootwrap:67       :   rootwrap_sudo_cmd='/usr/local/bin/cinder-rootwrap /etc/cinder/rootwrap.conf *'
+ inc/rootwrap:configure_rootwrap:68       :   echo 'stack ALL=(root) NOPASSWD: /usr/local/bin/cinder-rootwrap /etc/cinder/rootwrap.conf *'
+ inc/rootwrap:configure_rootwrap:69       :   '[' -f /usr/local/bin/cinder-rootwrap-daemon ']'
+ inc/rootwrap:configure_rootwrap:74       :   chmod 0440 /tmp/tmp.Zgs2QLEDYk
+ inc/rootwrap:configure_rootwrap:75       :   sudo chown root:root /tmp/tmp.Zgs2QLEDYk
+ inc/rootwrap:configure_rootwrap:76       :   sudo mv /tmp/tmp.Zgs2QLEDYk /etc/sudoers.d/cinder-rootwrap
++ inc/rootwrap:configure_rootwrap:80       :   dirname /usr/local/bin/cinder-rootwrap
+ inc/rootwrap:configure_rootwrap:80       :   add_sudo_secure_path /usr/local/bin
+ inc/rootwrap:add_sudo_secure_path:21     :   local dir=/usr/local/bin
+ inc/rootwrap:add_sudo_secure_path:22     :   local line
+ inc/rootwrap:add_sudo_secure_path:25     :   [[ -r /etc/sudoers.d/zz-secure-path ]]
+ inc/rootwrap:add_sudo_secure_path:28     :   line='Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin'
+ inc/rootwrap:add_sudo_secure_path:32     :   [[ ! Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin =~ /usr/local/bin ]]
+ lib/cinder:configure_cinder:251          :   [[ -f /opt/stack/cinder/etc/cinder/resource_filters.json ]]
+ lib/cinder:configure_cinder:252          :   cp -p /opt/stack/cinder/etc/cinder/resource_filters.json /etc/cinder/resource_filters.json
+ lib/cinder:configure_cinder:255          :   cp /opt/stack/cinder/etc/cinder/api-paste.ini /etc/cinder/api-paste.ini
+ lib/cinder:configure_cinder:257          :   inicomment /etc/cinder/api-paste.ini filter:authtoken auth_host
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:258          :   inicomment /etc/cinder/api-paste.ini filter:authtoken auth_port
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:259          :   inicomment /etc/cinder/api-paste.ini filter:authtoken auth_protocol
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:260          :   inicomment /etc/cinder/api-paste.ini filter:authtoken cafile
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:261          :   inicomment /etc/cinder/api-paste.ini filter:authtoken admin_tenant_name
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   grep xtrace
++ inc/ini-config:inicomment:43             :   set +o
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:262          :   inicomment /etc/cinder/api-paste.ini filter:authtoken admin_user
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:263          :   inicomment /etc/cinder/api-paste.ini filter:authtoken admin_password
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   grep xtrace
++ inc/ini-config:inicomment:43             :   set +o
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:264          :   inicomment /etc/cinder/api-paste.ini filter:authtoken signing_dir
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/cinder:configure_cinder:266          :   configure_keystone_authtoken_middleware /etc/cinder/cinder.conf cinder
+ lib/keystone:configure_keystone_authtoken_middleware:447 :   local conf_file=/etc/cinder/cinder.conf
+ lib/keystone:configure_keystone_authtoken_middleware:448 :   local admin_user=cinder
+ lib/keystone:configure_keystone_authtoken_middleware:449 :   local section=keystone_authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:451 :   iniset /etc/cinder/cinder.conf keystone_authtoken auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:452 :   iniset /etc/cinder/cinder.conf keystone_authtoken interface public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:453 :   iniset /etc/cinder/cinder.conf keystone_authtoken auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:454 :   iniset /etc/cinder/cinder.conf keystone_authtoken username cinder
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:455 :   iniset /etc/cinder/cinder.conf keystone_authtoken password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:456 :   iniset /etc/cinder/cinder.conf keystone_authtoken user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:457 :   iniset /etc/cinder/cinder.conf keystone_authtoken project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:458 :   iniset /etc/cinder/cinder.conf keystone_authtoken project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:460 :   iniset /etc/cinder/cinder.conf keystone_authtoken cafile /opt/stack/data/ca-bundle.pem
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:461 :   iniset /etc/cinder/cinder.conf keystone_authtoken memcached_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:268          :   iniset /etc/cinder/cinder.conf DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:270          :   iniset /etc/cinder/cinder.conf DEFAULT target_helper lioadm
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/cinder:configure_cinder:271          :   database_connection_url cinder
++ lib/database:database_connection_url:134 :   local db=cinder
++ lib/database:database_connection_url:135 :   database_connection_url_mysql cinder
++ lib/databases/mysql:database_connection_url_mysql:224 :   local db=cinder
++ lib/databases/mysql:database_connection_url_mysql:225 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:229 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:230 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   grep xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:231 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:235 :   echo 'mysql+pymysql://root:Datacore1@127.0.0.1/cinder?charset=utf8&plugin=dbcounter'
+ lib/cinder:configure_cinder:271          :   iniset /etc/cinder/cinder.conf database connection 'mysql+pymysql://root:Datacore1@127.0.0.1/cinder?charset=utf8&plugin=dbcounter'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:272          :   iniset /etc/cinder/cinder.conf DEFAULT api_paste_config /etc/cinder/api-paste.ini
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:273          :   iniset /etc/cinder/cinder.conf DEFAULT rootwrap_config /etc/cinder/rootwrap.conf
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:274          :   iniset /etc/cinder/cinder.conf DEFAULT osapi_volume_extension cinder.api.contrib.standard_extensions
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:275          :   iniset /etc/cinder/cinder.conf DEFAULT osapi_volume_listen 0.0.0.0
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:276          :   iniset /etc/cinder/cinder.conf DEFAULT state_path /opt/stack/data/cinder
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:277          :   iniset /etc/cinder/cinder.conf oslo_concurrency lock_path /opt/stack/data/cinder
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:278          :   [[ 4 == 6 ]]
+ lib/cinder:configure_cinder:281          :   iniset /etc/cinder/cinder.conf DEFAULT my_ip 10.200.2.118
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:283          :   iniset /etc/cinder/cinder.conf key_manager backend cinder.keymgr.conf_key_mgr.ConfKeyManager
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/cinder:configure_cinder:284          :   openssl rand -hex 16
+ lib/cinder:configure_cinder:284          :   iniset /etc/cinder/cinder.conf key_manager fixed_key 71ac3de42d513f71aafef49402e517ad
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:285          :   [[ -n '' ]]
+ lib/cinder:configure_cinder:290          :   iniset /etc/cinder/cinder.conf DEFAULT quota_volumes 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:291          :   iniset /etc/cinder/cinder.conf DEFAULT quota_backups 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:292          :   iniset /etc/cinder/cinder.conf DEFAULT quota_snapshots 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:297          :   iniset /etc/cinder/cinder.conf DEFAULT rpc_response_timeout 120
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:299          :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/cinder:configure_cinder:299          :   [[ -n lvm:lvmdriver-1 ]]
+ lib/cinder:configure_cinder:300          :   local enabled_backends=
+ lib/cinder:configure_cinder:301          :   local default_name=
+ lib/cinder:configure_cinder:302          :   local be be_name be_type
+ lib/cinder:configure_cinder:303          :   for be in ${CINDER_ENABLED_BACKENDS//,/ }
+ lib/cinder:configure_cinder:304          :   be_type=lvm
+ lib/cinder:configure_cinder:305          :   be_name=lvmdriver-1
+ lib/cinder:configure_cinder:306          :   type configure_cinder_backend_lvm
+ lib/cinder:configure_cinder:307          :   configure_cinder_backend_lvm lvmdriver-1
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:48 :   local be_name=lvmdriver-1
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:50 :   iniset /etc/cinder/cinder.conf lvmdriver-1 volume_backend_name lvmdriver-1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:51 :   iniset /etc/cinder/cinder.conf lvmdriver-1 volume_driver cinder.volume.drivers.lvm.LVMVolumeDriver
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:52 :   iniset /etc/cinder/cinder.conf lvmdriver-1 volume_group stack-volumes-lvmdriver-1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:53 :   iniset /etc/cinder/cinder.conf lvmdriver-1 target_helper lioadm
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:54 :   iniset /etc/cinder/cinder.conf lvmdriver-1 lvm_type auto
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder_backends/lvm:configure_cinder_backend_lvm:55 :   iniset /etc/cinder/cinder.conf lvmdriver-1 volume_clear zero
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:309          :   [[ -z '' ]]
+ lib/cinder:configure_cinder:310          :   default_name=lvmdriver-1
+ lib/cinder:configure_cinder:312          :   enabled_backends+=lvmdriver-1,
+ lib/cinder:configure_cinder:314          :   iniset /etc/cinder/cinder.conf DEFAULT enabled_backends lvmdriver-1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:315          :   [[ -n lvmdriver-1 ]]
+ lib/cinder:configure_cinder:316          :   iniset /etc/cinder/cinder.conf DEFAULT default_volume_type lvmdriver-1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:318          :   configure_cinder_image_volume_cache
+ lib/cinder:configure_cinder_image_volume_cache:624 :   for be in ${CINDER_CACHE_ENABLED_FOR_BACKENDS//,/ }
+ lib/cinder:configure_cinder_image_volume_cache:625 :   local be_name=lvmdriver-1
+ lib/cinder:configure_cinder_image_volume_cache:627 :   iniset /etc/cinder/cinder.conf lvmdriver-1 image_volume_cache_enabled True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder_image_volume_cache:629 :   [[ -n '' ]]
+ lib/cinder:configure_cinder_image_volume_cache:633 :   [[ -n '' ]]
+ lib/cinder:configure_cinder:321          :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/cinder:configure_cinder:329          :   is_service_enabled ceilometer
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/cinder:configure_cinder:333          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/cinder:configure_cinder:347          :   '[' False '!=' False ']'
+ lib/cinder:configure_cinder:351          :   iniset_rpc_backend cinder /etc/cinder/cinder.conf
+ lib/rpc_backend:iniset_rpc_backend:157   :   local package=cinder
+ lib/rpc_backend:iniset_rpc_backend:158   :   local file=/etc/cinder/cinder.conf
+ lib/rpc_backend:iniset_rpc_backend:159   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:160   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:161   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:162   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:139    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:140    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:get_transport_url:141    :   echo rabbit://stackrabbit:Datacore1@10.200.2.118:5672/
+ lib/rpc_backend:iniset_rpc_backend:162   :   iniset /etc/cinder/cinder.conf DEFAULT transport_url rabbit://stackrabbit:Datacore1@10.200.2.118:5672/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/rpc_backend:iniset_rpc_backend:163   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:166   :   '[' -n '' ']'
+ lib/cinder:configure_cinder:354          :   setup_logging /etc/cinder/cinder.conf True
+ functions:setup_logging:674              :   setup_systemd_logging /etc/cinder/cinder.conf
+ functions:setup_systemd_logging:689      :   local conf_file=/etc/cinder/cinder.conf
++ functions:setup_systemd_logging:694      :   trueorfalse False USE_JOURNAL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions:setup_systemd_logging:694      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:695      :   local pidstr=
+ functions:setup_systemd_logging:696      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:700      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:702      :   iniset /etc/cinder/cinder.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:704      :   iniset /etc/cinder/cinder.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:705      :   iniset /etc/cinder/cinder.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:706      :   iniset /etc/cinder/cinder.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:356          :   is_service_enabled c-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/cinder:configure_cinder:357          :   write_uwsgi_config /etc/cinder/cinder-api-uwsgi.ini /usr/local/bin/cinder-wsgi /volume
+ lib/apache:write_uwsgi_config:254        :   local file=/etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:write_uwsgi_config:255        :   local wsgi=/usr/local/bin/cinder-wsgi
+ lib/apache:write_uwsgi_config:256        :   local url=/volume
+ lib/apache:write_uwsgi_config:257        :   local http=
+ lib/apache:write_uwsgi_config:258        :   local name=
++ lib/apache:write_uwsgi_config:259        :   basename /usr/local/bin/cinder-wsgi
+ lib/apache:write_uwsgi_config:259        :   name=cinder-wsgi
+ lib/apache:write_uwsgi_config:263        :   local socket_dir=/var/run/uwsgi
+ lib/apache:write_uwsgi_config:267        :   sudo mkdir -p /etc/tmpfiles.d/
+ lib/apache:write_uwsgi_config:268        :   echo 'd /var/run/uwsgi 0755 stack root'
+ lib/apache:write_uwsgi_config:268        :   sudo tee /etc/tmpfiles.d/uwsgi.conf
d /var/run/uwsgi 0755 stack root
+ lib/apache:write_uwsgi_config:269        :   sudo systemd-tmpfiles --create /etc/tmpfiles.d/uwsgi.conf
+ lib/apache:write_uwsgi_config:271        :   local socket=/var/run/uwsgi/cinder-wsgi.socket
+ lib/apache:write_uwsgi_config:274        :   rm -rf /etc/cinder/cinder-api-uwsgi.ini
+ lib/apache:write_uwsgi_config:275        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi wsgi-file /usr/local/bin/cinder-wsgi
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:276        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi processes 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:278        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi master true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:280        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi die-on-term true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:281        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi exit-on-reload false
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:284        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi worker-reload-mercy 90
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:285        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi enable-threads true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:286        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi plugins http,python3
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:288        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi thunder-lock true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:290        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:292        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi buffer-size 65535
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:294        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi add-header 'Connection: close'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:296        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi lazy-apps true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:299        :   [[ -n '' ]]
+ lib/apache:write_uwsgi_config:302        :   local apache_conf=
++ lib/apache:write_uwsgi_config:303        :   apache_site_config_for cinder-wsgi
++ lib/apache:apache_site_config_for:186    :   local site=cinder-wsgi
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:567           :   [[ -z deb ]]
++ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/cinder-wsgi.conf
+ lib/apache:write_uwsgi_config:303        :   apache_conf=/etc/apache2/sites-available/cinder-wsgi.conf
+ lib/apache:write_uwsgi_config:304        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi socket /var/run/uwsgi/cinder-wsgi.socket
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:305        :   iniset /etc/cinder/cinder-api-uwsgi.ini uwsgi chmod-socket 666
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:306        :   echo 'ProxyPass "/volume" "unix:/var/run/uwsgi/cinder-wsgi.socket|uwsgi://uwsgi-uds-cinder-wsgi" retry=0 '
+ lib/apache:write_uwsgi_config:306        :   sudo tee -a /etc/apache2/sites-available/cinder-wsgi.conf
ProxyPass "/volume" "unix:/var/run/uwsgi/cinder-wsgi.socket|uwsgi://uwsgi-uds-cinder-wsgi" retry=0 
+ lib/apache:write_uwsgi_config:307        :   enable_apache_site cinder-wsgi
+ lib/apache:enable_apache_site:203        :   local site=cinder-wsgi
+ lib/apache:enable_apache_site:205        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:59          :   local mod=version
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:206        :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:207        :   sudo a2ensite cinder-wsgi
Enabling site cinder-wsgi.
To activate the new configuration, you need to run:
  systemctl reload apache2
+ lib/apache:write_uwsgi_config:308        :   restart_apache_server
+ lib/apache:restart_apache_server:250     :   restart_service apache2
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart apache2
+ lib/cinder:configure_cinder:360          :   [[ -r /opt/stack/devstack/lib/cinder_plugins/default ]]
+ lib/cinder:configure_cinder:364          :   iniset /etc/cinder/cinder.conf DEFAULT osapi_volume_workers 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:366          :   iniset /etc/cinder/cinder.conf DEFAULT glance_api_servers http://10.200.2.118/image
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:367          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/cinder:configure_cinder:373          :   configure_keystone_authtoken_middleware /etc/cinder/cinder.conf nova nova
+ lib/keystone:configure_keystone_authtoken_middleware:447 :   local conf_file=/etc/cinder/cinder.conf
+ lib/keystone:configure_keystone_authtoken_middleware:448 :   local admin_user=nova
+ lib/keystone:configure_keystone_authtoken_middleware:449 :   local section=nova
+ lib/keystone:configure_keystone_authtoken_middleware:451 :   iniset /etc/cinder/cinder.conf nova auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:452 :   iniset /etc/cinder/cinder.conf nova interface public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:453 :   iniset /etc/cinder/cinder.conf nova auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:454 :   iniset /etc/cinder/cinder.conf nova username nova
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:455 :   iniset /etc/cinder/cinder.conf nova password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:456 :   iniset /etc/cinder/cinder.conf nova user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:457 :   iniset /etc/cinder/cinder.conf nova project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:458 :   iniset /etc/cinder/cinder.conf nova project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:460 :   iniset /etc/cinder/cinder.conf nova cafile /opt/stack/data/ca-bundle.pem
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:461 :   iniset /etc/cinder/cinder.conf nova memcached_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:374          :   iniset /etc/cinder/cinder.conf nova region_name RegionOne
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:375          :   iniset /etc/cinder/cinder.conf DEFAULT graceful_shutdown_timeout 5
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:377          :   [[ ! -z '' ]]
+ lib/cinder:configure_cinder:379          :   is_service_enabled etcd3
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/cinder:configure_cinder:380          :   iniset /etc/cinder/cinder.conf coordination backend_url etcd3+http://10.200.2.118:2379
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/cinder:configure_cinder:383          :   [[ False == True ]]
+ lib/cinder:configure_cinder:383          :   [[ False == True ]]
+ ./stack.sh:main:924                      :   is_service_enabled neutron
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:926                      :   stack_install_service neutron
+ lib/stack:stack_install_service:20       :   local service=neutron
+ lib/stack:stack_install_service:21       :   type install_neutron
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_neutron
+ lib/neutron:install_neutron:703          :   is_neutron_legacy_enabled
++ lib/neutron:is_neutron_legacy_enabled:142 :   sed s/neutron-//g
++ lib/neutron:is_neutron_legacy_enabled:142 :   echo
+ lib/neutron:is_neutron_legacy_enabled:142 :   disabled_services_copy=
+ lib/neutron:is_neutron_legacy_enabled:143 :   [[ , =~ ,neutron ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   [[ ,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat =~ ,q- ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   return 0
+ lib/neutron:install_neutron:705          :   install_mutnauq
+ lib/neutron-legacy:install_mutnauq:472   :   use_library_from_git neutron-lib
+ inc/python:use_library_from_git:246      :   local name=neutron-lib
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,neutron-lib, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/neutron-legacy:install_mutnauq:477   :   git_clone https://opendev.org/openstack/neutron.git /opt/stack/neutron master
+ functions-common:git_clone:596           :   local git_remote=https://opendev.org/openstack/neutron.git
+ functions-common:git_clone:597           :   local git_dest=/opt/stack/neutron
+ functions-common:git_clone:598           :   local git_ref=master
+ functions-common:git_clone:599           :   local orig_dir
++ functions-common:git_clone:600           :   pwd
+ functions-common:git_clone:600           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:601           :   local git_clone_flags=
++ functions-common:git_clone:603           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:603           :   RECLONE=False
+ functions-common:git_clone:604           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:608           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:617           :   echo master
+ functions-common:git_clone:617           :   egrep -q '^refs'
+ functions-common:git_clone:631           :   [[ ! -d /opt/stack/neutron ]]
+ functions-common:git_clone:639           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:674           :   sudo git config --system --add safe.directory /opt/stack/neutron
+ functions-common:git_clone:677           :   cd /opt/stack/neutron
+ functions-common:git_clone:678           :   git show --oneline
+ functions-common:git_clone:678           :   head -1
f1926c086a Merge "[OVN][QoS] Add minimum bandwidth rule support to ML2/OVN"
+ functions-common:git_clone:679           :   cd /opt/stack/devstack
+ lib/neutron-legacy:install_mutnauq:478   :   setup_develop /opt/stack/neutron
+ inc/python:setup_develop:334             :   local bindep
+ inc/python:setup_develop:335             :   [[ /opt/stack/neutron == -bindep* ]]
+ inc/python:setup_develop:339             :   local project_dir=/opt/stack/neutron
+ inc/python:setup_develop:340             :   local extras=
+ inc/python:setup_develop:341             :   _setup_package_with_constraints_edit /opt/stack/neutron -e
+ inc/python:_setup_package_with_constraints_edit:360 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:361 :   [[ /opt/stack/neutron == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:365 :   local project_dir=/opt/stack/neutron
+ inc/python:_setup_package_with_constraints_edit:366 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:367 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:374 :   cd /opt/stack/neutron
++ inc/python:_setup_package_with_constraints_edit:374 :   pwd
+ inc/python:_setup_package_with_constraints_edit:374 :   project_dir=/opt/stack/neutron
+ inc/python:_setup_package_with_constraints_edit:376 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:380 :   local name
++ inc/python:_setup_package_with_constraints_edit:381 :   awk '/^name.*=/ {print $3}' /opt/stack/neutron/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:381 :   name=neutron
+ inc/python:_setup_package_with_constraints_edit:383 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- neutron
+ inc/python:_setup_package_with_constraints_edit:386 :   setup_package /opt/stack/neutron -e
+ inc/python:setup_package:414             :   local bindep=0
+ inc/python:setup_package:415             :   local bindep_flag=
+ inc/python:setup_package:416             :   local bindep_profiles=
+ inc/python:setup_package:417             :   [[ /opt/stack/neutron == -bindep* ]]
+ inc/python:setup_package:422             :   local project_dir=/opt/stack/neutron
+ inc/python:setup_package:423             :   local flags=-e
+ inc/python:setup_package:424             :   local extras=
+ inc/python:setup_package:428             :   [[ -n -e ]]
+ inc/python:setup_package:428             :   [[ -z '' ]]
+ inc/python:setup_package:428             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:433             :   [[ ! -z '' ]]
+ inc/python:setup_package:438             :   [[ 0 == 1 ]]
+ inc/python:setup_package:442             :   pip_install -e /opt/stack/neutron
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/neutron
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -e /opt/stack/neutron
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Obtaining file:///opt/stack/neutron
Requirement already satisfied: Jinja2===3.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 10)) (3.1.2)
Requirement already satisfied: MarkupSafe===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 13)) (2.1.1)
Requirement already satisfied: Paste===3.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 14)) (3.5.1)
Requirement already satisfied: PasteDeploy===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 15)) (2.1.1)
Requirement already satisfied: Routes===2.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 24)) (2.5.1)
Requirement already satisfied: SQLAlchemy===1.4.40 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 25)) (1.4.40)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 32)) (1.8.7)
Requirement already satisfied: alembic===1.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 78)) (1.8.1)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (2.5.0)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 131)) (5.1.1)
Requirement already satisfied: eventlet===0.33.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 161)) (0.33.1)
Requirement already satisfied: futurist===2.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 173)) (2.4.1)
Requirement already satisfied: greenlet===1.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 187)) (1.1.2)
Requirement already satisfied: httplib2===0.20.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 195)) (0.20.4)
Requirement already satisfied: importlib-metadata===4.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 204)) (4.12.0)
Requirement already satisfied: importlib-resources===5.9.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 205)) (5.9.0)
Requirement already satisfied: keystoneauth1===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 227)) (5.0.0)
Requirement already satisfied: keystonemiddleware===10.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 228)) (10.0.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.8.0)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 261)) (0.11.0)
Requirement already satisfied: neutron-lib===3.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 264)) (3.1.0)
Requirement already satisfied: openstacksdk===0.100.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 283)) (0.100.0)
Requirement already satisfied: os-ken===2.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 290)) (2.4.0)
Requirement already satisfied: os-resource-classes===1.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 293)) (1.1.0)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 294)) (1.7.0)
Requirement already satisfied: os-traits===2.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 296)) (2.8.0)
Requirement already satisfied: os-vif===2.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 297)) (2.8.0)
Requirement already satisfied: oslo.cache===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 302)) (3.0.0)
Requirement already satisfied: oslo.concurrency===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (5.0.0)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 304)) (9.0.0)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (5.0.0)
Requirement already satisfied: oslo.db===12.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 306)) (12.0.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 307)) (5.1.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 309)) (5.0.0)
Requirement already satisfied: oslo.messaging===13.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 310)) (13.0.0)
Requirement already satisfied: oslo.metrics===0.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 311)) (0.4.0)
Requirement already satisfied: oslo.middleware===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 312)) (5.0.0)
Requirement already satisfied: oslo.policy===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 313)) (4.0.0)
Requirement already satisfied: oslo.privsep===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 314)) (3.0.0)
Requirement already satisfied: oslo.reports===2.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 315)) (2.4.0)
Requirement already satisfied: oslo.rootwrap===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 316)) (6.3.1)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 317)) (5.0.0)
Requirement already satisfied: oslo.service===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (3.0.0)
Requirement already satisfied: oslo.upgradecheck===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 319)) (2.0.0)
Requirement already satisfied: oslo.utils===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 320)) (6.0.0)
Requirement already satisfied: oslo.versionedobjects===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 321)) (3.0.0)
Requirement already satisfied: osprofiler===3.4.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 325)) (3.4.3)
Requirement already satisfied: ovs===2.17.1.post1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 326)) (2.17.1.post1)
Requirement already satisfied: ovsdbapp===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 327)) (2.1.0)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 328)) (21.3)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 332)) (5.10.0)
Requirement already satisfied: pecan===1.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 333)) (1.4.2)
Requirement already satisfied: prettytable===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 342)) (3.3.0)
Requirement already satisfied: prometheus-client===0.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 344)) (0.14.1)
Requirement already satisfied: psutil===5.9.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 346)) (5.9.1)
Requirement already satisfied: pyOpenSSL===22.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 352)) (22.0.0)
Requirement already satisfied: pycadf===3.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 356)) (3.1.1)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 364)) (0.9.6)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (3.0.9)
Requirement already satisfied: pyroute2===0.7.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 372)) (0.7.2)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 396)) (2.8.2)
Requirement already satisfied: python-designateclient===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 397)) (5.0.0)
Requirement already satisfied: python-keystoneclient===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 405)) (5.0.0)
Requirement already satisfied: python-neutronclient===8.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 415)) (8.0.0)
Requirement already satisfied: python-novaclient===18.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 416)) (18.0.0)
Requirement already satisfied: pytz===2022.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 435)) (2022.2.1)
Requirement already satisfied: repoze.lru===0.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (0.7)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 447)) (2.28.1)
Requirement already satisfied: requestsexceptions===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 455)) (1.4.0)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 460)) (1.5.0)
Requirement already satisfied: setproctitle===1.3.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 480)) (1.3.2)
Requirement already satisfied: simplejson===3.17.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 482)) (3.17.6)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 483)) (1.16.0)
Requirement already satisfied: sortedcontainers===2.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 487)) (2.4.0)
Requirement already satisfied: sqlalchemy-migrate===0.13.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 510)) (0.13.0)
Requirement already satisfied: sqlparse===0.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 511)) (0.4.2)
Requirement already satisfied: statsd===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 514)) (3.3.0)
Requirement already satisfied: stevedore===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 516)) (4.0.0)
Requirement already satisfied: tenacity===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 531)) (6.3.1)
Requirement already satisfied: testresources===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 534)) (2.0.1)
Requirement already satisfied: testscenarios===0.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 535)) (0.5.0)
Requirement already satisfied: testtools===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 536)) (2.5.0)
Requirement already satisfied: tooz===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 545)) (3.0.0)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 562)) (1.26.11)
Requirement already satisfied: voluptuous===0.13.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 568)) (0.13.1)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 572)) (0.2.5)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 577)) (1.14.1)
Requirement already satisfied: yappi===1.3.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 585)) (1.3.6)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 590)) (3.8.1)
Requirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (from Paste===3.5.1->-c /opt/stack/requirements/upper-constraints.txt (line 14)) (60.9.3)
Requirement already satisfied: Mako===1.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 12)) (1.2.1)
Requirement already satisfied: dnspython===2.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 147)) (2.2.1)
Requirement already satisfied: iso8601===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 212)) (1.0.2)
Requirement already satisfied: jmespath===1.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 217)) (1.0.1)
Requirement already satisfied: appdirs===1.4.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 86)) (1.4.4)
Requirement already satisfied: munch===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 254)) (2.5.0)
Requirement already satisfied: jsonpatch===1.32 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 219)) (1.32)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 151)) (1.1.8)
Requirement already satisfied: cryptography===36.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 126)) (36.0.2)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 253)) (1.0.4)
Requirement already satisfied: fasteners===0.17.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 166)) (0.17.3)
Requirement already satisfied: cachetools===5.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 103)) (5.2.0)
Requirement already satisfied: amqp===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 79)) (5.1.1)
Requirement already satisfied: kombu===5.2.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 229)) (5.2.4)
Requirement already satisfied: bcrypt===3.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 95)) (3.2.2)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 110)) (1.15.1)
Requirement already satisfied: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 168)) (4.0.1)
Requirement already satisfied: logutils===0.3.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 239)) (0.3.5)
Requirement already satisfied: osc-lib===2.6.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 300)) (2.6.1)
Requirement already satisfied: cliff===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 114)) (4.0.0)
Requirement already satisfied: jsonschema===4.7.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 223)) (4.7.2)
Requirement already satisfied: os-client-config===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 288)) (2.1.0)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 112)) (2.1.0)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 447)) (2019.11.28)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 200)) (3.3)
Requirement already satisfied: Tempita===0.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 29)) (0.5.2)
Requirement already satisfied: extras===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 164)) (1.0.0)
Requirement already satisfied: jsonpointer===2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (2.3)
Requirement already satisfied: vine===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 564)) (5.0.0)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 358)) (2.21)
Requirement already satisfied: autopage===0.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 93)) (0.5.1)
Requirement already satisfied: cmd2===2.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 115)) (2.4.2)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 373)) (0.18.1)
Requirement already satisfied: pyperclip===1.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 370)) (1.8.2)
Installing collected packages: neutron
  Attempting uninstall: neutron
    Found existing installation: neutron 20.1.0.dev503
    Can't uninstall 'neutron'. No files were found to uninstall.
  Running setup.py develop for neutron
Successfully installed neutron
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163671280
+ functions-common:time_stop:2448          :   [[ -z 1661163671280 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163678406
+ functions-common:time_stop:2452          :   elapsed_time=7126
+ functions-common:time_stop:2453          :   total=53619
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=60745
+ inc/python:pip_install:199               :   return 0
+ inc/python:setup_package:444             :   [[ -e == \-\e ]]
+ inc/python:setup_package:445             :   safe_chown -R stack /opt/stack/neutron/neutron.egg-info
+ functions-common:safe_chown:2340         :   _safe_permission_operation chown -R stack /opt/stack/neutron/neutron.egg-info
+ functions-common:_safe_permission_operation:2165 :   local xtrace
++ functions-common:_safe_permission_operation:2166 :   set +o
++ functions-common:_safe_permission_operation:2166 :   grep xtrace
+ functions-common:_safe_permission_operation:2166 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2167 :   set +o xtrace
+ functions-common:_safe_permission_operation:2188 :   sudo chown -R stack /opt/stack/neutron/neutron.egg-info
+ inc/python:_setup_package_with_constraints_edit:390 :   use_library_from_git /opt/stack/neutron
+ inc/python:use_library_from_git:246      :   local name=/opt/stack/neutron
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,/opt/stack/neutron, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/neutron-legacy:install_mutnauq:480   :   [[ ovn == \o\v\n ]]
+ lib/neutron-legacy:install_mutnauq:481   :   install_ovn
+ lib/neutron_plugins/ovn_agent:install_ovn:363 :   echo 'Installing OVN and dependent packages'
Installing OVN and dependent packages
+ lib/neutron_plugins/ovn_agent:install_ovn:366 :   ovn_sanity_check
+ lib/neutron_plugins/ovn_agent:ovn_sanity_check:350 :   is_service_enabled q-agt neutron-agt
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:ovn_sanity_check:352 :   is_service_enabled q-l3 neutron-l3
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:ovn_sanity_check:354 :   is_service_enabled q-svc neutron-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:ovn_sanity_check:354 :   [[ ! ovn,logger =~ ovn ]]
+ lib/neutron_plugins/ovn_agent:ovn_sanity_check:356 :   is_service_enabled q-svc neutron-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:ovn_sanity_check:356 :   [[ ! local,flat,vlan,geneve =~ geneve ]]
+ lib/neutron_plugins/ovn_agent:install_ovn:369 :   pip_install tox
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install tox
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt tox
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Requirement already satisfied: tox in /usr/local/lib/python3.8/dist-packages (3.24.5)
Requirement already satisfied: toml===0.10.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 543)) (0.10.2)
Requirement already satisfied: virtualenv===20.16.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 567)) (20.16.3)
Requirement already satisfied: pluggy===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 340)) (1.0.0)
Requirement already satisfied: py===1.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 351)) (1.11.0)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 483)) (1.16.0)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 328)) (21.3)
Requirement already satisfied: filelock===3.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 167)) (3.8.0)
Requirement already satisfied: platformdirs===2.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 339)) (2.5.2)
Requirement already satisfied: distlib===0.3.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 138)) (0.3.5)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (3.0.9)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163678611
+ functions-common:time_stop:2448          :   [[ -z 1661163678611 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163681540
+ functions-common:time_stop:2452          :   elapsed_time=2929
+ functions-common:time_stop:2453          :   total=60745
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=63674
+ inc/python:pip_install:199               :   return 0
+ lib/neutron_plugins/ovn_agent:install_ovn:371 :   sudo mkdir -p /var/run/openvswitch
++ lib/neutron_plugins/ovn_agent:install_ovn:372 :   whoami
+ lib/neutron_plugins/ovn_agent:install_ovn:372 :   sudo chown stack /var/run/openvswitch
+ lib/neutron_plugins/ovn_agent:install_ovn:376 :   sudo ln -s /var/run/openvswitch /var/run/ovn
+ lib/neutron_plugins/ovn_agent:install_ovn:378 :   [[ False == \T\r\u\e ]]
+ lib/neutron_plugins/ovn_agent:install_ovn:401 :   source /opt/stack/devstack/tools/fixup_stuff.sh
++ tools/fixup_stuff.sh:source:12           :   [[ -z /opt/stack/devstack ]]
+ lib/neutron_plugins/ovn_agent:install_ovn:402 :   fixup_ovn_centos
+ tools/fixup_stuff.sh:fixup_ovn_centos:133 :   [[ Ubuntu != \C\e\n\t\O\S ]]
+ tools/fixup_stuff.sh:fixup_ovn_centos:134 :   return
++ lib/neutron_plugins/ovn_agent:install_ovn:403 :   get_packages openvswitch
++ functions-common:get_packages:1311       :   local xtrace
+++ functions-common:get_packages:1312       :   set +o
+++ functions-common:get_packages:1312       :   grep xtrace
++ functions-common:get_packages:1312       :   xtrace='set -o xtrace'
++ functions-common:get_packages:1313       :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:install_ovn:403 :   install_package fakeroot make openvswitch-switch
+ functions-common:install_package:1463    :   update_package_repo
+ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1436 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1443 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1444 :   apt_get_update
+ functions-common:apt_get_update:1189     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1189     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1190     :   return
+ functions-common:install_package:1464    :   real_install_package fakeroot make openvswitch-switch
+ functions-common:real_install_package:1449 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:real_install_package:1450 :   apt_get install fakeroot make openvswitch-switch
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   set +o
++ functions-common:apt_get:1218            :   grep xtrace
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install fakeroot make openvswitch-switch
Reading package lists...
Building dependency tree...
Reading state information...
fakeroot is already the newest version (1.24-1).
make is already the newest version (4.2.1-1.2).
openvswitch-switch is already the newest version (2.13.8-0ubuntu1).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 202 not upgraded.
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163681717
+ functions-common:time_stop:2448          :   [[ -z 1661163681717 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163682372
+ functions-common:time_stop:2452          :   elapsed_time=655
+ functions-common:time_stop:2453          :   total=81280
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=81935
+ functions-common:apt_get:1238            :   return 0
++ lib/neutron_plugins/ovn_agent:install_ovn:404 :   get_packages ovn
++ functions-common:get_packages:1311       :   local xtrace
+++ functions-common:get_packages:1312       :   set +o
+++ functions-common:get_packages:1312       :   grep xtrace
++ functions-common:get_packages:1312       :   xtrace='set -o xtrace'
++ functions-common:get_packages:1313       :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:install_ovn:404 :   install_package ovn-central ovn-controller-vtep ovn-host
+ functions-common:install_package:1463    :   update_package_repo
+ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1436 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1443 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1444 :   apt_get_update
+ functions-common:apt_get_update:1189     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1189     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1190     :   return
+ functions-common:install_package:1464    :   real_install_package ovn-central ovn-controller-vtep ovn-host
+ functions-common:real_install_package:1449 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:real_install_package:1450 :   apt_get install ovn-central ovn-controller-vtep ovn-host
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   set +o
++ functions-common:apt_get:1218            :   grep xtrace
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install ovn-central ovn-controller-vtep ovn-host
Reading package lists...
Building dependency tree...
Reading state information...
ovn-central is already the newest version (20.03.2-0ubuntu0.20.04.3).
ovn-host is already the newest version (20.03.2-0ubuntu0.20.04.3).
ovn-controller-vtep is already the newest version (20.03.2-0ubuntu0.20.04.3).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 202 not upgraded.
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163682487
+ functions-common:time_stop:2448          :   [[ -z 1661163682487 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163683157
+ functions-common:time_stop:2452          :   elapsed_time=670
+ functions-common:time_stop:2453          :   total=81935
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=82605
+ functions-common:apt_get:1238            :   return 0
+ lib/neutron_plugins/ovn_agent:install_ovn:408 :   export PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/neutron_plugins/ovn_agent:install_ovn:408 :   PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/neutron_plugins/ovn_agent:install_ovn:411 :   local log_archive_dir=/opt/stack/logs/archive
+ lib/neutron_plugins/ovn_agent:install_ovn:412 :   mkdir -p /opt/stack/logs/archive
+ lib/neutron_plugins/ovn_agent:install_ovn:413 :   for logfile in ovs-vswitchd.log ovn-northd.log ovn-controller.log ovn-controller-vtep.log ovs-vtep.log ovsdb-server.log ovsdb-server-nb.log ovsdb-server-sb.log
+ lib/neutron_plugins/ovn_agent:install_ovn:414 :   '[' -f /opt/stack/logs/ovs-vswitchd.log ']'
+ lib/neutron_plugins/ovn_agent:install_ovn:413 :   for logfile in ovs-vswitchd.log ovn-northd.log ovn-controller.log ovn-controller-vtep.log ovs-vtep.log ovsdb-server.log ovsdb-server-nb.log ovsdb-server-sb.log
+ lib/neutron_plugins/ovn_agent:install_ovn:414 :   '[' -f /opt/stack/logs/ovn-northd.log ']'
+ lib/neutron_plugins/ovn_agent:install_ovn:413 :   for logfile in ovs-vswitchd.log ovn-northd.log ovn-controller.log ovn-controller-vtep.log ovs-vtep.log ovsdb-server.log ovsdb-server-nb.log ovsdb-server-sb.log
+ lib/neutron_plugins/ovn_agent:install_ovn:414 :   '[' -f /opt/stack/logs/ovn-controller.log ']'
+ lib/neutron_plugins/ovn_agent:install_ovn:413 :   for logfile in ovs-vswitchd.log ovn-northd.log ovn-controller.log ovn-controller-vtep.log ovs-vtep.log ovsdb-server.log ovsdb-server-nb.log ovsdb-server-sb.log
+ lib/neutron_plugins/ovn_agent:install_ovn:414 :   '[' -f /opt/stack/logs/ovn-controller-vtep.log ']'
+ lib/neutron_plugins/ovn_agent:install_ovn:413 :   for logfile in ovs-vswitchd.log ovn-northd.log ovn-controller.log ovn-controller-vtep.log ovs-vtep.log ovsdb-server.log ovsdb-server-nb.log ovsdb-server-sb.log
+ lib/neutron_plugins/ovn_agent:install_ovn:414 :   '[' -f /opt/stack/logs/ovs-vtep.log ']'
+ lib/neutron_plugins/ovn_agent:install_ovn:413 :   for logfile in ovs-vswitchd.log ovn-northd.log ovn-controller.log ovn-controller-vtep.log ovs-vtep.log ovsdb-server.log ovsdb-server-nb.log ovsdb-server-sb.log
+ lib/neutron_plugins/ovn_agent:install_ovn:414 :   '[' -f /opt/stack/logs/ovsdb-server.log ']'
+ lib/neutron_plugins/ovn_agent:install_ovn:413 :   for logfile in ovs-vswitchd.log ovn-northd.log ovn-controller.log ovn-controller-vtep.log ovs-vtep.log ovsdb-server.log ovsdb-server-nb.log ovsdb-server-sb.log
+ lib/neutron_plugins/ovn_agent:install_ovn:414 :   '[' -f /opt/stack/logs/ovsdb-server-nb.log ']'
+ lib/neutron_plugins/ovn_agent:install_ovn:413 :   for logfile in ovs-vswitchd.log ovn-northd.log ovn-controller.log ovn-controller-vtep.log ovs-vtep.log ovsdb-server.log ovsdb-server-nb.log ovsdb-server-sb.log
+ lib/neutron_plugins/ovn_agent:install_ovn:414 :   '[' -f /opt/stack/logs/ovsdb-server-sb.log ']'
+ lib/neutron_plugins/ovn_agent:install_ovn:420 :   use_library_from_git ovsdbapp
+ inc/python:use_library_from_git:246      :   local name=ovsdbapp
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,ovsdbapp, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/neutron_plugins/ovn_agent:install_ovn:426 :   [[ False == \T\r\u\e ]]
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:929                      :   is_service_enabled nova
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:931                      :   stack_install_service nova
+ lib/stack:stack_install_service:20       :   local service=nova
+ lib/stack:stack_install_service:21       :   type install_nova
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_nova
+ lib/nova:install_nova:889                :   use_library_from_git os-vif
+ inc/python:use_library_from_git:246      :   local name=os-vif
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,os-vif, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/nova:install_nova:894                :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:install_nova:894                :   [[ -r /opt/stack/devstack/lib/nova_plugins/hypervisor-libvirt ]]
+ lib/nova:install_nova:895                :   install_nova_hypervisor
+ lib/nova_plugins/hypervisor-libvirt:install_nova_hypervisor:87 :   install_libvirt
+ lib/nova_plugins/functions-libvirt:install_libvirt:69 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- libvirt-python
+ lib/nova_plugins/functions-libvirt:install_libvirt:71 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/nova_plugins/functions-libvirt:install_libvirt:72 :   install_package qemu-system libvirt-clients libvirt-daemon-system libvirt-dev python3-libvirt
+ functions-common:install_package:1463    :   update_package_repo
+ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1436 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1443 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1444 :   apt_get_update
+ functions-common:apt_get_update:1189     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1189     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1190     :   return
+ functions-common:install_package:1464    :   real_install_package qemu-system libvirt-clients libvirt-daemon-system libvirt-dev python3-libvirt
+ functions-common:real_install_package:1449 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:real_install_package:1450 :   apt_get install qemu-system libvirt-clients libvirt-daemon-system libvirt-dev python3-libvirt
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   set +o
++ functions-common:apt_get:1218            :   grep xtrace
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install qemu-system libvirt-clients libvirt-daemon-system libvirt-dev python3-libvirt
Reading package lists...
Building dependency tree...
Reading state information...
python3-libvirt is already the newest version (6.1.0-1).
libvirt-clients is already the newest version (6.0.0-0ubuntu8.16).
libvirt-daemon-system is already the newest version (6.0.0-0ubuntu8.16).
qemu-system is already the newest version (1:4.2-3ubuntu6.23).
libvirt-dev is already the newest version (6.0.0-0ubuntu8.16).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 202 not upgraded.
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163683714
+ functions-common:time_stop:2448          :   [[ -z 1661163683714 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163684372
+ functions-common:time_stop:2452          :   elapsed_time=658
+ functions-common:time_stop:2453          :   total=82605
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=83263
+ functions-common:apt_get:1238            :   return 0
+ lib/nova_plugins/functions-libvirt:install_libvirt:73 :   is_arch aarch64
++ functions-common:is_arch:501             :   uname -m
+ functions-common:is_arch:501             :   [[ x86_64 == \a\a\r\c\h\6\4 ]]
+ lib/nova_plugins/functions-libvirt:install_libvirt:97 :   [[ False == True ]]
+ lib/nova_plugins/hypervisor-libvirt:install_nova_hypervisor:92 :   [[ kvm == \l\x\c ]]
+ lib/nova_plugins/hypervisor-libvirt:install_nova_hypervisor:104 :   [[ '' == \T\r\u\e ]]
+ lib/nova:install_nova:898                :   is_service_enabled n-novnc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
++ lib/nova:install_nova:900                :   trueorfalse False NOVNC_FROM_PACKAGE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ lib/nova:install_nova:900                :   NOVNC_FROM_PACKAGE=False
+ lib/nova:install_nova:901                :   '[' False = True ']'
+ lib/nova:install_nova:905                :   NOVNC_WEB_DIR=/opt/stack/novnc
+ lib/nova:install_nova:906                :   git_clone https://github.com/novnc/novnc.git /opt/stack/novnc v1.3.0
+ functions-common:git_clone:596           :   local git_remote=https://github.com/novnc/novnc.git
+ functions-common:git_clone:597           :   local git_dest=/opt/stack/novnc
+ functions-common:git_clone:598           :   local git_ref=v1.3.0
+ functions-common:git_clone:599           :   local orig_dir
++ functions-common:git_clone:600           :   pwd
+ functions-common:git_clone:600           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:601           :   local git_clone_flags=
++ functions-common:git_clone:603           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:603           :   RECLONE=False
+ functions-common:git_clone:604           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:608           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:617           :   echo v1.3.0
+ functions-common:git_clone:617           :   egrep -q '^refs'
+ functions-common:git_clone:631           :   [[ ! -d /opt/stack/novnc ]]
+ functions-common:git_clone:639           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:674           :   sudo git config --system --add safe.directory /opt/stack/novnc
+ functions-common:git_clone:677           :   cd /opt/stack/novnc
+ functions-common:git_clone:678           :   git show --oneline
+ functions-common:git_clone:678           :   head -1
8329372 Merge branch 'patch-1' of https://github.com/VibroAxe/noVNC
+ functions-common:git_clone:679           :   cd /opt/stack/devstack
+ lib/nova:install_nova:910                :   is_service_enabled n-spice
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:install_nova:922                :   git_clone https://opendev.org/openstack/nova.git /opt/stack/nova master
+ functions-common:git_clone:596           :   local git_remote=https://opendev.org/openstack/nova.git
+ functions-common:git_clone:597           :   local git_dest=/opt/stack/nova
+ functions-common:git_clone:598           :   local git_ref=master
+ functions-common:git_clone:599           :   local orig_dir
++ functions-common:git_clone:600           :   pwd
+ functions-common:git_clone:600           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:601           :   local git_clone_flags=
++ functions-common:git_clone:603           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:603           :   RECLONE=False
+ functions-common:git_clone:604           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:608           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:617           :   echo master
+ functions-common:git_clone:617           :   egrep -q '^refs'
+ functions-common:git_clone:631           :   [[ ! -d /opt/stack/nova ]]
+ functions-common:git_clone:639           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:674           :   sudo git config --system --add safe.directory /opt/stack/nova
+ functions-common:git_clone:677           :   cd /opt/stack/nova
+ functions-common:git_clone:678           :   git show --oneline
+ functions-common:git_clone:678           :   head -1
ddcc286ee1 Merge "enable blocked VDPA move operations"
+ functions-common:git_clone:679           :   cd /opt/stack/devstack
+ lib/nova:install_nova:923                :   setup_develop /opt/stack/nova
+ inc/python:setup_develop:334             :   local bindep
+ inc/python:setup_develop:335             :   [[ /opt/stack/nova == -bindep* ]]
+ inc/python:setup_develop:339             :   local project_dir=/opt/stack/nova
+ inc/python:setup_develop:340             :   local extras=
+ inc/python:setup_develop:341             :   _setup_package_with_constraints_edit /opt/stack/nova -e
+ inc/python:_setup_package_with_constraints_edit:360 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:361 :   [[ /opt/stack/nova == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:365 :   local project_dir=/opt/stack/nova
+ inc/python:_setup_package_with_constraints_edit:366 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:367 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:374 :   cd /opt/stack/nova
++ inc/python:_setup_package_with_constraints_edit:374 :   pwd
+ inc/python:_setup_package_with_constraints_edit:374 :   project_dir=/opt/stack/nova
+ inc/python:_setup_package_with_constraints_edit:376 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:380 :   local name
++ inc/python:_setup_package_with_constraints_edit:381 :   awk '/^name.*=/ {print $3}' /opt/stack/nova/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:381 :   name=nova
+ inc/python:_setup_package_with_constraints_edit:383 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- nova
+ inc/python:_setup_package_with_constraints_edit:386 :   setup_package /opt/stack/nova -e
+ inc/python:setup_package:414             :   local bindep=0
+ inc/python:setup_package:415             :   local bindep_flag=
+ inc/python:setup_package:416             :   local bindep_profiles=
+ inc/python:setup_package:417             :   [[ /opt/stack/nova == -bindep* ]]
+ inc/python:setup_package:422             :   local project_dir=/opt/stack/nova
+ inc/python:setup_package:423             :   local flags=-e
+ inc/python:setup_package:424             :   local extras=
+ inc/python:setup_package:428             :   [[ -n -e ]]
+ inc/python:setup_package:428             :   [[ -z '' ]]
+ inc/python:setup_package:428             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:433             :   [[ ! -z '' ]]
+ inc/python:setup_package:438             :   [[ 0 == 1 ]]
+ inc/python:setup_package:442             :   pip_install -e /opt/stack/nova
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/nova
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -e /opt/stack/nova
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Obtaining file:///opt/stack/nova
Requirement already satisfied: Jinja2===3.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 10)) (3.1.2)
Requirement already satisfied: MarkupSafe===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 13)) (2.1.1)
Requirement already satisfied: Paste===3.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 14)) (3.5.1)
Requirement already satisfied: PasteDeploy===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 15)) (2.1.1)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: Routes===2.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 24)) (2.5.1)
Requirement already satisfied: SQLAlchemy===1.4.40 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 25)) (1.4.40)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 32)) (1.8.7)
Requirement already satisfied: alembic===1.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 78)) (1.8.1)
Requirement already satisfied: castellan===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 107)) (4.0.0)
Requirement already satisfied: cryptography===36.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 126)) (36.0.2)
Requirement already satisfied: cursive===0.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 127)) (0.2.2)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 131)) (5.1.1)
Requirement already satisfied: eventlet===0.33.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 161)) (0.33.1)
Requirement already satisfied: futurist===2.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 173)) (2.4.1)
Requirement already satisfied: greenlet===1.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 187)) (1.1.2)
Requirement already satisfied: importlib-metadata===4.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 204)) (4.12.0)
Requirement already satisfied: importlib-resources===5.9.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 205)) (5.9.0)
Requirement already satisfied: iso8601===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 212)) (1.0.2)
Requirement already satisfied: jsonschema===4.7.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 223)) (4.7.2)
Requirement already satisfied: keystoneauth1===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 227)) (5.0.0)
Requirement already satisfied: keystonemiddleware===10.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 228)) (10.0.0)
Requirement already satisfied: lxml===4.9.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 239)) (4.9.1)
Requirement already satisfied: microversion-parse===1.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 243)) (1.0.1)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 259)) (0.8.0)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.11.0)
Requirement already satisfied: openstacksdk===0.100.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 282)) (0.100.0)
Requirement already satisfied: os-brick===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 286)) (6.0.0)
Requirement already satisfied: os-resource-classes===1.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 292)) (1.1.0)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 293)) (1.7.0)
Requirement already satisfied: os-traits===2.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 295)) (2.8.0)
Requirement already satisfied: os-vif===2.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 296)) (2.8.0)
Requirement already satisfied: os-win===5.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 297)) (5.7.0)
Requirement already satisfied: oslo.cache===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 301)) (3.0.0)
Requirement already satisfied: oslo.concurrency===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 302)) (5.0.0)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (9.0.0)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 304)) (5.0.0)
Requirement already satisfied: oslo.db===12.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (12.0.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 306)) (5.1.0)
Requirement already satisfied: oslo.limit===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 307)) (2.0.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 308)) (5.0.0)
Requirement already satisfied: oslo.messaging===13.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 309)) (13.0.0)
Requirement already satisfied: oslo.metrics===0.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 310)) (0.4.0)
Requirement already satisfied: oslo.middleware===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 311)) (5.0.0)
Requirement already satisfied: oslo.policy===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 312)) (4.0.0)
Requirement already satisfied: oslo.privsep===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 313)) (3.0.0)
Requirement already satisfied: oslo.reports===2.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 314)) (2.4.0)
Requirement already satisfied: oslo.rootwrap===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 315)) (6.3.1)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 316)) (5.0.0)
Requirement already satisfied: oslo.service===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 317)) (3.0.0)
Requirement already satisfied: oslo.upgradecheck===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (2.0.0)
Requirement already satisfied: oslo.utils===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 319)) (6.0.0)
Requirement already satisfied: oslo.versionedobjects===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 320)) (3.0.0)
Requirement already satisfied: ovsdbapp===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 326)) (2.1.0)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 327)) (21.3)
Requirement already satisfied: paramiko===2.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 329)) (2.11.0)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 331)) (5.10.0)
Requirement already satisfied: prettytable===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 341)) (3.3.0)
Requirement already satisfied: prometheus-client===0.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 343)) (0.14.1)
Requirement already satisfied: psutil===5.9.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 345)) (5.9.1)
Requirement already satisfied: pycadf===3.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 355)) (3.1.1)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 363)) (0.9.6)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 368)) (3.0.9)
Requirement already satisfied: pyroute2===0.7.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 371)) (0.7.2)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 372)) (0.18.1)
Requirement already satisfied: python-barbicanclient===5.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 387)) (5.4.0)
Requirement already satisfied: python-cinderclient===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 390)) (9.0.0)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 395)) (2.8.2)
Requirement already satisfied: python-glanceclient===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 398)) (4.0.1)
Requirement already satisfied: python-keystoneclient===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 404)) (5.0.0)
Requirement already satisfied: python-neutronclient===8.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 414)) (8.0.0)
Requirement already satisfied: pytz===2022.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 434)) (2022.2.1)
Requirement already satisfied: repoze.lru===0.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 445)) (0.7)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (2.28.1)
Requirement already satisfied: requestsexceptions===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 454)) (1.4.0)
Requirement already satisfied: retrying===1.3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 457)) (1.3.3)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 459)) (1.5.0)
Requirement already satisfied: simplejson===3.17.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 481)) (3.17.6)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 482)) (1.16.0)
Requirement already satisfied: sqlalchemy-migrate===0.13.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 509)) (0.13.0)
Requirement already satisfied: sqlparse===0.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 510)) (0.4.2)
Requirement already satisfied: statsd===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 513)) (3.3.0)
Requirement already satisfied: stevedore===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 515)) (4.0.0)
Requirement already satisfied: tenacity===6.3.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 530)) (6.3.1)
Requirement already satisfied: testresources===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 533)) (2.0.1)
Requirement already satisfied: testscenarios===0.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 534)) (0.5.0)
Requirement already satisfied: testtools===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 535)) (2.5.0)
Requirement already satisfied: tooz===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 544)) (3.0.0)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 561)) (1.26.11)
Requirement already satisfied: voluptuous===0.13.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 567)) (0.13.1)
Requirement already satisfied: warlock===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 570)) (2.0.1)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 571)) (0.2.5)
Requirement already satisfied: websockify===0.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 574)) (0.10.0)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 576)) (1.14.1)
Requirement already satisfied: yappi===1.3.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 584)) (1.3.6)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 589)) (3.8.1)
Requirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (from Paste===3.5.1->-c /opt/stack/requirements/upper-constraints.txt (line 14)) (60.9.3)
Requirement already satisfied: Mako===1.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 12)) (1.2.1)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 110)) (1.15.1)
Requirement already satisfied: dnspython===2.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 147)) (2.2.1)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: appdirs===1.4.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 86)) (1.4.4)
Requirement already satisfied: jmespath===1.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 217)) (1.0.1)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 151)) (1.1.8)
Requirement already satisfied: munch===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 253)) (2.5.0)
Requirement already satisfied: jsonpatch===1.32 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 219)) (1.32)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (2.5.0)
Requirement already satisfied: fasteners===0.17.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 166)) (0.17.3)
Requirement already satisfied: amqp===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 79)) (5.1.1)
Requirement already satisfied: kombu===5.2.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 229)) (5.2.4)
Requirement already satisfied: cachetools===5.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 103)) (5.2.0)
Requirement already satisfied: bcrypt===3.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 95)) (3.2.2)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 252)) (1.0.4)
Requirement already satisfied: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 168)) (4.0.1)
Requirement already satisfied: ovs===2.17.1.post1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 325)) (2.17.1.post1)
Requirement already satisfied: PyNaCl===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 21)) (1.5.0)
Requirement already satisfied: cliff===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 114)) (4.0.0)
Requirement already satisfied: pyOpenSSL===22.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 351)) (22.0.0)
Requirement already satisfied: osc-lib===2.6.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 299)) (2.6.1)
Requirement already satisfied: os-client-config===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 287)) (2.1.0)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 446)) (2019.11.28)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 112)) (2.1.0)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 200)) (3.3)
Requirement already satisfied: Tempita===0.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 29)) (0.5.2)
Requirement already satisfied: extras===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 164)) (1.0.0)
Requirement already satisfied: numpy===1.23.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 273)) (1.23.2)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 357)) (2.21)
Requirement already satisfied: jsonpointer===2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (2.3)
Requirement already satisfied: vine===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 563)) (5.0.0)
Requirement already satisfied: sortedcontainers===2.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 486)) (2.4.0)
Requirement already satisfied: cmd2===2.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 115)) (2.4.2)
Requirement already satisfied: autopage===0.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 93)) (0.5.1)
Requirement already satisfied: pyperclip===1.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (1.8.2)
Installing collected packages: nova
  Attempting uninstall: nova
    Found existing installation: nova 25.1.0.dev256
    Can't uninstall 'nova'. No files were found to uninstall.
  Running setup.py develop for nova
Successfully installed nova
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163685101
+ functions-common:time_stop:2448          :   [[ -z 1661163685101 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163693178
+ functions-common:time_stop:2452          :   elapsed_time=8077
+ functions-common:time_stop:2453          :   total=63674
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=71751
+ inc/python:pip_install:199               :   return 0
+ inc/python:setup_package:444             :   [[ -e == \-\e ]]
+ inc/python:setup_package:445             :   safe_chown -R stack /opt/stack/nova/nova.egg-info
+ functions-common:safe_chown:2340         :   _safe_permission_operation chown -R stack /opt/stack/nova/nova.egg-info
+ functions-common:_safe_permission_operation:2165 :   local xtrace
++ functions-common:_safe_permission_operation:2166 :   set +o
++ functions-common:_safe_permission_operation:2166 :   grep xtrace
+ functions-common:_safe_permission_operation:2166 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2167 :   set +o xtrace
+ functions-common:_safe_permission_operation:2188 :   sudo chown -R stack /opt/stack/nova/nova.egg-info
+ inc/python:_setup_package_with_constraints_edit:390 :   use_library_from_git /opt/stack/nova
+ inc/python:use_library_from_git:246      :   local name=/opt/stack/nova
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,/opt/stack/nova, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/nova:install_nova:924                :   sudo install -D -m 0644 -o stack /opt/stack/nova/tools/nova-manage.bash_completion /etc/bash_completion.d/nova-manage.bash_completion
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:932                      :   configure_nova
+ lib/nova:configure_nova:248              :   sudo install -d -o stack /etc/nova
+ lib/nova:configure_nova:250              :   configure_rootwrap nova
+ inc/rootwrap:configure_rootwrap:43       :   local project=nova
+ inc/rootwrap:configure_rootwrap:44       :   local project_uc
++ inc/rootwrap:configure_rootwrap:45       :   tr a-z A-Z
++ inc/rootwrap:configure_rootwrap:45       :   echo nova
+ inc/rootwrap:configure_rootwrap:45       :   project_uc=NOVA
+ inc/rootwrap:configure_rootwrap:46       :   local bin_dir=NOVA_BIN_DIR
+ inc/rootwrap:configure_rootwrap:47       :   bin_dir=/usr/local/bin
+ inc/rootwrap:configure_rootwrap:48       :   local project_dir=NOVA_DIR
+ inc/rootwrap:configure_rootwrap:49       :   project_dir=/opt/stack/nova
+ inc/rootwrap:configure_rootwrap:51       :   local rootwrap_conf_src_dir=/opt/stack/nova/etc/nova
+ inc/rootwrap:configure_rootwrap:52       :   local rootwrap_bin=/usr/local/bin/nova-rootwrap
+ inc/rootwrap:configure_rootwrap:55       :   sudo rm -rf /etc/nova/rootwrap.d
+ inc/rootwrap:configure_rootwrap:56       :   sudo install -d -o root -g root -m 755 /etc/nova/rootwrap.d
+ inc/rootwrap:configure_rootwrap:57       :   sudo install -o root -g root -m 644 /opt/stack/nova/etc/nova/rootwrap.d/compute.filters /etc/nova/rootwrap.d
+ inc/rootwrap:configure_rootwrap:60       :   sudo install -o root -g root -m 644 /opt/stack/nova/etc/nova/rootwrap.conf /etc/nova/rootwrap.conf
+ inc/rootwrap:configure_rootwrap:61       :   sudo sed -e 's:^filters_path=.*$:filters_path=/etc/nova/rootwrap.d:' -i /etc/nova/rootwrap.conf
+ inc/rootwrap:configure_rootwrap:64       :   local tempfile
++ inc/rootwrap:configure_rootwrap:65       :   mktemp
+ inc/rootwrap:configure_rootwrap:65       :   tempfile=/tmp/tmp.DEVzy6RAru
+ inc/rootwrap:configure_rootwrap:67       :   rootwrap_sudo_cmd='/usr/local/bin/nova-rootwrap /etc/nova/rootwrap.conf *'
+ inc/rootwrap:configure_rootwrap:68       :   echo 'stack ALL=(root) NOPASSWD: /usr/local/bin/nova-rootwrap /etc/nova/rootwrap.conf *'
+ inc/rootwrap:configure_rootwrap:69       :   '[' -f /usr/local/bin/nova-rootwrap-daemon ']'
+ inc/rootwrap:configure_rootwrap:71       :   rootwrap_sudo_cmd='/usr/local/bin/nova-rootwrap-daemon /etc/nova/rootwrap.conf'
+ inc/rootwrap:configure_rootwrap:72       :   echo 'stack ALL=(root) NOPASSWD: /usr/local/bin/nova-rootwrap-daemon /etc/nova/rootwrap.conf'
+ inc/rootwrap:configure_rootwrap:74       :   chmod 0440 /tmp/tmp.DEVzy6RAru
+ inc/rootwrap:configure_rootwrap:75       :   sudo chown root:root /tmp/tmp.DEVzy6RAru
+ inc/rootwrap:configure_rootwrap:76       :   sudo mv /tmp/tmp.DEVzy6RAru /etc/sudoers.d/nova-rootwrap
++ inc/rootwrap:configure_rootwrap:80       :   dirname /usr/local/bin/nova-rootwrap
+ inc/rootwrap:configure_rootwrap:80       :   add_sudo_secure_path /usr/local/bin
+ inc/rootwrap:add_sudo_secure_path:21     :   local dir=/usr/local/bin
+ inc/rootwrap:add_sudo_secure_path:22     :   local line
+ inc/rootwrap:add_sudo_secure_path:25     :   [[ -r /etc/sudoers.d/zz-secure-path ]]
+ inc/rootwrap:add_sudo_secure_path:28     :   line='Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin'
+ inc/rootwrap:add_sudo_secure_path:32     :   [[ ! Defaults:stack secure_path=/usr/local/sbin:/usr/local/bin:/usr/sbin:/sbin:/usr/bin:/bin =~ /usr/local/bin ]]
+ lib/nova:configure_nova:252              :   [[ key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat =~ n-api ]]
+ lib/nova:configure_nova:254              :   cp /opt/stack/nova/etc/nova/api-paste.ini /etc/nova
+ lib/nova:configure_nova:257              :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:configure_nova:259              :   sudo sysctl -w net.ipv4.ip_forward=1
net.ipv4.ip_forward = 1
+ lib/nova:configure_nova:261              :   [[ libvirt = \l\i\b\v\i\r\t ]]
+ lib/nova:configure_nova:265              :   [[ kvm == \k\v\m ]]
+ lib/nova:configure_nova:266              :   sudo modprobe kvm
+ lib/nova:configure_nova:267              :   '[' '!' -e /dev/kvm ']'
+ lib/nova:configure_nova:282              :   [[ kvm == \l\x\c ]]
+ lib/nova:configure_nova:297              :   sudo install -d -o stack /opt/stack/data/nova/instances
+ lib/nova:configure_nova:302              :   '[' -L /dev/disk/by-label/nova-instances ']'
+ lib/nova:configure_nova:310              :   sudo tee /etc/iscsi/initiatorname.iscsi
++ lib/nova:configure_nova:310              :   iscsi-iname
+ lib/nova:configure_nova:310              :   echo InitiatorName=iqn.2005-03.org.open-iscsi:8912f9f3989f
InitiatorName=iqn.2005-03.org.open-iscsi:8912f9f3989f
+ lib/nova:configure_nova:312              :   [[ False == \T\r\u\e ]]
+ lib/nova:configure_nova:327              :   iniset -sudo /etc/iscsi/iscsid.conf DEFAULT node.session.auth.chap_algs SHA3-256,SHA256
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_nova:330              :   restart_service iscsid
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart iscsid
+ lib/nova:configure_nova:334              :   create_nova_conf
+ lib/nova:create_nova_conf:408            :   rm -f /opt/stack/nova/bin/nova.conf
+ lib/nova:create_nova_conf:411            :   rm -f /etc/nova/nova.conf
+ lib/nova:create_nova_conf:412            :   iniset /etc/nova/nova.conf DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:413            :   '[' True == True ']'
+ lib/nova:create_nova_conf:414            :   iniset /etc/nova/nova.conf DEFAULT allow_resize_to_same_host True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:416            :   iniset /etc/nova/nova.conf wsgi api_paste_config /etc/nova/api-paste.ini
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:417            :   iniset /etc/nova/nova.conf DEFAULT rootwrap_config /etc/nova/rootwrap.conf
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:418            :   iniset /etc/nova/nova.conf filter_scheduler enabled_filters AvailabilityZoneFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:419            :   iniset /etc/nova/nova.conf scheduler workers 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:420            :   iniset /etc/nova/nova.conf neutron default_floating_pool public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:421            :   [[ 4 == 6 ]]
+ lib/nova:create_nova_conf:424            :   iniset /etc/nova/nova.conf DEFAULT my_ip 10.200.2.118
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:426            :   iniset /etc/nova/nova.conf DEFAULT instance_name_template instance-%08x
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:427            :   iniset /etc/nova/nova.conf DEFAULT osapi_compute_listen 0.0.0.0
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:428            :   iniset /etc/nova/nova.conf DEFAULT metadata_listen 0.0.0.0
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:429            :   iniset /etc/nova/nova.conf DEFAULT shutdown_timeout 0
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:431            :   iniset /etc/nova/nova.conf key_manager backend nova.keymgr.conf_key_mgr.ConfKeyManager
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:433            :   is_fedora
+ functions-common:is_fedora:519           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:523           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:523           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:524           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:525           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:527           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = Virtuozzo ']'
+ lib/nova:create_nova_conf:433            :   is_suse
+ functions-common:is_suse:536             :   is_opensuse
+ functions-common:is_opensuse:543         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:547         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:536             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:555 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:559 :   [[ Ubuntu =~ (^SUSE) ]]
+ lib/nova:create_nova_conf:442            :   is_service_enabled n-api n-cond n-sched
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:create_nova_conf:446            :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:create_nova_conf:449            :   local db=nova_cell0
+ lib/nova:create_nova_conf:452            :   iniset /etc/nova/nova.conf filter_scheduler track_instance_changes False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/nova:create_nova_conf:455            :   database_connection_url nova_cell0
++ lib/database:database_connection_url:134 :   local db=nova_cell0
++ lib/database:database_connection_url:135 :   database_connection_url_mysql nova_cell0
++ lib/databases/mysql:database_connection_url_mysql:224 :   local db=nova_cell0
++ lib/databases/mysql:database_connection_url_mysql:225 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:229 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:230 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:231 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:235 :   echo 'mysql+pymysql://root:Datacore1@127.0.0.1/nova_cell0?charset=utf8&plugin=dbcounter'
+ lib/nova:create_nova_conf:455            :   iniset /etc/nova/nova.conf database connection 'mysql+pymysql://root:Datacore1@127.0.0.1/nova_cell0?charset=utf8&plugin=dbcounter'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/nova:create_nova_conf:456            :   database_connection_url nova_api
++ lib/database:database_connection_url:134 :   local db=nova_api
++ lib/database:database_connection_url:135 :   database_connection_url_mysql nova_api
++ lib/databases/mysql:database_connection_url_mysql:224 :   local db=nova_api
++ lib/databases/mysql:database_connection_url_mysql:225 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:229 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:230 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:231 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:235 :   echo 'mysql+pymysql://root:Datacore1@127.0.0.1/nova_api?charset=utf8&plugin=dbcounter'
+ lib/nova:create_nova_conf:456            :   iniset /etc/nova/nova.conf api_database connection 'mysql+pymysql://root:Datacore1@127.0.0.1/nova_api?charset=utf8&plugin=dbcounter'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:461            :   iniset /etc/nova/nova.conf cache enabled True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:462            :   iniset /etc/nova/nova.conf cache backend dogpile.cache.memcached
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:463            :   iniset /etc/nova/nova.conf cache memcache_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:466            :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:create_nova_conf:467            :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
++ lib/nova:create_nova_conf:469            :   echo osapi_compute,metadata
++ lib/nova:create_nova_conf:469            :   sed s/,metadata//
+ lib/nova:create_nova_conf:469            :   NOVA_ENABLED_APIS=osapi_compute
+ lib/nova:create_nova_conf:471            :   iniset /etc/nova/nova.conf DEFAULT enabled_apis osapi_compute
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:472            :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:create_nova_conf:478            :   configure_keystone_authtoken_middleware /etc/nova/nova.conf nova
+ lib/keystone:configure_keystone_authtoken_middleware:447 :   local conf_file=/etc/nova/nova.conf
+ lib/keystone:configure_keystone_authtoken_middleware:448 :   local admin_user=nova
+ lib/keystone:configure_keystone_authtoken_middleware:449 :   local section=keystone_authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:451 :   iniset /etc/nova/nova.conf keystone_authtoken auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:452 :   iniset /etc/nova/nova.conf keystone_authtoken interface public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:453 :   iniset /etc/nova/nova.conf keystone_authtoken auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:454 :   iniset /etc/nova/nova.conf keystone_authtoken username nova
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:455 :   iniset /etc/nova/nova.conf keystone_authtoken password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:456 :   iniset /etc/nova/nova.conf keystone_authtoken user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:457 :   iniset /etc/nova/nova.conf keystone_authtoken project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:458 :   iniset /etc/nova/nova.conf keystone_authtoken project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:460 :   iniset /etc/nova/nova.conf keystone_authtoken cafile /opt/stack/data/ca-bundle.pem
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:461 :   iniset /etc/nova/nova.conf keystone_authtoken memcached_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:481            :   is_service_enabled cinder
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:create_nova_conf:482            :   configure_cinder_access
+ lib/nova:configure_cinder_access:609     :   iniset /etc/nova/nova.conf cinder os_region_name RegionOne
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_cinder_access:610     :   iniset /etc/nova/nova.conf cinder auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_cinder_access:611     :   iniset /etc/nova/nova.conf cinder auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_cinder_access:618     :   iniset /etc/nova/nova.conf cinder username nova
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_cinder_access:619     :   iniset /etc/nova/nova.conf cinder password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_cinder_access:620     :   iniset /etc/nova/nova.conf cinder user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_cinder_access:621     :   iniset /etc/nova/nova.conf cinder project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_cinder_access:622     :   iniset /etc/nova/nova.conf cinder project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_cinder_access:623     :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:create_nova_conf:485            :   '[' -n /opt/stack/data/nova ']'
+ lib/nova:create_nova_conf:486            :   iniset /etc/nova/nova.conf DEFAULT state_path /opt/stack/data/nova
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:487            :   iniset /etc/nova/nova.conf oslo_concurrency lock_path /opt/stack/data/nova
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:489            :   '[' -n /opt/stack/data/nova/instances ']'
+ lib/nova:create_nova_conf:490            :   iniset /etc/nova/nova.conf DEFAULT instances_path /opt/stack/data/nova/instances
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:492            :   '[' False '!=' False ']'
+ lib/nova:create_nova_conf:495            :   '[' False '!=' False ']'
+ lib/nova:create_nova_conf:501            :   is_suse
+ functions-common:is_suse:536             :   is_opensuse
+ functions-common:is_opensuse:543         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:547         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:536             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:555 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:559 :   [[ Ubuntu =~ (^SUSE) ]]
+ lib/nova:create_nova_conf:501            :   is_fedora
+ functions-common:is_fedora:519           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:523           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:523           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:524           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:525           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:527           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = Virtuozzo ']'
+ lib/nova:create_nova_conf:506            :   setup_logging /etc/nova/nova.conf
+ functions:setup_logging:674              :   setup_systemd_logging /etc/nova/nova.conf
+ functions:setup_systemd_logging:689      :   local conf_file=/etc/nova/nova.conf
++ functions:setup_systemd_logging:694      :   trueorfalse False USE_JOURNAL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions:setup_systemd_logging:694      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:695      :   local pidstr=
+ functions:setup_systemd_logging:696      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:700      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:702      :   iniset /etc/nova/nova.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:704      :   iniset /etc/nova/nova.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:705      :   iniset /etc/nova/nova.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:706      :   iniset /etc/nova/nova.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:508            :   iniset /etc/nova/nova.conf upgrade_levels compute auto
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:510            :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:create_nova_conf:511            :   write_uwsgi_config /etc/nova/nova-api-uwsgi.ini /usr/local/bin/nova-api-wsgi /compute
+ lib/apache:write_uwsgi_config:254        :   local file=/etc/nova/nova-api-uwsgi.ini
+ lib/apache:write_uwsgi_config:255        :   local wsgi=/usr/local/bin/nova-api-wsgi
+ lib/apache:write_uwsgi_config:256        :   local url=/compute
+ lib/apache:write_uwsgi_config:257        :   local http=
+ lib/apache:write_uwsgi_config:258        :   local name=
++ lib/apache:write_uwsgi_config:259        :   basename /usr/local/bin/nova-api-wsgi
+ lib/apache:write_uwsgi_config:259        :   name=nova-api-wsgi
+ lib/apache:write_uwsgi_config:263        :   local socket_dir=/var/run/uwsgi
+ lib/apache:write_uwsgi_config:267        :   sudo mkdir -p /etc/tmpfiles.d/
+ lib/apache:write_uwsgi_config:268        :   echo 'd /var/run/uwsgi 0755 stack root'
+ lib/apache:write_uwsgi_config:268        :   sudo tee /etc/tmpfiles.d/uwsgi.conf
d /var/run/uwsgi 0755 stack root
+ lib/apache:write_uwsgi_config:269        :   sudo systemd-tmpfiles --create /etc/tmpfiles.d/uwsgi.conf
+ lib/apache:write_uwsgi_config:271        :   local socket=/var/run/uwsgi/nova-api-wsgi.socket
+ lib/apache:write_uwsgi_config:274        :   rm -rf /etc/nova/nova-api-uwsgi.ini
+ lib/apache:write_uwsgi_config:275        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi wsgi-file /usr/local/bin/nova-api-wsgi
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:276        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi processes 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:278        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi master true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:280        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi die-on-term true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:281        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi exit-on-reload false
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:284        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi worker-reload-mercy 90
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:285        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi enable-threads true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:286        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi plugins http,python3
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:288        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi thunder-lock true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:290        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:292        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi buffer-size 65535
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:294        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi add-header 'Connection: close'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:296        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi lazy-apps true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:299        :   [[ -n '' ]]
+ lib/apache:write_uwsgi_config:302        :   local apache_conf=
++ lib/apache:write_uwsgi_config:303        :   apache_site_config_for nova-api-wsgi
++ lib/apache:apache_site_config_for:186    :   local site=nova-api-wsgi
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:567           :   [[ -z deb ]]
++ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/nova-api-wsgi.conf
+ lib/apache:write_uwsgi_config:303        :   apache_conf=/etc/apache2/sites-available/nova-api-wsgi.conf
+ lib/apache:write_uwsgi_config:304        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi socket /var/run/uwsgi/nova-api-wsgi.socket
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:305        :   iniset /etc/nova/nova-api-uwsgi.ini uwsgi chmod-socket 666
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:306        :   echo 'ProxyPass "/compute" "unix:/var/run/uwsgi/nova-api-wsgi.socket|uwsgi://uwsgi-uds-nova-api-wsgi" retry=0 '
+ lib/apache:write_uwsgi_config:306        :   sudo tee -a /etc/apache2/sites-available/nova-api-wsgi.conf
ProxyPass "/compute" "unix:/var/run/uwsgi/nova-api-wsgi.socket|uwsgi://uwsgi-uds-nova-api-wsgi" retry=0 
+ lib/apache:write_uwsgi_config:307        :   enable_apache_site nova-api-wsgi
+ lib/apache:enable_apache_site:203        :   local site=nova-api-wsgi
+ lib/apache:enable_apache_site:205        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:59          :   local mod=version
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:206        :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:207        :   sudo a2ensite nova-api-wsgi
Enabling site nova-api-wsgi.
To activate the new configuration, you need to run:
  systemctl reload apache2
+ lib/apache:write_uwsgi_config:308        :   restart_apache_server
+ lib/apache:restart_apache_server:250     :   restart_service apache2
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart apache2
+ lib/nova:create_nova_conf:514            :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:create_nova_conf:515            :   write_uwsgi_config /etc/nova/nova-metadata-uwsgi.ini /usr/local/bin/nova-metadata-wsgi '' 0.0.0.0:8775
+ lib/apache:write_uwsgi_config:254        :   local file=/etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:write_uwsgi_config:255        :   local wsgi=/usr/local/bin/nova-metadata-wsgi
+ lib/apache:write_uwsgi_config:256        :   local url=
+ lib/apache:write_uwsgi_config:257        :   local http=0.0.0.0:8775
+ lib/apache:write_uwsgi_config:258        :   local name=
++ lib/apache:write_uwsgi_config:259        :   basename /usr/local/bin/nova-metadata-wsgi
+ lib/apache:write_uwsgi_config:259        :   name=nova-metadata-wsgi
+ lib/apache:write_uwsgi_config:263        :   local socket_dir=/var/run/uwsgi
+ lib/apache:write_uwsgi_config:267        :   sudo mkdir -p /etc/tmpfiles.d/
+ lib/apache:write_uwsgi_config:268        :   echo 'd /var/run/uwsgi 0755 stack root'
+ lib/apache:write_uwsgi_config:268        :   sudo tee /etc/tmpfiles.d/uwsgi.conf
d /var/run/uwsgi 0755 stack root
+ lib/apache:write_uwsgi_config:269        :   sudo systemd-tmpfiles --create /etc/tmpfiles.d/uwsgi.conf
+ lib/apache:write_uwsgi_config:271        :   local socket=/var/run/uwsgi/nova-metadata-wsgi.socket
+ lib/apache:write_uwsgi_config:274        :   rm -rf /etc/nova/nova-metadata-uwsgi.ini
+ lib/apache:write_uwsgi_config:275        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi wsgi-file /usr/local/bin/nova-metadata-wsgi
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:276        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi processes 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:278        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi master true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:280        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi die-on-term true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:281        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi exit-on-reload false
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:284        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi worker-reload-mercy 90
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:285        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi enable-threads true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:286        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi plugins http,python3
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:288        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi thunder-lock true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:290        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:292        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi buffer-size 65535
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:294        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi add-header 'Connection: close'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:296        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi lazy-apps true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:299        :   [[ -n 0.0.0.0:8775 ]]
+ lib/apache:write_uwsgi_config:300        :   iniset /etc/nova/nova-metadata-uwsgi.ini uwsgi http 0.0.0.0:8775
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:518            :   is_service_enabled ceilometer
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:create_nova_conf:526            :   iniset /etc/nova/nova.conf oslo_messaging_notifications driver messagingv2
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/nova:create_nova_conf:527            :   get_notification_url
++ lib/rpc_backend:get_notification_url:149 :   local virtual_host=
++ lib/rpc_backend:get_notification_url:150 :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:get_notification_url:151 :   echo rabbit://stackrabbit:Datacore1@10.200.2.118:5672/
+ lib/nova:create_nova_conf:527            :   iniset /etc/nova/nova.conf oslo_messaging_notifications transport_url rabbit://stackrabbit:Datacore1@10.200.2.118:5672/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:528            :   iniset /etc/nova/nova.conf notifications notification_format unversioned
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:529            :   iniset_rpc_backend nova /etc/nova/nova.conf
+ lib/rpc_backend:iniset_rpc_backend:157   :   local package=nova
+ lib/rpc_backend:iniset_rpc_backend:158   :   local file=/etc/nova/nova.conf
+ lib/rpc_backend:iniset_rpc_backend:159   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:160   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:161   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:162   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:139    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:140    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:get_transport_url:141    :   echo rabbit://stackrabbit:Datacore1@10.200.2.118:5672/
+ lib/rpc_backend:iniset_rpc_backend:162   :   iniset /etc/nova/nova.conf DEFAULT transport_url rabbit://stackrabbit:Datacore1@10.200.2.118:5672/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/rpc_backend:iniset_rpc_backend:163   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:166   :   '[' -n '' ']'
+ lib/nova:create_nova_conf:531            :   iniset /etc/nova/nova.conf DEFAULT osapi_compute_workers 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:532            :   iniset /etc/nova/nova.conf DEFAULT metadata_workers 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:534            :   iniset /etc/nova/nova.conf conductor workers 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:536            :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:create_nova_conf:541            :   iniset /etc/nova/nova.conf DEFAULT graceful_shutdown_timeout 5
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:543            :   '[' True == True ']'
+ lib/nova:create_nova_conf:544            :   init_nova_service_user_conf
+ lib/nova:init_nova_service_user_conf:792 :   iniset /etc/nova/nova.conf service_user send_service_user_token True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:init_nova_service_user_conf:793 :   iniset /etc/nova/nova.conf service_user auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:init_nova_service_user_conf:794 :   iniset /etc/nova/nova.conf service_user auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:init_nova_service_user_conf:795 :   iniset /etc/nova/nova.conf service_user username nova
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:init_nova_service_user_conf:796 :   iniset /etc/nova/nova.conf service_user password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:init_nova_service_user_conf:797 :   iniset /etc/nova/nova.conf service_user user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:init_nova_service_user_conf:798 :   iniset /etc/nova/nova.conf service_user project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:init_nova_service_user_conf:799 :   iniset /etc/nova/nova.conf service_user project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:init_nova_service_user_conf:800 :   iniset /etc/nova/nova.conf service_user auth_strategy keystone
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:547            :   is_service_enabled n-cond
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
++ lib/nova:create_nova_conf:548            :   seq 1 1
+ lib/nova:create_nova_conf:548            :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:create_nova_conf:549            :   local conf
+ lib/nova:create_nova_conf:550            :   local vhost
++ lib/nova:create_nova_conf:551            :   conductor_conf 1
++ lib/nova:conductor_conf:804              :   local cell=1
++ lib/nova:conductor_conf:805              :   echo /etc/nova/nova_cell1.conf
+ lib/nova:create_nova_conf:551            :   conf=/etc/nova/nova_cell1.conf
+ lib/nova:create_nova_conf:552            :   vhost=nova_cell1
+ lib/nova:create_nova_conf:554            :   rm -f /etc/nova/nova_cell1.conf
++ lib/nova:create_nova_conf:555            :   database_connection_url nova_cell1
++ lib/database:database_connection_url:134 :   local db=nova_cell1
++ lib/database:database_connection_url:135 :   database_connection_url_mysql nova_cell1
++ lib/databases/mysql:database_connection_url_mysql:224 :   local db=nova_cell1
++ lib/databases/mysql:database_connection_url_mysql:225 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:229 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:230 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:231 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:235 :   echo 'mysql+pymysql://root:Datacore1@127.0.0.1/nova_cell1?charset=utf8&plugin=dbcounter'
+ lib/nova:create_nova_conf:555            :   iniset /etc/nova/nova_cell1.conf database connection 'mysql+pymysql://root:Datacore1@127.0.0.1/nova_cell1?charset=utf8&plugin=dbcounter'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:556            :   iniset /etc/nova/nova_cell1.conf conductor workers 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:557            :   iniset /etc/nova/nova_cell1.conf DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:559            :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:create_nova_conf:562            :   rpc_backend_add_vhost nova_cell1
+ lib/rpc_backend:rpc_backend_add_vhost:125 :   local vhost=nova_cell1
+ lib/rpc_backend:rpc_backend_add_vhost:126 :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:rpc_backend_add_vhost:127 :   sudo rabbitmqctl list_vhosts
++ lib/rpc_backend:rpc_backend_add_vhost:127 :   grep nova_cell1
+ lib/rpc_backend:rpc_backend_add_vhost:127 :   '[' -z ']'
+ lib/rpc_backend:rpc_backend_add_vhost:128 :   sudo rabbitmqctl add_vhost nova_cell1
Adding vhost "nova_cell1" ...
+ lib/rpc_backend:rpc_backend_add_vhost:129 :   sudo rabbitmqctl set_permissions -p nova_cell1 stackrabbit '.*' '.*' '.*'
Setting permissions for user "stackrabbit" in vhost "nova_cell1" ...
+ lib/nova:create_nova_conf:563            :   iniset_rpc_backend nova /etc/nova/nova_cell1.conf DEFAULT nova_cell1
+ lib/rpc_backend:iniset_rpc_backend:157   :   local package=nova
+ lib/rpc_backend:iniset_rpc_backend:158   :   local file=/etc/nova/nova_cell1.conf
+ lib/rpc_backend:iniset_rpc_backend:159   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:160   :   local virtual_host=nova_cell1
+ lib/rpc_backend:iniset_rpc_backend:161   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:162   :   get_transport_url nova_cell1
++ lib/rpc_backend:get_transport_url:139    :   local virtual_host=nova_cell1
++ lib/rpc_backend:get_transport_url:140    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:get_transport_url:141    :   echo rabbit://stackrabbit:Datacore1@10.200.2.118:5672/nova_cell1
+ lib/rpc_backend:iniset_rpc_backend:162   :   iniset /etc/nova/nova_cell1.conf DEFAULT transport_url rabbit://stackrabbit:Datacore1@10.200.2.118:5672/nova_cell1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/rpc_backend:iniset_rpc_backend:163   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:166   :   '[' -n '' ']'
+ lib/nova:create_nova_conf:567            :   is_service_enabled placement placement-client
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:create_nova_conf:568            :   configure_placement_nova_compute /etc/nova/nova_cell1.conf
+ lib/nova:configure_placement_nova_compute:596 :   local conf=/etc/nova/nova_cell1.conf
+ lib/nova:configure_placement_nova_compute:597 :   iniset /etc/nova/nova_cell1.conf placement auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:598 :   iniset /etc/nova/nova_cell1.conf placement auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:599 :   iniset /etc/nova/nova_cell1.conf placement username placement
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:600 :   iniset /etc/nova/nova_cell1.conf placement password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:601 :   iniset /etc/nova/nova_cell1.conf placement user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:602 :   iniset /etc/nova/nova_cell1.conf placement project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:603 :   iniset /etc/nova/nova_cell1.conf placement project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:604 :   iniset /etc/nova/nova_cell1.conf placement region_name RegionOne
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:572            :   setup_logging /etc/nova/nova_cell1.conf
+ functions:setup_logging:674              :   setup_systemd_logging /etc/nova/nova_cell1.conf
+ functions:setup_systemd_logging:689      :   local conf_file=/etc/nova/nova_cell1.conf
++ functions:setup_systemd_logging:694      :   trueorfalse False USE_JOURNAL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions:setup_systemd_logging:694      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:695      :   local pidstr=
+ functions:setup_systemd_logging:696      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:700      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:702      :   iniset /etc/nova/nova_cell1.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:704      :   iniset /etc/nova/nova_cell1.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:705      :   iniset /etc/nova/nova_cell1.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:706      :   iniset /etc/nova/nova_cell1.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:create_nova_conf:579            :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
++ lib/nova:create_nova_conf:582            :   seq 1 1
+ lib/nova:create_nova_conf:582            :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:create_nova_conf:583            :   local conf
+ lib/nova:create_nova_conf:584            :   local offset
++ lib/nova:create_nova_conf:585            :   conductor_conf 1
++ lib/nova:conductor_conf:804              :   local cell=1
++ lib/nova:conductor_conf:805              :   echo /etc/nova/nova_cell1.conf
+ lib/nova:create_nova_conf:585            :   conf=/etc/nova/nova_cell1.conf
+ lib/nova:create_nova_conf:586            :   offset=0
+ lib/nova:create_nova_conf:587            :   configure_console_proxies /etc/nova/nova_cell1.conf 0
+ lib/nova:configure_console_proxies:694   :   local conf=/etc/nova/nova_cell1.conf
+ lib/nova:configure_console_proxies:695   :   local offset=0
+ lib/nova:configure_console_proxies:699   :   offset=0
+ lib/nova:configure_console_proxies:701   :   is_service_enabled n-novnc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:configure_console_proxies:702   :   iniset /etc/nova/nova_cell1.conf vnc novncproxy_host 0.0.0.0
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_console_proxies:703   :   iniset /etc/nova/nova_cell1.conf vnc novncproxy_port 6080
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_console_proxies:705   :   is_nova_console_proxy_compute_tls_enabled
+ lib/nova:is_nova_console_proxy_compute_tls_enabled:179 :   [[ False = \T\r\u\e ]]
+ lib/nova:is_nova_console_proxy_compute_tls_enabled:180 :   return 1
+ lib/nova:configure_console_proxies:733   :   is_service_enabled n-spice
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:configure_console_proxies:738   :   is_service_enabled n-sproxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:configure_nova:336              :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:configure_nova:336              :   [[ -r /opt/stack/devstack/lib/nova_plugins/hypervisor-libvirt ]]
+ lib/nova:configure_nova:338              :   configure_nova_hypervisor
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:40 :   configure_libvirt
+ lib/nova_plugins/functions-libvirt:configure_libvirt:105 :   is_service_enabled neutron
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova_plugins/functions-libvirt:configure_libvirt:105 :   sudo grep -q '^cgroup_device_acl' /etc/libvirt/qemu.conf
+ lib/nova_plugins/functions-libvirt:configure_libvirt:118 :   is_fedora
+ functions-common:is_fedora:519           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:523           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:523           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:524           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:525           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:527           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = Virtuozzo ']'
+ lib/nova_plugins/functions-libvirt:configure_libvirt:118 :   is_suse
+ functions-common:is_suse:536             :   is_opensuse
+ functions-common:is_opensuse:543         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:547         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:536             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:555 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:559 :   [[ Ubuntu =~ (^SUSE) ]]
+ lib/nova_plugins/functions-libvirt:configure_libvirt:137 :   getent group libvirt
+ lib/nova_plugins/functions-libvirt:configure_libvirt:140 :   add_user_to_group stack libvirt
+ functions-common:add_user_to_group:2208  :   local user=stack
+ functions-common:add_user_to_group:2209  :   local group=libvirt
+ functions-common:add_user_to_group:2211  :   sudo usermod -a -G libvirt stack
+ lib/nova_plugins/functions-libvirt:configure_libvirt:143 :   [[ True = \T\r\u\e ]]
+ lib/nova_plugins/functions-libvirt:configure_libvirt:144 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/nova_plugins/functions-libvirt:configure_libvirt:149 :   local 'log_filters=1:libvirt.c 1:qemu 1:conf 1:security 3:object 3:event 3:json 3:file 1:util 1:cpu'
+ lib/nova_plugins/functions-libvirt:configure_libvirt:153 :   local log_outputs=1:file:/var/log/libvirt/libvirtd.log
+ lib/nova_plugins/functions-libvirt:configure_libvirt:154 :   sudo grep -q '^log_filters="1:libvirt.c 1:qemu 1:conf 1:security 3:object 3:event 3:json 3:file 1:util 1:cpu"' /etc/libvirt/libvirtd.conf
+ lib/nova_plugins/functions-libvirt:configure_libvirt:157 :   sudo grep -q '^log_outputs="1:file:/var/log/libvirt/libvirtd.log"' /etc/libvirt/libvirtd.conf
+ lib/nova_plugins/functions-libvirt:configure_libvirt:162 :   is_nova_console_proxy_compute_tls_enabled
+ lib/nova:is_nova_console_proxy_compute_tls_enabled:179 :   [[ False = \T\r\u\e ]]
+ lib/nova:is_nova_console_proxy_compute_tls_enabled:180 :   return 1
+ lib/nova_plugins/functions-libvirt:configure_libvirt:180 :   restart_service libvirtd
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart libvirtd
+ lib/nova_plugins/functions-libvirt:configure_libvirt:186 :   restart_service virtlogd
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart virtlogd
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:41 :   iniset /etc/nova/nova.conf libvirt virt_type kvm
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:42 :   iniset /etc/nova/nova.conf libvirt cpu_mode custom
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:43 :   '[' custom == custom ']'
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:44 :   iniset /etc/nova/nova.conf libvirt cpu_model Nehalem
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:47 :   iniset /etc/nova/nova.conf DEFAULT pointer_model ps2mouse
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:48 :   iniset /etc/nova/nova.conf libvirt live_migration_uri qemu+ssh://stack@%s/system
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:49 :   iniset /etc/nova/nova.conf DEFAULT default_ephemeral_format ext4
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:50 :   iniset /etc/nova/nova.conf DEFAULT compute_driver libvirt.LibvirtDriver
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:52 :   is_arch ppc64
++ functions-common:is_arch:501             :   uname -m
+ functions-common:is_arch:501             :   [[ x86_64 == \p\p\c\6\4 ]]
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:57 :   is_arch aarch64
++ functions-common:is_arch:501             :   uname -m
+ functions-common:is_arch:501             :   [[ x86_64 == \a\a\r\c\h\6\4 ]]
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:61 :   isset ENABLE_FILE_INJECTION
+ functions-common:isset:240               :   [[ -v ENABLE_FILE_INJECTION ]]
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:69 :   [[ kvm = \p\a\r\a\l\l\e\l\s ]]
+ lib/nova_plugins/hypervisor-libvirt:configure_nova_hypervisor:76 :   [[ '' == \L\V\M ]]
+ ./stack.sh:main:935                      :   is_service_enabled placement
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:937                      :   stack_install_service placement
+ lib/stack:stack_install_service:20       :   local service=placement
+ lib/stack:stack_install_service:21       :   type install_placement
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_placement
+ lib/placement:install_placement:137      :   install_apache_wsgi
+ lib/apache:install_apache_wsgi:143       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:install_apache_wsgi:145       :   install_package apache2
+ functions-common:install_package:1463    :   update_package_repo
+ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1436 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1443 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1444 :   apt_get_update
+ functions-common:apt_get_update:1189     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1189     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1190     :   return
+ functions-common:install_package:1464    :   real_install_package apache2
+ functions-common:real_install_package:1449 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:real_install_package:1450 :   apt_get install apache2
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   set +o
++ functions-common:apt_get:1218            :   grep xtrace
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install apache2
Reading package lists...
Building dependency tree...
Reading state information...
apache2 is already the newest version (2.4.41-4ubuntu3.12).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 202 not upgraded.
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163701813
+ functions-common:time_stop:2448          :   [[ -z 1661163701813 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163702474
+ functions-common:time_stop:2452          :   elapsed_time=661
+ functions-common:time_stop:2453          :   total=83263
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=83924
+ functions-common:apt_get:1238            :   return 0
+ lib/apache:install_apache_wsgi:146       :   is_package_installed libapache2-mod-wsgi
+ functions-common:is_package_installed:1472 :   [[ -z libapache2-mod-wsgi ]]
+ functions-common:is_package_installed:1476 :   [[ -z deb ]]
+ functions-common:is_package_installed:1480 :   [[ deb = \d\e\b ]]
+ functions-common:is_package_installed:1481 :   dpkg -s libapache2-mod-wsgi
+ lib/apache:install_apache_wsgi:149       :   install_package libapache2-mod-wsgi-py3
+ functions-common:install_package:1463    :   update_package_repo
+ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1436 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1443 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1444 :   apt_get_update
+ functions-common:apt_get_update:1189     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1189     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1190     :   return
+ functions-common:install_package:1464    :   real_install_package libapache2-mod-wsgi-py3
+ functions-common:real_install_package:1449 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:real_install_package:1450 :   apt_get install libapache2-mod-wsgi-py3
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   set +o
++ functions-common:apt_get:1218            :   grep xtrace
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install libapache2-mod-wsgi-py3
Reading package lists...
Building dependency tree...
Reading state information...
libapache2-mod-wsgi-py3 is already the newest version (4.6.8-1ubuntu3.1).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 202 not upgraded.
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163702615
+ functions-common:time_stop:2448          :   [[ -z 1661163702615 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163703272
+ functions-common:time_stop:2452          :   elapsed_time=657
+ functions-common:time_stop:2453          :   total=83924
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=84581
+ functions-common:apt_get:1238            :   return 0
+ lib/apache:install_apache_wsgi:164       :   enable_apache_mod wsgi
+ lib/apache:enable_apache_mod:59          :   local mod=wsgi
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ wsgi != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_mod:64          :   a2query -m wsgi
wsgi (enabled by maintainer script)
+ lib/placement:install_placement:139      :   pip_install_gr osc-placement
+ inc/python:pip_install_gr:76             :   local name=osc-placement
+ inc/python:pip_install_gr:77             :   local clean_name
++ inc/python:pip_install_gr:78             :   get_from_global_requirements osc-placement
++ inc/python:get_from_global_requirements:221 :   local package=osc-placement
++ inc/python:get_from_global_requirements:222 :   local required_pkg
+++ inc/python:get_from_global_requirements:223 :   grep -i -h '^osc-placement' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_from_global_requirements:223 :   cut -d# -f1
++ inc/python:get_from_global_requirements:223 :   required_pkg='osc-placement  '
++ inc/python:get_from_global_requirements:224 :   [[ osc-placement   == '' ]]
++ inc/python:get_from_global_requirements:227 :   echo osc-placement
+ inc/python:pip_install_gr:78             :   clean_name=osc-placement
+ inc/python:pip_install_gr:79             :   pip_install osc-placement
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install osc-placement
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt osc-placement
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Requirement already satisfied: osc-placement===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 300)) (4.0.0)
Requirement already satisfied: oslo.utils===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 319)) (6.0.0)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 327)) (21.3)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 331)) (5.10.0)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 368)) (3.0.9)
Requirement already satisfied: pytz===2022.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 434)) (2022.2.1)
Requirement already satisfied: simplejson===3.17.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 481)) (3.17.6)
Requirement already satisfied: osc-lib===2.6.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 299)) (2.6.1)
Requirement already satisfied: keystoneauth1===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 227)) (5.0.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 259)) (0.8.0)
Requirement already satisfied: iso8601===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 212)) (1.0.2)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 306)) (5.1.0)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (2.5.0)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.11.0)
Requirement already satisfied: stevedore===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 515)) (4.0.0)
Requirement already satisfied: cliff===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 114)) (4.0.0)
Requirement already satisfied: openstacksdk===0.100.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 282)) (0.100.0)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 293)) (1.7.0)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 482)) (1.16.0)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (2.28.1)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 576)) (1.14.1)
Requirement already satisfied: prettytable===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 341)) (3.3.0)
Requirement already satisfied: autopage===0.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 93)) (0.5.1)
Requirement already satisfied: importlib-metadata===4.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 204)) (4.12.0)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: cmd2===2.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 115)) (2.4.2)
Requirement already satisfied: jsonpatch===1.32 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 219)) (1.32)
Requirement already satisfied: munch===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 253)) (2.5.0)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 131)) (5.1.1)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 151)) (1.1.8)
Requirement already satisfied: jmespath===1.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 217)) (1.0.1)
Requirement already satisfied: cryptography===36.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 126)) (36.0.2)
Requirement already satisfied: requestsexceptions===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 454)) (1.4.0)
Requirement already satisfied: appdirs===1.4.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 86)) (1.4.4)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 446)) (2019.11.28)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 112)) (2.1.0)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 561)) (1.26.11)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 200)) (3.3)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 571)) (0.2.5)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 589)) (3.8.1)
Requirement already satisfied: pyperclip===1.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (1.8.2)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: jsonpointer===2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (2.3)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 110)) (1.15.1)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 357)) (2.21)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163703434
+ functions-common:time_stop:2448          :   [[ -z 1661163703434 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163706420
+ functions-common:time_stop:2452          :   elapsed_time=2986
+ functions-common:time_stop:2453          :   total=71751
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=74737
+ inc/python:pip_install:199               :   return 0
+ lib/placement:install_placement:140      :   git_clone https://opendev.org/openstack/placement.git /opt/stack/placement master
+ functions-common:git_clone:596           :   local git_remote=https://opendev.org/openstack/placement.git
+ functions-common:git_clone:597           :   local git_dest=/opt/stack/placement
+ functions-common:git_clone:598           :   local git_ref=master
+ functions-common:git_clone:599           :   local orig_dir
++ functions-common:git_clone:600           :   pwd
+ functions-common:git_clone:600           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:601           :   local git_clone_flags=
++ functions-common:git_clone:603           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:603           :   RECLONE=False
+ functions-common:git_clone:604           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:608           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:617           :   echo master
+ functions-common:git_clone:617           :   egrep -q '^refs'
+ functions-common:git_clone:631           :   [[ ! -d /opt/stack/placement ]]
+ functions-common:git_clone:639           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:674           :   sudo git config --system --add safe.directory /opt/stack/placement
+ functions-common:git_clone:677           :   cd /opt/stack/placement
+ functions-common:git_clone:678           :   head -1
+ functions-common:git_clone:678           :   git show --oneline
d0e05e89 Merge "Remove unicode literal strings"
+ functions-common:git_clone:679           :   cd /opt/stack/devstack
+ lib/placement:install_placement:141      :   setup_develop /opt/stack/placement
+ inc/python:setup_develop:334             :   local bindep
+ inc/python:setup_develop:335             :   [[ /opt/stack/placement == -bindep* ]]
+ inc/python:setup_develop:339             :   local project_dir=/opt/stack/placement
+ inc/python:setup_develop:340             :   local extras=
+ inc/python:setup_develop:341             :   _setup_package_with_constraints_edit /opt/stack/placement -e
+ inc/python:_setup_package_with_constraints_edit:360 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:361 :   [[ /opt/stack/placement == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:365 :   local project_dir=/opt/stack/placement
+ inc/python:_setup_package_with_constraints_edit:366 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:367 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:374 :   cd /opt/stack/placement
++ inc/python:_setup_package_with_constraints_edit:374 :   pwd
+ inc/python:_setup_package_with_constraints_edit:374 :   project_dir=/opt/stack/placement
+ inc/python:_setup_package_with_constraints_edit:376 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:380 :   local name
++ inc/python:_setup_package_with_constraints_edit:381 :   awk '/^name.*=/ {print $3}' /opt/stack/placement/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:381 :   name=openstack-placement
+ inc/python:_setup_package_with_constraints_edit:383 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- openstack-placement
+ inc/python:_setup_package_with_constraints_edit:386 :   setup_package /opt/stack/placement -e
+ inc/python:setup_package:414             :   local bindep=0
+ inc/python:setup_package:415             :   local bindep_flag=
+ inc/python:setup_package:416             :   local bindep_profiles=
+ inc/python:setup_package:417             :   [[ /opt/stack/placement == -bindep* ]]
+ inc/python:setup_package:422             :   local project_dir=/opt/stack/placement
+ inc/python:setup_package:423             :   local flags=-e
+ inc/python:setup_package:424             :   local extras=
+ inc/python:setup_package:428             :   [[ -n -e ]]
+ inc/python:setup_package:428             :   [[ -z '' ]]
+ inc/python:setup_package:428             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:433             :   [[ ! -z '' ]]
+ inc/python:setup_package:438             :   [[ 0 == 1 ]]
+ inc/python:setup_package:442             :   pip_install -e /opt/stack/placement
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/placement
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -e /opt/stack/placement
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Obtaining file:///opt/stack/placement
Requirement already satisfied: Routes===2.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 24)) (2.5.1)
Requirement already satisfied: SQLAlchemy===1.4.40 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 25)) (1.4.40)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 32)) (1.8.7)
Requirement already satisfied: greenlet===1.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 187)) (1.1.2)
Requirement already satisfied: jsonschema===4.7.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 223)) (4.7.2)
Requirement already satisfied: keystonemiddleware===10.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 228)) (10.0.0)
Requirement already satisfied: microversion-parse===1.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 243)) (1.0.1)
Requirement already satisfied: os-resource-classes===1.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 292)) (1.1.0)
Requirement already satisfied: os-traits===2.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 295)) (2.8.0)
Requirement already satisfied: oslo.cache===3.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 301)) (3.0.0)
Requirement already satisfied: oslo.concurrency===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 302)) (5.0.0)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (9.0.0)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 304)) (5.0.0)
Requirement already satisfied: oslo.db===12.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (12.0.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 306)) (5.1.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 308)) (5.0.0)
Requirement already satisfied: oslo.middleware===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 311)) (5.0.0)
Requirement already satisfied: oslo.policy===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 312)) (4.0.0)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 316)) (5.0.0)
Requirement already satisfied: oslo.upgradecheck===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (2.0.0)
Requirement already satisfied: oslo.utils===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 319)) (6.0.0)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 327)) (21.3)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 331)) (5.10.0)
Requirement already satisfied: prettytable===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 341)) (3.3.0)
Requirement already satisfied: pycadf===3.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 355)) (3.1.1)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 363)) (0.9.6)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 368)) (3.0.9)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 372)) (0.18.1)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 395)) (2.8.2)
Requirement already satisfied: python-keystoneclient===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 404)) (5.0.0)
Requirement already satisfied: pytz===2022.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 434)) (2022.2.1)
Requirement already satisfied: repoze.lru===0.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 445)) (0.7)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (2.28.1)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 459)) (1.5.0)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 482)) (1.16.0)
Requirement already satisfied: sqlalchemy-migrate===0.13.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 509)) (0.13.0)
Requirement already satisfied: sqlparse===0.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 510)) (0.4.2)
Requirement already satisfied: statsd===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 513)) (3.3.0)
Requirement already satisfied: stevedore===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 515)) (4.0.0)
Requirement already satisfied: testresources===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 533)) (2.0.1)
Requirement already satisfied: testscenarios===0.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 534)) (0.5.0)
Requirement already satisfied: testtools===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 535)) (2.5.0)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 561)) (1.26.11)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 571)) (0.2.5)
Requirement already satisfied: setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,>=21.0.0 in /usr/local/lib/python3.8/dist-packages (from openstack-placement==7.1.0.dev37) (60.9.3)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: importlib-resources===5.9.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 205)) (5.9.0)
Requirement already satisfied: keystoneauth1===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 227)) (5.0.0)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 151)) (1.1.8)
Requirement already satisfied: fasteners===0.17.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 166)) (0.17.3)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 259)) (0.8.0)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (2.5.0)
Requirement already satisfied: alembic===1.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 78)) (1.8.1)
Requirement already satisfied: bcrypt===3.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 95)) (3.2.2)
Requirement already satisfied: Jinja2===3.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 10)) (3.1.2)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 252)) (1.0.4)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.11.0)
Requirement already satisfied: iso8601===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 212)) (1.0.2)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 112)) (2.1.0)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 446)) (2019.11.28)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 200)) (3.3)
Requirement already satisfied: Tempita===0.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 29)) (0.5.2)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 131)) (5.1.1)
Requirement already satisfied: extras===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 164)) (1.0.0)
Requirement already satisfied: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 168)) (4.0.1)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 589)) (3.8.1)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 293)) (1.7.0)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 576)) (1.14.1)
Requirement already satisfied: Mako===1.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 12)) (1.2.1)
Requirement already satisfied: importlib-metadata===4.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 204)) (4.12.0)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 110)) (1.15.1)
Requirement already satisfied: MarkupSafe===2.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 13)) (2.1.1)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 357)) (2.21)
Installing collected packages: openstack-placement
  Attempting uninstall: openstack-placement
    Found existing installation: openstack-placement 7.1.0.dev37
    Can't uninstall 'openstack-placement'. No files were found to uninstall.
  Running setup.py develop for openstack-placement
Successfully installed openstack-placement
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163706939
+ functions-common:time_stop:2448          :   [[ -z 1661163706939 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163712810
+ functions-common:time_stop:2452          :   elapsed_time=5871
+ functions-common:time_stop:2453          :   total=74737
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=80608
+ inc/python:pip_install:199               :   return 0
+ inc/python:setup_package:444             :   [[ -e == \-\e ]]
+ inc/python:setup_package:445             :   safe_chown -R stack /opt/stack/placement/openstack_placement.egg-info
+ functions-common:safe_chown:2340         :   _safe_permission_operation chown -R stack /opt/stack/placement/openstack_placement.egg-info
+ functions-common:_safe_permission_operation:2165 :   local xtrace
++ functions-common:_safe_permission_operation:2166 :   grep xtrace
++ functions-common:_safe_permission_operation:2166 :   set +o
+ functions-common:_safe_permission_operation:2166 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2167 :   set +o xtrace
+ functions-common:_safe_permission_operation:2188 :   sudo chown -R stack /opt/stack/placement/openstack_placement.egg-info
+ inc/python:_setup_package_with_constraints_edit:390 :   use_library_from_git /opt/stack/placement
+ inc/python:use_library_from_git:246      :   local name=/opt/stack/placement
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,/opt/stack/placement, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:938                      :   configure_placement
+ lib/placement:configure_placement:106    :   sudo install -d -o stack /etc/placement
+ lib/placement:configure_placement:107    :   create_placement_conf
+ lib/placement:create_placement_conf:96   :   rm -f /etc/placement/placement.conf
++ lib/placement:create_placement_conf:97   :   database_connection_url placement
++ lib/database:database_connection_url:134 :   local db=placement
++ lib/database:database_connection_url:135 :   database_connection_url_mysql placement
++ lib/databases/mysql:database_connection_url_mysql:224 :   local db=placement
++ lib/databases/mysql:database_connection_url_mysql:225 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:229 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:230 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:231 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:235 :   echo 'mysql+pymysql://root:Datacore1@127.0.0.1/placement?charset=utf8&plugin=dbcounter'
+ lib/placement:create_placement_conf:97   :   iniset /etc/placement/placement.conf placement_database connection 'mysql+pymysql://root:Datacore1@127.0.0.1/placement?charset=utf8&plugin=dbcounter'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/placement:create_placement_conf:98   :   iniset /etc/placement/placement.conf DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/placement:create_placement_conf:99   :   iniset /etc/placement/placement.conf api auth_strategy keystone
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/placement:create_placement_conf:100  :   configure_keystone_authtoken_middleware /etc/placement/placement.conf placement
+ lib/keystone:configure_keystone_authtoken_middleware:447 :   local conf_file=/etc/placement/placement.conf
+ lib/keystone:configure_keystone_authtoken_middleware:448 :   local admin_user=placement
+ lib/keystone:configure_keystone_authtoken_middleware:449 :   local section=keystone_authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:451 :   iniset /etc/placement/placement.conf keystone_authtoken auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:452 :   iniset /etc/placement/placement.conf keystone_authtoken interface public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:453 :   iniset /etc/placement/placement.conf keystone_authtoken auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:454 :   iniset /etc/placement/placement.conf keystone_authtoken username placement
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:455 :   iniset /etc/placement/placement.conf keystone_authtoken password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:456 :   iniset /etc/placement/placement.conf keystone_authtoken user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:457 :   iniset /etc/placement/placement.conf keystone_authtoken project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:458 :   iniset /etc/placement/placement.conf keystone_authtoken project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:460 :   iniset /etc/placement/placement.conf keystone_authtoken cafile /opt/stack/data/ca-bundle.pem
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:461 :   iniset /etc/placement/placement.conf keystone_authtoken memcached_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/placement:create_placement_conf:101  :   setup_logging /etc/placement/placement.conf
+ functions:setup_logging:674              :   setup_systemd_logging /etc/placement/placement.conf
+ functions:setup_systemd_logging:689      :   local conf_file=/etc/placement/placement.conf
++ functions:setup_systemd_logging:694      :   trueorfalse False USE_JOURNAL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   set +o
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions:setup_systemd_logging:694      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:695      :   local pidstr=
+ functions:setup_systemd_logging:696      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:700      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:702      :   iniset /etc/placement/placement.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:704      :   iniset /etc/placement/placement.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:705      :   iniset /etc/placement/placement.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:706      :   iniset /etc/placement/placement.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/placement:configure_placement:109    :   [[ uwsgi == \u\w\s\g\i ]]
+ lib/placement:configure_placement:110    :   write_uwsgi_config /etc/placement/placement-uwsgi.ini /usr/local/bin/placement-api /placement
+ lib/apache:write_uwsgi_config:254        :   local file=/etc/placement/placement-uwsgi.ini
+ lib/apache:write_uwsgi_config:255        :   local wsgi=/usr/local/bin/placement-api
+ lib/apache:write_uwsgi_config:256        :   local url=/placement
+ lib/apache:write_uwsgi_config:257        :   local http=
+ lib/apache:write_uwsgi_config:258        :   local name=
++ lib/apache:write_uwsgi_config:259        :   basename /usr/local/bin/placement-api
+ lib/apache:write_uwsgi_config:259        :   name=placement-api
+ lib/apache:write_uwsgi_config:263        :   local socket_dir=/var/run/uwsgi
+ lib/apache:write_uwsgi_config:267        :   sudo mkdir -p /etc/tmpfiles.d/
+ lib/apache:write_uwsgi_config:268        :   echo 'd /var/run/uwsgi 0755 stack root'
+ lib/apache:write_uwsgi_config:268        :   sudo tee /etc/tmpfiles.d/uwsgi.conf
d /var/run/uwsgi 0755 stack root
+ lib/apache:write_uwsgi_config:269        :   sudo systemd-tmpfiles --create /etc/tmpfiles.d/uwsgi.conf
+ lib/apache:write_uwsgi_config:271        :   local socket=/var/run/uwsgi/placement-api.socket
+ lib/apache:write_uwsgi_config:274        :   rm -rf /etc/placement/placement-uwsgi.ini
+ lib/apache:write_uwsgi_config:275        :   iniset /etc/placement/placement-uwsgi.ini uwsgi wsgi-file /usr/local/bin/placement-api
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:276        :   iniset /etc/placement/placement-uwsgi.ini uwsgi processes 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:278        :   iniset /etc/placement/placement-uwsgi.ini uwsgi master true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:280        :   iniset /etc/placement/placement-uwsgi.ini uwsgi die-on-term true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:281        :   iniset /etc/placement/placement-uwsgi.ini uwsgi exit-on-reload false
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:284        :   iniset /etc/placement/placement-uwsgi.ini uwsgi worker-reload-mercy 90
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:285        :   iniset /etc/placement/placement-uwsgi.ini uwsgi enable-threads true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:286        :   iniset /etc/placement/placement-uwsgi.ini uwsgi plugins http,python3
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:288        :   iniset /etc/placement/placement-uwsgi.ini uwsgi thunder-lock true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:290        :   iniset /etc/placement/placement-uwsgi.ini uwsgi hook-master-start 'unix_signal:15 gracefully_kill_them_all'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:292        :   iniset /etc/placement/placement-uwsgi.ini uwsgi buffer-size 65535
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:294        :   iniset /etc/placement/placement-uwsgi.ini uwsgi add-header 'Connection: close'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:296        :   iniset /etc/placement/placement-uwsgi.ini uwsgi lazy-apps true
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:299        :   [[ -n '' ]]
+ lib/apache:write_uwsgi_config:302        :   local apache_conf=
++ lib/apache:write_uwsgi_config:303        :   apache_site_config_for placement-api
++ lib/apache:apache_site_config_for:186    :   local site=placement-api
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:567           :   [[ -z deb ]]
++ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/placement-api.conf
+ lib/apache:write_uwsgi_config:303        :   apache_conf=/etc/apache2/sites-available/placement-api.conf
+ lib/apache:write_uwsgi_config:304        :   iniset /etc/placement/placement-uwsgi.ini uwsgi socket /var/run/uwsgi/placement-api.socket
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:305        :   iniset /etc/placement/placement-uwsgi.ini uwsgi chmod-socket 666
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/apache:write_uwsgi_config:306        :   echo 'ProxyPass "/placement" "unix:/var/run/uwsgi/placement-api.socket|uwsgi://uwsgi-uds-placement-api" retry=0 '
+ lib/apache:write_uwsgi_config:306        :   sudo tee -a /etc/apache2/sites-available/placement-api.conf
ProxyPass "/placement" "unix:/var/run/uwsgi/placement-api.socket|uwsgi://uwsgi-uds-placement-api" retry=0 
+ lib/apache:write_uwsgi_config:307        :   enable_apache_site placement-api
+ lib/apache:enable_apache_site:203        :   local site=placement-api
+ lib/apache:enable_apache_site:205        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:59          :   local mod=version
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:206        :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:207        :   sudo a2ensite placement-api
Enabling site placement-api.
To activate the new configuration, you need to run:
  systemctl reload apache2
+ lib/apache:write_uwsgi_config:308        :   restart_apache_server
+ lib/apache:restart_apache_server:250     :   restart_service apache2
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart apache2
+ ./stack.sh:main:945                      :   is_service_enabled placement placement-client
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:946                      :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:947                      :   configure_placement_nova_compute
+ lib/nova:configure_placement_nova_compute:596 :   local conf=/etc/nova/nova.conf
+ lib/nova:configure_placement_nova_compute:597 :   iniset /etc/nova/nova.conf placement auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:598 :   iniset /etc/nova/nova.conf placement auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:599 :   iniset /etc/nova/nova.conf placement username placement
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:600 :   iniset /etc/nova/nova.conf placement password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:601 :   iniset /etc/nova/nova.conf placement user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:602 :   iniset /etc/nova/nova.conf placement project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:603 :   iniset /etc/nova/nova.conf placement project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_placement_nova_compute:604 :   iniset /etc/nova/nova.conf placement region_name RegionOne
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ ./stack.sh:main:951                      :   is_service_enabled horizon
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:953                      :   stack_install_service horizon
+ lib/stack:stack_install_service:20       :   local service=horizon
+ lib/stack:stack_install_service:21       :   type install_horizon
+ lib/stack:stack_install_service:23       :   [[ False = True ]]
+ lib/stack:stack_install_service:32       :   install_horizon
+ lib/horizon:install_horizon:164          :   install_apache_wsgi
+ lib/apache:install_apache_wsgi:143       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:install_apache_wsgi:145       :   install_package apache2
+ functions-common:install_package:1463    :   update_package_repo
+ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1436 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1443 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1444 :   apt_get_update
+ functions-common:apt_get_update:1189     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1189     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1190     :   return
+ functions-common:install_package:1464    :   real_install_package apache2
+ functions-common:real_install_package:1449 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:real_install_package:1450 :   apt_get install apache2
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   set +o
++ functions-common:apt_get:1218            :   grep xtrace
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install apache2
Reading package lists...
Building dependency tree...
Reading state information...
apache2 is already the newest version (2.4.41-4ubuntu3.12).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 202 not upgraded.
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163715129
+ functions-common:time_stop:2448          :   [[ -z 1661163715129 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163715730
+ functions-common:time_stop:2452          :   elapsed_time=601
+ functions-common:time_stop:2453          :   total=84581
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=85182
+ functions-common:apt_get:1238            :   return 0
+ lib/apache:install_apache_wsgi:146       :   is_package_installed libapache2-mod-wsgi
+ functions-common:is_package_installed:1472 :   [[ -z libapache2-mod-wsgi ]]
+ functions-common:is_package_installed:1476 :   [[ -z deb ]]
+ functions-common:is_package_installed:1480 :   [[ deb = \d\e\b ]]
+ functions-common:is_package_installed:1481 :   dpkg -s libapache2-mod-wsgi
+ lib/apache:install_apache_wsgi:149       :   install_package libapache2-mod-wsgi-py3
+ functions-common:install_package:1463    :   update_package_repo
+ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1436 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1443 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1444 :   apt_get_update
+ functions-common:apt_get_update:1189     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1189     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1190     :   return
+ functions-common:install_package:1464    :   real_install_package libapache2-mod-wsgi-py3
+ functions-common:real_install_package:1449 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:real_install_package:1450 :   apt_get install libapache2-mod-wsgi-py3
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   set +o
++ functions-common:apt_get:1218            :   grep xtrace
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install libapache2-mod-wsgi-py3
Reading package lists...
Building dependency tree...
Reading state information...
libapache2-mod-wsgi-py3 is already the newest version (4.6.8-1ubuntu3.1).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 202 not upgraded.
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163715865
+ functions-common:time_stop:2448          :   [[ -z 1661163715865 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163716514
+ functions-common:time_stop:2452          :   elapsed_time=649
+ functions-common:time_stop:2453          :   total=85182
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=85831
+ functions-common:apt_get:1238            :   return 0
+ lib/apache:install_apache_wsgi:164       :   enable_apache_mod wsgi
+ lib/apache:enable_apache_mod:59          :   local mod=wsgi
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ wsgi != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_mod:64          :   a2query -m wsgi
wsgi (enabled by maintainer script)
+ lib/horizon:install_horizon:166          :   git_clone https://opendev.org/openstack/horizon.git /opt/stack/horizon master
+ functions-common:git_clone:596           :   local git_remote=https://opendev.org/openstack/horizon.git
+ functions-common:git_clone:597           :   local git_dest=/opt/stack/horizon
+ functions-common:git_clone:598           :   local git_ref=master
+ functions-common:git_clone:599           :   local orig_dir
++ functions-common:git_clone:600           :   pwd
+ functions-common:git_clone:600           :   orig_dir=/opt/stack/devstack
+ functions-common:git_clone:601           :   local git_clone_flags=
++ functions-common:git_clone:603           :   trueorfalse False RECLONE
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions-common:git_clone:603           :   RECLONE=False
+ functions-common:git_clone:604           :   [[ 0 -gt 0 ]]
+ functions-common:git_clone:608           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:617           :   echo master
+ functions-common:git_clone:617           :   egrep -q '^refs'
+ functions-common:git_clone:631           :   [[ ! -d /opt/stack/horizon ]]
+ functions-common:git_clone:639           :   [[ False = \T\r\u\e ]]
+ functions-common:git_clone:674           :   sudo git config --system --add safe.directory /opt/stack/horizon
+ functions-common:git_clone:677           :   cd /opt/stack/horizon
+ functions-common:git_clone:678           :   git show --oneline
+ functions-common:git_clone:678           :   head -1
c28cdb8af Merge "Drop lower-constraints.txt and its testing"
+ functions-common:git_clone:679           :   cd /opt/stack/devstack
+ lib/stack:stack_install_service:33       :   [[ False = True ]]
+ ./stack.sh:main:956                      :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:964                      :   run_phase stack install
+ functions-common:run_phase:1867          :   local mode=stack
+ functions-common:run_phase:1868          :   local phase=install
+ functions-common:run_phase:1869          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1870          :   local extra_plugin_file_name
+ functions-common:run_phase:1871          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1876          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1877          :   local extra
++ functions-common:run_phase:1878          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1878          :   extra=80-tempest.sh
+ functions-common:run_phase:1879          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1883          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1883          :   source /opt/stack/devstack/extras.d/80-tempest.sh stack install
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ stack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:7          :   [[ install == \i\n\s\t\a\l\l ]]
++ extras.d/80-tempest.sh:source:8          :   echo_summary 'Installing Tempest'
++ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
++ ./stack.sh:echo_summary:441              :   echo -e Installing Tempest
2022-08-22 10:21:56.804 | Installing Tempest
++ extras.d/80-tempest.sh:source:9          :   async_runfunc install_tempest
++ inc/async:async_runfunc:116              :   async_run install_tempest install_tempest
++ inc/async:async_run:85                   :   local xtrace
+++ inc/async:async_run:86                   :   set +o
+++ inc/async:async_run:86                   :   grep xtrace
++ inc/async:async_run:86                   :   xtrace='set -o xtrace'
++ inc/async:async_run:87                   :   set +o xtrace
++ inc/async:async_inner:63                 :   install_tempest
[3131924 Async install_tempest:3159602]: running: install_tempest
++ extras.d/80-tempest.sh:source:27         :   [[ stack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ stack == \c\l\e\a\n ]]
+ functions-common:run_phase:1888          :   [[ stack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1891          :   [[ stack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1894          :   run_plugins stack install
+ functions-common:run_plugins:1853        :   local mode=stack
+ functions-common:run_plugins:1854        :   local phase=install
+ functions-common:run_plugins:1856        :   local plugins=
+ functions-common:run_plugins:1857        :   local plugin
+ ./stack.sh:main:967                      :   use_library_from_git python-openstackclient
+ inc/python:use_library_from_git:246      :   local name=python-openstackclient
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,python-openstackclient, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ ./stack.sh:main:971                      :   pip_install_gr python-openstackclient
+ inc/python:pip_install_gr:76             :   local name=python-openstackclient
+ inc/python:pip_install_gr:77             :   local clean_name
++ inc/python:pip_install_gr:78             :   get_from_global_requirements python-openstackclient
++ inc/python:get_from_global_requirements:221 :   local package=python-openstackclient
++ inc/python:get_from_global_requirements:222 :   local required_pkg
+++ inc/python:get_from_global_requirements:223 :   grep -i -h '^python-openstackclient' /opt/stack/requirements/global-requirements.txt
+++ inc/python:get_from_global_requirements:223 :   cut -d# -f1
++ inc/python:get_from_global_requirements:223 :   required_pkg='python-openstackclient  '
++ inc/python:get_from_global_requirements:224 :   [[ python-openstackclient   == '' ]]
++ inc/python:get_from_global_requirements:227 :   echo python-openstackclient
+ inc/python:pip_install_gr:78             :   clean_name=python-openstackclient
+ inc/python:pip_install_gr:79             :   pip_install python-openstackclient
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install python-openstackclient
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt python-openstackclient
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Requirement already satisfied: python-openstackclient===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 418)) (6.0.0)
Requirement already satisfied: stevedore===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 515)) (4.0.0)
Requirement already satisfied: oslo.utils===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 319)) (6.0.0)
Requirement already satisfied: cliff===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 114)) (4.0.0)
Requirement already satisfied: python-novaclient===18.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 415)) (18.0.0)
Requirement already satisfied: iso8601===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 212)) (1.0.2)
Requirement already satisfied: osc-lib===2.6.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 299)) (2.6.1)
Requirement already satisfied: python-cinderclient===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 390)) (9.0.0)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 331)) (5.10.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 306)) (5.1.0)
Requirement already satisfied: python-keystoneclient===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 404)) (5.0.0)
Requirement already satisfied: openstacksdk===0.100.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 282)) (0.100.0)
Requirement already satisfied: pytz===2022.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 434)) (2022.2.1)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 259)) (0.8.0)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 368)) (3.0.9)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (2.5.0)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 327)) (21.3)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 260)) (0.11.0)
Requirement already satisfied: importlib-metadata===4.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 204)) (4.12.0)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: cmd2===2.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 115)) (2.4.2)
Requirement already satisfied: prettytable===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 341)) (3.3.0)
Requirement already satisfied: autopage===0.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 93)) (0.5.1)
Requirement already satisfied: keystoneauth1===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 227)) (5.0.0)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 316)) (5.0.0)
Requirement already satisfied: simplejson===3.17.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 481)) (3.17.6)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 446)) (2.28.1)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (9.0.0)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 482)) (1.16.0)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 131)) (5.1.1)
Requirement already satisfied: requestsexceptions===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 454)) (1.4.0)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 293)) (1.7.0)
Requirement already satisfied: jmespath===1.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 217)) (1.0.1)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 151)) (1.1.8)
Requirement already satisfied: munch===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 253)) (2.5.0)
Requirement already satisfied: appdirs===1.4.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 86)) (1.4.4)
Requirement already satisfied: cryptography===36.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 126)) (36.0.2)
Requirement already satisfied: jsonpatch===1.32 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 219)) (1.32)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 576)) (1.14.1)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 589)) (3.8.1)
Requirement already satisfied: pyperclip===1.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 369)) (1.8.2)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 571)) (0.2.5)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 252)) (1.0.4)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 200)) (3.3)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 112)) (2.1.0)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 446)) (2019.11.28)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 561)) (1.26.11)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 459)) (1.5.0)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 110)) (1.15.1)
Requirement already satisfied: jsonpointer===2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (2.3)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 357)) (2.21)
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163717068
+ functions-common:time_stop:2448          :   [[ -z 1661163717068 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163720105
+ functions-common:time_stop:2452          :   elapsed_time=3037
+ functions-common:time_stop:2453          :   total=80608
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=83645
+ inc/python:pip_install:199               :   return 0
+ ./stack.sh:main:976                      :   install_oscwrap
++ functions-common:install_oscwrap:2484    :   mktemp
+ functions-common:install_oscwrap:2484    :   OSCWRAP_TIMER_FILE=/tmp/tmp.By2Zv037WJ
+ functions-common:install_oscwrap:2487    :   shopt -s expand_aliases
+ functions-common:install_oscwrap:2490    :   unalias -a
+ functions-common:install_oscwrap:2492    :   alias openstack=oscwrap
+ ./stack.sh:main:981                      :   [[ False != \F\a\l\s\e ]]
+ ./stack.sh:main:1021                     :   '[' -f /opt/stack/data/ca-bundle.pem ']'
+ ./stack.sh:main:1029                     :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1030                     :   configure_database
+ lib/database:configure_database:128      :   configure_database_mysql
+ lib/databases/mysql:configure_database_mysql:72 :   local my_conf mysql slow_log
+ lib/databases/mysql:configure_database_mysql:73 :   echo_summary 'Configuring and starting MySQL'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Configuring and starting MySQL
2022-08-22 10:22:00.192 | Configuring and starting MySQL
+ lib/databases/mysql:configure_database_mysql:75 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/databases/mysql:configure_database_mysql:76 :   my_conf=/etc/mysql/my.cnf
++ lib/databases/mysql:configure_database_mysql:90 :   ipv6_unquote 0.0.0.0
++ functions-common:ipv6_unquote:2237       :   echo 0.0.0.0
++ functions-common:ipv6_unquote:2237       :   tr -d '[]'
+ lib/databases/mysql:configure_database_mysql:90 :   iniset -sudo /etc/mysql/my.cnf mysqld bind-address 0.0.0.0
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/databases/mysql:configure_database_mysql:93 :   is_fedora
+ functions-common:is_fedora:519           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:523           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:523           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:524           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:525           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:527           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = Virtuozzo ']'
+ lib/databases/mysql:configure_database_mysql:93 :   is_suse
+ functions-common:is_suse:536             :   is_opensuse
+ functions-common:is_opensuse:543         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:547         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:536             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:555 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:559 :   [[ Ubuntu =~ (^SUSE) ]]
+ lib/databases/mysql:configure_database_mysql:96 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/databases/mysql:configure_database_mysql:98 :   restart_service mysql
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart mysql
+ lib/databases/mysql:configure_database_mysql:104 :   sudo mysqladmin -u root password Datacore1
mysqladmin: connect to server at 'localhost' failed
error: 'Access denied for user 'root'@'localhost' (using password: NO)'
+ lib/databases/mysql:configure_database_mysql:104 :   true
+ lib/databases/mysql:configure_database_mysql:108 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/databases/mysql:configure_database_mysql:108 :   '[' mysql == mariadb ']'
+ lib/databases/mysql:configure_database_mysql:111 :   local 'cmd_args=-uroot -pDatacore1 -h127.0.0.1 '
+ lib/databases/mysql:configure_database_mysql:117 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/databases/mysql:configure_database_mysql:117 :   [[ focal != \b\u\l\l\s\e\y\e ]]
+ lib/databases/mysql:configure_database_mysql:117 :   '[' mysql == mariadb ']'
+ lib/databases/mysql:configure_database_mysql:122 :   sudo mysql -uroot -pDatacore1 -h127.0.0.1 -e 'CREATE USER IF NOT EXISTS '\''root'\''@'\''%'\'' identified by '\''Datacore1'\'';'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:configure_database_mysql:124 :   sudo mysql -uroot -pDatacore1 -h127.0.0.1 -e 'GRANT ALL PRIVILEGES ON *.* TO '\''root'\''@'\''%'\'';'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:configure_database_mysql:129 :   iniset -sudo /etc/mysql/my.cnf mysqld sql_mode TRADITIONAL
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/databases/mysql:configure_database_mysql:130 :   iniset -sudo /etc/mysql/my.cnf mysqld default-storage-engine InnoDB
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/databases/mysql:configure_database_mysql:131 :   iniset -sudo /etc/mysql/my.cnf mysqld max_connections 1024
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/databases/mysql:configure_database_mysql:133 :   [[ False == \T\r\u\e ]]
+ lib/databases/mysql:configure_database_mysql:153 :   [[ True == \T\r\u\e ]]
+ lib/databases/mysql:configure_database_mysql:154 :   echo 'enabling MySQL performance counting'
enabling MySQL performance counting
+ lib/databases/mysql:configure_database_mysql:157 :   pip_install /opt/stack/devstack/tools/dbcounter
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   set +o
++ inc/python:pip_install:129               :   grep xtrace
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/devstack/tools/dbcounter
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt /opt/stack/devstack/tools/dbcounter
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Processing ./tools/dbcounter
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Installing backend dependencies: started
  Installing backend dependencies: finished with status 'done'
    Preparing wheel metadata: started
    Preparing wheel metadata: finished with status 'done'
Building wheels for collected packages: dbcounter
  Building wheel for dbcounter (PEP 517): started
  Building wheel for dbcounter (PEP 517): finished with status 'done'
  Created wheel for dbcounter: filename=dbcounter-0.1-py3-none-any.whl size=3219 sha256=0924e3b4a8b1c5f8fa3b4e9f8779ae6df8ed33865ffba45797e58aab5a456ac5
  Stored in directory: /tmp/pip-ephem-wheel-cache-2lu8pge5/wheels/04/27/d5/a149f740d25b0dd13723ebe5709c71c8bafe335974c8ae4fa6
Successfully built dbcounter
Installing collected packages: dbcounter
  Attempting uninstall: dbcounter
    Found existing installation: dbcounter 0.1
    Uninstalling dbcounter-0.1:
      Successfully uninstalled dbcounter-0.1
Successfully installed dbcounter-0.1
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163722697
+ functions-common:time_stop:2448          :   [[ -z 1661163722697 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163736494
+ functions-common:time_stop:2452          :   elapsed_time=13797
+ functions-common:time_stop:2453          :   total=83645
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=97442
+ inc/python:pip_install:199               :   return 0
+ lib/databases/mysql:configure_database_mysql:160 :   recreate_database stats
+ lib/database:recreate_database:112       :   local db=stats
+ lib/database:recreate_database:113       :   recreate_database_mysql stats
+ lib/databases/mysql:recreate_database_mysql:66 :   local db=stats
+ lib/databases/mysql:recreate_database_mysql:67 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS stats;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:68 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'CREATE DATABASE stats CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:configure_database_mysql:161 :   mysql -u root -pDatacore1 -h 127.0.0.1 -e 'CREATE TABLE queries (db VARCHAR(32), op VARCHAR(32),
                count INT, PRIMARY KEY (db, op)) ENGINE MEMORY' stats
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:configure_database_mysql:166 :   restart_service mysql
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart mysql
++ inc/async:async_inner:64                 :   rc=0
++ inc/async:async_inner:65                 :   set +o xtrace
[3159602 Async install_tempest:3159602]: finished successfully
+ ./stack.sh:main:1034                     :   save_stackenv 1034
+ functions-common:save_stackenv:60        :   local tag=1034
++ functions-common:save_stackenv:62        :   date +%F-%H%M%S
+ functions-common:save_stackenv:62        :   time_stamp=2022-08-22-155218
+ functions-common:save_stackenv:63        :   echo '# 2022-08-22-155218 1034'
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo BASE_SQL_CONN=mysql+pymysql://root:Datacore1@127.0.0.1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo DATA_DIR=/opt/stack/data
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo DEST=/opt/stack
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo ENABLED_SERVICES=key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo HOST_IP=10.200.2.118
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo KEYSTONE_SERVICE_URI=http://10.200.2.118/identity
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo LOGFILE=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo OS_CACERT=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo SERVICE_HOST=10.200.2.118
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo STACK_USER=stack
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TLS_IP=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo HOST_IPV6=::1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo SERVICE_IP_VERSION=4
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TUNNEL_ENDPOINT_IP=10.200.2.118
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TUNNEL_IP_VERSION=4
+ ./stack.sh:main:1046                     :   [[ True == \T\r\u\e ]]
+ ./stack.sh:main:1047                     :   [[ -f /sys/kernel/mm/ksm/run ]]
+ ./stack.sh:main:1048                     :   sudo sh -c 'echo 1 > /sys/kernel/mm/ksm/run'
+ ./stack.sh:main:1060                     :   start_dstat
+ lib/dstat:start_dstat:31                 :   run_process dstat '/opt/stack/devstack/tools/dstat.sh /opt/stack/logs'
+ functions-common:run_process:1693        :   local service=dstat
+ functions-common:run_process:1694        :   local 'command=/opt/stack/devstack/tools/dstat.sh /opt/stack/logs'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=dstat
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163738718
+ functions-common:run_process:1702        :   is_service_enabled dstat
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd dstat '/opt/stack/devstack/tools/dstat.sh /opt/stack/logs' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=dstat
+ functions-common:_run_under_systemd:1654 :   local 'command=/opt/stack/devstack/tools/dstat.sh /opt/stack/logs'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/opt/stack/devstack/tools/dstat.sh /opt/stack/logs'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/opt/stack/devstack/tools/dstat.sh /opt/stack/logs'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/opt/stack/devstack/tools/dstat.sh /opt/stack/logs'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /opt/stack/devstack/tools/dstat.sh /opt/stack/logs =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /opt/stack/devstack/tools/dstat.sh /opt/stack/logs =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@dstat.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /opt/stack/devstack/tools/dstat.sh /opt/stack/logs =~ uwsgi ]]
+ functions-common:_run_under_systemd:1669 :   write_user_unit_file devstack@dstat.service '/opt/stack/devstack/tools/dstat.sh /opt/stack/logs' '' stack ''
+ functions-common:write_user_unit_file:1562 :   local service=devstack@dstat.service
+ functions-common:write_user_unit_file:1563 :   local 'command=/opt/stack/devstack/tools/dstat.sh /opt/stack/logs'
+ functions-common:write_user_unit_file:1564 :   local group=
+ functions-common:write_user_unit_file:1565 :   local user=stack
+ functions-common:write_user_unit_file:1566 :   local env_vars=
+ functions-common:write_user_unit_file:1567 :   local extra=
+ functions-common:write_user_unit_file:1568 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1571 :   local unitfile=/etc/systemd/system/devstack@dstat.service
+ functions-common:write_user_unit_file:1572 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1574 :   iniset -sudo /etc/systemd/system/devstack@dstat.service Unit Description 'Devstack devstack@dstat.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1575 :   iniset -sudo /etc/systemd/system/devstack@dstat.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1576 :   iniset -sudo /etc/systemd/system/devstack@dstat.service Service ExecStart '/opt/stack/devstack/tools/dstat.sh /opt/stack/logs'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1577 :   iniset -sudo /etc/systemd/system/devstack@dstat.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1578 :   iniset -sudo /etc/systemd/system/devstack@dstat.service Service TimeoutStopSec 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@dstat.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1580 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1583 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@dstat.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1589 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@dstat.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@dstat.service → /etc/systemd/system/devstack@dstat.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@dstat.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163738718
+ functions-common:time_stop:2448          :   [[ -z 1661163738718 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163740016
+ functions-common:time_stop:2452          :   elapsed_time=1298
+ functions-common:time_stop:2453          :   total=0
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=1298
+ lib/dstat:start_dstat:36                 :   run_process memory_tracker /opt/stack/devstack/tools/memory_tracker.sh '' root
+ functions-common:run_process:1693        :   local service=memory_tracker
+ functions-common:run_process:1694        :   local command=/opt/stack/devstack/tools/memory_tracker.sh
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=root
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=memory_tracker
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163740072
+ functions-common:run_process:1702        :   is_service_enabled memory_tracker
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163740072
+ functions-common:time_stop:2448          :   [[ -z 1661163740072 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163740129
+ functions-common:time_stop:2452          :   elapsed_time=57
+ functions-common:time_stop:2453          :   total=1298
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=1355
+ lib/dstat:start_dstat:40                 :   is_service_enabled peakmem_tracker
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:1064                     :   is_service_enabled tcpdump
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:1072                     :   is_service_enabled etcd3
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1073                     :   start_etcd3
+ lib/etcd3:start_etcd3:41                 :   local cmd=/opt/stack/bin/etcd
+ lib/etcd3:start_etcd3:42                 :   cmd+=' --name datacore-PowerEdge-R740 --data-dir /opt/stack/data/etcd'
+ lib/etcd3:start_etcd3:43                 :   cmd+=' --initial-cluster-state new --initial-cluster-token etcd-cluster-01'
+ lib/etcd3:start_etcd3:44                 :   cmd+=' --initial-cluster datacore-PowerEdge-R740=http://10.200.2.118:2380'
+ lib/etcd3:start_etcd3:45                 :   cmd+=' --initial-advertise-peer-urls http://10.200.2.118:2380'
+ lib/etcd3:start_etcd3:46                 :   cmd+=' --advertise-client-urls http://10.200.2.118:2379'
+ lib/etcd3:start_etcd3:47                 :   '[' 0.0.0.0 == :: ']'
+ lib/etcd3:start_etcd3:50                 :   cmd+=' --listen-peer-urls http://0.0.0.0:2380 '
+ lib/etcd3:start_etcd3:52                 :   cmd+=' --listen-client-urls http://10.200.2.118:2379'
+ lib/etcd3:start_etcd3:53                 :   '[' True == True ']'
+ lib/etcd3:start_etcd3:54                 :   cmd+=' --debug'
+ lib/etcd3:start_etcd3:57                 :   local unitfile=/etc/systemd/system/devstack@etcd.service
+ lib/etcd3:start_etcd3:58                 :   write_user_unit_file devstack@etcd.service '/opt/stack/bin/etcd --name datacore-PowerEdge-R740 --data-dir /opt/stack/data/etcd --initial-cluster-state new --initial-cluster-token etcd-cluster-01 --initial-cluster datacore-PowerEdge-R740=http://10.200.2.118:2380 --initial-advertise-peer-urls http://10.200.2.118:2380 --advertise-client-urls http://10.200.2.118:2379 --listen-peer-urls http://0.0.0.0:2380  --listen-client-urls http://10.200.2.118:2379 --debug' '' root
+ functions-common:write_user_unit_file:1562 :   local service=devstack@etcd.service
+ functions-common:write_user_unit_file:1563 :   local 'command=/opt/stack/bin/etcd --name datacore-PowerEdge-R740 --data-dir /opt/stack/data/etcd --initial-cluster-state new --initial-cluster-token etcd-cluster-01 --initial-cluster datacore-PowerEdge-R740=http://10.200.2.118:2380 --initial-advertise-peer-urls http://10.200.2.118:2380 --advertise-client-urls http://10.200.2.118:2379 --listen-peer-urls http://0.0.0.0:2380  --listen-client-urls http://10.200.2.118:2379 --debug'
+ functions-common:write_user_unit_file:1564 :   local group=
+ functions-common:write_user_unit_file:1565 :   local user=root
+ functions-common:write_user_unit_file:1566 :   local env_vars=
+ functions-common:write_user_unit_file:1567 :   local extra=
+ functions-common:write_user_unit_file:1568 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1571 :   local unitfile=/etc/systemd/system/devstack@etcd.service
+ functions-common:write_user_unit_file:1572 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1574 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Unit Description 'Devstack devstack@etcd.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1575 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service User root
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1576 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service ExecStart '/opt/stack/bin/etcd --name datacore-PowerEdge-R740 --data-dir /opt/stack/data/etcd --initial-cluster-state new --initial-cluster-token etcd-cluster-01 --initial-cluster datacore-PowerEdge-R740=http://10.200.2.118:2380 --initial-advertise-peer-urls http://10.200.2.118:2380 --advertise-client-urls http://10.200.2.118:2379 --listen-peer-urls http://0.0.0.0:2380  --listen-client-urls http://10.200.2.118:2379 --debug'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1577 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1578 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service TimeoutStopSec 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1580 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1583 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1589 :   sudo systemctl daemon-reload
+ lib/etcd3:start_etcd3:60                 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Unit After network.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/etcd3:start_etcd3:61                 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service Type notify
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/etcd3:start_etcd3:62                 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service Restart on-failure
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/etcd3:start_etcd3:63                 :   iniset -sudo /etc/systemd/system/devstack@etcd.service Service LimitNOFILE 65536
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/etcd3:start_etcd3:64                 :   is_arch aarch64
++ functions-common:is_arch:501             :   uname -m
+ functions-common:is_arch:501             :   [[ x86_64 == \a\a\r\c\h\6\4 ]]
+ lib/etcd3:start_etcd3:68                 :   sudo systemctl daemon-reload
+ lib/etcd3:start_etcd3:69                 :   sudo systemctl enable devstack@etcd.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@etcd.service → /etc/systemd/system/devstack@etcd.service.
+ lib/etcd3:start_etcd3:70                 :   sudo systemctl start devstack@etcd.service
+ ./stack.sh:main:1079                     :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:1084                     :   write_clouds_yaml
+ functions-common:write_clouds_yaml:79    :   CLOUDS_YAML=/etc/openstack/clouds.yaml
++ functions-common:write_clouds_yaml:81    :   dirname /etc/openstack/clouds.yaml
+ functions-common:write_clouds_yaml:81    :   sudo mkdir -p /etc/openstack
+ functions-common:write_clouds_yaml:82    :   sudo chown -R stack /etc/openstack
+ functions-common:write_clouds_yaml:84    :   CA_CERT_ARG=
+ functions-common:write_clouds_yaml:85    :   '[' -f /opt/stack/data/ca-bundle.pem ']'
+ functions-common:write_clouds_yaml:89    :   /usr/bin/python3.8 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack --os-region-name RegionOne --os-auth-url http://10.200.2.118/identity --os-username demo --os-password Datacore1 --os-project-name demo
The user clouds.yaml file didn't exist.
+ functions-common:write_clouds_yaml:100   :   /usr/bin/python3.8 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-admin --os-region-name RegionOne --os-auth-url http://10.200.2.118/identity --os-username admin --os-password Datacore1 --os-project-name admin
+ functions-common:write_clouds_yaml:111   :   /usr/bin/python3.8 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-admin-demo --os-region-name RegionOne --os-auth-url http://10.200.2.118/identity --os-username admin --os-password Datacore1 --os-project-name demo
+ functions-common:write_clouds_yaml:122   :   /usr/bin/python3.8 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-alt --os-region-name RegionOne --os-auth-url http://10.200.2.118/identity --os-username alt_demo --os-password Datacore1 --os-project-name alt_demo
+ functions-common:write_clouds_yaml:133   :   /usr/bin/python3.8 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-alt-member --os-region-name RegionOne --os-auth-url http://10.200.2.118/identity --os-username alt_demo_member --os-password Datacore1 --os-project-name alt_demo
+ functions-common:write_clouds_yaml:144   :   /usr/bin/python3.8 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-alt-reader --os-region-name RegionOne --os-auth-url http://10.200.2.118/identity --os-username alt_demo_reader --os-password Datacore1 --os-project-name alt_demo
+ functions-common:write_clouds_yaml:155   :   /usr/bin/python3.8 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-reader --os-region-name RegionOne --os-auth-url http://10.200.2.118/identity --os-username demo_reader --os-password Datacore1 --os-project-name demo
+ functions-common:write_clouds_yaml:166   :   /usr/bin/python3.8 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-system-admin --os-region-name RegionOne --os-auth-url http://10.200.2.118/identity --os-username admin --os-password Datacore1 --os-system-scope all
+ functions-common:write_clouds_yaml:177   :   /usr/bin/python3.8 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-system-member --os-region-name RegionOne --os-auth-url http://10.200.2.118/identity --os-username system_member --os-password Datacore1 --os-system-scope all
+ functions-common:write_clouds_yaml:188   :   /usr/bin/python3.8 /opt/stack/devstack/tools/update_clouds_yaml.py --file /etc/openstack/clouds.yaml --os-cloud devstack-system-reader --os-region-name RegionOne --os-auth-url http://10.200.2.118/identity --os-username system_reader --os-password Datacore1 --os-system-scope all
+ functions-common:write_clouds_yaml:198   :   cat
++ functions-common:write_clouds_yaml:204   :   eval echo '~stack'
+++ functions-common:write_clouds_yaml:204   :   echo /opt/stack
+ functions-common:write_clouds_yaml:204   :   rm -f /opt/stack/.config/openstack/clouds.yaml
+ ./stack.sh:main:1085                     :   export OS_CLOUD=devstack-admin
+ ./stack.sh:main:1085                     :   OS_CLOUD=devstack-admin
+ ./stack.sh:main:1087                     :   is_service_enabled keystone
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1088                     :   echo_summary 'Starting Keystone'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Starting Keystone
2022-08-22 10:22:23.564 | Starting Keystone
+ ./stack.sh:main:1090                     :   '[' 10.200.2.118 == 10.200.2.118 ']'
+ ./stack.sh:main:1091                     :   init_keystone
+ lib/keystone:init_keystone:473           :   is_service_enabled ldap
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/keystone:init_keystone:477           :   [[ True == True ]]
+ lib/keystone:init_keystone:479           :   recreate_database keystone
+ lib/database:recreate_database:112       :   local db=keystone
+ lib/database:recreate_database:113       :   recreate_database_mysql keystone
+ lib/databases/mysql:recreate_database_mysql:66 :   local db=keystone
+ lib/databases/mysql:recreate_database_mysql:67 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS keystone;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:68 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'CREATE DATABASE keystone CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/keystone:init_keystone:482           :   time_start dbsync
+ functions-common:time_start:2425         :   local name=dbsync
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163743663
+ lib/keystone:init_keystone:484           :   /usr/local/bin/keystone-manage --config-file /etc/keystone/keystone.conf db_sync
[00;36mINFO dbcounter [[00;36m-[00;36m] [01;35m[00;36mRegistered counter for database keystone[00m[00m
[00;32mDEBUG oslo_db.sqlalchemy.engines [[00;36m-[00;32m] [01;35m[00;32mMySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION[00m [00;33m{{(pid=3161806) _check_effective_sql_mode /usr/local/lib/python3.8/dist-packages/oslo_db/sqlalchemy/engines.py:314}}[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3161806] Writer thread running[00m [00;33m{{(pid=3161806) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mContext impl MySQLImpl.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mWill assume non-transactional DDL.[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mLoading repository /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo...[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:76}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/075_placeholder.py...[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/075_placeholder.py loaded successfully[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/074_placeholder.py...[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/074_placeholder.py loaded successfully[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/076_placeholder.py...[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/076_placeholder.py loaded successfully[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/073_expand_initial_migration.py...[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/073_expand_initial_migration.py loaded successfully[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/077_placeholder.py...[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/077_placeholder.py loaded successfully[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/078_placeholder.py...[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/078_placeholder.py loaded successfully[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/079_expand_update_local_id_limit.py...[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo/versions/079_expand_update_local_id_limit.py loaded successfully[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mRepository /opt/stack/keystone/keystone/common/sql/legacy_migrations/expand_repo loaded successfully[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:82}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mConfig: {'db_settings': {'repository_id': 'keystone_expand', 'version_table': 'migrate_version', 'required_dbs': '[]', 'use_timestamp_numbering': 'False'}}[00m [00;33m{{(pid=3161806) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:83}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mContext impl MySQLImpl.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mWill assume non-transactional DDL.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade  -> 27e647c0fad4, Initial version[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mnew branch insert 27e647c0fad4[00m [00;33m{{(pid=3161806) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:818}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade 27e647c0fad4 -> e25ffa003242, Initial no-op Yoga contract migration.[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mupdate 27e647c0fad4 to e25ffa003242[00m [00;33m{{(pid=3161806) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:853}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade 27e647c0fad4 -> 29e87d24a316, Initial no-op Yoga expand migration.[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mnew branch insert 29e87d24a316[00m [00;33m{{(pid=3161806) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:818}}[00m[00m
+ lib/keystone:init_keystone:485           :   time_stop dbsync
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=dbsync
+ functions-common:time_stop:2446          :   start_time=1661163743663
+ functions-common:time_stop:2448          :   [[ -z 1661163743663 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163746492
+ functions-common:time_stop:2452          :   elapsed_time=2829
+ functions-common:time_stop:2453          :   total=0
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=2829
+ lib/keystone:init_keystone:487           :   [[ fernet == \f\e\r\n\e\t ]]
+ lib/keystone:init_keystone:488           :   rm -rf /etc/keystone/fernet-keys/
+ lib/keystone:init_keystone:489           :   /usr/local/bin/keystone-manage --config-file /etc/keystone/keystone.conf fernet_setup
[00;36mINFO keystone.common.utils [[00;36m-[00;36m] [01;35m[00;36m/etc/keystone/fernet-keys/ does not appear to exist; attempting to create it[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mCreated a new temporary key: /etc/keystone/fernet-keys/0.tmp[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mBecome a valid new key: /etc/keystone/fernet-keys/0[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mStarting key rotation with 1 key files: ['/etc/keystone/fernet-keys/0'][00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mCreated a new temporary key: /etc/keystone/fernet-keys/0.tmp[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mCurrent primary key is: 0[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mNext primary key will be: 1[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mPromoted key 0 to be the primary: 1[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mBecome a valid new key: /etc/keystone/fernet-keys/0[00m[00m
+ lib/keystone:init_keystone:491           :   rm -rf /etc/keystone/credential-keys/
+ lib/keystone:init_keystone:492           :   /usr/local/bin/keystone-manage --config-file /etc/keystone/keystone.conf credential_setup
[00;36mINFO keystone.common.utils [[00;36m-[00;36m] [01;35m[00;36m/etc/keystone/credential-keys/ does not appear to exist; attempting to create it[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mCreated a new temporary key: /etc/keystone/credential-keys/0.tmp[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mBecome a valid new key: /etc/keystone/credential-keys/0[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mStarting key rotation with 1 key files: ['/etc/keystone/credential-keys/0'][00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mCreated a new temporary key: /etc/keystone/credential-keys/0.tmp[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mCurrent primary key is: 0[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mNext primary key will be: 1[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mPromoted key 0 to be the primary: 1[00m[00m
[00;36mINFO keystone.common.fernet_utils [[00;36m-[00;36m] [01;35m[00;36mBecome a valid new key: /etc/keystone/credential-keys/0[00m[00m
+ ./stack.sh:main:1092                     :   start_keystone
+ lib/keystone:start_keystone:550          :   local service_port=5000
+ lib/keystone:start_keystone:551          :   local auth_protocol=http
+ lib/keystone:start_keystone:552          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/keystone:start_keystone:557          :   '[' uwsgi == mod_wsgi ']'
++ lib/keystone:start_keystone:561          :   which uwsgi
+ lib/keystone:start_keystone:561          :   run_process keystone '/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini' ''
+ functions-common:run_process:1693        :   local service=keystone
+ functions-common:run_process:1694        :   local 'command=/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=keystone
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163750511
+ functions-common:run_process:1702        :   is_service_enabled keystone
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd keystone '/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=keystone
+ functions-common:_run_under_systemd:1654 :   local 'command=/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@keystone.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1667 :   write_uwsgi_user_unit_file devstack@keystone.service '/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini' '' stack ''
+ functions-common:write_uwsgi_user_unit_file:1593 :   local service=devstack@keystone.service
+ functions-common:write_uwsgi_user_unit_file:1594 :   local 'command=/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini'
+ functions-common:write_uwsgi_user_unit_file:1595 :   local group=
+ functions-common:write_uwsgi_user_unit_file:1596 :   local user=stack
+ functions-common:write_uwsgi_user_unit_file:1597 :   local env_vars=
+ functions-common:write_uwsgi_user_unit_file:1598 :   local unitfile=/etc/systemd/system/devstack@keystone.service
+ functions-common:write_uwsgi_user_unit_file:1599 :   mkdir -p /etc/systemd/system
+ functions-common:write_uwsgi_user_unit_file:1601 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Unit Description 'Devstack devstack@keystone.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1602 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service SyslogIdentifier devstack@keystone.service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1603 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1604 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service ExecStart '/bin/uwsgi --procname-prefix keystone --ini /etc/keystone/keystone-uwsgi-public.ini'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1605 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1606 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service Type notify
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1607 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1608 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service Restart always
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1609 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service NotifyAccess all
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1610 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Service RestartForceExitStatus 100
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1612 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1615 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1618 :   iniset -sudo /etc/systemd/system/devstack@keystone.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1621 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@keystone.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@keystone.service → /etc/systemd/system/devstack@keystone.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@keystone.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163750511
+ functions-common:time_stop:2448          :   [[ -z 1661163750511 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163752124
+ functions-common:time_stop:2452          :   elapsed_time=1613
+ functions-common:time_stop:2453          :   total=1355
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=2968
+ lib/keystone:start_keystone:564          :   echo 'Waiting for keystone to start...'
Waiting for keystone to start...
+ lib/keystone:start_keystone:570          :   local service_uri=http://10.200.2.118/identity/v3/
+ lib/keystone:start_keystone:572          :   wait_for_service 60 http://10.200.2.118/identity/v3/
+ functions:wait_for_service:457           :   local timeout=60
+ functions:wait_for_service:458           :   local url=http://10.200.2.118/identity/v3/
+ functions:wait_for_service:459           :   local rval=0
+ functions:wait_for_service:460           :   time_start wait_for_service
+ functions-common:time_start:2425         :   local name=wait_for_service
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163752171
+ functions:wait_for_service:461           :   timeout 60 bash -x
++ ::                                       :   curl -g -k --noproxy '*' -s -o /dev/null -w '%{http_code}' http://10.200.2.118/identity/v3/
+ ::                                       :   [[ 200 == 503 ]]
+ ::                                       :   [[ 0 -eq 7 ]]
+ functions:wait_for_service:466           :   time_stop wait_for_service
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=wait_for_service
+ functions-common:time_stop:2446          :   start_time=1661163752171
+ functions-common:time_stop:2448          :   [[ -z 1661163752171 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163754805
+ functions-common:time_stop:2452          :   elapsed_time=2634
+ functions-common:time_stop:2453          :   total=0
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=2634
+ functions:wait_for_service:467           :   return 0
+ lib/keystone:start_keystone:577          :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/keystone:start_keystone:582          :   restart_service memcached
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart memcached
+ ./stack.sh:main:1093                     :   bootstrap_keystone
+ lib/keystone:bootstrap_keystone:602      :   /usr/local/bin/keystone-manage bootstrap --bootstrap-username admin --bootstrap-password Datacore1 --bootstrap-project-name admin --bootstrap-role-name admin --bootstrap-service-name keystone --bootstrap-region-id RegionOne --bootstrap-public-url http://10.200.2.118/identity
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.application_credential.core.Manager._delete_app_creds_on_user_delete_callback` subscribed to event `identity.user.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.application_credential.core.Manager._delete_app_creds_on_user_delete_callback` subscribed to event `identity.user.disabled`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.application_credential.core.Manager._delete_app_creds_on_assignment_removal` subscribed to event `identity.remove_application_credentials_for_user.internal`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.assignment.core.Manager._delete_domain_assignments` subscribed to event `identity.domain.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.catalog.core.Manager._on_project_or_endpoint_delete` subscribed to event `identity.project.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.catalog.core.Manager._on_project_or_endpoint_delete` subscribed to event `identity.endpoint.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.federation.core.Manager._cleanup_identity_provider` subscribed to event `identity.domain_deleted.internal`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.identity.core.Manager._domain_deleted` subscribed to event `identity.domain_deleted.internal`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.identity.core.Manager._unset_default_project` subscribed to event `identity.project.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.revoke.core.Manager._trust_callback` subscribed to event `identity.OS-TRUST:trust.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.revoke.core.Manager._consumer_callback` subscribed to event `identity.OS-OAUTH1:consumer.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.revoke.core.Manager._user_callback` subscribed to event `identity.user.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.revoke.core.Manager._project_callback` subscribed to event `identity.project.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.revoke.core.Manager._user_callback` subscribed to event `identity.user.disabled`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.revoke.core.Manager._user_callback` subscribed to event `identity.persist_revocation_event_for_user.internal`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.OS-TRUST:trust.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.user.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.domain.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.user.disabled`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.domain.disabled`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.project.disabled`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.receipt.provider.Manager._drop_receipt_cache` subscribed to event `identity.invalidate_token_cache.internal`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.trust.core.Manager._on_user_delete` subscribed to event `identity.user.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.OS-TRUST:trust.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.user.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.domain.deleted`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.user.disabled`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.domain.disabled`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.project.disabled`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;32mDEBUG keystone.notifications [[00;36m-[00;32m] [01;35m[00;32mCallback: `keystone.token.provider.Manager._drop_token_cache` subscribed to event `identity.invalidate_token_cache.internal`.[00m [00;33m{{(pid=3162695) register_event_callback /opt/stack/keystone/keystone/notifications.py:295}}[00m[00m
[00;36mINFO dbcounter [[00;36m-[00;36m] [01;35m[00;36mRegistered counter for database keystone[00m[00m
[00;32mDEBUG oslo_db.sqlalchemy.engines [[00;36m-[00;32m] [01;35m[00;32mMySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION[00m [00;33m{{(pid=3162695) _check_effective_sql_mode /usr/local/lib/python3.8/dist-packages/oslo_db/sqlalchemy/engines.py:314}}[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3162695] Writer thread running[00m [00;33m{{(pid=3162695) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
[00;36mINFO keystone.cmd.bootstrap [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;36m] [01;35m[00;36mCreated domain default[00m[00m
[00;36mINFO keystone.cmd.bootstrap [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;36m] [01;35m[00;36mCreated project admin[00m[00m
[00;32mDEBUG passlib.handlers.bcrypt [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;32m] [01;35m[00;32mdetected 'bcrypt' backend, version '3.2.2'[00m [00;33m{{(pid=3162695) _load_backend_mixin /usr/local/lib/python3.8/dist-packages/passlib/handlers/bcrypt.py:625}}[00m[00m
[00;32mDEBUG passlib.handlers.bcrypt [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;32m] [01;35m[00;32m'bcrypt' backend lacks $2$ support, enabling workaround[00m [00;33m{{(pid=3162695) _finalize_backend_mixin /usr/local/lib/python3.8/dist-packages/passlib/handlers/bcrypt.py:406}}[00m[00m
[00;36mINFO keystone.cmd.bootstrap [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;36m] [01;35m[00;36mCreated user admin[00m[00m
[00;36mINFO keystone.cmd.bootstrap [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;36m] [01;35m[00;36mCreated role reader[00m[00m
[00;36mINFO keystone.cmd.bootstrap [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;36m] [01;35m[00;36mCreated role member[00m[00m
[00;36mINFO keystone.cmd.bootstrap [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;36m] [01;35m[00;36mCreated implied role where a448fa0940d84236bf04cb5c879ca5e9 implies aefda2b0918242f3b465e2400d770f34[00m[00m
[00;36mINFO keystone.cmd.bootstrap [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;36m] [01;35m[00;36mCreated role admin[00m[00m
[00;36mINFO keystone.cmd.bootstrap [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;36m] [01;35m[00;36mCreated implied role where a57d72a8c9b54d8f8d356277ff833ba5 implies a448fa0940d84236bf04cb5c879ca5e9[00m[00m
[00;36mINFO keystone.cmd.bootstrap [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;36m] [01;35m[00;36mGranted role admin on project admin to user admin.[00m[00m
[00;36mINFO keystone.cmd.bootstrap [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;36m] [01;35m[00;36mGranted role admin on the system to user admin.[00m[00m
[01;33mWARNING py.warnings [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[01;33m] [01;35m[01;33m/usr/local/lib/python3.8/dist-packages/pycadf/identifier.py:71: UserWarning: Invalid uuid: RegionOne. To ensure interoperability, identifiers should be a valid uuid.
  warnings.warn(('Invalid uuid: %s. To ensure interoperability, '
[00m[00m
[00;36mINFO keystone.cmd.bootstrap [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;36m] [01;35m[00;36mCreated region RegionOne[00m[00m
[00;36mINFO keystone.cmd.bootstrap [[01;36mNone req-4578803e-de85-475e-81d2-4b37c03f014a [00;36mNone None[00;36m] [01;35m[00;36mCreated public endpoint http://10.200.2.118/identity[00m[00m
+ lib/keystone:bootstrap_keystone:610      :   '[' False == True ']'
+ ./stack.sh:main:1096                     :   create_keystone_accounts
+ lib/keystone:create_keystone_accounts:309 :   local admin_project
++ lib/keystone:create_keystone_accounts:310 :   oscwrap project show admin -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ lib/keystone:create_keystone_accounts:310 :   admin_project=e9042542350e4474975e8ab20e585a23
+ lib/keystone:create_keystone_accounts:311 :   local admin_user
++ lib/keystone:create_keystone_accounts:312 :   oscwrap user show admin -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ lib/keystone:create_keystone_accounts:312 :   admin_user=644cb9f511244231b525b1925aa34435
+ lib/keystone:create_keystone_accounts:314 :   local admin_role=admin
+ lib/keystone:create_keystone_accounts:315 :   local member_role=member
+ lib/keystone:create_keystone_accounts:316 :   local reader_role=reader
+ lib/keystone:create_keystone_accounts:318 :   async_run ks-domain-role get_or_add_user_domain_role admin 644cb9f511244231b525b1925aa34435 default
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_user_domain_role admin 644cb9f511244231b525b1925aa34435 default
[3131924 Async ks-domain-role:3162830]: running: get_or_add_user_domain_role admin 644cb9f511244231b525b1925aa34435 default
+ lib/keystone:create_keystone_accounts:321 :   get_or_create_domain Default
+ functions-common:get_or_create_domain:877 :   local domain_id
++ functions-common:get_or_create_domain:889 :   oscwrap --os-cloud devstack-system-admin domain show Default -f value -c id
+ functions-common:get_or_create_domain:887 :   domain_id=default
+ functions-common:get_or_create_domain:888 :   echo default
default
+ lib/keystone:create_keystone_accounts:322 :   async_run ks-project get_or_create_project service Default
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   grep xtrace
++ inc/async:async_run:86                   :   set +o
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_create_project service Default
[3131924 Async ks-project:3162977]: running: get_or_create_project service Default
+ lib/keystone:create_keystone_accounts:325 :   async_run ks-service get_or_create_role service
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   grep xtrace
++ inc/async:async_run:86                   :   set +o
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_create_role service
[3131924 Async ks-service:3163074]: running: get_or_create_role service
+ lib/keystone:create_keystone_accounts:331 :   async_run ks-reseller get_or_create_role ResellerAdmin
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_create_role ResellerAdmin
[3131924 Async ks-reseller:3163170]: running: get_or_create_role ResellerAdmin
+ lib/keystone:create_keystone_accounts:335 :   local another_role=anotherrole
+ lib/keystone:create_keystone_accounts:336 :   async_run ks-anotherrole get_or_create_role anotherrole
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_create_role anotherrole
[3131924 Async ks-anotherrole:3163278]: running: get_or_create_role anotherrole
+ lib/keystone:create_keystone_accounts:339 :   local invis_project
++ lib/keystone:create_keystone_accounts:340 :   get_or_create_project invisible_to_admin default
++ functions-common:get_or_create_project:932 :   local project_id
+++ functions-common:get_or_create_project:940 :   oscwrap --os-cloud devstack-system-admin project create invisible_to_admin --domain=default --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3163074 Async ks-service:3163074]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3162977 Async ks-project:3162977]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3163170 Async ks-reseller:3163170]: finished successfully
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3163278 Async ks-anotherrole:3163278]: finished successfully
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_project:938 :   project_id=00f70b7511bb4fc3a33102ca224a3f36
++ functions-common:get_or_create_project:939 :   echo 00f70b7511bb4fc3a33102ca224a3f36
+ lib/keystone:create_keystone_accounts:340 :   invis_project=00f70b7511bb4fc3a33102ca224a3f36
+ lib/keystone:create_keystone_accounts:343 :   local demo_project
++ lib/keystone:create_keystone_accounts:344 :   get_or_create_project demo default
++ functions-common:get_or_create_project:932 :   local project_id
+++ functions-common:get_or_create_project:940 :   oscwrap --os-cloud devstack-system-admin project create demo --domain=default --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_project:938 :   project_id=4e822160d1244a4d8792cb31e76a4fa2
++ functions-common:get_or_create_project:939 :   echo 4e822160d1244a4d8792cb31e76a4fa2
+ lib/keystone:create_keystone_accounts:344 :   demo_project=4e822160d1244a4d8792cb31e76a4fa2
+ lib/keystone:create_keystone_accounts:345 :   local demo_user
++ lib/keystone:create_keystone_accounts:347 :   get_or_create_user demo Datacore1 default demo@example.com
++ functions-common:get_or_create_user:909  :   local user_id
++ functions-common:get_or_create_user:910  :   [[ ! -z demo@example.com ]]
++ functions-common:get_or_create_user:911  :   local email=--email=demo@example.com
+++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create demo --password Datacore1 --domain=default --email=demo@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   grep xtrace
++++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3162830 Async ks-domain-role:3162830]: finished successfully
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_user:925  :   user_id=e0717d27079e4f579213398527e37b5d
++ functions-common:get_or_create_user:926  :   echo e0717d27079e4f579213398527e37b5d
+ lib/keystone:create_keystone_accounts:347 :   demo_user=e0717d27079e4f579213398527e37b5d
+ lib/keystone:create_keystone_accounts:349 :   async_wait ks-domain-role ks-domain ks-project ks-service ks-reseller ks-anotherrole
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   set +o
++ inc/async:async_wait:142                 :   grep xtrace
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async ks-domain-role:3162830]: Waiting for completion of get_or_add_user_domain_role admin 644cb9f511244231b525b1925aa34435 default running on PID 3162830 (6 other jobs running)
[3131924 Async ks-domain-role:3162830]: Signaling child to exit
WAKEUP
[3131924 Async ks-domain-role:3162830]: Signaled
+ functions-common:get_or_add_user_domain_role:1003 :   local user_role_id
++ functions-common:get_or_add_user_domain_role:1009 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_domain_role:1009 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user 644cb9f511244231b525b1925aa34435 --domain default
++ functions-common:get_or_add_user_domain_role:1009 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:get_field:812           :   read data
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_domain_role:1009 :   user_role_id=
+ functions-common:get_or_add_user_domain_role:1010 :   [[ -z '' ]]
+ functions-common:get_or_add_user_domain_role:1012 :   openstack --os-cloud devstack-system-admin role add admin --user 644cb9f511244231b525b1925aa34435 --domain default
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_domain_role:1019 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_domain_role:1019 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user 644cb9f511244231b525b1925aa34435 --domain default
++ functions-common:get_or_add_user_domain_role:1019 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| a57d72a8c9b54d8f8d356277ff833ba5 | 644cb9f511244231b525b1925aa34435 |       |         | default |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_domain_role:1019 :   user_role_id=a57d72a8c9b54d8f8d356277ff833ba5
+ functions-common:get_or_add_user_domain_role:1021 :   echo a57d72a8c9b54d8f8d356277ff833ba5
a57d72a8c9b54d8f8d356277ff833ba5
[3131924 Async ks-domain-role:3162830]: finished get_or_add_user_domain_role admin 644cb9f511244231b525b1925aa34435 default with result 0 in 6 seconds
Not waiting for async task ks-domain that we never started or has already been waited for
[3131924 Async ks-project:3162977]: Waiting for completion of get_or_create_project service Default running on PID 3162977 (5 other jobs running)
[3131924 Async ks-project:3162977]: Signaling child to exit
WAKEUP
[3131924 Async ks-project:3162977]: Signaled
+ functions-common:get_or_create_project:932 :   local project_id
++ functions-common:get_or_create_project:940 :   oscwrap --os-cloud devstack-system-admin project create service --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_project:938 :   project_id=c729f6d2231949cc9cc800018f7746bd
+ functions-common:get_or_create_project:939 :   echo c729f6d2231949cc9cc800018f7746bd
c729f6d2231949cc9cc800018f7746bd
[3131924 Async ks-project:3162977]: finished get_or_create_project service Default with result 0 in 2 seconds
[3131924 Async ks-service:3163074]: Waiting for completion of get_or_create_role service running on PID 3163074 (4 other jobs running)
[3131924 Async ks-service:3163074]: Signaling child to exit
WAKEUP
[3131924 Async ks-service:3163074]: Signaled
+ functions-common:get_or_create_role:945  :   local role_id
++ functions-common:get_or_create_role:952  :   oscwrap --os-cloud devstack-system-admin role create service --or-show -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_role:950  :   role_id=2a5e5d02ebf54dc384338c23ed99a4a0
+ functions-common:get_or_create_role:951  :   echo 2a5e5d02ebf54dc384338c23ed99a4a0
2a5e5d02ebf54dc384338c23ed99a4a0
[3131924 Async ks-service:3163074]: finished get_or_create_role service with result 0 in 1 seconds
[3131924 Async ks-reseller:3163170]: Waiting for completion of get_or_create_role ResellerAdmin running on PID 3163170 (3 other jobs running)
[3131924 Async ks-reseller:3163170]: Signaling child to exit
WAKEUP
[3131924 Async ks-reseller:3163170]: Signaled
+ functions-common:get_or_create_role:945  :   local role_id
++ functions-common:get_or_create_role:952  :   oscwrap --os-cloud devstack-system-admin role create ResellerAdmin --or-show -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_role:950  :   role_id=1c629d8011824c80b974c387e790d9d2
+ functions-common:get_or_create_role:951  :   echo 1c629d8011824c80b974c387e790d9d2
1c629d8011824c80b974c387e790d9d2
[3131924 Async ks-reseller:3163170]: finished get_or_create_role ResellerAdmin with result 0 in 1 seconds
[3131924 Async ks-anotherrole:3163278]: Waiting for completion of get_or_create_role anotherrole running on PID 3163278 (2 other jobs running)
[3131924 Async ks-anotherrole:3163278]: Signaling child to exit
WAKEUP
[3131924 Async ks-anotherrole:3163278]: Signaled
+ functions-common:get_or_create_role:945  :   local role_id
++ functions-common:get_or_create_role:952  :   oscwrap --os-cloud devstack-system-admin role create anotherrole --or-show -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_role:950  :   role_id=c610b40701d94c8d9f31e22da1375206
+ functions-common:get_or_create_role:951  :   echo c610b40701d94c8d9f31e22da1375206
c610b40701d94c8d9f31e22da1375206
[3131924 Async ks-anotherrole:3163278]: finished get_or_create_role anotherrole with result 0 in 1 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/keystone:create_keystone_accounts:351 :   async_run ks-demo-member get_or_add_user_project_role member e0717d27079e4f579213398527e37b5d 4e822160d1244a4d8792cb31e76a4fa2
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_user_project_role member e0717d27079e4f579213398527e37b5d 4e822160d1244a4d8792cb31e76a4fa2
[3131924 Async ks-demo-member:3164182]: running: get_or_add_user_project_role member e0717d27079e4f579213398527e37b5d 4e822160d1244a4d8792cb31e76a4fa2
+ lib/keystone:create_keystone_accounts:353 :   async_run ks-demo-admin get_or_add_user_project_role admin 644cb9f511244231b525b1925aa34435 4e822160d1244a4d8792cb31e76a4fa2
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_user_project_role admin 644cb9f511244231b525b1925aa34435 4e822160d1244a4d8792cb31e76a4fa2
[3131924 Async ks-demo-admin:3164303]: running: get_or_add_user_project_role admin 644cb9f511244231b525b1925aa34435 4e822160d1244a4d8792cb31e76a4fa2
+ lib/keystone:create_keystone_accounts:354 :   async_run ks-demo-another get_or_add_user_project_role anotherrole e0717d27079e4f579213398527e37b5d 4e822160d1244a4d8792cb31e76a4fa2
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_user_project_role anotherrole e0717d27079e4f579213398527e37b5d 4e822160d1244a4d8792cb31e76a4fa2
[3131924 Async ks-demo-another:3164425]: running: get_or_add_user_project_role anotherrole e0717d27079e4f579213398527e37b5d 4e822160d1244a4d8792cb31e76a4fa2
+ lib/keystone:create_keystone_accounts:355 :   async_run ks-demo-invis get_or_add_user_project_role member e0717d27079e4f579213398527e37b5d 00f70b7511bb4fc3a33102ca224a3f36
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_user_project_role member e0717d27079e4f579213398527e37b5d 00f70b7511bb4fc3a33102ca224a3f36
[3131924 Async ks-demo-invis:3164547]: running: get_or_add_user_project_role member e0717d27079e4f579213398527e37b5d 00f70b7511bb4fc3a33102ca224a3f36
+ lib/keystone:create_keystone_accounts:358 :   local demo_reader
++ lib/keystone:create_keystone_accounts:360 :   get_or_create_user demo_reader Datacore1 default demo_reader@example.com
++ functions-common:get_or_create_user:909  :   local user_id
++ functions-common:get_or_create_user:910  :   [[ ! -z demo_reader@example.com ]]
++ functions-common:get_or_create_user:911  :   local email=--email=demo_reader@example.com
+++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create demo_reader --password Datacore1 --domain=default --email=demo_reader@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_user:925  :   user_id=8bfc15023aea42eea4cd803bef59637a
++ functions-common:get_or_create_user:926  :   echo 8bfc15023aea42eea4cd803bef59637a
+ lib/keystone:create_keystone_accounts:360 :   demo_reader=8bfc15023aea42eea4cd803bef59637a
+ lib/keystone:create_keystone_accounts:362 :   async_run ks-demo-reader get_or_add_user_project_role reader 8bfc15023aea42eea4cd803bef59637a 4e822160d1244a4d8792cb31e76a4fa2
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_user_project_role reader 8bfc15023aea42eea4cd803bef59637a 4e822160d1244a4d8792cb31e76a4fa2
[3131924 Async ks-demo-reader:3164722]: running: get_or_add_user_project_role reader 8bfc15023aea42eea4cd803bef59637a 4e822160d1244a4d8792cb31e76a4fa2
+ lib/keystone:create_keystone_accounts:365 :   local alt_demo_project
++ lib/keystone:create_keystone_accounts:366 :   get_or_create_project alt_demo default
++ functions-common:get_or_create_project:932 :   local project_id
+++ functions-common:get_or_create_project:940 :   oscwrap --os-cloud devstack-system-admin project create alt_demo --domain=default --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_project:938 :   project_id=b5b27e82ce154510add7c0c800c59c98
++ functions-common:get_or_create_project:939 :   echo b5b27e82ce154510add7c0c800c59c98
+ lib/keystone:create_keystone_accounts:366 :   alt_demo_project=b5b27e82ce154510add7c0c800c59c98
+ lib/keystone:create_keystone_accounts:368 :   local alt_demo_user
++ lib/keystone:create_keystone_accounts:370 :   get_or_create_user alt_demo Datacore1 default alt_demo@example.com
++ functions-common:get_or_create_user:909  :   local user_id
++ functions-common:get_or_create_user:910  :   [[ ! -z alt_demo@example.com ]]
++ functions-common:get_or_create_user:911  :   local email=--email=alt_demo@example.com
+++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create alt_demo --password Datacore1 --domain=default --email=alt_demo@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_user:925  :   user_id=7a8e50224afa4afd8e0b9ae28813dfab
++ functions-common:get_or_create_user:926  :   echo 7a8e50224afa4afd8e0b9ae28813dfab
+ lib/keystone:create_keystone_accounts:370 :   alt_demo_user=7a8e50224afa4afd8e0b9ae28813dfab
+ lib/keystone:create_keystone_accounts:372 :   async_run ks-alt-admin get_or_add_user_project_role admin 7a8e50224afa4afd8e0b9ae28813dfab b5b27e82ce154510add7c0c800c59c98
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_user_project_role admin 7a8e50224afa4afd8e0b9ae28813dfab b5b27e82ce154510add7c0c800c59c98
[3131924 Async ks-alt-admin:3165095]: running: get_or_add_user_project_role admin 7a8e50224afa4afd8e0b9ae28813dfab b5b27e82ce154510add7c0c800c59c98
+ lib/keystone:create_keystone_accounts:373 :   async_run ks-alt-another get_or_add_user_project_role anotherrole 7a8e50224afa4afd8e0b9ae28813dfab b5b27e82ce154510add7c0c800c59c98
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   grep xtrace
++ inc/async:async_run:86                   :   set +o
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_user_project_role anotherrole 7a8e50224afa4afd8e0b9ae28813dfab b5b27e82ce154510add7c0c800c59c98
[3131924 Async ks-alt-another:3165216]: running: get_or_add_user_project_role anotherrole 7a8e50224afa4afd8e0b9ae28813dfab b5b27e82ce154510add7c0c800c59c98
+ lib/keystone:create_keystone_accounts:376 :   local alt_demo_member
++ lib/keystone:create_keystone_accounts:378 :   get_or_create_user alt_demo_member Datacore1 default alt_demo_member@example.com
++ functions-common:get_or_create_user:909  :   local user_id
++ functions-common:get_or_create_user:910  :   [[ ! -z alt_demo_member@example.com ]]
++ functions-common:get_or_create_user:911  :   local email=--email=alt_demo_member@example.com
+++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create alt_demo_member --password Datacore1 --domain=default --email=alt_demo_member@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3164182 Async ks-demo-member:3164182]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3164303 Async ks-demo-admin:3164303]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3164425 Async ks-demo-another:3164425]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3164547 Async ks-demo-invis:3164547]: finished successfully
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_user:925  :   user_id=e2620691faa5457ba6b04d7d13fcbf93
++ functions-common:get_or_create_user:926  :   echo e2620691faa5457ba6b04d7d13fcbf93
+ lib/keystone:create_keystone_accounts:378 :   alt_demo_member=e2620691faa5457ba6b04d7d13fcbf93
+ lib/keystone:create_keystone_accounts:379 :   async_run ks-alt-member-user get_or_add_user_project_role member e2620691faa5457ba6b04d7d13fcbf93 b5b27e82ce154510add7c0c800c59c98
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_user_project_role member e2620691faa5457ba6b04d7d13fcbf93 b5b27e82ce154510add7c0c800c59c98
[3131924 Async ks-alt-member-user:3165618]: running: get_or_add_user_project_role member e2620691faa5457ba6b04d7d13fcbf93 b5b27e82ce154510add7c0c800c59c98
+ lib/keystone:create_keystone_accounts:382 :   local alt_demo_reader
++ lib/keystone:create_keystone_accounts:384 :   get_or_create_user alt_demo_reader Datacore1 default alt_demo_reader@example.com
++ functions-common:get_or_create_user:909  :   local user_id
++ functions-common:get_or_create_user:910  :   [[ ! -z alt_demo_reader@example.com ]]
++ functions-common:get_or_create_user:911  :   local email=--email=alt_demo_reader@example.com
+++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create alt_demo_reader --password Datacore1 --domain=default --email=alt_demo_reader@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3164722 Async ks-demo-reader:3164722]: finished successfully
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_user:925  :   user_id=f4467a1ff6104628a7561b291f1b93c2
++ functions-common:get_or_create_user:926  :   echo f4467a1ff6104628a7561b291f1b93c2
+ lib/keystone:create_keystone_accounts:384 :   alt_demo_reader=f4467a1ff6104628a7561b291f1b93c2
+ lib/keystone:create_keystone_accounts:385 :   async_run ks-alt-reader-user get_or_add_user_project_role reader f4467a1ff6104628a7561b291f1b93c2 b5b27e82ce154510add7c0c800c59c98
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_user_project_role reader f4467a1ff6104628a7561b291f1b93c2 b5b27e82ce154510add7c0c800c59c98
[3131924 Async ks-alt-reader-user:3165856]: running: get_or_add_user_project_role reader f4467a1ff6104628a7561b291f1b93c2 b5b27e82ce154510add7c0c800c59c98
++ lib/keystone:create_keystone_accounts:392 :   get_or_create_user system_member Datacore1 default system_member@example.com
++ functions-common:get_or_create_user:909  :   local user_id
++ functions-common:get_or_create_user:910  :   [[ ! -z system_member@example.com ]]
++ functions-common:get_or_create_user:911  :   local email=--email=system_member@example.com
+++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create system_member --password Datacore1 --domain=default --email=system_member@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_user:925  :   user_id=216f6804ca3942baacc22366ff99c207
++ functions-common:get_or_create_user:926  :   echo 216f6804ca3942baacc22366ff99c207
+ lib/keystone:create_keystone_accounts:392 :   system_member_user=216f6804ca3942baacc22366ff99c207
+ lib/keystone:create_keystone_accounts:393 :   async_run ks-system-member get_or_add_user_system_role member 216f6804ca3942baacc22366ff99c207 all
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_user_system_role member 216f6804ca3942baacc22366ff99c207 all
[3131924 Async ks-system-member:3166091]: running: get_or_add_user_system_role member 216f6804ca3942baacc22366ff99c207 all
++ lib/keystone:create_keystone_accounts:396 :   get_or_create_user system_reader Datacore1 default system_reader@example.com
++ functions-common:get_or_create_user:909  :   local user_id
++ functions-common:get_or_create_user:910  :   [[ ! -z system_reader@example.com ]]
++ functions-common:get_or_create_user:911  :   local email=--email=system_reader@example.com
+++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create system_reader --password Datacore1 --domain=default --email=system_reader@example.com --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   grep xtrace
++++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3165095 Async ks-alt-admin:3165095]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3165216 Async ks-alt-another:3165216]: finished successfully
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_user:925  :   user_id=0e0c8caebcf0448daa4908322e0bc0a1
++ functions-common:get_or_create_user:926  :   echo 0e0c8caebcf0448daa4908322e0bc0a1
+ lib/keystone:create_keystone_accounts:396 :   system_reader_user=0e0c8caebcf0448daa4908322e0bc0a1
+ lib/keystone:create_keystone_accounts:397 :   async_run ks-system-reader get_or_add_user_system_role reader 0e0c8caebcf0448daa4908322e0bc0a1 all
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_user_system_role reader 0e0c8caebcf0448daa4908322e0bc0a1 all
[3131924 Async ks-system-reader:3166388]: running: get_or_add_user_system_role reader 0e0c8caebcf0448daa4908322e0bc0a1 all
+ lib/keystone:create_keystone_accounts:400 :   local admin_group
++ lib/keystone:create_keystone_accounts:402 :   get_or_create_group admins default 'openstack admin group'
++ functions-common:get_or_create_group:894 :   local 'desc=openstack admin group'
++ functions-common:get_or_create_group:895 :   local group_id
+++ functions-common:get_or_create_group:904 :   oscwrap --os-cloud devstack-system-admin group create admins --domain default --description 'openstack admin group' --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3165618 Async ks-alt-member-user:3165618]: finished successfully
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_group:902 :   group_id=1906d24d46264a128628ad397b671174
++ functions-common:get_or_create_group:903 :   echo 1906d24d46264a128628ad397b671174
+ lib/keystone:create_keystone_accounts:402 :   admin_group=1906d24d46264a128628ad397b671174
+ lib/keystone:create_keystone_accounts:403 :   local non_admin_group
++ lib/keystone:create_keystone_accounts:405 :   get_or_create_group nonadmins default 'non-admin group'
++ functions-common:get_or_create_group:894 :   local 'desc=non-admin group'
++ functions-common:get_or_create_group:895 :   local group_id
+++ functions-common:get_or_create_group:904 :   oscwrap --os-cloud devstack-system-admin group create nonadmins --domain default --description 'non-admin group' --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3165856 Async ks-alt-reader-user:3165856]: finished successfully
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_group:902 :   group_id=ea8c10bbe1a34fa6a937f2e82023b6ba
++ functions-common:get_or_create_group:903 :   echo ea8c10bbe1a34fa6a937f2e82023b6ba
+ lib/keystone:create_keystone_accounts:405 :   non_admin_group=ea8c10bbe1a34fa6a937f2e82023b6ba
+ lib/keystone:create_keystone_accounts:407 :   async_run ks-group-memberdemo get_or_add_group_project_role member ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_group_project_role member ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2
[3131924 Async ks-group-memberdemo:3166758]: running: get_or_add_group_project_role member ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2
+ lib/keystone:create_keystone_accounts:408 :   async_run ks-group-anotherdemo get_or_add_group_project_role anotherrole ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   grep xtrace
++ inc/async:async_run:86                   :   set +o
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_group_project_role anotherrole ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2
[3131924 Async ks-group-anotherdemo:3166853]: running: get_or_add_group_project_role anotherrole ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2
+ lib/keystone:create_keystone_accounts:409 :   async_run ks-group-memberalt get_or_add_group_project_role member ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_group_project_role member ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98
[3166091 Async ks-system-member:3166091]: finished successfully
[3131924 Async ks-group-memberalt:3166980]: running: get_or_add_group_project_role member ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98
+ lib/keystone:create_keystone_accounts:410 :   async_run ks-group-anotheralt get_or_add_group_project_role anotherrole ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_group_project_role anotherrole ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98
[3131924 Async ks-group-anotheralt:3167104]: running: get_or_add_group_project_role anotherrole ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98
+ lib/keystone:create_keystone_accounts:411 :   async_run ks-group-admin get_or_add_group_project_role admin 1906d24d46264a128628ad397b671174 e9042542350e4474975e8ab20e585a23
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   get_or_add_group_project_role admin 1906d24d46264a128628ad397b671174 e9042542350e4474975e8ab20e585a23
[3131924 Async ks-group-admin:3167201]: running: get_or_add_group_project_role admin 1906d24d46264a128628ad397b671174 e9042542350e4474975e8ab20e585a23
+ lib/keystone:create_keystone_accounts:413 :   async_wait ks-demo-member ks-demo-admin ks-demo-another ks-demo-invis ks-demo-reader
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   grep xtrace
++ inc/async:async_wait:142                 :   set +o
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async ks-demo-member:3164182]: Waiting for completion of get_or_add_user_project_role member e0717d27079e4f579213398527e37b5d 4e822160d1244a4d8792cb31e76a4fa2 running on PID 3164182 (17 other jobs running)
[3131924 Async ks-demo-member:3164182]: Signaling child to exit
WAKEUP
[3131924 Async ks-demo-member:3164182]: Signaled
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n '' ]]
++ functions-common:_get_domain_args:963    :   [[ -n '' ]]
++ functions-common:_get_domain_args:967    :   echo
+ functions-common:get_or_add_user_project_role:975 :   domain_args=
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user e0717d27079e4f579213398527e37b5d --project 4e822160d1244a4d8792cb31e76a4fa2
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add member --user e0717d27079e4f579213398527e37b5d --project 4e822160d1244a4d8792cb31e76a4fa2
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user e0717d27079e4f579213398527e37b5d --project 4e822160d1244a4d8792cb31e76a4fa2
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| a448fa0940d84236bf04cb5c879ca5e9 | e0717d27079e4f579213398527e37b5d |       | 4e822160d1244a4d8792cb31e76a4fa2 |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=a448fa0940d84236bf04cb5c879ca5e9
+ functions-common:get_or_add_user_project_role:997 :   echo a448fa0940d84236bf04cb5c879ca5e9
a448fa0940d84236bf04cb5c879ca5e9
[3131924 Async ks-demo-member:3164182]: finished get_or_add_user_project_role member e0717d27079e4f579213398527e37b5d 4e822160d1244a4d8792cb31e76a4fa2 with result 0 in 6 seconds
[3131924 Async ks-demo-admin:3164303]: Waiting for completion of get_or_add_user_project_role admin 644cb9f511244231b525b1925aa34435 4e822160d1244a4d8792cb31e76a4fa2 running on PID 3164303 (16 other jobs running)
[3131924 Async ks-demo-admin:3164303]: Signaling child to exit
WAKEUP
[3131924 Async ks-demo-admin:3164303]: Signaled
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n '' ]]
++ functions-common:_get_domain_args:963    :   [[ -n '' ]]
++ functions-common:_get_domain_args:967    :   echo
+ functions-common:get_or_add_user_project_role:975 :   domain_args=
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user 644cb9f511244231b525b1925aa34435 --project 4e822160d1244a4d8792cb31e76a4fa2
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add admin --user 644cb9f511244231b525b1925aa34435 --project 4e822160d1244a4d8792cb31e76a4fa2
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user 644cb9f511244231b525b1925aa34435 --project 4e822160d1244a4d8792cb31e76a4fa2
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:get_field:811           :   local data field
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| a57d72a8c9b54d8f8d356277ff833ba5 | 644cb9f511244231b525b1925aa34435 |       | 4e822160d1244a4d8792cb31e76a4fa2 |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=a57d72a8c9b54d8f8d356277ff833ba5
+ functions-common:get_or_add_user_project_role:997 :   echo a57d72a8c9b54d8f8d356277ff833ba5
a57d72a8c9b54d8f8d356277ff833ba5
[3131924 Async ks-demo-admin:3164303]: finished get_or_add_user_project_role admin 644cb9f511244231b525b1925aa34435 4e822160d1244a4d8792cb31e76a4fa2 with result 0 in 6 seconds
[3131924 Async ks-demo-another:3164425]: Waiting for completion of get_or_add_user_project_role anotherrole e0717d27079e4f579213398527e37b5d 4e822160d1244a4d8792cb31e76a4fa2 running on PID 3164425 (15 other jobs running)
[3131924 Async ks-demo-another:3164425]: Signaling child to exit
WAKEUP
[3131924 Async ks-demo-another:3164425]: Signaled
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n '' ]]
++ functions-common:_get_domain_args:963    :   [[ -n '' ]]
++ functions-common:_get_domain_args:967    :   echo
+ functions-common:get_or_add_user_project_role:975 :   domain_args=
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role anotherrole --user e0717d27079e4f579213398527e37b5d --project 4e822160d1244a4d8792cb31e76a4fa2
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add anotherrole --user e0717d27079e4f579213398527e37b5d --project 4e822160d1244a4d8792cb31e76a4fa2
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role anotherrole --user e0717d27079e4f579213398527e37b5d --project 4e822160d1244a4d8792cb31e76a4fa2
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| c610b40701d94c8d9f31e22da1375206 | e0717d27079e4f579213398527e37b5d |       | 4e822160d1244a4d8792cb31e76a4fa2 |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=c610b40701d94c8d9f31e22da1375206
+ functions-common:get_or_add_user_project_role:997 :   echo c610b40701d94c8d9f31e22da1375206
c610b40701d94c8d9f31e22da1375206
[3131924 Async ks-demo-another:3164425]: finished get_or_add_user_project_role anotherrole e0717d27079e4f579213398527e37b5d 4e822160d1244a4d8792cb31e76a4fa2 with result 0 in 6 seconds
[3131924 Async ks-demo-invis:3164547]: Waiting for completion of get_or_add_user_project_role member e0717d27079e4f579213398527e37b5d 00f70b7511bb4fc3a33102ca224a3f36 running on PID 3164547 (14 other jobs running)
[3131924 Async ks-demo-invis:3164547]: Signaling child to exit
WAKEUP
[3131924 Async ks-demo-invis:3164547]: Signaled
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n '' ]]
++ functions-common:_get_domain_args:963    :   [[ -n '' ]]
++ functions-common:_get_domain_args:967    :   echo
+ functions-common:get_or_add_user_project_role:975 :   domain_args=
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user e0717d27079e4f579213398527e37b5d --project 00f70b7511bb4fc3a33102ca224a3f36
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:get_field:811           :   local data field
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add member --user e0717d27079e4f579213398527e37b5d --project 00f70b7511bb4fc3a33102ca224a3f36
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user e0717d27079e4f579213398527e37b5d --project 00f70b7511bb4fc3a33102ca224a3f36
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| a448fa0940d84236bf04cb5c879ca5e9 | e0717d27079e4f579213398527e37b5d |       | 00f70b7511bb4fc3a33102ca224a3f36 |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=a448fa0940d84236bf04cb5c879ca5e9
+ functions-common:get_or_add_user_project_role:997 :   echo a448fa0940d84236bf04cb5c879ca5e9
a448fa0940d84236bf04cb5c879ca5e9
[3131924 Async ks-demo-invis:3164547]: finished get_or_add_user_project_role member e0717d27079e4f579213398527e37b5d 00f70b7511bb4fc3a33102ca224a3f36 with result 0 in 6 seconds
[3131924 Async ks-demo-reader:3164722]: Waiting for completion of get_or_add_user_project_role reader 8bfc15023aea42eea4cd803bef59637a 4e822160d1244a4d8792cb31e76a4fa2 running on PID 3164722 (13 other jobs running)
[3131924 Async ks-demo-reader:3164722]: Signaling child to exit
WAKEUP
[3131924 Async ks-demo-reader:3164722]: Signaled
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n '' ]]
++ functions-common:_get_domain_args:963    :   [[ -n '' ]]
++ functions-common:_get_domain_args:967    :   echo
+ functions-common:get_or_add_user_project_role:975 :   domain_args=
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role reader --user 8bfc15023aea42eea4cd803bef59637a --project 4e822160d1244a4d8792cb31e76a4fa2
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add reader --user 8bfc15023aea42eea4cd803bef59637a --project 4e822160d1244a4d8792cb31e76a4fa2
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role reader --user 8bfc15023aea42eea4cd803bef59637a --project 4e822160d1244a4d8792cb31e76a4fa2
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| aefda2b0918242f3b465e2400d770f34 | 8bfc15023aea42eea4cd803bef59637a |       | 4e822160d1244a4d8792cb31e76a4fa2 |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=aefda2b0918242f3b465e2400d770f34
+ functions-common:get_or_add_user_project_role:997 :   echo aefda2b0918242f3b465e2400d770f34
aefda2b0918242f3b465e2400d770f34
[3131924 Async ks-demo-reader:3164722]: finished get_or_add_user_project_role reader 8bfc15023aea42eea4cd803bef59637a 4e822160d1244a4d8792cb31e76a4fa2 with result 0 in 6 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/keystone:create_keystone_accounts:414 :   async_wait ks-alt-admin ks-alt-another ks-alt-member-user ks-alt-reader-user
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   set +o
++ inc/async:async_wait:142                 :   grep xtrace
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async ks-alt-admin:3165095]: Waiting for completion of get_or_add_user_project_role admin 7a8e50224afa4afd8e0b9ae28813dfab b5b27e82ce154510add7c0c800c59c98 running on PID 3165095 (12 other jobs running)
[3131924 Async ks-alt-admin:3165095]: Signaling child to exit
WAKEUP
[3131924 Async ks-alt-admin:3165095]: Signaled
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n '' ]]
++ functions-common:_get_domain_args:963    :   [[ -n '' ]]
++ functions-common:_get_domain_args:967    :   echo
+ functions-common:get_or_add_user_project_role:975 :   domain_args=
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user 7a8e50224afa4afd8e0b9ae28813dfab --project b5b27e82ce154510add7c0c800c59c98
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add admin --user 7a8e50224afa4afd8e0b9ae28813dfab --project b5b27e82ce154510add7c0c800c59c98
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user 7a8e50224afa4afd8e0b9ae28813dfab --project b5b27e82ce154510add7c0c800c59c98
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:get_field:811           :   local data field
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:818           :   echo '| a57d72a8c9b54d8f8d356277ff833ba5 | 7a8e50224afa4afd8e0b9ae28813dfab |       | b5b27e82ce154510add7c0c800c59c98 |        |        | False     |'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=a57d72a8c9b54d8f8d356277ff833ba5
+ functions-common:get_or_add_user_project_role:997 :   echo a57d72a8c9b54d8f8d356277ff833ba5
a57d72a8c9b54d8f8d356277ff833ba5
[3131924 Async ks-alt-admin:3165095]: finished get_or_add_user_project_role admin 7a8e50224afa4afd8e0b9ae28813dfab b5b27e82ce154510add7c0c800c59c98 with result 0 in 6 seconds
[3131924 Async ks-alt-another:3165216]: Waiting for completion of get_or_add_user_project_role anotherrole 7a8e50224afa4afd8e0b9ae28813dfab b5b27e82ce154510add7c0c800c59c98 running on PID 3165216 (11 other jobs running)
[3131924 Async ks-alt-another:3165216]: Signaling child to exit
WAKEUP
[3131924 Async ks-alt-another:3165216]: Signaled
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n '' ]]
++ functions-common:_get_domain_args:963    :   [[ -n '' ]]
++ functions-common:_get_domain_args:967    :   echo
+ functions-common:get_or_add_user_project_role:975 :   domain_args=
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role anotherrole --user 7a8e50224afa4afd8e0b9ae28813dfab --project b5b27e82ce154510add7c0c800c59c98
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:get_field:812           :   read data
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add anotherrole --user 7a8e50224afa4afd8e0b9ae28813dfab --project b5b27e82ce154510add7c0c800c59c98
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role anotherrole --user 7a8e50224afa4afd8e0b9ae28813dfab --project b5b27e82ce154510add7c0c800c59c98
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| c610b40701d94c8d9f31e22da1375206 | 7a8e50224afa4afd8e0b9ae28813dfab |       | b5b27e82ce154510add7c0c800c59c98 |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=c610b40701d94c8d9f31e22da1375206
+ functions-common:get_or_add_user_project_role:997 :   echo c610b40701d94c8d9f31e22da1375206
c610b40701d94c8d9f31e22da1375206
[3131924 Async ks-alt-another:3165216]: finished get_or_add_user_project_role anotherrole 7a8e50224afa4afd8e0b9ae28813dfab b5b27e82ce154510add7c0c800c59c98 with result 0 in 6 seconds
[3131924 Async ks-alt-member-user:3165618]: Waiting for completion of get_or_add_user_project_role member e2620691faa5457ba6b04d7d13fcbf93 b5b27e82ce154510add7c0c800c59c98 running on PID 3165618 (10 other jobs running)
[3131924 Async ks-alt-member-user:3165618]: Signaling child to exit
WAKEUP
[3131924 Async ks-alt-member-user:3165618]: Signaled
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n '' ]]
++ functions-common:_get_domain_args:963    :   [[ -n '' ]]
++ functions-common:_get_domain_args:967    :   echo
+ functions-common:get_or_add_user_project_role:975 :   domain_args=
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user e2620691faa5457ba6b04d7d13fcbf93 --project b5b27e82ce154510add7c0c800c59c98
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add member --user e2620691faa5457ba6b04d7d13fcbf93 --project b5b27e82ce154510add7c0c800c59c98
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user e2620691faa5457ba6b04d7d13fcbf93 --project b5b27e82ce154510add7c0c800c59c98
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| a448fa0940d84236bf04cb5c879ca5e9 | e2620691faa5457ba6b04d7d13fcbf93 |       | b5b27e82ce154510add7c0c800c59c98 |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=a448fa0940d84236bf04cb5c879ca5e9
+ functions-common:get_or_add_user_project_role:997 :   echo a448fa0940d84236bf04cb5c879ca5e9
a448fa0940d84236bf04cb5c879ca5e9
[3131924 Async ks-alt-member-user:3165618]: finished get_or_add_user_project_role member e2620691faa5457ba6b04d7d13fcbf93 b5b27e82ce154510add7c0c800c59c98 with result 0 in 6 seconds
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3131924 Async ks-alt-reader-user:3165856]: Waiting for completion of get_or_add_user_project_role reader f4467a1ff6104628a7561b291f1b93c2 b5b27e82ce154510add7c0c800c59c98 running on PID 3165856 (9 other jobs running)
[3166388 Async ks-system-reader:3166388]: finished successfully
[3131924 Async ks-alt-reader-user:3165856]: Signaling child to exit
WAKEUP
[3131924 Async ks-alt-reader-user:3165856]: Signaled
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n '' ]]
++ functions-common:_get_domain_args:963    :   [[ -n '' ]]
++ functions-common:_get_domain_args:967    :   echo
+ functions-common:get_or_add_user_project_role:975 :   domain_args=
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role reader --user f4467a1ff6104628a7561b291f1b93c2 --project b5b27e82ce154510add7c0c800c59c98
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:get_field:812           :   read data
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add reader --user f4467a1ff6104628a7561b291f1b93c2 --project b5b27e82ce154510add7c0c800c59c98
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role reader --user f4467a1ff6104628a7561b291f1b93c2 --project b5b27e82ce154510add7c0c800c59c98
++ functions-common:get_field:811           :   local data field
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| aefda2b0918242f3b465e2400d770f34 | f4467a1ff6104628a7561b291f1b93c2 |       | b5b27e82ce154510add7c0c800c59c98 |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=aefda2b0918242f3b465e2400d770f34
+ functions-common:get_or_add_user_project_role:997 :   echo aefda2b0918242f3b465e2400d770f34
aefda2b0918242f3b465e2400d770f34
[3131924 Async ks-alt-reader-user:3165856]: finished get_or_add_user_project_role reader f4467a1ff6104628a7561b291f1b93c2 b5b27e82ce154510add7c0c800c59c98 with result 0 in 6 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/keystone:create_keystone_accounts:415 :   async_wait ks-system-member ks-system-reader
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   grep xtrace
++ inc/async:async_wait:142                 :   set +o
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async ks-system-member:3166091]: Waiting for completion of get_or_add_user_system_role member 216f6804ca3942baacc22366ff99c207 all running on PID 3166091 (8 other jobs running)
[3131924 Async ks-system-member:3166091]: Signaling child to exit
WAKEUP
[3131924 Async ks-system-member:3166091]: Signaled
+ functions-common:get_or_add_user_system_role:1027 :   local user_role_id
+ functions-common:get_or_add_user_system_role:1028 :   local domain_args
++ functions-common:get_or_add_user_system_role:1030 :   _get_domain_args
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n '' ]]
++ functions-common:_get_domain_args:963    :   [[ -n '' ]]
++ functions-common:_get_domain_args:967    :   echo
+ functions-common:get_or_add_user_system_role:1030 :   domain_args=
++ functions-common:get_or_add_user_system_role:1038 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user 216f6804ca3942baacc22366ff99c207 --system all -f value -c Role
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_system_role:1038 :   user_role_id=
+ functions-common:get_or_add_user_system_role:1039 :   [[ -z '' ]]
+ functions-common:get_or_add_user_system_role:1041 :   openstack --os-cloud devstack-system-admin role add member --user 216f6804ca3942baacc22366ff99c207 --system all
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_system_role:1050 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --user 216f6804ca3942baacc22366ff99c207 --system all -f value -c Role
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_system_role:1050 :   user_role_id=a448fa0940d84236bf04cb5c879ca5e9
+ functions-common:get_or_add_user_system_role:1052 :   echo a448fa0940d84236bf04cb5c879ca5e9
a448fa0940d84236bf04cb5c879ca5e9
[3131924 Async ks-system-member:3166091]: finished get_or_add_user_system_role member 216f6804ca3942baacc22366ff99c207 all with result 0 in 5 seconds
[3131924 Async ks-system-reader:3166388]: Waiting for completion of get_or_add_user_system_role reader 0e0c8caebcf0448daa4908322e0bc0a1 all running on PID 3166388 (7 other jobs running)
[3131924 Async ks-system-reader:3166388]: Signaling child to exit
WAKEUP
[3131924 Async ks-system-reader:3166388]: Signaled
+ functions-common:get_or_add_user_system_role:1027 :   local user_role_id
+ functions-common:get_or_add_user_system_role:1028 :   local domain_args
++ functions-common:get_or_add_user_system_role:1030 :   _get_domain_args
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n '' ]]
++ functions-common:_get_domain_args:963    :   [[ -n '' ]]
++ functions-common:_get_domain_args:967    :   echo
+ functions-common:get_or_add_user_system_role:1030 :   domain_args=
++ functions-common:get_or_add_user_system_role:1038 :   oscwrap --os-cloud devstack-system-admin role assignment list --role reader --user 0e0c8caebcf0448daa4908322e0bc0a1 --system all -f value -c Role
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_system_role:1038 :   user_role_id=
+ functions-common:get_or_add_user_system_role:1039 :   [[ -z '' ]]
+ functions-common:get_or_add_user_system_role:1041 :   openstack --os-cloud devstack-system-admin role add reader --user 0e0c8caebcf0448daa4908322e0bc0a1 --system all
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_system_role:1050 :   oscwrap --os-cloud devstack-system-admin role assignment list --role reader --user 0e0c8caebcf0448daa4908322e0bc0a1 --system all -f value -c Role
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_system_role:1050 :   user_role_id=aefda2b0918242f3b465e2400d770f34
+ functions-common:get_or_add_user_system_role:1052 :   echo aefda2b0918242f3b465e2400d770f34
aefda2b0918242f3b465e2400d770f34
[3131924 Async ks-system-reader:3166388]: finished get_or_add_user_system_role reader 0e0c8caebcf0448daa4908322e0bc0a1 all with result 0 in 5 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/keystone:create_keystone_accounts:416 :   async_wait ks-group-memberdemo ks-group-anotherdemo ks-group-memberalt ks-group-anotheralt ks-group-admin
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   grep xtrace
++ inc/async:async_wait:142                 :   set +o
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async ks-group-memberdemo:3166758]: Waiting for completion of get_or_add_group_project_role member ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2 running on PID 3166758 (6 other jobs running)
[3131924 Async ks-group-memberdemo:3166758]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3166758 Async ks-group-memberdemo:3166758]: finished successfully
WAKEUP
[3131924 Async ks-group-memberdemo:3166758]: Signaled
+ functions-common:get_or_add_group_project_role:1058 :   local group_role_id
++ functions-common:get_or_add_group_project_role:1064 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --group ea8c10bbe1a34fa6a937f2e82023b6ba --project 4e822160d1244a4d8792cb31e76a4fa2 -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_group_project_role:1064 :   group_role_id=
+ functions-common:get_or_add_group_project_role:1065 :   [[ -z '' ]]
+ functions-common:get_or_add_group_project_role:1067 :   openstack --os-cloud devstack-system-admin role add member --group ea8c10bbe1a34fa6a937f2e82023b6ba --project 4e822160d1244a4d8792cb31e76a4fa2
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_group_project_role:1074 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --group ea8c10bbe1a34fa6a937f2e82023b6ba --project 4e822160d1244a4d8792cb31e76a4fa2 -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_group_project_role:1074 :   group_role_id='a448fa0940d84236bf04cb5c879ca5e9  ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2   False'
+ functions-common:get_or_add_group_project_role:1076 :   echo a448fa0940d84236bf04cb5c879ca5e9 ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2 False
a448fa0940d84236bf04cb5c879ca5e9 ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2 False
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3131924 Async ks-group-memberdemo:3166758]: finished get_or_add_group_project_role member ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2 with result 0 in 6 seconds
[3166853 Async ks-group-anotherdemo:3166853]: finished successfully
[3131924 Async ks-group-anotherdemo:3166853]: Waiting for completion of get_or_add_group_project_role anotherrole ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2 running on PID 3166853 (5 other jobs running)
[3131924 Async ks-group-anotherdemo:3166853]: Signaling child to exit
WAKEUP
[3131924 Async ks-group-anotherdemo:3166853]: Signaled
+ functions-common:get_or_add_group_project_role:1058 :   local group_role_id
++ functions-common:get_or_add_group_project_role:1064 :   oscwrap --os-cloud devstack-system-admin role assignment list --role anotherrole --group ea8c10bbe1a34fa6a937f2e82023b6ba --project 4e822160d1244a4d8792cb31e76a4fa2 -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_group_project_role:1064 :   group_role_id=
+ functions-common:get_or_add_group_project_role:1065 :   [[ -z '' ]]
+ functions-common:get_or_add_group_project_role:1067 :   openstack --os-cloud devstack-system-admin role add anotherrole --group ea8c10bbe1a34fa6a937f2e82023b6ba --project 4e822160d1244a4d8792cb31e76a4fa2
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_group_project_role:1074 :   oscwrap --os-cloud devstack-system-admin role assignment list --role anotherrole --group ea8c10bbe1a34fa6a937f2e82023b6ba --project 4e822160d1244a4d8792cb31e76a4fa2 -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_group_project_role:1074 :   group_role_id='c610b40701d94c8d9f31e22da1375206  ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2   False'
+ functions-common:get_or_add_group_project_role:1076 :   echo c610b40701d94c8d9f31e22da1375206 ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2 False
c610b40701d94c8d9f31e22da1375206 ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2 False
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3166980 Async ks-group-memberalt:3166980]: finished successfully
[3131924 Async ks-group-anotherdemo:3166853]: finished get_or_add_group_project_role anotherrole ea8c10bbe1a34fa6a937f2e82023b6ba 4e822160d1244a4d8792cb31e76a4fa2 with result 0 in 6 seconds
[3131924 Async ks-group-memberalt:3166980]: Waiting for completion of get_or_add_group_project_role member ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98 running on PID 3166980 (4 other jobs running)
[3131924 Async ks-group-memberalt:3166980]: Signaling child to exit
WAKEUP
[3131924 Async ks-group-memberalt:3166980]: Signaled
+ functions-common:get_or_add_group_project_role:1058 :   local group_role_id
++ functions-common:get_or_add_group_project_role:1064 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --group ea8c10bbe1a34fa6a937f2e82023b6ba --project b5b27e82ce154510add7c0c800c59c98 -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_group_project_role:1064 :   group_role_id=
+ functions-common:get_or_add_group_project_role:1065 :   [[ -z '' ]]
+ functions-common:get_or_add_group_project_role:1067 :   openstack --os-cloud devstack-system-admin role add member --group ea8c10bbe1a34fa6a937f2e82023b6ba --project b5b27e82ce154510add7c0c800c59c98
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_group_project_role:1074 :   oscwrap --os-cloud devstack-system-admin role assignment list --role member --group ea8c10bbe1a34fa6a937f2e82023b6ba --project b5b27e82ce154510add7c0c800c59c98 -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_group_project_role:1074 :   group_role_id='a448fa0940d84236bf04cb5c879ca5e9  ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98   False'
+ functions-common:get_or_add_group_project_role:1076 :   echo a448fa0940d84236bf04cb5c879ca5e9 ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98 False
a448fa0940d84236bf04cb5c879ca5e9 ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98 False
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3167104 Async ks-group-anotheralt:3167104]: finished successfully
[3131924 Async ks-group-memberalt:3166980]: finished get_or_add_group_project_role member ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98 with result 0 in 6 seconds
[3131924 Async ks-group-anotheralt:3167104]: Waiting for completion of get_or_add_group_project_role anotherrole ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98 running on PID 3167104 (3 other jobs running)
[3131924 Async ks-group-anotheralt:3167104]: Signaling child to exit
WAKEUP
[3131924 Async ks-group-anotheralt:3167104]: Signaled
+ functions-common:get_or_add_group_project_role:1058 :   local group_role_id
++ functions-common:get_or_add_group_project_role:1064 :   oscwrap --os-cloud devstack-system-admin role assignment list --role anotherrole --group ea8c10bbe1a34fa6a937f2e82023b6ba --project b5b27e82ce154510add7c0c800c59c98 -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_group_project_role:1064 :   group_role_id=
+ functions-common:get_or_add_group_project_role:1065 :   [[ -z '' ]]
+ functions-common:get_or_add_group_project_role:1067 :   openstack --os-cloud devstack-system-admin role add anotherrole --group ea8c10bbe1a34fa6a937f2e82023b6ba --project b5b27e82ce154510add7c0c800c59c98
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_group_project_role:1074 :   oscwrap --os-cloud devstack-system-admin role assignment list --role anotherrole --group ea8c10bbe1a34fa6a937f2e82023b6ba --project b5b27e82ce154510add7c0c800c59c98 -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_group_project_role:1074 :   group_role_id='c610b40701d94c8d9f31e22da1375206  ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98   False'
+ functions-common:get_or_add_group_project_role:1076 :   echo c610b40701d94c8d9f31e22da1375206 ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98 False
c610b40701d94c8d9f31e22da1375206 ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98 False
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3167201 Async ks-group-admin:3167201]: finished successfully
[3131924 Async ks-group-anotheralt:3167104]: finished get_or_add_group_project_role anotherrole ea8c10bbe1a34fa6a937f2e82023b6ba b5b27e82ce154510add7c0c800c59c98 with result 0 in 6 seconds
[3131924 Async ks-group-admin:3167201]: Waiting for completion of get_or_add_group_project_role admin 1906d24d46264a128628ad397b671174 e9042542350e4474975e8ab20e585a23 running on PID 3167201 (2 other jobs running)
[3131924 Async ks-group-admin:3167201]: Signaling child to exit
WAKEUP
[3131924 Async ks-group-admin:3167201]: Signaled
+ functions-common:get_or_add_group_project_role:1058 :   local group_role_id
++ functions-common:get_or_add_group_project_role:1064 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --group 1906d24d46264a128628ad397b671174 --project e9042542350e4474975e8ab20e585a23 -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_group_project_role:1064 :   group_role_id=
+ functions-common:get_or_add_group_project_role:1065 :   [[ -z '' ]]
+ functions-common:get_or_add_group_project_role:1067 :   openstack --os-cloud devstack-system-admin role add admin --group 1906d24d46264a128628ad397b671174 --project e9042542350e4474975e8ab20e585a23
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_group_project_role:1074 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --group 1906d24d46264a128628ad397b671174 --project e9042542350e4474975e8ab20e585a23 -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_group_project_role:1074 :   group_role_id='a57d72a8c9b54d8f8d356277ff833ba5  1906d24d46264a128628ad397b671174 e9042542350e4474975e8ab20e585a23   False'
+ functions-common:get_or_add_group_project_role:1076 :   echo a57d72a8c9b54d8f8d356277ff833ba5 1906d24d46264a128628ad397b671174 e9042542350e4474975e8ab20e585a23 False
a57d72a8c9b54d8f8d356277ff833ba5 1906d24d46264a128628ad397b671174 e9042542350e4474975e8ab20e585a23 False
[3131924 Async ks-group-admin:3167201]: finished get_or_add_group_project_role admin 1906d24d46264a128628ad397b671174 e9042542350e4474975e8ab20e585a23 with result 0 in 6 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/keystone:create_keystone_accounts:418 :   is_service_enabled ldap
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:1097                     :   is_service_enabled nova
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1098                     :   async_runfunc create_nova_accounts
+ inc/async:async_runfunc:116              :   async_run create_nova_accounts create_nova_accounts
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   create_nova_accounts
[3131924 Async create_nova_accounts:3169133]: running: create_nova_accounts
+ ./stack.sh:main:1100                     :   is_service_enabled glance
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1101                     :   async_runfunc create_glance_accounts
+ inc/async:async_runfunc:116              :   async_run create_glance_accounts create_glance_accounts
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   create_glance_accounts
[3131924 Async create_glance_accounts:3169257]: running: create_glance_accounts
+ ./stack.sh:main:1103                     :   is_service_enabled cinder
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1104                     :   async_runfunc create_cinder_accounts
+ inc/async:async_runfunc:116              :   async_run create_cinder_accounts create_cinder_accounts
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   create_cinder_accounts
[3131924 Async create_cinder_accounts:3169397]: running: create_cinder_accounts
+ ./stack.sh:main:1106                     :   is_service_enabled neutron
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1107                     :   async_runfunc create_neutron_accounts
+ inc/async:async_runfunc:116              :   async_run create_neutron_accounts create_neutron_accounts
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   create_neutron_accounts
[3131924 Async create_neutron_accounts:3169522]: running: create_neutron_accounts
+ ./stack.sh:main:1109                     :   is_service_enabled swift
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:1118                     :   is_service_enabled horizon
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1119                     :   echo_summary 'Configuring Horizon'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Configuring Horizon
2022-08-22 10:23:14.778 | Configuring Horizon
+ ./stack.sh:main:1120                     :   async_runfunc configure_horizon
+ inc/async:async_runfunc:116              :   async_run configure_horizon configure_horizon
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   configure_horizon
[3131924 Async configure_horizon:3169699]: running: configure_horizon
+ ./stack.sh:main:1123                     :   async_wait create_nova_accounts create_glance_accounts create_cinder_accounts
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   grep xtrace
++ inc/async:async_wait:142                 :   set +o
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async create_nova_accounts:3169133]: Waiting for completion of create_nova_accounts running on PID 3169133 (6 other jobs running)
[3131924 Async create_nova_accounts:3169133]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3169699 Async configure_horizon:3169699]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3169522 Async create_neutron_accounts:3169522]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3169397 Async create_cinder_accounts:3169397]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3169257 Async create_glance_accounts:3169257]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3169133 Async create_nova_accounts:3169133]: finished successfully
WAKEUP
[3131924 Async create_nova_accounts:3169133]: Signaled
+ lib/nova:create_nova_accounts:351        :   [[ key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat =~ n-api ]]
+ lib/nova:create_nova_accounts:355        :   create_service_user nova admin
+ lib/keystone:create_service_user:431     :   get_or_create_user nova Datacore1 Default
+ functions-common:get_or_create_user:909  :   local user_id
+ functions-common:get_or_create_user:910  :   [[ ! -z '' ]]
+ functions-common:get_or_create_user:913  :   local email=
++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create nova --password Datacore1 --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_user:925  :   user_id=71a64f54bf9645dbab84656c227bacfc
+ functions-common:get_or_create_user:926  :   echo 71a64f54bf9645dbab84656c227bacfc
71a64f54bf9645dbab84656c227bacfc
+ lib/keystone:create_service_user:432     :   get_or_add_user_project_role service nova service Default Default
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n Default ]]
++ functions-common:_get_domain_args:961    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:963    :   [[ -n Default ]]
++ functions-common:_get_domain_args:964    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:967    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:975 :   domain_args='--user-domain Default --project-domain Default'
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user nova --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add service --user nova --project service --user-domain Default --project-domain Default
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user nova --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| 2a5e5d02ebf54dc384338c23ed99a4a0 | 71a64f54bf9645dbab84656c227bacfc |       | c729f6d2231949cc9cc800018f7746bd |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=2a5e5d02ebf54dc384338c23ed99a4a0
+ functions-common:get_or_add_user_project_role:997 :   echo 2a5e5d02ebf54dc384338c23ed99a4a0
2a5e5d02ebf54dc384338c23ed99a4a0
+ lib/keystone:create_service_user:434     :   [[ -n admin ]]
+ lib/keystone:create_service_user:435     :   get_or_add_user_project_role admin nova service Default Default
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n Default ]]
++ functions-common:_get_domain_args:961    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:963    :   [[ -n Default ]]
++ functions-common:_get_domain_args:964    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:967    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:975 :   domain_args='--user-domain Default --project-domain Default'
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user nova --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add admin --user nova --project service --user-domain Default --project-domain Default
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user nova --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:get_field:812           :   read data
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| a57d72a8c9b54d8f8d356277ff833ba5 | 71a64f54bf9645dbab84656c227bacfc |       | c729f6d2231949cc9cc800018f7746bd |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=a57d72a8c9b54d8f8d356277ff833ba5
+ functions-common:get_or_add_user_project_role:997 :   echo a57d72a8c9b54d8f8d356277ff833ba5
a57d72a8c9b54d8f8d356277ff833ba5
+ lib/nova:create_nova_accounts:357        :   local nova_api_url
+ lib/nova:create_nova_accounts:358        :   [[ True == \F\a\l\s\e ]]
+ lib/nova:create_nova_accounts:361        :   nova_api_url=http://10.200.2.118/compute
+ lib/nova:create_nova_accounts:364        :   get_or_create_service nova_legacy compute_legacy 'Nova Compute Service (Legacy 2.0)'
+ functions-common:get_or_create_service:1082 :   local service_id
++ functions-common:get_or_create_service:1095 :   oscwrap --os-cloud devstack-system-admin service show compute_legacy -f value -c id
++ functions-common:get_or_create_service:1097 :   oscwrap --os-cloud devstack-system-admin service create compute_legacy --name nova_legacy '--description=Nova Compute Service (Legacy 2.0)' -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_service:1093 :   service_id='
7f502a6150c2484eae3f5add39956e8b'
+ functions-common:get_or_create_service:1094 :   echo 7f502a6150c2484eae3f5add39956e8b
7f502a6150c2484eae3f5add39956e8b
+ lib/nova:create_nova_accounts:366        :   get_or_create_endpoint compute_legacy RegionOne 'http://10.200.2.118/compute/v2/$(project_id)s'
+ functions-common:get_or_create_endpoint:1126 :   local public_id
++ functions-common:get_or_create_endpoint:1127 :   _get_or_create_endpoint_with_interface compute_legacy public 'http://10.200.2.118/compute/v2/$(project_id)s' RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1100 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1105 :   oscwrap --os-cloud devstack-system-admin endpoint list --service compute_legacy --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1105 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1106 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1109 :   oscwrap --os-cloud devstack-system-admin endpoint create compute_legacy public 'http://10.200.2.118/compute/v2/$(project_id)s' --region RegionOne -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1109 :   endpoint_id=4a16aac08d0347579610770c740a3616
++ functions-common:_get_or_create_endpoint_with_interface:1112 :   echo 4a16aac08d0347579610770c740a3616
+ functions-common:get_or_create_endpoint:1127 :   public_id=4a16aac08d0347579610770c740a3616
+ functions-common:get_or_create_endpoint:1129 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1132 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1136 :   echo 4a16aac08d0347579610770c740a3616
4a16aac08d0347579610770c740a3616
+ lib/nova:create_nova_accounts:370        :   get_or_create_service nova compute 'Nova Compute Service'
+ functions-common:get_or_create_service:1082 :   local service_id
++ functions-common:get_or_create_service:1095 :   oscwrap --os-cloud devstack-system-admin service show compute -f value -c id
++ functions-common:get_or_create_service:1097 :   oscwrap --os-cloud devstack-system-admin service create compute --name nova '--description=Nova Compute Service' -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_service:1093 :   service_id='
6048cc2a04464b1c90b1d7a1fb7dfa49'
+ functions-common:get_or_create_service:1094 :   echo 6048cc2a04464b1c90b1d7a1fb7dfa49
6048cc2a04464b1c90b1d7a1fb7dfa49
+ lib/nova:create_nova_accounts:372        :   get_or_create_endpoint compute RegionOne http://10.200.2.118/compute/v2.1
+ functions-common:get_or_create_endpoint:1126 :   local public_id
++ functions-common:get_or_create_endpoint:1127 :   _get_or_create_endpoint_with_interface compute public http://10.200.2.118/compute/v2.1 RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1100 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1105 :   oscwrap --os-cloud devstack-system-admin endpoint list --service compute --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1105 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1106 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1109 :   oscwrap --os-cloud devstack-system-admin endpoint create compute public http://10.200.2.118/compute/v2.1 --region RegionOne -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1109 :   endpoint_id=5c09b9fdd60f49f8918ec83703d1344e
++ functions-common:_get_or_create_endpoint_with_interface:1112 :   echo 5c09b9fdd60f49f8918ec83703d1344e
+ functions-common:get_or_create_endpoint:1127 :   public_id=5c09b9fdd60f49f8918ec83703d1344e
+ functions-common:get_or_create_endpoint:1129 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1132 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1136 :   echo 5c09b9fdd60f49f8918ec83703d1344e
5c09b9fdd60f49f8918ec83703d1344e
+ lib/nova:create_nova_accounts:377        :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:create_nova_accounts:379        :   is_service_enabled swift
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:create_nova_accounts:387        :   is_service_enabled s3api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:create_nova_accounts:398        :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:create_nova_accounts:399        :   [[ False = True ]]
[3131924 Async create_nova_accounts:3169133]: finished create_nova_accounts with result 0 in 32 seconds
[3131924 Async create_glance_accounts:3169257]: Waiting for completion of create_glance_accounts running on PID 3169257 (5 other jobs running)
[3131924 Async create_glance_accounts:3169257]: Signaling child to exit
WAKEUP
[3131924 Async create_glance_accounts:3169257]: Signaled
+ lib/glance:create_glance_accounts:451    :   is_service_enabled g-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/glance:create_glance_accounts:453    :   create_service_user glance
+ lib/keystone:create_service_user:431     :   get_or_create_user glance Datacore1 Default
+ functions-common:get_or_create_user:909  :   local user_id
+ functions-common:get_or_create_user:910  :   [[ ! -z '' ]]
+ functions-common:get_or_create_user:913  :   local email=
++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create glance --password Datacore1 --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_user:925  :   user_id=0298db75dfce47f3a2324672c74fc509
+ functions-common:get_or_create_user:926  :   echo 0298db75dfce47f3a2324672c74fc509
0298db75dfce47f3a2324672c74fc509
+ lib/keystone:create_service_user:432     :   get_or_add_user_project_role service glance service Default Default
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n Default ]]
++ functions-common:_get_domain_args:961    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:963    :   [[ -n Default ]]
++ functions-common:_get_domain_args:964    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:967    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:975 :   domain_args='--user-domain Default --project-domain Default'
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user glance --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add service --user glance --project service --user-domain Default --project-domain Default
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user glance --project service --user-domain Default --project-domain Default
++ functions-common:get_field:811           :   local data field
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:818           :   echo '| 2a5e5d02ebf54dc384338c23ed99a4a0 | 0298db75dfce47f3a2324672c74fc509 |       | c729f6d2231949cc9cc800018f7746bd |        |        | False     |'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=2a5e5d02ebf54dc384338c23ed99a4a0
+ functions-common:get_or_add_user_project_role:997 :   echo 2a5e5d02ebf54dc384338c23ed99a4a0
2a5e5d02ebf54dc384338c23ed99a4a0
+ lib/keystone:create_service_user:434     :   [[ -n '' ]]
+ lib/glance:create_glance_accounts:456    :   is_service_enabled s-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/glance:create_glance_accounts:460    :   get_or_create_service glance image 'Glance Image Service'
+ functions-common:get_or_create_service:1082 :   local service_id
++ functions-common:get_or_create_service:1095 :   oscwrap --os-cloud devstack-system-admin service show image -f value -c id
++ functions-common:get_or_create_service:1097 :   oscwrap --os-cloud devstack-system-admin service create image --name glance '--description=Glance Image Service' -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_service:1093 :   service_id='
7745bd8b054747129b639b6d97592034'
+ functions-common:get_or_create_service:1094 :   echo 7745bd8b054747129b639b6d97592034
7745bd8b054747129b639b6d97592034
+ lib/glance:create_glance_accounts:462    :   get_or_create_endpoint image RegionOne http://10.200.2.118/image
+ functions-common:get_or_create_endpoint:1126 :   local public_id
++ functions-common:get_or_create_endpoint:1127 :   _get_or_create_endpoint_with_interface image public http://10.200.2.118/image RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1100 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1105 :   oscwrap --os-cloud devstack-system-admin endpoint list --service image --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   grep xtrace
++++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1105 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1106 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1109 :   oscwrap --os-cloud devstack-system-admin endpoint create image public http://10.200.2.118/image --region RegionOne -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1109 :   endpoint_id=f6bb9d412893479792e40208ebd3cace
++ functions-common:_get_or_create_endpoint_with_interface:1112 :   echo f6bb9d412893479792e40208ebd3cace
+ functions-common:get_or_create_endpoint:1127 :   public_id=f6bb9d412893479792e40208ebd3cace
+ functions-common:get_or_create_endpoint:1129 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1132 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1136 :   echo f6bb9d412893479792e40208ebd3cace
f6bb9d412893479792e40208ebd3cace
++ lib/glance:create_glance_accounts:467    :   get_or_create_domain Default
++ functions-common:get_or_create_domain:877 :   local domain_id
+++ functions-common:get_or_create_domain:889 :   oscwrap --os-cloud devstack-system-admin domain show Default -f value -c id
++ functions-common:get_or_create_domain:887 :   domain_id=default
++ functions-common:get_or_create_domain:888 :   echo default
+ lib/glance:create_glance_accounts:467    :   service_domain_id=default
+ lib/glance:create_glance_accounts:468    :   iniset /etc/glance/glance-swift-store.conf ref1 project_domain_id default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:create_glance_accounts:469    :   iniset /etc/glance/glance-swift-store.conf ref1 user_domain_id default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:create_glance_accounts:471    :   [[ True = True ]]
+ lib/glance:create_glance_accounts:472    :   configure_glance_quotas
+ lib/glance:configure_glance_quotas:294   :   openstack --os-cloud devstack-system-admin registered limit create --service glance --default-limit 1000 --region RegionOne image_size_total
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+---------------+----------------------------------+
| Field         | Value                            |
+---------------+----------------------------------+
| default_limit | 1000                             |
| description   | None                             |
| id            | ff93a829557848b18c7a8f1d7a02c080 |
| region_id     | RegionOne                        |
| resource_name | image_size_total                 |
| service_id    | 7745bd8b054747129b639b6d97592034 |
+---------------+----------------------------------+
+ lib/glance:configure_glance_quotas:296   :   openstack --os-cloud devstack-system-admin registered limit create --service glance --default-limit 1000 --region RegionOne image_stage_total
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+---------------+----------------------------------+
| Field         | Value                            |
+---------------+----------------------------------+
| default_limit | 1000                             |
| description   | None                             |
| id            | f80370edb518449c9d999fa656780ce5 |
| region_id     | RegionOne                        |
| resource_name | image_stage_total                |
| service_id    | 7745bd8b054747129b639b6d97592034 |
+---------------+----------------------------------+
+ lib/glance:configure_glance_quotas:298   :   openstack --os-cloud devstack-system-admin registered limit create --service glance --default-limit 100 --region RegionOne image_count_total
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+---------------+----------------------------------+
| Field         | Value                            |
+---------------+----------------------------------+
| default_limit | 100                              |
| description   | None                             |
| id            | 4fd0724f94534918b187a6022109fd3b |
| region_id     | RegionOne                        |
| resource_name | image_count_total                |
| service_id    | 7745bd8b054747129b639b6d97592034 |
+---------------+----------------------------------+
+ lib/glance:configure_glance_quotas:300   :   openstack --os-cloud devstack-system-admin registered limit create --service glance --default-limit 100 --region RegionOne image_count_uploading
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+---------------+----------------------------------+
| Field         | Value                            |
+---------------+----------------------------------+
| default_limit | 100                              |
| description   | None                             |
| id            | 2f92a661c6ce4c409ab191b865e592d5 |
| region_id     | RegionOne                        |
| resource_name | image_count_uploading            |
| service_id    | 7745bd8b054747129b639b6d97592034 |
+---------------+----------------------------------+
+ lib/glance:configure_glance_quotas:304   :   iniset /etc/glance/glance-api.conf DEFAULT use_keystone_limits True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance_quotas:307   :   iniset /etc/glance/glance-api.conf oslo_limit user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance_quotas:308   :   iniset /etc/glance/glance-api.conf oslo_limit password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance_quotas:309   :   iniset /etc/glance/glance-api.conf oslo_limit username glance
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance_quotas:310   :   iniset /etc/glance/glance-api.conf oslo_limit auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance_quotas:311   :   iniset /etc/glance/glance-api.conf oslo_limit auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance_quotas:312   :   iniset /etc/glance/glance-api.conf oslo_limit system_scope all
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/glance:configure_glance_quotas:313   :   oscwrap --os-cloud devstack-system-admin endpoint list --service glance -f value -c ID
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ lib/glance:configure_glance_quotas:313   :   iniset /etc/glance/glance-api.conf oslo_limit endpoint_id f6bb9d412893479792e40208ebd3cace
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/glance:configure_glance_quotas:317   :   openstack --os-cloud devstack-system-admin role add --user glance --user-domain Default --system all reader
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
[3131924 Async create_glance_accounts:3169257]: finished create_glance_accounts with result 0 in 30 seconds
[3131924 Async create_cinder_accounts:3169397]: Waiting for completion of create_cinder_accounts running on PID 3169397 (4 other jobs running)
[3131924 Async create_cinder_accounts:3169397]: Signaling child to exit
WAKEUP
[3131924 Async create_cinder_accounts:3169397]: Signaled
+ lib/cinder:create_cinder_accounts:398    :   [[ key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat =~ c-api ]]
+ lib/cinder:create_cinder_accounts:400    :   create_service_user cinder
+ lib/keystone:create_service_user:431     :   get_or_create_user cinder Datacore1 Default
+ functions-common:get_or_create_user:909  :   local user_id
+ functions-common:get_or_create_user:910  :   [[ ! -z '' ]]
+ functions-common:get_or_create_user:913  :   local email=
++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create cinder --password Datacore1 --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_user:925  :   user_id=49626c96a4884a63b503c4c15ccdd0b5
+ functions-common:get_or_create_user:926  :   echo 49626c96a4884a63b503c4c15ccdd0b5
49626c96a4884a63b503c4c15ccdd0b5
+ lib/keystone:create_service_user:432     :   get_or_add_user_project_role service cinder service Default Default
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n Default ]]
++ functions-common:_get_domain_args:961    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:963    :   [[ -n Default ]]
++ functions-common:_get_domain_args:964    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:967    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:975 :   domain_args='--user-domain Default --project-domain Default'
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user cinder --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add service --user cinder --project service --user-domain Default --project-domain Default
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user cinder --project service --user-domain Default --project-domain Default
++ functions-common:get_field:811           :   local data field
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| 2a5e5d02ebf54dc384338c23ed99a4a0 | 49626c96a4884a63b503c4c15ccdd0b5 |       | c729f6d2231949cc9cc800018f7746bd |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=2a5e5d02ebf54dc384338c23ed99a4a0
+ functions-common:get_or_add_user_project_role:997 :   echo 2a5e5d02ebf54dc384338c23ed99a4a0
2a5e5d02ebf54dc384338c23ed99a4a0
+ lib/keystone:create_service_user:434     :   [[ -n '' ]]
+ lib/cinder:create_cinder_accounts:403    :   get_or_create_service cinder block-storage 'Cinder Volume Service'
+ functions-common:get_or_create_service:1082 :   local service_id
++ functions-common:get_or_create_service:1095 :   oscwrap --os-cloud devstack-system-admin service show block-storage -f value -c id
++ functions-common:get_or_create_service:1097 :   oscwrap --os-cloud devstack-system-admin service create block-storage --name cinder '--description=Cinder Volume Service' -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_service:1093 :   service_id='
22d3210c8753450d8294a635d7247f0e'
+ functions-common:get_or_create_service:1094 :   echo 22d3210c8753450d8294a635d7247f0e
22d3210c8753450d8294a635d7247f0e
+ lib/cinder:create_cinder_accounts:404    :   '[' True == False ']'
+ lib/cinder:create_cinder_accounts:417    :   get_or_create_endpoint block-storage RegionOne 'http://10.200.2.118/volume/v3/$(project_id)s'
+ functions-common:get_or_create_endpoint:1126 :   local public_id
++ functions-common:get_or_create_endpoint:1127 :   _get_or_create_endpoint_with_interface block-storage public 'http://10.200.2.118/volume/v3/$(project_id)s' RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1100 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1105 :   oscwrap --os-cloud devstack-system-admin endpoint list --service block-storage --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1105 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1106 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1109 :   oscwrap --os-cloud devstack-system-admin endpoint create block-storage public 'http://10.200.2.118/volume/v3/$(project_id)s' --region RegionOne -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   grep xtrace
++++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1109 :   endpoint_id=00423b1d91d14f85a18710325b202613
++ functions-common:_get_or_create_endpoint_with_interface:1112 :   echo 00423b1d91d14f85a18710325b202613
+ functions-common:get_or_create_endpoint:1127 :   public_id=00423b1d91d14f85a18710325b202613
+ functions-common:get_or_create_endpoint:1129 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1132 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1136 :   echo 00423b1d91d14f85a18710325b202613
00423b1d91d14f85a18710325b202613
+ lib/cinder:create_cinder_accounts:421    :   get_or_create_service cinderv3 volumev3 'Cinder Volume Service V3'
+ functions-common:get_or_create_service:1082 :   local service_id
++ functions-common:get_or_create_service:1095 :   oscwrap --os-cloud devstack-system-admin service show volumev3 -f value -c id
++ functions-common:get_or_create_service:1097 :   oscwrap --os-cloud devstack-system-admin service create volumev3 --name cinderv3 '--description=Cinder Volume Service V3' -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_service:1093 :   service_id='
1559da4c609547caa05e742ac5400e6a'
+ functions-common:get_or_create_service:1094 :   echo 1559da4c609547caa05e742ac5400e6a
1559da4c609547caa05e742ac5400e6a
+ lib/cinder:create_cinder_accounts:423    :   get_or_create_endpoint volumev3 RegionOne 'http://10.200.2.118/volume/v3/$(project_id)s'
+ functions-common:get_or_create_endpoint:1126 :   local public_id
++ functions-common:get_or_create_endpoint:1127 :   _get_or_create_endpoint_with_interface volumev3 public 'http://10.200.2.118/volume/v3/$(project_id)s' RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1100 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1105 :   oscwrap --os-cloud devstack-system-admin endpoint list --service volumev3 --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1105 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1106 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1109 :   oscwrap --os-cloud devstack-system-admin endpoint create volumev3 public 'http://10.200.2.118/volume/v3/$(project_id)s' --region RegionOne -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1109 :   endpoint_id=f208591c341246a68bb83eb6eb373bb5
++ functions-common:_get_or_create_endpoint_with_interface:1112 :   echo f208591c341246a68bb83eb6eb373bb5
+ functions-common:get_or_create_endpoint:1127 :   public_id=f208591c341246a68bb83eb6eb373bb5
+ functions-common:get_or_create_endpoint:1129 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1132 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1136 :   echo f208591c341246a68bb83eb6eb373bb5
f208591c341246a68bb83eb6eb373bb5
+ lib/cinder:create_cinder_accounts:428    :   configure_cinder_internal_tenant
++ lib/cinder:configure_cinder_internal_tenant:616 :   get_or_create_project service
++ functions-common:get_or_create_project:932 :   local project_id
+++ functions-common:get_or_create_project:940 :   oscwrap --os-cloud devstack-system-admin project create service --domain= --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_project:938 :   project_id=c729f6d2231949cc9cc800018f7746bd
++ functions-common:get_or_create_project:939 :   echo c729f6d2231949cc9cc800018f7746bd
+ lib/cinder:configure_cinder_internal_tenant:616 :   iniset /etc/cinder/cinder.conf DEFAULT cinder_internal_tenant_project_id c729f6d2231949cc9cc800018f7746bd
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/cinder:configure_cinder_internal_tenant:617 :   get_or_create_user cinder
++ functions-common:get_or_create_user:909  :   local user_id
++ functions-common:get_or_create_user:910  :   [[ ! -z '' ]]
++ functions-common:get_or_create_user:913  :   local email=
+++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create cinder --password '' --domain= --or-show -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
No password was supplied, authentication will fail when a user does not have a password.
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_or_create_user:925  :   user_id=49626c96a4884a63b503c4c15ccdd0b5
++ functions-common:get_or_create_user:926  :   echo 49626c96a4884a63b503c4c15ccdd0b5
+ lib/cinder:configure_cinder_internal_tenant:617 :   iniset /etc/cinder/cinder.conf DEFAULT cinder_internal_tenant_user_id 49626c96a4884a63b503c4c15ccdd0b5
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
[3131924 Async create_cinder_accounts:3169397]: finished create_cinder_accounts with result 0 in 27 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1124                     :   async_wait create_neutron_accounts create_swift_accounts configure_horizon
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   set +o
++ inc/async:async_wait:142                 :   grep xtrace
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async create_neutron_accounts:3169522]: Waiting for completion of create_neutron_accounts running on PID 3169522 (3 other jobs running)
[3131924 Async create_neutron_accounts:3169522]: Signaling child to exit
WAKEUP
[3131924 Async create_neutron_accounts:3169522]: Signaled
+ lib/neutron:create_neutron_accounts:685  :   is_neutron_legacy_enabled
++ lib/neutron:is_neutron_legacy_enabled:142 :   echo
++ lib/neutron:is_neutron_legacy_enabled:142 :   sed s/neutron-//g
+ lib/neutron:is_neutron_legacy_enabled:142 :   disabled_services_copy=
+ lib/neutron:is_neutron_legacy_enabled:143 :   [[ , =~ ,neutron ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   [[ ,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat =~ ,q- ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   return 0
+ lib/neutron:create_neutron_accounts:687  :   create_mutnauq_accounts
+ lib/neutron-legacy:create_mutnauq_accounts:438 :   local neutron_url
+ lib/neutron-legacy:create_mutnauq_accounts:439 :   '[' False == True ']'
+ lib/neutron-legacy:create_mutnauq_accounts:442 :   neutron_url=http://10.200.2.118:9696/
+ lib/neutron-legacy:create_mutnauq_accounts:444 :   '[' '!' -z networking ']'
+ lib/neutron-legacy:create_mutnauq_accounts:445 :   neutron_url=http://10.200.2.118:9696/networking
+ lib/neutron-legacy:create_mutnauq_accounts:448 :   [[ key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat =~ q-svc ]]
+ lib/neutron-legacy:create_mutnauq_accounts:450 :   create_service_user neutron
+ lib/keystone:create_service_user:431     :   get_or_create_user neutron Datacore1 Default
+ functions-common:get_or_create_user:909  :   local user_id
+ functions-common:get_or_create_user:910  :   [[ ! -z '' ]]
+ functions-common:get_or_create_user:913  :   local email=
++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create neutron --password Datacore1 --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_user:925  :   user_id=8ab60ea556e24f179d507734a6626f57
+ functions-common:get_or_create_user:926  :   echo 8ab60ea556e24f179d507734a6626f57
8ab60ea556e24f179d507734a6626f57
+ lib/keystone:create_service_user:432     :   get_or_add_user_project_role service neutron service Default Default
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n Default ]]
++ functions-common:_get_domain_args:961    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:963    :   [[ -n Default ]]
++ functions-common:_get_domain_args:964    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:967    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:975 :   domain_args='--user-domain Default --project-domain Default'
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user neutron --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add service --user neutron --project service --user-domain Default --project-domain Default
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user neutron --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| 2a5e5d02ebf54dc384338c23ed99a4a0 | 8ab60ea556e24f179d507734a6626f57 |       | c729f6d2231949cc9cc800018f7746bd |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=2a5e5d02ebf54dc384338c23ed99a4a0
+ functions-common:get_or_add_user_project_role:997 :   echo 2a5e5d02ebf54dc384338c23ed99a4a0
2a5e5d02ebf54dc384338c23ed99a4a0
+ lib/keystone:create_service_user:434     :   [[ -n '' ]]
+ lib/neutron-legacy:create_mutnauq_accounts:452 :   get_or_create_service neutron network 'Neutron Service'
+ functions-common:get_or_create_service:1082 :   local service_id
++ functions-common:get_or_create_service:1095 :   oscwrap --os-cloud devstack-system-admin service show network -f value -c id
++ functions-common:get_or_create_service:1097 :   oscwrap --os-cloud devstack-system-admin service create network --name neutron '--description=Neutron Service' -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_service:1093 :   service_id='
267a5a95e0144cae9ea7cd084e300e09'
+ functions-common:get_or_create_service:1094 :   echo 267a5a95e0144cae9ea7cd084e300e09
267a5a95e0144cae9ea7cd084e300e09
+ lib/neutron-legacy:create_mutnauq_accounts:454 :   get_or_create_endpoint network RegionOne http://10.200.2.118:9696/networking
+ functions-common:get_or_create_endpoint:1126 :   local public_id
++ functions-common:get_or_create_endpoint:1127 :   _get_or_create_endpoint_with_interface network public http://10.200.2.118:9696/networking RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1100 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1105 :   oscwrap --os-cloud devstack-system-admin endpoint list --service network --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1105 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1106 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1109 :   oscwrap --os-cloud devstack-system-admin endpoint create network public http://10.200.2.118:9696/networking --region RegionOne -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   grep xtrace
++++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1109 :   endpoint_id=e61055ebdb8744d68f75e8e660c137c1
++ functions-common:_get_or_create_endpoint_with_interface:1112 :   echo e61055ebdb8744d68f75e8e660c137c1
+ functions-common:get_or_create_endpoint:1127 :   public_id=e61055ebdb8744d68f75e8e660c137c1
+ functions-common:get_or_create_endpoint:1129 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1132 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1136 :   echo e61055ebdb8744d68f75e8e660c137c1
e61055ebdb8744d68f75e8e660c137c1
[3131924 Async create_neutron_accounts:3169522]: finished create_neutron_accounts with result 0 in 17 seconds
Not waiting for async task create_swift_accounts that we never started or has already been waited for
[3131924 Async configure_horizon:3169699]: Waiting for completion of configure_horizon running on PID 3169699 (2 other jobs running)
[3131924 Async configure_horizon:3169699]: Signaling child to exit
WAKEUP
[3131924 Async configure_horizon:3169699]: Signaled
+ lib/horizon:configure_horizon:75         :   setup_develop /opt/stack/horizon
+ inc/python:setup_develop:334             :   local bindep
+ inc/python:setup_develop:335             :   [[ /opt/stack/horizon == -bindep* ]]
+ inc/python:setup_develop:339             :   local project_dir=/opt/stack/horizon
+ inc/python:setup_develop:340             :   local extras=
+ inc/python:setup_develop:341             :   _setup_package_with_constraints_edit /opt/stack/horizon -e
+ inc/python:_setup_package_with_constraints_edit:360 :   local bindep
+ inc/python:_setup_package_with_constraints_edit:361 :   [[ /opt/stack/horizon == -bindep* ]]
+ inc/python:_setup_package_with_constraints_edit:365 :   local project_dir=/opt/stack/horizon
+ inc/python:_setup_package_with_constraints_edit:366 :   local flags=-e
+ inc/python:_setup_package_with_constraints_edit:367 :   local extras=
++ inc/python:_setup_package_with_constraints_edit:374 :   cd /opt/stack/horizon
++ inc/python:_setup_package_with_constraints_edit:374 :   pwd
+ inc/python:_setup_package_with_constraints_edit:374 :   project_dir=/opt/stack/horizon
+ inc/python:_setup_package_with_constraints_edit:376 :   '[' -n /opt/stack/requirements ']'
+ inc/python:_setup_package_with_constraints_edit:380 :   local name
++ inc/python:_setup_package_with_constraints_edit:381 :   awk '/^name.*=/ {print $3}' /opt/stack/horizon/setup.cfg
+ inc/python:_setup_package_with_constraints_edit:381 :   name=horizon
+ inc/python:_setup_package_with_constraints_edit:383 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- horizon
+ inc/python:_setup_package_with_constraints_edit:386 :   setup_package /opt/stack/horizon -e
+ inc/python:setup_package:414             :   local bindep=0
+ inc/python:setup_package:415             :   local bindep_flag=
+ inc/python:setup_package:416             :   local bindep_profiles=
+ inc/python:setup_package:417             :   [[ /opt/stack/horizon == -bindep* ]]
+ inc/python:setup_package:422             :   local project_dir=/opt/stack/horizon
+ inc/python:setup_package:423             :   local flags=-e
+ inc/python:setup_package:424             :   local extras=
+ inc/python:setup_package:428             :   [[ -n -e ]]
+ inc/python:setup_package:428             :   [[ -z '' ]]
+ inc/python:setup_package:428             :   [[ ! -e =~ ^-.* ]]
+ inc/python:setup_package:433             :   [[ ! -z '' ]]
+ inc/python:setup_package:438             :   [[ 0 == 1 ]]
+ inc/python:setup_package:442             :   pip_install -e /opt/stack/horizon
+ inc/python:pip_install:128               :   local xtrace result
++ inc/python:pip_install:129               :   grep xtrace
++ inc/python:pip_install:129               :   set +o
+ inc/python:pip_install:129               :   xtrace='set -o xtrace'
+ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/horizon
+ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -e /opt/stack/horizon
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Obtaining file:///opt/stack/horizon
Requirement already satisfied: Babel===2.10.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 2)) (2.10.3)
Requirement already satisfied: Django===3.2.15 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 6)) (3.2.15)
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: XStatic===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 35)) (1.0.2)
Requirement already satisfied: XStatic-Angular===1.8.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 36)) (1.8.2.2)
Requirement already satisfied: XStatic-Angular-Bootstrap===2.5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 37)) (2.5.0.0)
Requirement already satisfied: XStatic-Angular-FileUpload===12.0.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 38)) (12.0.4.0)
Requirement already satisfied: XStatic-Angular-Gettext===2.4.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 39)) (2.4.1.0)
Requirement already satisfied: XStatic-Angular-Schema-Form===0.8.13.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 40)) (0.8.13.0)
Requirement already satisfied: XStatic-Angular-lrdragndrop===1.0.2.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 43)) (1.0.2.4)
Requirement already satisfied: XStatic-Bootstrap-Datepicker===1.4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 44)) (1.4.0.0)
Requirement already satisfied: XStatic-Bootstrap-SCSS===3.4.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 45)) (3.4.1.0)
Requirement already satisfied: XStatic-D3===3.5.17.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 46)) (3.5.17.0)
Requirement already satisfied: XStatic-Font-Awesome===4.7.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 50)) (4.7.0.0)
Requirement already satisfied: XStatic-Hogan===2.0.0.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 52)) (2.0.0.3)
Requirement already satisfied: XStatic-JQuery-Migrate===1.2.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 53)) (1.2.1.2)
Requirement already satisfied: XStatic-JQuery.TableSorter===2.14.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 54)) (2.14.5.2)
Requirement already satisfied: XStatic-JQuery.quicksearch===2.0.3.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 55)) (2.0.3.2)
Requirement already satisfied: XStatic-JSEncrypt===2.3.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 57)) (2.3.1.1)
Requirement already satisfied: XStatic-Jasmine===2.4.1.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 58)) (2.4.1.2)
Requirement already satisfied: XStatic-Rickshaw===1.5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 61)) (1.5.1.0)
Requirement already satisfied: XStatic-Spin===1.2.5.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 62)) (1.2.5.3)
Requirement already satisfied: XStatic-bootswatch===3.3.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 63)) (3.3.7.0)
Requirement already satisfied: XStatic-jQuery===1.12.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 64)) (1.12.4.1)
Requirement already satisfied: XStatic-jquery-ui===1.13.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 65)) (1.13.0.1)
Requirement already satisfied: XStatic-mdi===1.6.50.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 67)) (1.6.50.2)
Requirement already satisfied: XStatic-objectpath===1.2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 69)) (1.2.1.0)
Requirement already satisfied: XStatic-roboto-fontface===0.5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 70)) (0.5.0.0)
Requirement already satisfied: XStatic-smart-table===1.4.13.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 71)) (1.4.13.2)
Requirement already satisfied: XStatic-term.js===0.0.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 72)) (0.0.7.0)
Requirement already satisfied: XStatic-tv4===1.2.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 73)) (1.2.7.0)
Requirement already satisfied: asgiref===3.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 88)) (3.5.2)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (2.5.0)
Requirement already satisfied: django-compressor===4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 141)) (4.1)
Requirement already satisfied: django-debreach===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 142)) (2.1.0)
Requirement already satisfied: django-pyscss===2.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 146)) (2.0.2)
Requirement already satisfied: enmerkar===0.7.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 157)) (0.7.1)
Requirement already satisfied: futurist===2.4.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 173)) (2.4.1)
Requirement already satisfied: iso8601===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 211)) (1.0.2)
Requirement already satisfied: keystoneauth1===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 226)) (5.0.0)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 258)) (0.8.0)
Requirement already satisfied: os-service-types===1.7.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 292)) (1.7.0)
Requirement already satisfied: oslo.concurrency===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 301)) (5.0.0)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 302)) (9.0.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (5.1.0)
Requirement already satisfied: oslo.policy===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 311)) (4.0.0)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 315)) (5.0.0)
Requirement already satisfied: oslo.upgradecheck===2.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 317)) (2.0.0)
Requirement already satisfied: oslo.utils===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (6.0.0)
Requirement already satisfied: osprofiler===3.4.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 323)) (3.4.3)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 326)) (21.3)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 330)) (5.10.0)
Requirement already satisfied: prettytable===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 340)) (3.3.0)
Requirement already satisfied: pyScss===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 351)) (1.4.0)
Requirement already satisfied: pymongo===4.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 365)) (4.2.0)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 367)) (3.0.9)
Requirement already satisfied: python-cinderclient===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 389)) (9.0.0)
Requirement already satisfied: python-glanceclient===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 397)) (4.0.1)
Requirement already satisfied: python-keystoneclient===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 403)) (5.0.0)
Requirement already satisfied: python-neutronclient===8.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 413)) (8.0.0)
Requirement already satisfied: python-novaclient===18.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 414)) (18.0.0)
Requirement already satisfied: python-swiftclient===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 426)) (4.0.1)
Requirement already satisfied: pytz===2022.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 433)) (2022.2.1)
Requirement already satisfied: rcssmin===1.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 441)) (1.1.0)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 445)) (2.28.1)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 458)) (1.5.0)
Requirement already satisfied: rjsmin===1.2.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 459)) (1.2.0)
Requirement already satisfied: semantic-version===2.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 475)) (2.10.0)
Requirement already satisfied: simplejson===3.17.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 480)) (3.17.6)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 481)) (1.16.0)
Requirement already satisfied: sqlparse===0.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 509)) (0.4.2)
Requirement already satisfied: stevedore===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 514)) (4.0.0)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 560)) (1.26.11)
Requirement already satisfied: warlock===2.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 569)) (2.0.1)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 570)) (0.2.5)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 575)) (1.14.1)
Requirement already satisfied: django-appconf===1.0.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 140)) (1.0.5)
Requirement already satisfied: fasteners===0.17.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 166)) (0.17.3)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (5.0.0)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 251)) (1.0.4)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 259)) (0.11.0)
Requirement already satisfied: WebOb===1.8.7 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 32)) (1.8.7)
Requirement already satisfied: pyOpenSSL===22.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 350)) (22.0.0)
Requirement already satisfied: osc-lib===2.6.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 298)) (2.6.1)
Requirement already satisfied: cliff===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 114)) (4.0.0)
Requirement already satisfied: os-client-config===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 286)) (2.1.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 307)) (5.0.0)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 199)) (3.3)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 445)) (2019.11.28)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 112)) (2.1.0)
Requirement already satisfied: jsonpatch===1.32 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 218)) (1.32)
Requirement already satisfied: jsonschema===4.7.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (4.7.2)
Requirement already satisfied: cryptography===36.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 126)) (36.0.2)
Requirement already satisfied: openstacksdk===0.100.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 281)) (0.100.0)
Requirement already satisfied: cmd2===2.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 115)) (2.4.2)
Requirement already satisfied: importlib-metadata===4.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 203)) (4.12.0)
Requirement already satisfied: autopage===0.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 93)) (0.5.1)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 362)) (0.9.6)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 394)) (2.8.2)
Requirement already satisfied: jsonpointer===2.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 221)) (2.3)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 371)) (0.18.1)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: importlib-resources===5.9.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 204)) (5.9.0)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 110)) (1.15.1)
Requirement already satisfied: decorator===5.1.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 131)) (5.1.1)
Requirement already satisfied: munch===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 252)) (2.5.0)
Requirement already satisfied: dogpile.cache===1.1.8 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 151)) (1.1.8)
Requirement already satisfied: appdirs===1.4.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 86)) (1.4.4)
Requirement already satisfied: requestsexceptions===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 453)) (1.4.0)
Requirement already satisfied: jmespath===1.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 216)) (1.0.1)
Requirement already satisfied: pyperclip===1.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 368)) (1.8.2)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 588)) (3.8.1)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 356)) (2.21)
Installing collected packages: horizon
  Attempting uninstall: horizon
    Found existing installation: horizon 22.2.1.dev19
    Can't uninstall 'horizon'. No files were found to uninstall.
  Running setup.py develop for horizon
Successfully installed horizon
+ inc/python:pip_install:196               :   result=0
+ inc/python:pip_install:198               :   time_stop pip_install
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=pip_install
+ functions-common:time_stop:2446          :   start_time=1661163795275
+ functions-common:time_stop:2448          :   [[ -z 1661163795275 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163803590
+ functions-common:time_stop:2452          :   elapsed_time=8315
+ functions-common:time_stop:2453          :   total=97442
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=105757
+ inc/python:pip_install:199               :   return 0
+ inc/python:setup_package:444             :   [[ -e == \-\e ]]
+ inc/python:setup_package:445             :   safe_chown -R stack /opt/stack/horizon/horizon.egg-info
+ functions-common:safe_chown:2340         :   _safe_permission_operation chown -R stack /opt/stack/horizon/horizon.egg-info
+ functions-common:_safe_permission_operation:2165 :   local xtrace
++ functions-common:_safe_permission_operation:2166 :   grep xtrace
++ functions-common:_safe_permission_operation:2166 :   set +o
+ functions-common:_safe_permission_operation:2166 :   xtrace='set -o xtrace'
+ functions-common:_safe_permission_operation:2167 :   set +o xtrace
+ functions-common:_safe_permission_operation:2188 :   sudo chown -R stack /opt/stack/horizon/horizon.egg-info
+ inc/python:_setup_package_with_constraints_edit:390 :   use_library_from_git /opt/stack/horizon
+ inc/python:use_library_from_git:246      :   local name=/opt/stack/horizon
+ inc/python:use_library_from_git:247      :   local enabled=1
+ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
+ inc/python:use_library_from_git:248      :   [[ ,, =~ ,/opt/stack/horizon, ]]
+ inc/python:use_library_from_git:249      :   return 1
+ lib/horizon:configure_horizon:81         :   cd /opt/stack/horizon
+ lib/horizon:configure_horizon:81         :   /usr/bin/python3.8 manage.py compilemessages
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/local/lib/python3.8/dist-packages/debreach/__init__.py:6: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
  version_info = version.StrictVersion(__version__).version
File “/opt/stack/horizon/openstack_dashboard/locale/eo/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/eo/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/mni/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/kok/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/en_GB/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/pt_BR/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/tr_TR/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/tr_TR/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/ne/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/id/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/id/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/cs/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/cs/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/ur/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/de/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/mai/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/zh_Hant/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/zh_Hant/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/bn_IN/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/ta/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/es/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/es/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/as/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/ja/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/ja/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/gu/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/zh_Hans/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/brx/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/fr/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/fr/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/ks/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/it/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/it/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/kn/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/en_AU/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/hi/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/ru/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/ru/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/pa_IN/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_dashboard/locale/mr/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po” is already compiled and up to date.
File “/opt/stack/horizon/releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po” is already compiled and up to date.
File “/opt/stack/horizon/releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po” is already compiled and up to date.
File “/opt/stack/horizon/releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po” is already compiled and up to date.
File “/opt/stack/horizon/releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po” is already compiled and up to date.
File “/opt/stack/horizon/releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po” is already compiled and up to date.
File “/opt/stack/horizon/releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/eo/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/eo/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/fil/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/en_GB/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/en_GB/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/pt_BR/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/pt_BR/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/tr_TR/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/tr_TR/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/fi_FI/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/nl_NL/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/nl_NL/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/ko_KR/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/ko_KR/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/id/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/id/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/cs/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/cs/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/de/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/de/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/sl_SI/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/es_MX/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/pt/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/zh_Hant/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/zh_Hant/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/es/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/es/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/ja/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/ja/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/zh_Hans/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/zh_Hans/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/ar/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/sr/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/fr/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/fr/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/hu/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/it/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/it/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/en_AU/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/en_AU/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/hi/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/ru/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/ru/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/pl_PL/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/pl_PL/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/ca/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/pa_IN/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/horizon/locale/pa_IN/LC_MESSAGES/djangojs.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/eo/LC_MESSAGES/doc.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/eo/LC_MESSAGES/doc-install.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/zh_CN/LC_MESSAGES/doc.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/en_GB/LC_MESSAGES/doc.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/en_GB/LC_MESSAGES/doc-user.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/en_GB/LC_MESSAGES/doc-install.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/en_GB/LC_MESSAGES/doc-configuration.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/pt_BR/LC_MESSAGES/doc.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/ne/LC_MESSAGES/doc.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/ko_KR/LC_MESSAGES/doc.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/ko_KR/LC_MESSAGES/doc-admin.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/id/LC_MESSAGES/doc.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/id/LC_MESSAGES/doc-admin.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/id/LC_MESSAGES/doc-contributor.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/id/LC_MESSAGES/doc-user.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/id/LC_MESSAGES/doc-install.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/id/LC_MESSAGES/doc-configuration.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/de/LC_MESSAGES/doc.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/de/LC_MESSAGES/doc-user.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/de/LC_MESSAGES/doc-install.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/es/LC_MESSAGES/doc.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/ja/LC_MESSAGES/doc-install.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/fr/LC_MESSAGES/doc.po” is already compiled and up to date.
File “/opt/stack/horizon/doc/source/locale/fr/LC_MESSAGES/doc-admin.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/eo/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/en_GB/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/pt_BR/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/ne/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/ko_KR/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/id/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/de/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/zh_Hant/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/es/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/ja/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/zh_Hans/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/fr/LC_MESSAGES/django.po” is already compiled and up to date.
File “/opt/stack/horizon/openstack_auth/locale/ru/LC_MESSAGES/django.po” is already compiled and up to date.
+ lib/horizon:configure_horizon:84         :   local local_settings=/opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:configure_horizon:85         :   cp /opt/stack/horizon/openstack_dashboard/local/local_settings.py.example /opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:configure_horizon:88         :   echo
+ lib/horizon:configure_horizon:90         :   _horizon_config_set /opt/stack/horizon/openstack_dashboard/local/local_settings.py '' WEBROOT '"/dashboard/"'
+ lib/horizon:_horizon_config_set:40       :   local file=/opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:_horizon_config_set:41       :   local section=
+ lib/horizon:_horizon_config_set:42       :   local option=WEBROOT
+ lib/horizon:_horizon_config_set:43       :   local 'value="/dashboard/"'
+ lib/horizon:_horizon_config_set:45       :   '[' -z '' ']'
+ lib/horizon:_horizon_config_set:46       :   sed -e '/^WEBROOT/d' -i /opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:_horizon_config_set:47       :   echo 'WEBROOT = "/dashboard/"'
+ lib/horizon:configure_horizon:92         :   _horizon_config_set /opt/stack/horizon/openstack_dashboard/local/local_settings.py '' COMPRESS_OFFLINE True
+ lib/horizon:_horizon_config_set:40       :   local file=/opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:_horizon_config_set:41       :   local section=
+ lib/horizon:_horizon_config_set:42       :   local option=COMPRESS_OFFLINE
+ lib/horizon:_horizon_config_set:43       :   local value=True
+ lib/horizon:_horizon_config_set:45       :   '[' -z '' ']'
+ lib/horizon:_horizon_config_set:46       :   sed -e '/^COMPRESS_OFFLINE/d' -i /opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:_horizon_config_set:47       :   echo 'COMPRESS_OFFLINE = True'
+ lib/horizon:configure_horizon:93         :   _horizon_config_set /opt/stack/horizon/openstack_dashboard/local/local_settings.py '' OPENSTACK_KEYSTONE_DEFAULT_ROLE '"member"'
+ lib/horizon:_horizon_config_set:40       :   local file=/opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:_horizon_config_set:41       :   local section=
+ lib/horizon:_horizon_config_set:42       :   local option=OPENSTACK_KEYSTONE_DEFAULT_ROLE
+ lib/horizon:_horizon_config_set:43       :   local 'value="member"'
+ lib/horizon:_horizon_config_set:45       :   '[' -z '' ']'
+ lib/horizon:_horizon_config_set:46       :   sed -e '/^OPENSTACK_KEYSTONE_DEFAULT_ROLE/d' -i /opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:_horizon_config_set:47       :   echo 'OPENSTACK_KEYSTONE_DEFAULT_ROLE = "member"'
+ lib/horizon:configure_horizon:95         :   _horizon_config_set /opt/stack/horizon/openstack_dashboard/local/local_settings.py '' OPENSTACK_HOST '"10.200.2.118"'
+ lib/horizon:_horizon_config_set:40       :   local file=/opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:_horizon_config_set:41       :   local section=
+ lib/horizon:_horizon_config_set:42       :   local option=OPENSTACK_HOST
+ lib/horizon:_horizon_config_set:43       :   local 'value="10.200.2.118"'
+ lib/horizon:_horizon_config_set:45       :   '[' -z '' ']'
+ lib/horizon:_horizon_config_set:46       :   sed -e '/^OPENSTACK_HOST/d' -i /opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:_horizon_config_set:47       :   echo 'OPENSTACK_HOST = "10.200.2.118"'
+ lib/horizon:configure_horizon:97         :   _horizon_config_set /opt/stack/horizon/openstack_dashboard/local/local_settings.py '' OPENSTACK_KEYSTONE_URL '"http://10.200.2.118/identity/v3"'
+ lib/horizon:_horizon_config_set:40       :   local file=/opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:_horizon_config_set:41       :   local section=
+ lib/horizon:_horizon_config_set:42       :   local option=OPENSTACK_KEYSTONE_URL
+ lib/horizon:_horizon_config_set:43       :   local 'value="http://10.200.2.118/identity/v3"'
+ lib/horizon:_horizon_config_set:45       :   '[' -z '' ']'
+ lib/horizon:_horizon_config_set:46       :   sed -e '/^OPENSTACK_KEYSTONE_URL/d' -i /opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:_horizon_config_set:47       :   echo 'OPENSTACK_KEYSTONE_URL = "http://10.200.2.118/identity/v3"'
+ lib/horizon:configure_horizon:102        :   _horizon_config_set /opt/stack/horizon/openstack_dashboard/local/local_settings.py '' ALLOWED_HOSTS '["*"]'
+ lib/horizon:_horizon_config_set:40       :   local file=/opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:_horizon_config_set:41       :   local section=
+ lib/horizon:_horizon_config_set:42       :   local option=ALLOWED_HOSTS
+ lib/horizon:_horizon_config_set:43       :   local 'value=["*"]'
+ lib/horizon:_horizon_config_set:45       :   '[' -z '' ']'
+ lib/horizon:_horizon_config_set:46       :   sed -e '/^ALLOWED_HOSTS/d' -i /opt/stack/horizon/openstack_dashboard/local/local_settings.py
+ lib/horizon:_horizon_config_set:47       :   echo 'ALLOWED_HOSTS = ["*"]'
+ lib/horizon:configure_horizon:104        :   '[' -f /opt/stack/data/ca-bundle.pem ']'
+ lib/horizon:configure_horizon:108        :   is_service_enabled ldap
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/horizon:configure_horizon:113        :   sudo mkdir -p /opt/stack/horizon/.blackhole
+ lib/horizon:configure_horizon:115        :   local horizon_conf
++ lib/horizon:configure_horizon:116        :   apache_site_config_for horizon
++ lib/apache:apache_site_config_for:186    :   local site=horizon
++ lib/apache:apache_site_config_for:187    :   is_ubuntu
++ functions-common:is_ubuntu:567           :   [[ -z deb ]]
++ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
++ lib/apache:apache_site_config_for:189    :   echo /etc/apache2/sites-available/horizon.conf
+ lib/horizon:configure_horizon:116        :   horizon_conf=/etc/apache2/sites-available/horizon.conf
+ lib/horizon:configure_horizon:120        :   sudo sh -c 'sed -e "
        s,%USER%,stack,g;
        s,%GROUP%,stack,g;
        s,%HORIZON_DIR%,/opt/stack/horizon,g;
        s,%APACHE_NAME%,apache2,g;
        s,%DEST%,/opt/stack,g;
        s,%WEBROOT%,/dashboard,g;
    " /opt/stack/devstack/files/apache-horizon.template >/etc/apache2/sites-available/horizon.conf'
+ lib/horizon:configure_horizon:129        :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/horizon:configure_horizon:130        :   disable_apache_site 000-default
+ lib/apache:disable_apache_site:219       :   local site=000-default
+ lib/apache:disable_apache_site:220       :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:disable_apache_site:221       :   sudo a2dissite 000-default
Site 000-default already disabled
+ lib/horizon:configure_horizon:131        :   sudo touch /etc/apache2/sites-available/horizon.conf
+ lib/horizon:configure_horizon:137        :   enable_apache_site horizon
+ lib/apache:enable_apache_site:203        :   local site=horizon
+ lib/apache:enable_apache_site:205        :   enable_apache_mod version
+ lib/apache:enable_apache_mod:59          :   local mod=version
+ lib/apache:enable_apache_mod:61          :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_mod:64          :   [[ version != \v\e\r\s\i\o\n ]]
+ lib/apache:enable_apache_site:206        :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ lib/apache:enable_apache_site:207        :   sudo a2ensite horizon
Enabling site horizon.
To activate the new configuration, you need to run:
  systemctl reload apache2
[3131924 Async configure_horizon:3169699]: finished configure_horizon with result 0 in 10 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1130                     :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1130                     :   is_service_enabled glance
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1131                     :   echo_summary 'Configuring Glance'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Configuring Glance
2022-08-22 10:23:47.323 | Configuring Glance
+ ./stack.sh:main:1132                     :   async_runfunc init_glance
+ inc/async:async_runfunc:116              :   async_run init_glance init_glance
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   init_glance
[3131924 Async init_glance:3172877]: running: init_glance
+ ./stack.sh:main:1139                     :   is_service_enabled neutron
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1140                     :   echo_summary 'Configuring Neutron'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Configuring Neutron
2022-08-22 10:23:47.505 | Configuring Neutron
+ ./stack.sh:main:1142                     :   configure_neutron
+ lib/neutron:configure_neutron:636        :   is_neutron_legacy_enabled
++ lib/neutron:is_neutron_legacy_enabled:142 :   echo
++ lib/neutron:is_neutron_legacy_enabled:142 :   sed s/neutron-//g
+ lib/neutron:is_neutron_legacy_enabled:142 :   disabled_services_copy=
+ lib/neutron:is_neutron_legacy_enabled:143 :   [[ , =~ ,neutron ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   [[ ,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat =~ ,q- ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   return 0
+ lib/neutron:configure_neutron:638        :   configure_mutnauq
+ lib/neutron-legacy:configure_mutnauq:351 :   _configure_neutron_common
+ lib/neutron-legacy:_configure_neutron_common:782 :   _create_neutron_conf_dir
+ lib/neutron-legacy:_create_neutron_conf_dir:775 :   sudo install -d -o stack /etc/neutron
+ lib/neutron-legacy:_configure_neutron_common:785 :   cd /opt/stack/neutron
+ lib/neutron-legacy:_configure_neutron_common:785 :   exec ./tools/generate_config_file_samples.sh
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3172877 Async init_glance:3172877]: finished successfully
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ lib/neutron-legacy:_configure_neutron_common:787 :   cp /opt/stack/neutron/etc/neutron.conf.sample /etc/neutron/neutron.conf
+ lib/neutron-legacy:_configure_neutron_common:789 :   Q_POLICY_FILE=/etc/neutron/policy.json
+ lib/neutron-legacy:_configure_neutron_common:793 :   '[' -f /opt/stack/neutron/etc/policy.json ']'
+ lib/neutron-legacy:_configure_neutron_common:797 :   echo '{"context_is_admin":  "role:admin or user_name:neutron"}'
+ lib/neutron-legacy:_configure_neutron_common:802 :   neutron_plugin_configure_common
+ lib/neutron_plugins/ml2:neutron_plugin_configure_common:65 :   Q_PLUGIN_CONF_PATH=etc/neutron/plugins/ml2
+ lib/neutron_plugins/ml2:neutron_plugin_configure_common:66 :   Q_PLUGIN_CONF_FILENAME=ml2_conf.ini
+ lib/neutron_plugins/ml2:neutron_plugin_configure_common:67 :   Q_PLUGIN_CLASS=ml2
+ lib/neutron_plugins/ml2:neutron_plugin_configure_common:70 :   _neutron_service_plugin_class_add ovn-router
+ lib/neutron-legacy:_neutron_service_plugin_class_add:966 :   local service_plugin_class=ovn-router
+ lib/neutron-legacy:_neutron_service_plugin_class_add:967 :   [[ '' == '' ]]
+ lib/neutron-legacy:_neutron_service_plugin_class_add:968 :   Q_SERVICE_PLUGIN_CLASSES=ovn-router
+ lib/neutron-legacy:_configure_neutron_common:804 :   [[ etc/neutron/plugins/ml2 == '' ]]
+ lib/neutron-legacy:_configure_neutron_common:804 :   [[ ml2_conf.ini == '' ]]
+ lib/neutron-legacy:_configure_neutron_common:804 :   [[ ml2 == '' ]]
+ lib/neutron-legacy:_configure_neutron_common:809 :   mkdir -p /etc/neutron/plugins/ml2
+ lib/neutron-legacy:_configure_neutron_common:810 :   Q_PLUGIN_CONF_FILE=etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron-legacy:_configure_neutron_common:813 :   '[' -f /opt/stack/neutron/etc/neutron/plugins/ml2/ml2_conf.ini.sample ']'
+ lib/neutron-legacy:_configure_neutron_common:814 :   cp /opt/stack/neutron/etc/neutron/plugins/ml2/ml2_conf.ini.sample /etc/neutron/plugins/ml2/ml2_conf.ini
++ lib/neutron-legacy:_configure_neutron_common:819 :   database_connection_url neutron
++ lib/database:database_connection_url:134 :   local db=neutron
++ lib/database:database_connection_url:135 :   database_connection_url_mysql neutron
++ lib/databases/mysql:database_connection_url_mysql:224 :   local db=neutron
++ lib/databases/mysql:database_connection_url_mysql:225 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:229 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:230 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:231 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:235 :   echo 'mysql+pymysql://root:Datacore1@127.0.0.1/neutron?charset=utf8&plugin=dbcounter'
+ lib/neutron-legacy:_configure_neutron_common:819 :   iniset /etc/neutron/neutron.conf database connection 'mysql+pymysql://root:Datacore1@127.0.0.1/neutron?charset=utf8&plugin=dbcounter'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_common:820 :   iniset /etc/neutron/neutron.conf DEFAULT state_path /opt/stack/data/neutron
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_common:821 :   iniset /etc/neutron/neutron.conf DEFAULT use_syslog False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_common:822 :   iniset /etc/neutron/neutron.conf DEFAULT bind_host 0.0.0.0
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_common:823 :   iniset /etc/neutron/neutron.conf oslo_concurrency lock_path /opt/stack/data/neutron/lock
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_common:826 :   iniset /etc/neutron/neutron.conf nova region_name RegionOne
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_common:828 :   '[' libvirt = fake ']'
+ lib/neutron-legacy:_configure_neutron_common:838 :   setup_logging /etc/neutron/neutron.conf
+ functions:setup_logging:674              :   setup_systemd_logging /etc/neutron/neutron.conf
+ functions:setup_systemd_logging:689      :   local conf_file=/etc/neutron/neutron.conf
++ functions:setup_systemd_logging:694      :   trueorfalse False USE_JOURNAL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions:setup_systemd_logging:694      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:695      :   local pidstr=
+ functions:setup_systemd_logging:696      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:700      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:702      :   iniset /etc/neutron/neutron.conf DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:704      :   iniset /etc/neutron/neutron.conf DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:705      :   iniset /etc/neutron/neutron.conf DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:706      :   iniset /etc/neutron/neutron.conf DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_common:840 :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:_configure_neutron_common:846 :   _neutron_setup_rootwrap
+ lib/neutron-legacy:_neutron_setup_rootwrap:1001 :   [[ True == \F\a\l\s\e ]]
+ lib/neutron-legacy:_neutron_setup_rootwrap:1005 :   Q_CONF_ROOTWRAP_D=/etc/neutron/rootwrap.d
+ lib/neutron-legacy:_neutron_setup_rootwrap:1006 :   [[ -d /etc/neutron/rootwrap.d ]]
+ lib/neutron-legacy:_neutron_setup_rootwrap:1010 :   _neutron_deploy_rootwrap_filters /opt/stack/neutron
+ lib/neutron-legacy:_neutron_deploy_rootwrap_filters:991 :   [[ True == \F\a\l\s\e ]]
+ lib/neutron-legacy:_neutron_deploy_rootwrap_filters:994 :   local srcdir=/opt/stack/neutron
+ lib/neutron-legacy:_neutron_deploy_rootwrap_filters:995 :   sudo install -d -o root -m 755 /etc/neutron/rootwrap.d
+ lib/neutron-legacy:_neutron_deploy_rootwrap_filters:996 :   sudo install -o root -m 644 /opt/stack/neutron/etc/neutron/rootwrap.d/rootwrap.filters /etc/neutron/rootwrap.d/
+ lib/neutron-legacy:_neutron_setup_rootwrap:1014 :   test -r /opt/stack/neutron/etc/neutron/rootwrap.conf
+ lib/neutron-legacy:_neutron_setup_rootwrap:1017 :   sudo install -o root -g root -m 644 /opt/stack/neutron/etc/rootwrap.conf /etc/neutron/rootwrap.conf
+ lib/neutron-legacy:_neutron_setup_rootwrap:1019 :   sudo sed -e 's:^filters_path=.*$:filters_path=/etc/neutron/rootwrap.d:' -i /etc/neutron/rootwrap.conf
+ lib/neutron-legacy:_neutron_setup_rootwrap:1020 :   sudo sed -e 's:^exec_dirs=\(.*\)$:exec_dirs=\1,/usr/local/bin:' -i /etc/neutron/rootwrap.conf
+ lib/neutron-legacy:_neutron_setup_rootwrap:1023 :   ROOTWRAP_SUDOER_CMD='/usr/local/bin/neutron-rootwrap /etc/neutron/rootwrap.conf *'
+ lib/neutron-legacy:_neutron_setup_rootwrap:1024 :   ROOTWRAP_DAEMON_SUDOER_CMD='/usr/local/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
++ lib/neutron-legacy:_neutron_setup_rootwrap:1027 :   mktemp
+ lib/neutron-legacy:_neutron_setup_rootwrap:1027 :   TEMPFILE=/tmp/tmp.dRl5qTee9N
+ lib/neutron-legacy:_neutron_setup_rootwrap:1028 :   echo 'stack ALL=(root) NOPASSWD: /usr/local/bin/neutron-rootwrap /etc/neutron/rootwrap.conf *'
+ lib/neutron-legacy:_neutron_setup_rootwrap:1029 :   echo 'stack ALL=(root) NOPASSWD: /usr/local/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
+ lib/neutron-legacy:_neutron_setup_rootwrap:1030 :   chmod 0440 /tmp/tmp.dRl5qTee9N
+ lib/neutron-legacy:_neutron_setup_rootwrap:1031 :   sudo chown root:root /tmp/tmp.dRl5qTee9N
+ lib/neutron-legacy:_neutron_setup_rootwrap:1032 :   sudo mv /tmp/tmp.dRl5qTee9N /etc/sudoers.d/neutron-rootwrap
+ lib/neutron-legacy:_neutron_setup_rootwrap:1035 :   iniset /etc/neutron/neutron.conf agent root_helper 'sudo /usr/local/bin/neutron-rootwrap /etc/neutron/rootwrap.conf'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_neutron_setup_rootwrap:1036 :   [[ True == \T\r\u\e ]]
+ lib/neutron-legacy:_neutron_setup_rootwrap:1037 :   iniset /etc/neutron/neutron.conf agent root_helper_daemon 'sudo /usr/local/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:configure_mutnauq:352 :   iniset_rpc_backend neutron /etc/neutron/neutron.conf
+ lib/rpc_backend:iniset_rpc_backend:157   :   local package=neutron
+ lib/rpc_backend:iniset_rpc_backend:158   :   local file=/etc/neutron/neutron.conf
+ lib/rpc_backend:iniset_rpc_backend:159   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:160   :   local virtual_host=
+ lib/rpc_backend:iniset_rpc_backend:161   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:162   :   get_transport_url ''
++ lib/rpc_backend:get_transport_url:139    :   local virtual_host=
++ lib/rpc_backend:get_transport_url:140    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:get_transport_url:141    :   echo rabbit://stackrabbit:Datacore1@10.200.2.118:5672/
+ lib/rpc_backend:iniset_rpc_backend:162   :   iniset /etc/neutron/neutron.conf DEFAULT transport_url rabbit://stackrabbit:Datacore1@10.200.2.118:5672/
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/rpc_backend:iniset_rpc_backend:163   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:166   :   '[' -n '' ']'
+ lib/neutron-legacy:configure_mutnauq:354 :   is_service_enabled q-metering
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:configure_mutnauq:357 :   is_service_enabled q-agt q-svc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron-legacy:configure_mutnauq:358 :   _configure_neutron_service
+ lib/neutron-legacy:_configure_neutron_service:932 :   Q_API_PASTE_FILE=/etc/neutron/api-paste.ini
+ lib/neutron-legacy:_configure_neutron_service:933 :   cp /opt/stack/neutron/etc/api-paste.ini /etc/neutron/api-paste.ini
+ lib/neutron-legacy:_configure_neutron_service:935 :   [[ -n networking ]]
+ lib/neutron-legacy:_configure_neutron_service:936 :   _replace_api_paste_composite
+ lib/neutron-legacy:_replace_api_paste_composite:921 :   local sep
++ lib/neutron-legacy:_replace_api_paste_composite:922 :   echo -ne '\x01'
+ lib/neutron-legacy:_replace_api_paste_composite:922 :   sep=$'\001'
+ lib/neutron-legacy:_replace_api_paste_composite:924 :   sed -i -e 's/\/\: neutronversions_composite/\/networking\/\: neutronversions_composite/' /etc/neutron/api-paste.ini
+ lib/neutron-legacy:_replace_api_paste_composite:925 :   sed -i -e 's/\/healthcheck\: healthcheck/\/networking\/healthcheck\: healthcheck/' /etc/neutron/api-paste.ini
+ lib/neutron-legacy:_replace_api_paste_composite:926 :   sed -i -e 's/\/v2.0\: neutronapi_v2_0/\/networking\/v2.0\: neutronapi_v2_0/' /etc/neutron/api-paste.ini
+ lib/neutron-legacy:_configure_neutron_service:940 :   iniset /etc/neutron/neutron.conf DEFAULT core_plugin ml2
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_service:942 :   iniset /etc/neutron/neutron.conf DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_service:943 :   iniset /etc/neutron/neutron.conf oslo_policy policy_file /etc/neutron/policy.json
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_service:945 :   iniset /etc/neutron/neutron.conf DEFAULT auth_strategy keystone
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_service:946 :   configure_keystone_authtoken_middleware /etc/neutron/neutron.conf neutron
+ lib/keystone:configure_keystone_authtoken_middleware:447 :   local conf_file=/etc/neutron/neutron.conf
+ lib/keystone:configure_keystone_authtoken_middleware:448 :   local admin_user=neutron
+ lib/keystone:configure_keystone_authtoken_middleware:449 :   local section=keystone_authtoken
+ lib/keystone:configure_keystone_authtoken_middleware:451 :   iniset /etc/neutron/neutron.conf keystone_authtoken auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:452 :   iniset /etc/neutron/neutron.conf keystone_authtoken interface public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:453 :   iniset /etc/neutron/neutron.conf keystone_authtoken auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:454 :   iniset /etc/neutron/neutron.conf keystone_authtoken username neutron
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:455 :   iniset /etc/neutron/neutron.conf keystone_authtoken password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:456 :   iniset /etc/neutron/neutron.conf keystone_authtoken user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:457 :   iniset /etc/neutron/neutron.conf keystone_authtoken project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:458 :   iniset /etc/neutron/neutron.conf keystone_authtoken project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:460 :   iniset /etc/neutron/neutron.conf keystone_authtoken cafile /opt/stack/data/ca-bundle.pem
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:461 :   iniset /etc/neutron/neutron.conf keystone_authtoken memcached_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_service:949 :   iniset /etc/neutron/neutron.conf DEFAULT notify_nova_on_port_status_changes True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_service:950 :   iniset /etc/neutron/neutron.conf DEFAULT notify_nova_on_port_data_changes True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_service:952 :   configure_keystone_authtoken_middleware /etc/neutron/neutron.conf nova nova
+ lib/keystone:configure_keystone_authtoken_middleware:447 :   local conf_file=/etc/neutron/neutron.conf
+ lib/keystone:configure_keystone_authtoken_middleware:448 :   local admin_user=nova
+ lib/keystone:configure_keystone_authtoken_middleware:449 :   local section=nova
+ lib/keystone:configure_keystone_authtoken_middleware:451 :   iniset /etc/neutron/neutron.conf nova auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:452 :   iniset /etc/neutron/neutron.conf nova interface public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:453 :   iniset /etc/neutron/neutron.conf nova auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:454 :   iniset /etc/neutron/neutron.conf nova username nova
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:455 :   iniset /etc/neutron/neutron.conf nova password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:456 :   iniset /etc/neutron/neutron.conf nova user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:457 :   iniset /etc/neutron/neutron.conf nova project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:458 :   iniset /etc/neutron/neutron.conf nova project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:460 :   iniset /etc/neutron/neutron.conf nova cafile /opt/stack/data/ca-bundle.pem
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:461 :   iniset /etc/neutron/neutron.conf nova memcached_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_service:955 :   configure_keystone_authtoken_middleware /etc/neutron/neutron.conf placement placement
+ lib/keystone:configure_keystone_authtoken_middleware:447 :   local conf_file=/etc/neutron/neutron.conf
+ lib/keystone:configure_keystone_authtoken_middleware:448 :   local admin_user=placement
+ lib/keystone:configure_keystone_authtoken_middleware:449 :   local section=placement
+ lib/keystone:configure_keystone_authtoken_middleware:451 :   iniset /etc/neutron/neutron.conf placement auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:452 :   iniset /etc/neutron/neutron.conf placement interface public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:453 :   iniset /etc/neutron/neutron.conf placement auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:454 :   iniset /etc/neutron/neutron.conf placement username placement
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:455 :   iniset /etc/neutron/neutron.conf placement password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:456 :   iniset /etc/neutron/neutron.conf placement user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:457 :   iniset /etc/neutron/neutron.conf placement project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:458 :   iniset /etc/neutron/neutron.conf placement project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:460 :   iniset /etc/neutron/neutron.conf placement cafile /opt/stack/data/ca-bundle.pem
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/keystone:configure_keystone_authtoken_middleware:461 :   iniset /etc/neutron/neutron.conf placement memcached_servers localhost:11211
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:_configure_neutron_service:958 :   neutron_plugin_configure_service
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:74 :   [[ geneve != \l\o\c\a\l ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:75 :   Q_SRV_EXTRA_OPTS+=(tenant_network_types=$Q_ML2_TENANT_NETWORK_TYPE)
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:89 :   '[' '' == '' ']'
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:90 :   [[ '' == '' ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:90 :   [[ public != '' ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:91 :   ML2_VLAN_RANGES=public
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:92 :   [[ '' != '' ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:96 :   [[ public != '' ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:97 :   Q_ML2_PLUGIN_VLAN_TYPE_OPTIONS=(network_vlan_ranges=$ML2_VLAN_RANGES)
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:103 :   [[ -z '' ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:104 :   [[ -n public ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:105 :   Q_ML2_PLUGIN_FLAT_TYPE_OPTIONS=flat_networks=
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:106 :   [[ -n public ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:107 :   Q_ML2_PLUGIN_FLAT_TYPE_OPTIONS+=public,
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:109 :   [[ -n public ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:109 :   [[ public != \p\u\b\l\i\c ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:121 :   [[ True == \T\r\u\e ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:122 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini securitygroup firewall_driver neutron.agent.not.a.real.FirewallDriver
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:127 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2 mechanism_drivers=ovn,logger
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=mechanism_drivers=ovn,logger
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z mechanism_drivers=ovn,logger ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2 mechanism_drivers ovn,logger
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:128 :   [[ ovn,logger == *\l\i\n\u\x\b\r\i\d\g\e* ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:131 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2 overlay_ip_version=4
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=overlay_ip_version=4
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z overlay_ip_version=4 ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2 overlay_ip_version 4
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:133 :   [[ -n local,flat,vlan,geneve ]]
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:134 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2 type_drivers=local,flat,vlan,geneve
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=type_drivers=local,flat,vlan,geneve
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z type_drivers=local,flat,vlan,geneve ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2 type_drivers local,flat,vlan,geneve
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:137 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2 extension_drivers=port_security,qos
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=extension_drivers=port_security,qos
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z extension_drivers=port_security,qos ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2 extension_drivers port_security,qos
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:139 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2 tenant_network_types=geneve
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=tenant_network_types=geneve
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z tenant_network_types=geneve ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2 tenant_network_types geneve
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:141 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_gre tunnel_id_ranges=1:1000
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2_type_gre
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=tunnel_id_ranges=1:1000
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z tunnel_id_ranges=1:1000 ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_gre tunnel_id_ranges 1:1000
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:143 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_vxlan vni_ranges=1:1000
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2_type_vxlan
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=vni_ranges=1:1000
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z vni_ranges=1:1000 ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_vxlan vni_ranges 1:1000
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:145 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_flat flat_networks=public,
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2_type_flat
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=flat_networks=public,
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z flat_networks=public, ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_flat flat_networks public,
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:147 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_vlan network_vlan_ranges=public
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2_type_vlan
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=network_vlan_ranges=public
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z network_vlan_ranges=public ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_vlan network_vlan_ranges public
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:149 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_geneve vni_ranges=1:65536
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2_type_geneve
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=vni_ranges=1:65536
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z vni_ranges=1:65536 ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_geneve vni_ranges 1:65536
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ml2:neutron_plugin_configure_service:151 :   [[ legacy != \l\e\g\a\c\y ]]
+ lib/neutron-legacy:configure_mutnauq:360 :   is_service_enabled q-agt
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:configure_mutnauq:363 :   is_service_enabled q-dhcp
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:configure_mutnauq:366 :   is_service_enabled q-l3
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:configure_mutnauq:369 :   is_service_enabled q-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:configure_mutnauq:373 :   [[ legacy != \l\e\g\a\c\y ]]
+ lib/neutron-legacy:configure_mutnauq:376 :   is_service_enabled ceilometer
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:configure_mutnauq:380 :   [[ ovn == \o\v\n ]]
+ lib/neutron-legacy:configure_mutnauq:381 :   configure_ovn
+ lib/neutron_plugins/ovn_agent:configure_ovn:519 :   echo 'Configuring OVN'
Configuring OVN
+ lib/neutron_plugins/ovn_agent:configure_ovn:521 :   '[' -z '' ']'
+ lib/neutron_plugins/ovn_agent:configure_ovn:522 :   '[' -f /etc/openvswitch/system-id.conf ']'
++ lib/neutron_plugins/ovn_agent:configure_ovn:523 :   cat /etc/openvswitch/system-id.conf
+ lib/neutron_plugins/ovn_agent:configure_ovn:523 :   OVN_UUID=2c2f3a45-4909-49c4-b375-5dea0ffc484d
+ lib/neutron_plugins/ovn_agent:configure_ovn:538 :   [[ False == \F\a\l\s\e ]]
+ lib/neutron_plugins/ovn_agent:configure_ovn:538 :   is_fedora
+ functions-common:is_fedora:519           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:523           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:523           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:524           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:525           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:527           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = Virtuozzo ']'
+ lib/neutron_plugins/ovn_agent:configure_ovn:545 :   is_service_enabled q-ovn-metadata-agent
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:configure_ovn:545 :   is_service_enabled ovn-controller
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:configure_ovn:546 :   sudo install -d -o stack /etc/neutron
+ lib/neutron_plugins/ovn_agent:configure_ovn:548 :   mkdir -p /opt/stack/neutron/etc/neutron/plugins/ml2
+ lib/neutron_plugins/ovn_agent:configure_ovn:549 :   cd /opt/stack/neutron
+ lib/neutron_plugins/ovn_agent:configure_ovn:549 :   exec ./tools/generate_config_file_samples.sh
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ lib/neutron_plugins/ovn_agent:configure_ovn:551 :   cp /opt/stack/neutron/etc/neutron_ovn_metadata_agent.ini.sample /etc/neutron/neutron_ovn_metadata_agent.ini
+ lib/neutron_plugins/ovn_agent:configure_ovn:552 :   configure_root_helper_options /etc/neutron/neutron_ovn_metadata_agent.ini
+ lib/neutron:configure_root_helper_options:172 :   local conffile=/etc/neutron/neutron_ovn_metadata_agent.ini
+ lib/neutron:configure_root_helper_options:173 :   iniset /etc/neutron/neutron_ovn_metadata_agent.ini agent root_helper 'sudo /usr/local/bin/neutron-rootwrap /etc/neutron/rootwrap.conf'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron:configure_root_helper_options:174 :   iniset /etc/neutron/neutron_ovn_metadata_agent.ini agent root_helper_daemon 'sudo /usr/local/bin/neutron-rootwrap-daemon /etc/neutron/rootwrap.conf'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn:554 :   iniset /etc/neutron/neutron_ovn_metadata_agent.ini DEFAULT debug True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn:555 :   iniset /etc/neutron/neutron_ovn_metadata_agent.ini DEFAULT nova_metadata_host 10.200.2.118
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn:556 :   iniset /etc/neutron/neutron_ovn_metadata_agent.ini DEFAULT metadata_workers 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn:557 :   iniset /etc/neutron/neutron_ovn_metadata_agent.ini DEFAULT state_path /opt/stack/data/neutron
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn:558 :   iniset /etc/neutron/neutron_ovn_metadata_agent.ini ovs ovsdb_connection tcp:127.0.0.1:6640
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn:559 :   iniset /etc/neutron/neutron_ovn_metadata_agent.ini ovn ovn_sb_connection tcp:10.200.2.118:6642
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn:560 :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:configure_mutnauq:382 :   configure_ovn_plugin
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:465 :   echo 'Configuring Neutron for OVN'
Configuring Neutron for OVN
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:467 :   is_service_enabled q-svc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:468 :   filter_network_api_extensions
++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:439 :   /usr/bin/python3.8 -c 'from neutron.common.ovn import extensions ;\
        print(",".join(extensions.ML2_SUPPORTED_API_EXTENSIONS))'
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:439 :   SUPPORTED_NETWORK_API_EXTENSIONS=address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-integration,external-net,extra_dhcp_opt,filter-validation,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-security,provider,port-resource-request,qos,qos-bw-limit-direction,qos-default,qos-rule-type-details,qos-rule-type-filter,qos-rules-alias,quotas,quota-check-limit,quota_details,rbac-address-scope,rbac-policies,rbac-security-groups,standard-attr-revisions,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,stateful-security-group,standard-attr-description,subnet_allocation,standard-attr-tag,standard-attr-timestamp,subnet-service-types,trunk,segment,expose-port-forwarding-in-fip,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,floating-ip-port-forwarding,vlan-transparent,logging,vpnaas,vpn-endpoint-groups
++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:442 :   /usr/bin/python3.8 -c 'from neutron.common.ovn import extensions ;\
        print(",".join(extensions.ML2_SUPPORTED_API_EXTENSIONS_OVN_L3))'
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:442 :   SUPPORTED_NETWORK_API_EXTENSIONS=address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-integration,external-net,extra_dhcp_opt,filter-validation,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-security,provider,port-resource-request,qos,qos-bw-limit-direction,qos-default,qos-rule-type-details,qos-rule-type-filter,qos-rules-alias,quotas,quota-check-limit,quota_details,rbac-address-scope,rbac-policies,rbac-security-groups,standard-attr-revisions,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,stateful-security-group,standard-attr-description,subnet_allocation,standard-attr-tag,standard-attr-timestamp,subnet-service-types,trunk,segment,expose-port-forwarding-in-fip,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,floating-ip-port-forwarding,vlan-transparent,logging,vpnaas,vpn-endpoint-groups,router,extraroute,ext-gw-mode,fip-port-details,floatingip-pools,pagination,qos-fip,qos-gateway-ip,sorting,project-id,dns-integration,dns-integration-domain-keywords,dns-domain-ports,subnet-dns-publish-fixed-ip,agent,availability_zone,router_availability_zone
+ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:443 :   is_service_enabled q-qos neutron-qos
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:446 :   NETWORK_API_EXTENSIONS=address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-integration,external-net,extra_dhcp_opt,filter-validation,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-security,provider,port-resource-request,qos,qos-bw-limit-direction,qos-default,qos-rule-type-details,qos-rule-type-filter,qos-rules-alias,quotas,quota-check-limit,quota_details,rbac-address-scope,rbac-policies,rbac-security-groups,standard-attr-revisions,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,stateful-security-group,standard-attr-description,subnet_allocation,standard-attr-tag,standard-attr-timestamp,subnet-service-types,trunk,segment,expose-port-forwarding-in-fip,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,floating-ip-port-forwarding,vlan-transparent,logging,vpnaas,vpn-endpoint-groups,router,extraroute,ext-gw-mode,fip-port-details,floatingip-pools,pagination,qos-fip,qos-gateway-ip,sorting,project-id,dns-integration,dns-integration-domain-keywords,dns-domain-ports,subnet-dns-publish-fixed-ip,agent,availability_zone,router_availability_zone
++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:447 :   tr ', ' '\n'
++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:447 :   echo address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-integration,external-net,extra_dhcp_opt,filter-validation,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-security,provider,port-resource-request,qos,qos-bw-limit-direction,qos-default,qos-rule-type-details,qos-rule-type-filter,qos-rules-alias,quotas,quota-check-limit,quota_details,rbac-address-scope,rbac-policies,rbac-security-groups,standard-attr-revisions,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,stateful-security-group,standard-attr-description,subnet_allocation,standard-attr-tag,standard-attr-timestamp,subnet-service-types,trunk,segment,expose-port-forwarding-in-fip,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,floating-ip-port-forwarding,vlan-transparent,logging,vpnaas,vpn-endpoint-groups,router,extraroute,ext-gw-mode,fip-port-details,floatingip-pools,pagination,qos-fip,qos-gateway-ip,sorting,project-id,dns-integration,dns-integration-domain-keywords,dns-domain-ports,subnet-dns-publish-fixed-ip,agent,availability_zone,router_availability_zone
++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:447 :   sort -u
+ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:447 :   extensions='address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
binding
binding-extended
default-subnetpools
dns-domain-ports
dns-integration
dns-integration-domain-keywords
expose-port-forwarding-in-fip
external-net
ext-gw-mode
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
floatingip-pools
floating-ip-port-forwarding
floating-ip-port-forwarding-description
floating-ip-port-forwarding-port-ranges
logging
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
port-resource-request
port-security
project-id
provider
qos
qos-bw-limit-direction
qos-default
qos-fip
qos-gateway-ip
qos-rules-alias
qos-rule-type-details
qos-rule-type-filter
quota-check-limit
quota_details
quotas
rbac-address-scope
rbac-policies
rbac-security-groups
router
router_availability_zone
security-group
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
segment
sorting
standard-attr-description
standard-attr-revisions
standard-attr-tag
standard-attr-timestamp
stateful-security-group
subnet_allocation
subnet-dns-publish-fixed-ip
subnet-service-types
trunk
vlan-transparent
vpnaas
vpn-endpoint-groups'
++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:448 :   tr ', ' '\n'
++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:448 :   echo address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-integration,external-net,extra_dhcp_opt,filter-validation,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-security,provider,port-resource-request,qos,qos-bw-limit-direction,qos-default,qos-rule-type-details,qos-rule-type-filter,qos-rules-alias,quotas,quota-check-limit,quota_details,rbac-address-scope,rbac-policies,rbac-security-groups,standard-attr-revisions,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,stateful-security-group,standard-attr-description,subnet_allocation,standard-attr-tag,standard-attr-timestamp,subnet-service-types,trunk,segment,expose-port-forwarding-in-fip,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,floating-ip-port-forwarding,vlan-transparent,logging,vpnaas,vpn-endpoint-groups,router,extraroute,ext-gw-mode,fip-port-details,floatingip-pools,pagination,qos-fip,qos-gateway-ip,sorting,project-id,dns-integration,dns-integration-domain-keywords,dns-domain-ports,subnet-dns-publish-fixed-ip,agent,availability_zone,router_availability_zone
++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:448 :   sort -u
+ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:448 :   supported_ext='address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
binding
binding-extended
default-subnetpools
dns-domain-ports
dns-integration
dns-integration-domain-keywords
expose-port-forwarding-in-fip
external-net
ext-gw-mode
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
floatingip-pools
floating-ip-port-forwarding
floating-ip-port-forwarding-description
floating-ip-port-forwarding-port-ranges
logging
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
port-resource-request
port-security
project-id
provider
qos
qos-bw-limit-direction
qos-default
qos-fip
qos-gateway-ip
qos-rules-alias
qos-rule-type-details
qos-rule-type-filter
quota-check-limit
quota_details
quotas
rbac-address-scope
rbac-policies
rbac-security-groups
router
router_availability_zone
security-group
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
segment
sorting
standard-attr-description
standard-attr-revisions
standard-attr-tag
standard-attr-timestamp
stateful-security-group
subnet_allocation
subnet-dns-publish-fixed-ip
subnet-service-types
trunk
vlan-transparent
vpnaas
vpn-endpoint-groups'
+++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:449 :   echo -e 'address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
binding
binding-extended
default-subnetpools
dns-domain-ports
dns-integration
dns-integration-domain-keywords
expose-port-forwarding-in-fip
external-net
ext-gw-mode
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
floatingip-pools
floating-ip-port-forwarding
floating-ip-port-forwarding-description
floating-ip-port-forwarding-port-ranges
logging
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
port-resource-request
port-security
project-id
provider
qos
qos-bw-limit-direction
qos-default
qos-fip
qos-gateway-ip
qos-rules-alias
qos-rule-type-details
qos-rule-type-filter
quota-check-limit
quota_details
quotas
rbac-address-scope
rbac-policies
rbac-security-groups
router
router_availability_zone
security-group
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
segment
sorting
standard-attr-description
standard-attr-revisions
standard-attr-tag
standard-attr-timestamp
stateful-security-group
subnet_allocation
subnet-dns-publish-fixed-ip
subnet-service-types
trunk
vlan-transparent
vpnaas
vpn-endpoint-groups'
++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:449 :   comm -12 /dev/fd/63 /dev/fd/62
+++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:449 :   echo -e 'address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
binding
binding-extended
default-subnetpools
dns-domain-ports
dns-integration
dns-integration-domain-keywords
expose-port-forwarding-in-fip
external-net
ext-gw-mode
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
floatingip-pools
floating-ip-port-forwarding
floating-ip-port-forwarding-description
floating-ip-port-forwarding-port-ranges
logging
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
port-resource-request
port-security
project-id
provider
qos
qos-bw-limit-direction
qos-default
qos-fip
qos-gateway-ip
qos-rules-alias
qos-rule-type-details
qos-rule-type-filter
quota-check-limit
quota_details
quotas
rbac-address-scope
rbac-policies
rbac-security-groups
router
router_availability_zone
security-group
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
segment
sorting
standard-attr-description
standard-attr-revisions
standard-attr-tag
standard-attr-timestamp
stateful-security-group
subnet_allocation
subnet-dns-publish-fixed-ip
subnet-service-types
trunk
vlan-transparent
vpnaas
vpn-endpoint-groups'
+ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:449 :   enabled_ext='address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
binding
binding-extended
default-subnetpools
dns-domain-ports
dns-integration
dns-integration-domain-keywords
expose-port-forwarding-in-fip
external-net
ext-gw-mode
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
floatingip-pools
floating-ip-port-forwarding
floating-ip-port-forwarding-description
floating-ip-port-forwarding-port-ranges
logging
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
port-resource-request
port-security
project-id
provider
qos
qos-bw-limit-direction
qos-default
qos-fip
qos-gateway-ip
qos-rules-alias
qos-rule-type-details
qos-rule-type-filter
quota-check-limit
quota_details
quotas
rbac-address-scope
rbac-policies
rbac-security-groups
router
router_availability_zone
security-group
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
segment
sorting
standard-attr-description
standard-attr-revisions
standard-attr-tag
standard-attr-timestamp
stateful-security-group
subnet_allocation
subnet-dns-publish-fixed-ip
subnet-service-types
trunk
vlan-transparent
vpnaas
vpn-endpoint-groups'
++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:450 :   comm -3 /dev/fd/63 /dev/fd/62
+++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:450 :   echo -e 'address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
binding
binding-extended
default-subnetpools
dns-domain-ports
dns-integration
dns-integration-domain-keywords
expose-port-forwarding-in-fip
external-net
ext-gw-mode
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
floatingip-pools
floating-ip-port-forwarding
floating-ip-port-forwarding-description
floating-ip-port-forwarding-port-ranges
logging
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
port-resource-request
port-security
project-id
provider
qos
qos-bw-limit-direction
qos-default
qos-fip
qos-gateway-ip
qos-rules-alias
qos-rule-type-details
qos-rule-type-filter
quota-check-limit
quota_details
quotas
rbac-address-scope
rbac-policies
rbac-security-groups
router
router_availability_zone
security-group
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
segment
sorting
standard-attr-description
standard-attr-revisions
standard-attr-tag
standard-attr-timestamp
stateful-security-group
subnet_allocation
subnet-dns-publish-fixed-ip
subnet-service-types
trunk
vlan-transparent
vpnaas
vpn-endpoint-groups'
+++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:450 :   echo -e 'address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
binding
binding-extended
default-subnetpools
dns-domain-ports
dns-integration
dns-integration-domain-keywords
expose-port-forwarding-in-fip
external-net
ext-gw-mode
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
floatingip-pools
floating-ip-port-forwarding
floating-ip-port-forwarding-description
floating-ip-port-forwarding-port-ranges
logging
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
port-resource-request
port-security
project-id
provider
qos
qos-bw-limit-direction
qos-default
qos-fip
qos-gateway-ip
qos-rules-alias
qos-rule-type-details
qos-rule-type-filter
quota-check-limit
quota_details
quotas
rbac-address-scope
rbac-policies
rbac-security-groups
router
router_availability_zone
security-group
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
segment
sorting
standard-attr-description
standard-attr-revisions
standard-attr-tag
standard-attr-timestamp
stateful-security-group
subnet_allocation
subnet-dns-publish-fixed-ip
subnet-service-types
trunk
vlan-transparent
vpnaas
vpn-endpoint-groups'
+ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:450 :   disabled_ext=
+ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:454 :   '[' '!' -z '' ']'
++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:461 :   tr ' ' ,
++ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:461 :   echo address-group address-scope agent allowed-address-pairs auto-allocated-topology availability_zone binding binding-extended default-subnetpools dns-domain-ports dns-integration dns-integration-domain-keywords expose-port-forwarding-in-fip external-net ext-gw-mode extra_dhcp_opt extraroute filter-validation fip-port-details floatingip-pools floating-ip-port-forwarding floating-ip-port-forwarding-description floating-ip-port-forwarding-port-ranges logging multi-provider net-mtu net-mtu-writable network_availability_zone network-ip-availability pagination port-device-profile port-mac-address-regenerate port-numa-affinity-policy port-resource-request port-security project-id provider qos qos-bw-limit-direction qos-default qos-fip qos-gateway-ip qos-rules-alias qos-rule-type-details qos-rule-type-filter quota-check-limit quota_details quotas rbac-address-scope rbac-policies rbac-security-groups router router_availability_zone security-group security-groups-normalized-cidr security-groups-remote-address-group security-groups-shared-filtering segment sorting standard-attr-description standard-attr-revisions standard-attr-tag standard-attr-timestamp stateful-security-group subnet_allocation subnet-dns-publish-fixed-ip subnet-service-types trunk vlan-transparent vpnaas vpn-endpoint-groups
+ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:461 :   export NETWORK_API_EXTENSIONS=address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-domain-ports,dns-integration,dns-integration-domain-keywords,expose-port-forwarding-in-fip,external-net,ext-gw-mode,extra_dhcp_opt,extraroute,filter-validation,fip-port-details,floatingip-pools,floating-ip-port-forwarding,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,logging,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,pagination,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-resource-request,port-security,project-id,provider,qos,qos-bw-limit-direction,qos-default,qos-fip,qos-gateway-ip,qos-rules-alias,qos-rule-type-details,qos-rule-type-filter,quota-check-limit,quota_details,quotas,rbac-address-scope,rbac-policies,rbac-security-groups,router,router_availability_zone,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,segment,sorting,standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp,stateful-security-group,subnet_allocation,subnet-dns-publish-fixed-ip,subnet-service-types,trunk,vlan-transparent,vpnaas,vpn-endpoint-groups
+ lib/neutron_plugins/ovn_agent:filter_network_api_extensions:461 :   NETWORK_API_EXTENSIONS=address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-domain-ports,dns-integration,dns-integration-domain-keywords,expose-port-forwarding-in-fip,external-net,ext-gw-mode,extra_dhcp_opt,extraroute,filter-validation,fip-port-details,floatingip-pools,floating-ip-port-forwarding,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,logging,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,pagination,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-resource-request,port-security,project-id,provider,qos,qos-bw-limit-direction,qos-default,qos-fip,qos-gateway-ip,qos-rules-alias,qos-rule-type-details,qos-rule-type-filter,quota-check-limit,quota_details,quotas,rbac-address-scope,rbac-policies,rbac-security-groups,router,router_availability_zone,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,segment,sorting,standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp,stateful-security-group,subnet_allocation,subnet-dns-publish-fixed-ip,subnet-service-types,trunk,vlan-transparent,vpnaas,vpn-endpoint-groups
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:469 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_geneve max_header_size=38
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ml2_type_geneve
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=max_header_size=38
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z max_header_size=38 ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_geneve max_header_size 38
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:470 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ovn ovn_nb_connection=tcp:10.200.2.118:6641
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ovn
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=ovn_nb_connection=tcp:10.200.2.118:6641
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z ovn_nb_connection=tcp:10.200.2.118:6641 ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ovn ovn_nb_connection tcp:10.200.2.118:6641
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:471 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ovn ovn_sb_connection=tcp:10.200.2.118:6642
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ovn
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=ovn_sb_connection=tcp:10.200.2.118:6642
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z ovn_sb_connection=tcp:10.200.2.118:6642 ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ovn ovn_sb_connection tcp:10.200.2.118:6642
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:472 :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:480 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ovn neutron_sync_mode=log
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ovn
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=neutron_sync_mode=log
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z neutron_sync_mode=log ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ovn neutron_sync_mode log
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:481 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ovn ovn_l3_scheduler=leastloaded
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ovn
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=ovn_l3_scheduler=leastloaded
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z ovn_l3_scheduler=leastloaded ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ovn ovn_l3_scheduler leastloaded
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:482 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini securitygroup enable_security_group=True
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=securitygroup
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=enable_security_group=True
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z enable_security_group=True ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini securitygroup enable_security_group True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:483 :   inicomment /etc/neutron/plugins/ml2/ml2_conf.ini securitygroup firewall_driver
+ inc/ini-config:inicomment:42             :   local xtrace
++ inc/ini-config:inicomment:43             :   set +o
++ inc/ini-config:inicomment:43             :   grep xtrace
+ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
+ inc/ini-config:inicomment:44             :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:485 :   is_service_enabled q-log neutron-log
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:491 :   is_service_enabled q-ovn-metadata-agent
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:492 :   populate_ml2_config /etc/neutron/plugins/ml2/ml2_conf.ini ovn ovn_metadata_enabled=True
+ lib/neutron_plugins/ml2:populate_ml2_config:51 :   CONF=/etc/neutron/plugins/ml2/ml2_conf.ini
+ lib/neutron_plugins/ml2:populate_ml2_config:52 :   SECTION=ovn
+ lib/neutron_plugins/ml2:populate_ml2_config:53 :   OPTS=ovn_metadata_enabled=True
+ lib/neutron_plugins/ml2:populate_ml2_config:55 :   '[' -z ovn_metadata_enabled=True ']'
+ lib/neutron_plugins/ml2:populate_ml2_config:58 :   for I in "${OPTS[@]}"
+ lib/neutron_plugins/ml2:populate_ml2_config:60 :   iniset /etc/neutron/plugins/ml2/ml2_conf.ini ovn ovn_metadata_enabled True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:497 :   is_service_enabled q-dns neutron-dns
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:502 :   iniset /etc/neutron/neutron.conf ovs igmp_snooping_enable False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:505 :   is_service_enabled q-dhcp neutron-dhcp
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:508 :   iniset /etc/neutron/neutron.conf DEFAULT dhcp_agent_notification False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:511 :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:512 :   is_service_enabled q-ovn-metadata-agent
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:configure_ovn_plugin:513 :   iniset /etc/nova/nova.conf neutron service_metadata_proxy True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:configure_mutnauq:386 :   is_service_enabled q-placement neutron-placement
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:configure_mutnauq:389 :   is_service_enabled q-trunk neutron-trunk
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:configure_mutnauq:392 :   is_service_enabled q-qos neutron-qos
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:configure_mutnauq:400 :   iniset /etc/neutron/neutron.conf DEFAULT api_workers 10
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:configure_mutnauq:404 :   iniset /etc/neutron/neutron.conf DEFAULT rpc_state_report_workers 0
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron:configure_neutron:643        :   '[' False == True ']'
+ ./stack.sh:main:1145                     :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1145                     :   is_service_enabled neutron
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1146                     :   async_runfunc init_neutron
+ inc/async:async_runfunc:116              :   async_run init_neutron init_neutron
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   init_neutron
[3131924 Async init_neutron:3176524]: running: init_neutron
+ ./stack.sh:main:1154                     :   is_service_enabled q-dhcp
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:1172                     :   is_service_enabled nova neutron
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1173                     :   configure_os_vif
+ lib/os-vif:configure_os_vif:21           :   [[ -e /etc/nova/nova.conf ]]
+ lib/os-vif:configure_os_vif:22           :   iniset /etc/nova/nova.conf os_vif_ovs ovsdb_interface vsctl
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/os-vif:configure_os_vif:23           :   iniset /etc/nova/nova.conf os_vif_ovs isolate_vif False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/os-vif:configure_os_vif:25           :   [[ -e /etc/neutron/neutron.conf ]]
+ lib/os-vif:configure_os_vif:26           :   iniset /etc/neutron/neutron.conf os_vif_ovs ovsdb_interface vsctl
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/os-vif:configure_os_vif:27           :   iniset /etc/neutron/neutron.conf os_vif_ovs isolate_vif False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ ./stack.sh:main:1179                     :   is_service_enabled swift
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:1188                     :   is_service_enabled cinder
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1189                     :   echo_summary 'Configuring Cinder'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Configuring Cinder
2022-08-22 10:24:39.448 | Configuring Cinder
+ ./stack.sh:main:1190                     :   async_runfunc init_cinder
+ inc/async:async_runfunc:116              :   async_run init_cinder init_cinder
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   init_cinder
[3131924 Async init_cinder:3176830]: running: init_cinder
+ ./stack.sh:main:1196                     :   is_service_enabled placement
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1197                     :   echo_summary 'Configuring placement'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Configuring placement
2022-08-22 10:24:39.626 | Configuring placement
+ ./stack.sh:main:1198                     :   async_runfunc init_placement
+ inc/async:async_runfunc:116              :   async_run init_placement init_placement
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   init_placement
[3131924 Async init_placement:3176976]: running: init_placement
+ ./stack.sh:main:1202                     :   async_wait init_neutron
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   set +o
++ inc/async:async_wait:142                 :   grep xtrace
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async init_neutron:3176524]: Waiting for completion of init_neutron running on PID 3176524 (5 other jobs running)
[3131924 Async init_neutron:3176524]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3176830 Async init_cinder:3176830]: finished successfully
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3176524 Async init_neutron:3176524]: finished successfully
WAKEUP
[3131924 Async init_neutron:3176524]: Signaled
+ lib/neutron:init_neutron:694             :   is_neutron_legacy_enabled
++ lib/neutron:is_neutron_legacy_enabled:142 :   sed s/neutron-//g
++ lib/neutron:is_neutron_legacy_enabled:142 :   echo
+ lib/neutron:is_neutron_legacy_enabled:142 :   disabled_services_copy=
+ lib/neutron:is_neutron_legacy_enabled:143 :   [[ , =~ ,neutron ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   [[ ,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat =~ ,q- ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   return 0
+ lib/neutron:init_neutron:696             :   init_mutnauq
+ lib/neutron-legacy:init_mutnauq:461      :   recreate_database neutron
+ lib/database:recreate_database:112       :   local db=neutron
+ lib/database:recreate_database:113       :   recreate_database_mysql neutron
+ lib/databases/mysql:recreate_database_mysql:66 :   local db=neutron
+ lib/databases/mysql:recreate_database_mysql:67 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS neutron;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:68 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'CREATE DATABASE neutron CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/neutron-legacy:init_mutnauq:462      :   time_start dbsync
+ functions-common:time_start:2425         :   local name=dbsync
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163879178
+ lib/neutron-legacy:init_mutnauq:464      :   /usr/local/bin/neutron-db-manage --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini upgrade head
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Running upgrade  -> kilo
INFO  [alembic.runtime.migration] Running upgrade kilo -> 354db87e3225
INFO  [alembic.runtime.migration] Running upgrade 354db87e3225 -> 599c6a226151
INFO  [alembic.runtime.migration] Running upgrade 599c6a226151 -> 52c5312f6baf
INFO  [alembic.runtime.migration] Running upgrade 52c5312f6baf -> 313373c0ffee
INFO  [alembic.runtime.migration] Running upgrade 313373c0ffee -> 8675309a5c4f
INFO  [alembic.runtime.migration] Running upgrade 8675309a5c4f -> 45f955889773
INFO  [alembic.runtime.migration] Running upgrade 45f955889773 -> 26c371498592
INFO  [alembic.runtime.migration] Running upgrade 26c371498592 -> 1c844d1677f7
INFO  [alembic.runtime.migration] Running upgrade 1c844d1677f7 -> 1b4c6e320f79
INFO  [alembic.runtime.migration] Running upgrade 1b4c6e320f79 -> 48153cb5f051
INFO  [alembic.runtime.migration] Running upgrade 48153cb5f051 -> 9859ac9c136
INFO  [alembic.runtime.migration] Running upgrade 9859ac9c136 -> 34af2b5c5a59
INFO  [alembic.runtime.migration] Running upgrade 34af2b5c5a59 -> 59cb5b6cf4d
INFO  [alembic.runtime.migration] Running upgrade 59cb5b6cf4d -> 13cfb89f881a
INFO  [alembic.runtime.migration] Running upgrade 13cfb89f881a -> 32e5974ada25
INFO  [alembic.runtime.migration] Running upgrade 32e5974ada25 -> ec7fcfbf72ee
INFO  [alembic.runtime.migration] Running upgrade ec7fcfbf72ee -> dce3ec7a25c9
INFO  [alembic.runtime.migration] Running upgrade dce3ec7a25c9 -> c3a73f615e4
INFO  [alembic.runtime.migration] Running upgrade c3a73f615e4 -> 659bf3d90664
INFO  [alembic.runtime.migration] Running upgrade 659bf3d90664 -> 1df244e556f5
INFO  [alembic.runtime.migration] Running upgrade 1df244e556f5 -> 19f26505c74f
INFO  [alembic.runtime.migration] Running upgrade 19f26505c74f -> 15be73214821
INFO  [alembic.runtime.migration] Running upgrade 15be73214821 -> b4caf27aae4
INFO  [alembic.runtime.migration] Running upgrade b4caf27aae4 -> 15e43b934f81
INFO  [alembic.runtime.migration] Running upgrade 15e43b934f81 -> 31ed664953e6
INFO  [alembic.runtime.migration] Running upgrade 31ed664953e6 -> 2f9e956e7532
INFO  [alembic.runtime.migration] Running upgrade 2f9e956e7532 -> 3894bccad37f
INFO  [alembic.runtime.migration] Running upgrade 3894bccad37f -> 0e66c5227a8a
INFO  [alembic.runtime.migration] Running upgrade 0e66c5227a8a -> 45f8dd33480b
INFO  [alembic.runtime.migration] Running upgrade 45f8dd33480b -> 5abc0278ca73
INFO  [alembic.runtime.migration] Running upgrade 5abc0278ca73 -> d3435b514502
INFO  [alembic.runtime.migration] Running upgrade d3435b514502 -> 30107ab6a3ee
INFO  [alembic.runtime.migration] Running upgrade 30107ab6a3ee -> c415aab1c048
INFO  [alembic.runtime.migration] Running upgrade c415aab1c048 -> a963b38d82f4
INFO  [alembic.runtime.migration] Running upgrade kilo -> 30018084ec99
INFO  [alembic.runtime.migration] Running upgrade 30018084ec99 -> 4ffceebfada
INFO  [alembic.runtime.migration] Running upgrade 4ffceebfada -> 5498d17be016
INFO  [alembic.runtime.migration] Running upgrade 5498d17be016 -> 2a16083502f3
INFO  [alembic.runtime.migration] Running upgrade 2a16083502f3 -> 2e5352a0ad4d
INFO  [alembic.runtime.migration] Running upgrade 2e5352a0ad4d -> 11926bcfe72d
INFO  [alembic.runtime.migration] Running upgrade 11926bcfe72d -> 4af11ca47297
INFO  [alembic.runtime.migration] Running upgrade 4af11ca47297 -> 1b294093239c
INFO  [alembic.runtime.migration] Running upgrade 1b294093239c -> 8a6d8bdae39
INFO  [alembic.runtime.migration] Running upgrade 8a6d8bdae39 -> 2b4c2465d44b
INFO  [alembic.runtime.migration] Running upgrade 2b4c2465d44b -> e3278ee65050
INFO  [alembic.runtime.migration] Running upgrade e3278ee65050 -> c6c112992c9
INFO  [alembic.runtime.migration] Running upgrade c6c112992c9 -> 5ffceebfada
INFO  [alembic.runtime.migration] Running upgrade 5ffceebfada -> 4ffceebfcdc
INFO  [alembic.runtime.migration] Running upgrade 4ffceebfcdc -> 7bbb25278f53
INFO  [alembic.runtime.migration] Running upgrade 7bbb25278f53 -> 89ab9a816d70
INFO  [alembic.runtime.migration] Running upgrade 89ab9a816d70 -> c879c5e1ee90
INFO  [alembic.runtime.migration] Running upgrade c879c5e1ee90 -> 8fd3918ef6f4
INFO  [alembic.runtime.migration] Running upgrade 8fd3918ef6f4 -> 4bcd4df1f426
INFO  [alembic.runtime.migration] Running upgrade 4bcd4df1f426 -> b67e765a3524
INFO  [alembic.runtime.migration] Running upgrade a963b38d82f4 -> 3d0e74aa7d37
INFO  [alembic.runtime.migration] Running upgrade 3d0e74aa7d37 -> 030a959ceafa
INFO  [alembic.runtime.migration] Running upgrade 030a959ceafa -> a5648cfeeadf
INFO  [alembic.runtime.migration] Running upgrade a5648cfeeadf -> 0f5bef0f87d4
INFO  [alembic.runtime.migration] Running upgrade 0f5bef0f87d4 -> 67daae611b6e
INFO  [alembic.runtime.migration] Running upgrade b67e765a3524 -> a84ccf28f06a
INFO  [alembic.runtime.migration] Running upgrade a84ccf28f06a -> 7d9d8eeec6ad
INFO  [alembic.runtime.migration] Running upgrade 67daae611b6e -> 6b461a21bcfc
INFO  [alembic.runtime.migration] Running upgrade 6b461a21bcfc -> 5cd92597d11d
INFO  [alembic.runtime.migration] Running upgrade 5cd92597d11d -> 929c968efe70
INFO  [alembic.runtime.migration] Running upgrade 929c968efe70 -> a9c43481023c
INFO  [alembic.runtime.migration] Running upgrade a9c43481023c -> 804a3c76314c
INFO  [alembic.runtime.migration] Running upgrade 804a3c76314c -> 2b42d90729da
INFO  [alembic.runtime.migration] Running upgrade 2b42d90729da -> 62c781cb6192
INFO  [alembic.runtime.migration] Running upgrade 62c781cb6192 -> c8c222d42aa9
INFO  [alembic.runtime.migration] Running upgrade c8c222d42aa9 -> 349b6fd605a6
INFO  [alembic.runtime.migration] Running upgrade 349b6fd605a6 -> 7d32f979895f
INFO  [alembic.runtime.migration] Running upgrade 7d32f979895f -> 594422d373ee
INFO  [alembic.runtime.migration] Running upgrade 594422d373ee -> 61663558142c
INFO  [alembic.runtime.migration] Running upgrade 61663558142c -> 867d39095bf4, port forwarding
INFO  [alembic.runtime.migration] Running upgrade 867d39095bf4 -> d72db3e25539, modify uniq port forwarding
INFO  [alembic.runtime.migration] Running upgrade d72db3e25539 -> cada2437bf41
INFO  [alembic.runtime.migration] Running upgrade cada2437bf41 -> 195176fb410d, router gateway IP QoS
INFO  [alembic.runtime.migration] Running upgrade 195176fb410d -> fb0167bd9639
INFO  [alembic.runtime.migration] Running upgrade fb0167bd9639 -> 0ff9e3881597
INFO  [alembic.runtime.migration] Running upgrade 0ff9e3881597 -> 9bfad3f1e780
INFO  [alembic.runtime.migration] Running upgrade 9bfad3f1e780 -> 63fd95af7dcd
INFO  [alembic.runtime.migration] Running upgrade 63fd95af7dcd -> c613d0b82681
INFO  [alembic.runtime.migration] Running upgrade c613d0b82681 -> c3e9d13c4367
INFO  [alembic.runtime.migration] Running upgrade c3e9d13c4367 -> 86274d77933e
INFO  [alembic.runtime.migration] Running upgrade 86274d77933e -> f4b9654dd40c
INFO  [alembic.runtime.migration] Running upgrade f4b9654dd40c -> a010322604bc
INFO  [alembic.runtime.migration] Running upgrade a010322604bc -> 263d454a9655
INFO  [alembic.runtime.migration] Running upgrade 263d454a9655 -> Ibac91d24da2
INFO  [alembic.runtime.migration] Running upgrade Ibac91d24da2 -> 2217c4222de6
INFO  [alembic.runtime.migration] Running upgrade 2217c4222de6 -> 18a7e90ae768
INFO  [alembic.runtime.migration] Running upgrade 18a7e90ae768 -> e4e236b0e1ff
INFO  [alembic.runtime.migration] Running upgrade e4e236b0e1ff -> e88badaa9591
INFO  [alembic.runtime.migration] Running upgrade e88badaa9591 -> d8bdf05313f4
INFO  [alembic.runtime.migration] Running upgrade d8bdf05313f4 -> dfe425060830
INFO  [alembic.runtime.migration] Running upgrade dfe425060830 -> fd6107509ccd
INFO  [alembic.runtime.migration] Running upgrade fd6107509ccd -> 1ea5dab0897a
INFO  [alembic.runtime.migration] Running upgrade 1ea5dab0897a -> 49d8622c5221
INFO  [alembic.runtime.migration] Running upgrade 49d8622c5221 -> I38991de2b4
INFO  [alembic.runtime.migration] Running upgrade I38991de2b4 -> 532aa95457e2
INFO  [alembic.runtime.migration] Running upgrade 532aa95457e2 -> f010820fc498
INFO  [alembic.runtime.migration] Running upgrade f010820fc498 -> a964d94b4677
INFO  [alembic.runtime.migration] Running upgrade a964d94b4677 -> 26d1e9f5c766
INFO  [alembic.runtime.migration] Running upgrade 26d1e9f5c766 -> 1e0744e4ffea
INFO  [alembic.runtime.migration] Running upgrade 1e0744e4ffea -> 6135a7bd4425
INFO  [alembic.runtime.migration] Running upgrade 6135a7bd4425 -> 8df53b0d2c0e
INFO  [alembic.runtime.migration] Running upgrade 8df53b0d2c0e -> 1bb3393de75d, add qos policy rule Packet Rate Limit
INFO  [alembic.runtime.migration] Running upgrade 1bb3393de75d -> c181bb1d89e4
INFO  [alembic.runtime.migration] Running upgrade c181bb1d89e4 -> ba859d649675
INFO  [alembic.runtime.migration] Running upgrade ba859d649675 -> e981acd076d3
INFO  [alembic.runtime.migration] Running upgrade e981acd076d3 -> 76df7844a8c6, add Local IP tables
INFO  [alembic.runtime.migration] Running upgrade 76df7844a8c6 -> 1ffef8d6f371, migrate RBAC registers from "target_tenant" to "target_project"
INFO  [alembic.runtime.migration] Running upgrade 1ffef8d6f371 -> 8160f7a9cebb, drop portbindingports table
INFO  [alembic.runtime.migration] Running upgrade 8160f7a9cebb -> cd9ef14ccf87
INFO  [alembic.runtime.migration] Running upgrade cd9ef14ccf87 -> 34cf8b009713
INFO  [alembic.runtime.migration] Running upgrade 34cf8b009713 -> I43e0b669096
INFO  [alembic.runtime.migration] Running upgrade I43e0b669096 -> 4e6e655746f6
INFO  [alembic.runtime.migration] Running upgrade 4e6e655746f6 -> 659cbedf30a1
INFO  [alembic.runtime.migration] Running upgrade 659cbedf30a1 -> 21ff98fabab1
INFO  [alembic.runtime.migration] Running upgrade 21ff98fabab1 -> 5881373af7f5
INFO  [alembic.runtime.migration] Running upgrade 7d9d8eeec6ad -> a8b517cff8ab
INFO  [alembic.runtime.migration] Running upgrade a8b517cff8ab -> 3b935b28e7a0
INFO  [alembic.runtime.migration] Running upgrade 3b935b28e7a0 -> b12a3ef66e62
INFO  [alembic.runtime.migration] Running upgrade b12a3ef66e62 -> 97c25b0d2353
INFO  [alembic.runtime.migration] Running upgrade 97c25b0d2353 -> 2e0d7a8a1586
INFO  [alembic.runtime.migration] Running upgrade 2e0d7a8a1586 -> 5c85685d616d
Running upgrade for neutron ...
OK
+ lib/neutron-legacy:init_mutnauq:465      :   time_stop dbsync
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=dbsync
+ functions-common:time_stop:2446          :   start_time=1661163879178
+ functions-common:time_stop:2448          :   [[ -z 1661163879178 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163888899
+ functions-common:time_stop:2452          :   elapsed_time=9721
+ functions-common:time_stop:2453          :   total=2829
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=12550
[3131924 Async init_neutron:3176524]: finished init_neutron with result 0 in 9 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1203                     :   async_wait init_placement
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   set +o
++ inc/async:async_wait:142                 :   grep xtrace
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async init_placement:3176976]: Waiting for completion of init_placement running on PID 3176976 (4 other jobs running)
[3131924 Async init_placement:3176976]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3176976 Async init_placement:3176976]: finished successfully
WAKEUP
[3131924 Async init_placement:3176976]: Signaled
+ lib/placement:init_placement:130         :   recreate_database placement
+ lib/database:recreate_database:112       :   local db=placement
+ lib/database:recreate_database:113       :   recreate_database_mysql placement
+ lib/databases/mysql:recreate_database_mysql:66 :   local db=placement
+ lib/databases/mysql:recreate_database_mysql:67 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS placement;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:68 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'CREATE DATABASE placement CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/placement:init_placement:131         :   /usr/local/bin/placement-manage db sync
+ lib/placement:init_placement:132         :   create_placement_accounts
+ lib/placement:create_placement_accounts:119 :   create_service_user placement admin
+ lib/keystone:create_service_user:431     :   get_or_create_user placement Datacore1 Default
+ functions-common:get_or_create_user:909  :   local user_id
+ functions-common:get_or_create_user:910  :   [[ ! -z '' ]]
+ functions-common:get_or_create_user:913  :   local email=
++ functions-common:get_or_create_user:927  :   oscwrap --os-cloud devstack-system-admin user create placement --password Datacore1 --domain=Default --or-show -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_user:925  :   user_id=461087a0114242d4ba42fd0e194218c2
+ functions-common:get_or_create_user:926  :   echo 461087a0114242d4ba42fd0e194218c2
461087a0114242d4ba42fd0e194218c2
+ lib/keystone:create_service_user:432     :   get_or_add_user_project_role service placement service Default Default
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n Default ]]
++ functions-common:_get_domain_args:961    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:963    :   [[ -n Default ]]
++ functions-common:_get_domain_args:964    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:967    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:975 :   domain_args='--user-domain Default --project-domain Default'
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user placement --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_field:811           :   local data field
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add service --user placement --project service --user-domain Default --project-domain Default
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role service --user placement --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_field:811           :   local data field
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| 2a5e5d02ebf54dc384338c23ed99a4a0 | 461087a0114242d4ba42fd0e194218c2 |       | c729f6d2231949cc9cc800018f7746bd |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=2a5e5d02ebf54dc384338c23ed99a4a0
+ functions-common:get_or_add_user_project_role:997 :   echo 2a5e5d02ebf54dc384338c23ed99a4a0
2a5e5d02ebf54dc384338c23ed99a4a0
+ lib/keystone:create_service_user:434     :   [[ -n admin ]]
+ lib/keystone:create_service_user:435     :   get_or_add_user_project_role admin placement service Default Default
+ functions-common:get_or_add_user_project_role:973 :   local user_role_id
++ functions-common:get_or_add_user_project_role:975 :   _get_domain_args Default Default
++ functions-common:_get_domain_args:957    :   local domain
++ functions-common:_get_domain_args:958    :   domain=
++ functions-common:_get_domain_args:960    :   [[ -n Default ]]
++ functions-common:_get_domain_args:961    :   domain=' --user-domain Default'
++ functions-common:_get_domain_args:963    :   [[ -n Default ]]
++ functions-common:_get_domain_args:964    :   domain=' --user-domain Default --project-domain Default'
++ functions-common:_get_domain_args:967    :   echo --user-domain Default --project-domain Default
+ functions-common:get_or_add_user_project_role:975 :   domain_args='--user-domain Default --project-domain Default'
++ functions-common:get_or_add_user_project_role:983 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:983 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user placement --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:983 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_add_user_project_role:983 :   user_role_id=
+ functions-common:get_or_add_user_project_role:984 :   [[ -z '' ]]
+ functions-common:get_or_add_user_project_role:986 :   openstack --os-cloud devstack-system-admin role add admin --user placement --project service --user-domain Default --project-domain Default
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:get_or_add_user_project_role:995 :   oscwrap --os-cloud devstack-system-admin role assignment list --role admin --user placement --project service --user-domain Default --project-domain Default
++ functions-common:get_or_add_user_project_role:995 :   grep '^|\s[a-f0-9]\+'
++ functions-common:get_or_add_user_project_role:995 :   get_field 1
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 1 -lt 0 ']'
++ functions-common:get_field:816           :   field='$2'
++ functions-common:get_field:818           :   echo '| a57d72a8c9b54d8f8d356277ff833ba5 | 461087a0114242d4ba42fd0e194218c2 |       | c729f6d2231949cc9cc800018f7746bd |        |        | False     |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $2}'
++ functions-common:get_field:812           :   read data
+ functions-common:get_or_add_user_project_role:995 :   user_role_id=a57d72a8c9b54d8f8d356277ff833ba5
+ functions-common:get_or_add_user_project_role:997 :   echo a57d72a8c9b54d8f8d356277ff833ba5
a57d72a8c9b54d8f8d356277ff833ba5
+ lib/placement:create_placement_accounts:120 :   local placement_api_url=http://10.200.2.118/placement
+ lib/placement:create_placement_accounts:121 :   get_or_create_service placement placement 'Placement Service'
+ functions-common:get_or_create_service:1082 :   local service_id
++ functions-common:get_or_create_service:1095 :   oscwrap --os-cloud devstack-system-admin service show placement -f value -c id
++ functions-common:get_or_create_service:1097 :   oscwrap --os-cloud devstack-system-admin service create placement --name placement '--description=Placement Service' -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ functions-common:get_or_create_service:1093 :   service_id='
228801ca1a3742359fbcc1b236cb1f02'
+ functions-common:get_or_create_service:1094 :   echo 228801ca1a3742359fbcc1b236cb1f02
228801ca1a3742359fbcc1b236cb1f02
+ lib/placement:create_placement_accounts:123 :   get_or_create_endpoint placement RegionOne http://10.200.2.118/placement
+ functions-common:get_or_create_endpoint:1126 :   local public_id
++ functions-common:get_or_create_endpoint:1127 :   _get_or_create_endpoint_with_interface placement public http://10.200.2.118/placement RegionOne
++ functions-common:_get_or_create_endpoint_with_interface:1100 :   local endpoint_id
+++ functions-common:_get_or_create_endpoint_with_interface:1105 :   oscwrap --os-cloud devstack-system-admin endpoint list --service placement --interface public --region RegionOne -c ID -f value
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1105 :   endpoint_id=
++ functions-common:_get_or_create_endpoint_with_interface:1106 :   [[ -z '' ]]
+++ functions-common:_get_or_create_endpoint_with_interface:1109 :   oscwrap --os-cloud devstack-system-admin endpoint create placement public http://10.200.2.118/placement --region RegionOne -f value -c id
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ functions-common:_get_or_create_endpoint_with_interface:1109 :   endpoint_id=d392def60c09430d9bea59fa1ee3b277
++ functions-common:_get_or_create_endpoint_with_interface:1112 :   echo d392def60c09430d9bea59fa1ee3b277
+ functions-common:get_or_create_endpoint:1127 :   public_id=d392def60c09430d9bea59fa1ee3b277
+ functions-common:get_or_create_endpoint:1129 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1132 :   [[ -n '' ]]
+ functions-common:get_or_create_endpoint:1136 :   echo d392def60c09430d9bea59fa1ee3b277
d392def60c09430d9bea59fa1ee3b277
[3131924 Async init_placement:3176976]: finished init_placement with result 0 in 25 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1204                     :   async_wait init_glance
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   set +o
++ inc/async:async_wait:142                 :   grep xtrace
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async init_glance:3172877]: Waiting for completion of init_glance running on PID 3172877 (3 other jobs running)
[3131924 Async init_glance:3172877]: Signaling child to exit
WAKEUP
[3131924 Async init_glance:3172877]: Signaled
+ lib/glance:init_glance:481               :   rm -rf /opt/stack/data/glance/images
+ lib/glance:init_glance:482               :   mkdir -p /opt/stack/data/glance/images
+ lib/glance:init_glance:485               :   recreate_database glance
+ lib/database:recreate_database:112       :   local db=glance
+ lib/database:recreate_database:113       :   recreate_database_mysql glance
+ lib/databases/mysql:recreate_database_mysql:66 :   local db=glance
+ lib/databases/mysql:recreate_database_mysql:67 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS glance;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:68 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'CREATE DATABASE glance CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/glance:init_glance:487               :   time_start dbsync
+ functions-common:time_start:2425         :   local name=dbsync
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163827496
+ lib/glance:init_glance:489               :   /usr/local/bin/glance-manage --config-file /etc/glance/glance-api.conf db_sync
[00;36mINFO dbcounter [[00;36m-[00;36m] [01;35m[00;36mRegistered counter for database glance[00m[00m
[00;32mDEBUG oslo_db.sqlalchemy.engines [[00;36m-[00;32m] [01;35m[00;32mMySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION[00m [00;33m{{(pid=3172966) _check_effective_sql_mode /usr/local/lib/python3.8/dist-packages/oslo_db/sqlalchemy/engines.py:314}}[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3172966] Writer thread running[00m [00;33m{{(pid=3172966) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mContext impl MySQLImpl.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mWill assume non-transactional DDL.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mContext impl MySQLImpl.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mWill assume non-transactional DDL.[00m[00m
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Running upgrade  -> liberty, liberty initial
INFO  [alembic.runtime.migration] Running upgrade liberty -> mitaka01, add index on created_at and updated_at columns of 'images' table
INFO  [alembic.runtime.migration] Running upgrade mitaka01 -> mitaka02, update metadef os_nova_server
INFO  [alembic.runtime.migration] Running upgrade mitaka02 -> ocata_expand01, add visibility to images
INFO  [alembic.runtime.migration] Running upgrade ocata_expand01 -> pike_expand01, empty expand for symmetry with pike_contract01
INFO  [alembic.runtime.migration] Running upgrade pike_expand01 -> queens_expand01
INFO  [alembic.runtime.migration] Running upgrade queens_expand01 -> rocky_expand01, add os_hidden column to images table
INFO  [alembic.runtime.migration] Running upgrade rocky_expand01 -> rocky_expand02, add os_hash_algo and os_hash_value columns to images table
INFO  [alembic.runtime.migration] Running upgrade rocky_expand02 -> train_expand01, empty expand for symmetry with train_contract01
INFO  [alembic.runtime.migration] Running upgrade train_expand01 -> ussuri_expand01, empty expand for symmetry with ussuri_expand01
INFO  [alembic.runtime.migration] Running upgrade ussuri_expand01 -> wallaby_expand01, add image_id, request_id, user columns to tasks table"
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Running upgrade mitaka02 -> ocata_contract01, remove is_public from images
INFO  [alembic.runtime.migration] Running upgrade ocata_contract01 -> pike_contract01, drop glare artifacts tables
INFO  [alembic.runtime.migration] Running upgrade pike_contract01 -> queens_contract01
INFO  [alembic.runtime.migration] Running upgrade queens_contract01 -> rocky_contract01
INFO  [alembic.runtime.migration] Running upgrade rocky_contract01 -> rocky_contract02
INFO  [alembic.runtime.migration] Running upgrade rocky_contract02 -> train_contract01
INFO  [alembic.runtime.migration] Running upgrade train_contract01 -> ussuri_contract01
INFO  [alembic.runtime.migration] Running upgrade ussuri_contract01 -> wallaby_contract01
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Context impl MySQLImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
Upgraded database to: wallaby_expand01, current revision(s): wallaby_expand01
Database migration is up to date. No migration needed.
Upgraded database to: wallaby_contract01, current revision(s): wallaby_contract01
Database is synced successfully.
+ lib/glance:init_glance:492               :   /usr/local/bin/glance-manage --config-file /etc/glance/glance-api.conf db_load_metadefs
[00;36mINFO dbcounter [[00;36m-[00;36m] [01;35m[00;36mRegistered counter for database glance[00m[00m
[00;32mDEBUG oslo_db.sqlalchemy.engines [[00;36m-[00;32m] [01;35m[00;32mMySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION[00m [00;33m{{(pid=3173156) _check_effective_sql_mode /usr/local/lib/python3.8/dist-packages/oslo_db/sqlalchemy/engines.py:314}}[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writer thread running[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/storage-volume-type.json loaded to database.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writing DB stats glance:SELECT=73,glance:SHOW=6,glance:select=4,glance:INSERT=17[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-libvirt-image.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-watchdog.json loaded to database.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writing DB stats glance:INSERT=20,glance:SELECT=80[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/cim-processor-allocation-setting-data.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-guest-shutdown.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-host-capabilities.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/image-signature-verification.json loaded to database.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writing DB stats glance:INSERT=22,glance:SELECT=78[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/cim-storage-allocation-setting-data.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-aggr-iops-filter.json loaded to database.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writing DB stats glance:SELECT=79,glance:INSERT=21[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-vmware.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-hypervisor.json loaded to database.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writing DB stats glance:SELECT=78,glance:INSERT=22[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/cim-resource-allocation-setting-data.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-aggr-num-instances.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-instance-data.json loaded to database.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writing DB stats glance:SELECT=79,glance:INSERT=21[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-randomgen.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-vmware-quota-flavor.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-vtpm.json loaded to database.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writing DB stats glance:INSERT=21,glance:SELECT=79[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/software-runtimes.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-libvirt.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/glance-common-image-props.json loaded to database.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writing DB stats glance:SELECT=79,glance:INSERT=21[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/operating-system.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-vtpm-hw.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-guest-memory-backing.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-vmware-flavor.json loaded to database.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writing DB stats glance:INSERT=19,glance:SELECT=81[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-cpu-pinning.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-xenapi.json loaded to database.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writing DB stats glance:SELECT=79,glance:INSERT=21[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/software-databases.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/cim-virtual-system-setting-data.json loaded to database.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writing DB stats glance:INSERT=24,glance:SELECT=76[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-cpu-mode.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-aggr-disk-filter.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/software-webservers.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-quota.json loaded to database.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3173156] Writing DB stats glance:SELECT=81,glance:INSERT=19[00m [00;33m{{(pid=3173156) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mFile /etc/glance/metadefs/compute-vcputopology.json loaded to database.[00m[00m
[00;36mINFO glance.db.sqlalchemy.metadata [[00;36m-[00;36m] [01;35m[00;36mMetadata loading finished[00m[00m
+ lib/glance:init_glance:493               :   time_stop dbsync
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=dbsync
+ functions-common:time_stop:2446          :   start_time=1661163827496
+ functions-common:time_stop:2448          :   [[ -z 1661163827496 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163832112
+ functions-common:time_stop:2452          :   elapsed_time=4616
+ functions-common:time_stop:2453          :   total=2829
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=7445
[3131924 Async init_glance:3172877]: finished init_glance with result 0 in 4 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1205                     :   async_wait init_swift
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   set +o
++ inc/async:async_wait:142                 :   grep xtrace
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
Not waiting for async task init_swift that we never started or has already been waited for
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1206                     :   async_wait init_cinder
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   set +o
++ inc/async:async_wait:142                 :   grep xtrace
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async init_cinder:3176830]: Waiting for completion of init_cinder running on PID 3176830 (2 other jobs running)
[3131924 Async init_cinder:3176830]: Signaling child to exit
WAKEUP
[3131924 Async init_cinder:3176830]: Signaled
+ lib/cinder:init_cinder:434               :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/cinder:init_cinder:436               :   recreate_database cinder
+ lib/database:recreate_database:112       :   local db=cinder
+ lib/database:recreate_database:113       :   recreate_database_mysql cinder
+ lib/databases/mysql:recreate_database_mysql:66 :   local db=cinder
+ lib/databases/mysql:recreate_database_mysql:67 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS cinder;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:68 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'CREATE DATABASE cinder CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/cinder:init_cinder:438               :   time_start dbsync
+ functions-common:time_start:2425         :   local name=dbsync
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163879636
+ lib/cinder:init_cinder:440               :   /usr/local/bin/cinder-manage --config-file /etc/cinder/cinder.conf db sync
[00;36mINFO dbcounter [[00;36m-[00;36m] [01;35m[00;36mRegistered counter for database cinder[00m[00m
[00;32mDEBUG oslo_db.sqlalchemy.engines [[00;36m-[00;32m] [01;35m[00;32mMySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION[00m [00;33m{{(pid=3176943) _check_effective_sql_mode /usr/local/lib/python3.8/dist-packages/oslo_db/sqlalchemy/engines.py:314}}[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3176943] Writer thread running[00m [00;33m{{(pid=3176943) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mLoading repository /opt/stack/cinder/cinder/db/legacy_migrations...[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:76}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/cinder/cinder/db/legacy_migrations/versions/142_placeholder.py...[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/cinder/cinder/db/legacy_migrations/versions/142_placeholder.py loaded successfully[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/cinder/cinder/db/legacy_migrations/versions/139_placeholder.py...[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/cinder/cinder/db/legacy_migrations/versions/139_placeholder.py loaded successfully[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/cinder/cinder/db/legacy_migrations/versions/135_cinder_init.py...[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/cinder/cinder/db/legacy_migrations/versions/135_cinder_init.py loaded successfully[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/cinder/cinder/db/legacy_migrations/versions/138_placeholder.py...[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/cinder/cinder/db/legacy_migrations/versions/138_placeholder.py loaded successfully[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/cinder/cinder/db/legacy_migrations/versions/144_placeholder.py...[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/cinder/cinder/db/legacy_migrations/versions/144_placeholder.py loaded successfully[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/cinder/cinder/db/legacy_migrations/versions/137_placeholder.py...[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/cinder/cinder/db/legacy_migrations/versions/137_placeholder.py loaded successfully[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/cinder/cinder/db/legacy_migrations/versions/143_placeholder.py...[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/cinder/cinder/db/legacy_migrations/versions/143_placeholder.py loaded successfully[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/cinder/cinder/db/legacy_migrations/versions/141_add_quota_usage_unique_constraint.py...[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/cinder/cinder/db/legacy_migrations/versions/141_add_quota_usage_unique_constraint.py loaded successfully[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/cinder/cinder/db/legacy_migrations/versions/145_add_use_quota_fields.py...[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/cinder/cinder/db/legacy_migrations/versions/145_add_use_quota_fields.py loaded successfully[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/cinder/cinder/db/legacy_migrations/versions/140_create_project_default_volume_type.py...[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/cinder/cinder/db/legacy_migrations/versions/140_create_project_default_volume_type.py loaded successfully[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/cinder/cinder/db/legacy_migrations/versions/136_make_vol_type_col_non_nullable.py...[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/cinder/cinder/db/legacy_migrations/versions/136_make_vol_type_col_non_nullable.py loaded successfully[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mRepository /opt/stack/cinder/cinder/db/legacy_migrations loaded successfully[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:82}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mConfig: {'db_settings': {'repository_id': 'cinder', 'version_table': 'migrate_version', 'required_dbs': '[]'}}[00m [00;33m{{(pid=3176943) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:83}}[00m[00m
[00;36mINFO cinder.db.migration [[00;36m-[00;36m] [01;35m[00;36mApplying migration(s)[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mContext impl MySQLImpl.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mWill assume non-transactional DDL.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade  -> 921e1a36b076, Initial migration.[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3176943] Writing DB stats cinder:SELECT=6,cinder:SHOW=1,cinder:CREATE=74,cinder:SET=1,cinder:ALTER=18[00m [00;33m{{(pid=3176943) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mnew branch insert 921e1a36b076[00m [00;33m{{(pid=3176943) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:818}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade 921e1a36b076 -> c92a3e68beed, Make shared_targets nullable[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mupdate 921e1a36b076 to c92a3e68beed[00m [00;33m{{(pid=3176943) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:853}}[00m[00m
[00;36mINFO cinder.db.migration [[00;36m-[00;36m] [01;35m[00;36mMigration(s) applied[00m[00m
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ lib/cinder:init_cinder:441               :   time_stop dbsync
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=dbsync
+ functions-common:time_stop:2446          :   start_time=1661163879636
+ functions-common:time_stop:2448          :   [[ -z 1661163879636 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163882671
+ functions-common:time_stop:2452          :   elapsed_time=3035
+ functions-common:time_stop:2453          :   total=2829
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=5864
+ lib/cinder:init_cinder:444               :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/cinder:init_cinder:444               :   [[ -n lvm:lvmdriver-1 ]]
+ lib/cinder:init_cinder:445               :   local be be_name be_type
+ lib/cinder:init_cinder:446               :   for be in ${CINDER_ENABLED_BACKENDS//,/ }
+ lib/cinder:init_cinder:447               :   be_type=lvm
+ lib/cinder:init_cinder:448               :   be_name=lvmdriver-1
+ lib/cinder:init_cinder:449               :   type init_cinder_backend_lvm
+ lib/cinder:init_cinder:450               :   init_cinder_backend_lvm lvmdriver-1
+ lib/cinder_backends/lvm:init_cinder_backend_lvm:61 :   local be_name=lvmdriver-1
+ lib/cinder_backends/lvm:init_cinder_backend_lvm:64 :   init_lvm_volume_group stack-volumes-lvmdriver-1 30G
+ lib/lvm:init_lvm_volume_group:129        :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:init_lvm_volume_group:130        :   local size=30G
+ lib/lvm:init_lvm_volume_group:133        :   is_fedora
+ functions-common:is_fedora:519           :   [[ -z Ubuntu ]]
+ functions-common:is_fedora:523           :   '[' Ubuntu = Fedora ']'
+ functions-common:is_fedora:523           :   '[' Ubuntu = 'Red Hat' ']'
+ functions-common:is_fedora:524           :   '[' Ubuntu = RedHatEnterpriseServer ']'
+ functions-common:is_fedora:525           :   '[' Ubuntu = RedHatEnterprise ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOS ']'
+ functions-common:is_fedora:526           :   '[' Ubuntu = CentOSStream ']'
+ functions-common:is_fedora:527           :   '[' Ubuntu = AlmaLinux ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = OracleServer ']'
+ functions-common:is_fedora:528           :   '[' Ubuntu = Virtuozzo ']'
+ lib/lvm:init_lvm_volume_group:133        :   is_suse
+ functions-common:is_suse:536             :   is_opensuse
+ functions-common:is_opensuse:543         :   [[ -z Ubuntu ]]
+ functions-common:is_opensuse:547         :   [[ Ubuntu =~ (openSUSE) ]]
+ functions-common:is_suse:536             :   is_suse_linux_enterprise
+ functions-common:is_suse_linux_enterprise:555 :   [[ -z Ubuntu ]]
+ functions-common:is_suse_linux_enterprise:559 :   [[ Ubuntu =~ (^SUSE) ]]
+ lib/lvm:init_lvm_volume_group:138        :   _create_lvm_volume_group stack-volumes-lvmdriver-1 30G
+ lib/lvm:_create_lvm_volume_group:88      :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_create_lvm_volume_group:89      :   local size=30G
+ lib/lvm:_create_lvm_volume_group:91      :   local backing_file=/opt/stack/data/stack-volumes-lvmdriver-1-backing-file
+ lib/lvm:_create_lvm_volume_group:92      :   sudo vgs stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" not found
  Cannot process volume group stack-volumes-lvmdriver-1
+ lib/lvm:_create_lvm_volume_group:94      :   [[ -f /opt/stack/data/stack-volumes-lvmdriver-1-backing-file ]]
+ lib/lvm:_create_lvm_volume_group:94      :   truncate -s 30G /opt/stack/data/stack-volumes-lvmdriver-1-backing-file
+ lib/lvm:_create_lvm_volume_group:96      :   local directio=
+ lib/lvm:_create_lvm_volume_group:98      :   grep -q direct-io
+ lib/lvm:_create_lvm_volume_group:98      :   losetup -h
+ lib/lvm:_create_lvm_volume_group:99      :   directio=--direct-io=on
+ lib/lvm:_create_lvm_volume_group:103     :   [[ ! -e /etc/systemd/system/stack-volumes-lvmdriver-1-backing-file.service ]]
+ lib/lvm:_create_lvm_volume_group:104     :   sed -e '
                s|%DIRECTIO%|--direct-io=on|g;
                s|%BACKING_FILE%|/opt/stack/data/stack-volumes-lvmdriver-1-backing-file|g;
            ' /opt/stack/devstack/files/lvm-backing-file.template
+ lib/lvm:_create_lvm_volume_group:107     :   sudo tee /etc/systemd/system/stack-volumes-lvmdriver-1-backing-file.service
[Unit]
Description=Activate LVM backing file /opt/stack/data/stack-volumes-lvmdriver-1-backing-file
DefaultDependencies=no
After=systemd-udev-settle.service
Before=lvm2-activation-early.service
Wants=systemd-udev-settle.service

[Service]
ExecStart=/sbin/losetup --find --show --direct-io=on /opt/stack/data/stack-volumes-lvmdriver-1-backing-file
ExecStop=/bin/sh -c '/sbin/losetup -d $$(/sbin/losetup --associated /opt/stack/data/stack-volumes-lvmdriver-1-backing-file -O NAME -n)'
RemainAfterExit=yes
Type=oneshot

[Install]
WantedBy=local-fs.target
Also=systemd-udev-settle.service
+ lib/lvm:_create_lvm_volume_group:110     :   sudo systemctl daemon-reload
+ lib/lvm:_create_lvm_volume_group:111     :   sudo systemctl enable --now stack-volumes-lvmdriver-1-backing-file.service
Created symlink /etc/systemd/system/local-fs.target.wants/stack-volumes-lvmdriver-1-backing-file.service → /etc/systemd/system/stack-volumes-lvmdriver-1-backing-file.service.
+ lib/lvm:_create_lvm_volume_group:114     :   local vg_dev
++ lib/lvm:_create_lvm_volume_group:115     :   sudo losetup --associated /opt/stack/data/stack-volumes-lvmdriver-1-backing-file -O NAME -n
+ lib/lvm:_create_lvm_volume_group:115     :   vg_dev=/dev/loop3
+ lib/lvm:_create_lvm_volume_group:118     :   sudo vgs stack-volumes-lvmdriver-1
  Volume group "stack-volumes-lvmdriver-1" not found
  Cannot process volume group stack-volumes-lvmdriver-1
+ lib/lvm:_create_lvm_volume_group:119     :   sudo vgcreate stack-volumes-lvmdriver-1 /dev/loop3
  Physical volume "/dev/loop3" successfully created.
  Volume group "stack-volumes-lvmdriver-1" successfully created
+ lib/lvm:init_lvm_volume_group:141        :   '[' lioadm = lioadm ']'
+ lib/lvm:init_lvm_volume_group:142        :   sudo xargs -rn 1 cinder-rtstool delete
+ lib/lvm:init_lvm_volume_group:142        :   sudo cinder-rtstool get-targets
+ lib/lvm:init_lvm_volume_group:146        :   _clean_lvm_volume_group stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:40       :   local vg=stack-volumes-lvmdriver-1
+ lib/lvm:_clean_lvm_volume_group:43       :   sudo lvremove -f stack-volumes-lvmdriver-1
+ lib/cinder:init_cinder:455               :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/cinder:init_cinder:461               :   mkdir -p /opt/stack/data/cinder/volumes
[3131924 Async init_cinder:3176830]: finished init_cinder with result 0 in 5 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1211                     :   is_service_enabled nova
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1212                     :   echo_summary 'Configuring Nova'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Configuring Nova
2022-08-22 10:25:06.207 | Configuring Nova
+ ./stack.sh:main:1213                     :   init_nova
+ lib/nova:init_nova:825                   :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:init_nova:825                   :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:init_nova:827                   :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:init_nova:835                   :   async_run nova-cell-0 init_nova_db nova_cell0 /etc/nova/nova.conf
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   init_nova_db nova_cell0 /etc/nova/nova.conf
[3131924 Async nova-cell-0:3178983]: running: init_nova_db nova_cell0 /etc/nova/nova.conf
++ lib/nova:init_nova:838                   :   seq 1 1
+ lib/nova:init_nova:838                   :   for i in $(seq 1 $NOVA_NUM_CELLS)
++ lib/nova:init_nova:839                   :   conductor_conf 1
++ lib/nova:conductor_conf:804              :   local cell=1
++ lib/nova:conductor_conf:805              :   echo /etc/nova/nova_cell1.conf
+ lib/nova:init_nova:839                   :   async_run nova-cell-1 init_nova_db nova_cell1 /etc/nova/nova_cell1.conf
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   init_nova_db nova_cell1 /etc/nova/nova_cell1.conf
[3131924 Async nova-cell-1:3179090]: running: init_nova_db nova_cell1 /etc/nova/nova_cell1.conf
+ lib/nova:init_nova:842                   :   recreate_database nova_api
+ lib/database:recreate_database:112       :   local db=nova_api
+ lib/database:recreate_database:113       :   recreate_database_mysql nova_api
+ lib/databases/mysql:recreate_database_mysql:66 :   local db=nova_api
+ lib/databases/mysql:recreate_database_mysql:67 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS nova_api;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:68 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'CREATE DATABASE nova_api CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/nova:init_nova:843                   :   /usr/local/bin/nova-manage --config-file /etc/nova/nova.conf api_db sync
Modules with known eventlet monkey patching issues were imported prior to eventlet monkey patching: urllib3. This warning can usually be ignored if the caller is only importing and not executing nova code.
[00;36mINFO dbcounter [[00;36m-[00;36m] [01;35m[00;36mRegistered counter for database nova_api[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3179157] Writer thread running[00m [00;33m{{(pid=3179157) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mLoading repository /opt/stack/nova/nova/db/api/legacy_migrations...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:76}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/071_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/071_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/073_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/073_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/072_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/072_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/075_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/075_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/074_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/074_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/087_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/087_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/076_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/076_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/079_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/079_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/086_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/086_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/083_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/083_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/077_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/077_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/084_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/084_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/081_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/081_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/080_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/080_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/069_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/069_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/070_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/070_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/067_train.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/067_train.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/078_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/078_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/068_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/068_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/082_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/082_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/api/legacy_migrations/versions/085_placeholder.py...[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/api/legacy_migrations/versions/085_placeholder.py loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mRepository /opt/stack/nova/nova/db/api/legacy_migrations loaded successfully[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:82}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mConfig: {'db_settings': {'repository_id': 'nova_api', 'version_table': 'migrate_version', 'required_dbs': '[]'}}[00m [00;33m{{(pid=3179157) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:83}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mContext impl MySQLImpl.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mWill assume non-transactional DDL.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade  -> d67eeaabee36, Initial version[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mnew branch insert d67eeaabee36[00m [00;33m{{(pid=3179157) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:818}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade d67eeaabee36 -> b30f573d3377, Remove unused build_requests columns[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mupdate d67eeaabee36 to b30f573d3377[00m [00;33m{{(pid=3179157) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:853}}[00m[00m
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ lib/nova:init_nova:847                   :   database_connection_url nova_cell0
++ lib/database:database_connection_url:134 :   local db=nova_cell0
++ lib/database:database_connection_url:135 :   database_connection_url_mysql nova_cell0
++ lib/databases/mysql:database_connection_url_mysql:224 :   local db=nova_cell0
++ lib/databases/mysql:database_connection_url_mysql:225 :   local plugin
++ lib/databases/mysql:database_connection_url_mysql:229 :   [[ True == \T\r\u\e ]]
++ lib/databases/mysql:database_connection_url_mysql:230 :   is_service_enabled mysql
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/databases/mysql:database_connection_url_mysql:231 :   plugin='&plugin=dbcounter'
++ lib/databases/mysql:database_connection_url_mysql:235 :   echo 'mysql+pymysql://root:Datacore1@127.0.0.1/nova_cell0?charset=utf8&plugin=dbcounter'
+ lib/nova:init_nova:847                   :   /usr/local/bin/nova-manage cell_v2 map_cell0 --database_connection 'mysql+pymysql://root:Datacore1@127.0.0.1/nova_cell0?charset=utf8&plugin=dbcounter'
Modules with known eventlet monkey patching issues were imported prior to eventlet monkey patching: urllib3. This warning can usually be ignored if the caller is only importing and not executing nova code.
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3179090 Async nova-cell-1:3179090]: finished successfully
[3178983 Async nova-cell-0:3178983]: finished successfully
[00;36mINFO dbcounter [[01;36mNone req-8267576f-8d3c-483a-8535-62403c3771aa [00;36mNone None[00;36m] [01;35m[00;36mRegistered counter for database nova_api[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3180138] Writer thread running[00m [00;33m{{(pid=3180138) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ lib/nova:init_nova:850                   :   seq 0 1
+ lib/nova:init_nova:850                   :   for i in $(seq 0 $NOVA_NUM_CELLS)
+ lib/nova:init_nova:851                   :   async_wait nova-cell-0
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   set +o
++ inc/async:async_wait:142                 :   grep xtrace
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async nova-cell-0:3178983]: Waiting for completion of init_nova_db nova_cell0 /etc/nova/nova.conf running on PID 3178983 (3 other jobs running)
[3131924 Async nova-cell-0:3178983]: Signaling child to exit
WAKEUP
[3131924 Async nova-cell-0:3178983]: Signaled
+ lib/nova:init_nova_db:815                :   local dbname=nova_cell0
+ lib/nova:init_nova_db:816                :   local conffile=/etc/nova/nova.conf
+ lib/nova:init_nova_db:817                :   recreate_database nova_cell0
+ lib/database:recreate_database:112       :   local db=nova_cell0
+ lib/database:recreate_database:113       :   recreate_database_mysql nova_cell0
+ lib/databases/mysql:recreate_database_mysql:66 :   local db=nova_cell0
+ lib/databases/mysql:recreate_database_mysql:67 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS nova_cell0;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:68 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'CREATE DATABASE nova_cell0 CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/nova:init_nova_db:818                :   /usr/local/bin/nova-manage --config-file /etc/nova/nova.conf db sync --local_cell
Modules with known eventlet monkey patching issues were imported prior to eventlet monkey patching: urllib3. This warning can usually be ignored if the caller is only importing and not executing nova code.
[00;36mINFO dbcounter [[00;36m-[00;36m] [01;35m[00;36mRegistered counter for database nova_cell0[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3179035] Writer thread running[00m [00;33m{{(pid=3179035) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mLoading repository /opt/stack/nova/nova/db/main/legacy_migrations...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:76}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/419_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/419_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/411_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/411_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/403_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/403_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/409_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/409_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/410_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/410_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/416_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/416_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/421_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/421_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/412_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/412_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/405_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/405_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/406_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/406_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/413_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/413_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/415_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/415_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/414_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/414_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/402_train.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/402_train.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/417_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/417_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/422_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/422_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/407_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/407_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/408_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/408_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/418_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/418_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/404_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/404_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/420_placeholder.py...[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/420_placeholder.py loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mRepository /opt/stack/nova/nova/db/main/legacy_migrations loaded successfully[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:82}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mConfig: {'db_settings': {'repository_id': 'nova', 'version_table': 'migrate_version', 'required_dbs': '[]'}}[00m [00;33m{{(pid=3179035) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:83}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mContext impl MySQLImpl.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mWill assume non-transactional DDL.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade  -> 8f2f1571d55b, Initial version[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3179035] Writing DB stats nova_cell0:SELECT=6,nova_cell0:SHOW=1,nova_cell0:CREATE=93[00m [00;33m{{(pid=3179035) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3179035] Writing DB stats nova_cell0:CREATE=64,nova_cell0:ALTER=2,nova_cell0:SHOW=24,nova_cell0:select=10[00m [00;33m{{(pid=3179035) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3179035] Writing DB stats nova_cell0:SHOW=35,nova_cell0:select=12,nova_cell0:CREATE=53[00m [00;33m{{(pid=3179035) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mnew branch insert 8f2f1571d55b[00m [00;33m{{(pid=3179035) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:818}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade 8f2f1571d55b -> 16f1fbcab42b, Resolve shadow table diffs[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mupdate 8f2f1571d55b to 16f1fbcab42b[00m [00;33m{{(pid=3179035) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:853}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade 16f1fbcab42b -> ccb0fa1a2252, Add encryption fields to BlockDeviceMapping[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mupdate 16f1fbcab42b to ccb0fa1a2252[00m [00;33m{{(pid=3179035) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:853}}[00m[00m
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
[3131924 Async nova-cell-0:3178983]: finished init_nova_db nova_cell0 /etc/nova/nova.conf with result 0 in 5 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/nova:init_nova:850                   :   for i in $(seq 0 $NOVA_NUM_CELLS)
+ lib/nova:init_nova:851                   :   async_wait nova-cell-1
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   grep xtrace
++ inc/async:async_wait:142                 :   set +o
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async nova-cell-1:3179090]: Waiting for completion of init_nova_db nova_cell1 /etc/nova/nova_cell1.conf running on PID 3179090 (2 other jobs running)
[3131924 Async nova-cell-1:3179090]: Signaling child to exit
WAKEUP
[3131924 Async nova-cell-1:3179090]: Signaled
+ lib/nova:init_nova_db:815                :   local dbname=nova_cell1
+ lib/nova:init_nova_db:816                :   local conffile=/etc/nova/nova_cell1.conf
+ lib/nova:init_nova_db:817                :   recreate_database nova_cell1
+ lib/database:recreate_database:112       :   local db=nova_cell1
+ lib/database:recreate_database:113       :   recreate_database_mysql nova_cell1
+ lib/databases/mysql:recreate_database_mysql:66 :   local db=nova_cell1
+ lib/databases/mysql:recreate_database_mysql:67 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'DROP DATABASE IF EXISTS nova_cell1;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/databases/mysql:recreate_database_mysql:68 :   mysql -uroot -pDatacore1 -h127.0.0.1 -e 'CREATE DATABASE nova_cell1 CHARACTER SET utf8;'
mysql: [Warning] Using a password on the command line interface can be insecure.
+ lib/nova:init_nova_db:818                :   /usr/local/bin/nova-manage --config-file /etc/nova/nova_cell1.conf db sync --local_cell
Modules with known eventlet monkey patching issues were imported prior to eventlet monkey patching: urllib3. This warning can usually be ignored if the caller is only importing and not executing nova code.
[00;36mINFO dbcounter [[00;36m-[00;36m] [01;35m[00;36mRegistered counter for database nova_cell1[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3179151] Writer thread running[00m [00;33m{{(pid=3179151) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mLoading repository /opt/stack/nova/nova/db/main/legacy_migrations...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:76}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/419_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/419_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/411_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/411_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/403_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/403_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/409_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/409_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/410_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/410_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/416_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/416_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/421_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/421_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/412_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/412_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/405_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/405_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/406_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/406_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/413_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/413_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/415_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/415_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/414_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/414_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/402_train.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/402_train.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/417_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/417_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/422_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/422_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/407_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/407_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/408_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/408_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/418_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/418_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/404_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/404_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mLoading script /opt/stack/nova/nova/db/main/legacy_migrations/versions/420_placeholder.py...[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:27}}[00m[00m
[00;32mDEBUG migrate.versioning.script.base [[00;36m-[00;32m] [01;35m[00;32mScript /opt/stack/nova/nova/db/main/legacy_migrations/versions/420_placeholder.py loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/script/base.py:30}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mRepository /opt/stack/nova/nova/db/main/legacy_migrations loaded successfully[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:82}}[00m[00m
[00;32mDEBUG migrate.versioning.repository [[00;36m-[00;32m] [01;35m[00;32mConfig: {'db_settings': {'repository_id': 'nova', 'version_table': 'migrate_version', 'required_dbs': '[]'}}[00m [00;33m{{(pid=3179151) __init__ /usr/local/lib/python3.8/dist-packages/migrate/versioning/repository.py:83}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mContext impl MySQLImpl.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mWill assume non-transactional DDL.[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade  -> 8f2f1571d55b, Initial version[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3179151] Writing DB stats nova_cell1:SELECT=6,nova_cell1:SHOW=1,nova_cell1:CREATE=93[00m [00;33m{{(pid=3179151) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3179151] Writing DB stats nova_cell1:CREATE=64,nova_cell1:ALTER=2,nova_cell1:SHOW=24,nova_cell1:select=10[00m [00;33m{{(pid=3179151) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3179151] Writing DB stats nova_cell1:SHOW=35,nova_cell1:select=12,nova_cell1:CREATE=53[00m [00;33m{{(pid=3179151) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mnew branch insert 8f2f1571d55b[00m [00;33m{{(pid=3179151) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:818}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade 8f2f1571d55b -> 16f1fbcab42b, Resolve shadow table diffs[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mupdate 8f2f1571d55b to 16f1fbcab42b[00m [00;33m{{(pid=3179151) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:853}}[00m[00m
[00;36mINFO alembic.runtime.migration [[00;36m-[00;36m] [01;35m[00;36mRunning upgrade 16f1fbcab42b -> ccb0fa1a2252, Add encryption fields to BlockDeviceMapping[00m[00m
[00;32mDEBUG alembic.runtime.migration [[00;36m-[00;32m] [01;35m[00;32mupdate 16f1fbcab42b to ccb0fa1a2252[00m [00;33m{{(pid=3179151) update_to_step /usr/local/lib/python3.8/dist-packages/alembic/runtime/migration.py:853}}[00m[00m
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
[3131924 Async nova-cell-1:3179090]: finished init_nova_db nova_cell1 /etc/nova/nova_cell1.conf with result 0 in 5 seconds
+ inc/async:async_wait:197                 :   return 0
+ lib/nova:init_nova:854                   :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:init_nova:861                   :   /usr/local/bin/nova-manage --config-file /etc/nova/nova.conf db online_data_migrations
Modules with known eventlet monkey patching issues were imported prior to eventlet monkey patching: urllib3. This warning can usually be ignored if the caller is only importing and not executing nova code.
Running batches of 50 until complete
[00;36mINFO dbcounter [[01;36mNone req-4263396e-9aa8-46e8-89e8-397d0da2970b [00;36mNone None[00;36m] [01;35m[00;36mRegistered counter for database nova_cell0[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3180591] Writer thread running[00m [00;33m{{(pid=3180591) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
[00;36mINFO dbcounter [[01;36mNone req-4263396e-9aa8-46e8-89e8-397d0da2970b [00;36mNone None[00;36m] [01;35m[00;36mRegistered counter for database nova_api[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3180591] Writer thread running[00m [00;33m{{(pid=3180591) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
[00;36mINFO dbcounter [[01;36mNone req-4263396e-9aa8-46e8-89e8-397d0da2970b [00;36mNone None[00;36m] [01;35m[00;36mRegistered counter for database nova_cell0[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3180591] Writer thread running[00m [00;33m{{(pid=3180591) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+-------------------------------------+--------------+-----------+
|              Migration              | Total Needed | Completed |
+-------------------------------------+--------------+-----------+
|     fill_virtual_interface_list     |      0       |     0     |
|         migrate_empty_ratio         |      0       |     0     |
|   migrate_quota_classes_to_api_db   |      0       |     0     |
|    migrate_quota_limits_to_api_db   |      0       |     0     |
|      migration_migrate_to_uuid      |      0       |     0     |
|          populate_dev_uuids         |      0       |     0     |
| populate_missing_availability_zones |      0       |     0     |
|      populate_queued_for_delete     |      0       |     0     |
|           populate_user_id          |      0       |     0     |
|            populate_uuids           |      0       |     0     |
+-------------------------------------+--------------+-----------+
++ lib/nova:init_nova:864                   :   seq 1 1
+ lib/nova:init_nova:864                   :   for i in $(seq 1 $NOVA_NUM_CELLS)
++ lib/nova:init_nova:865                   :   conductor_conf 1
++ lib/nova:conductor_conf:804              :   local cell=1
++ lib/nova:conductor_conf:805              :   echo /etc/nova/nova_cell1.conf
+ lib/nova:init_nova:865                   :   /usr/local/bin/nova-manage --config-file /etc/nova/nova.conf --config-file /etc/nova/nova_cell1.conf cell_v2 create_cell --name cell1
Modules with known eventlet monkey patching issues were imported prior to eventlet monkey patching: urllib3. This warning can usually be ignored if the caller is only importing and not executing nova code.
--transport-url not provided in the command line, using the value [DEFAULT]/transport_url from the configuration file
--database_connection not provided in the command line, using the value [database]/connection from the configuration file
[00;36mINFO dbcounter [[01;36mNone req-ebc6b2a4-9633-4c77-9121-51a8e2fa5705 [00;36mNone None[00;36m] [01;35m[00;36mRegistered counter for database nova_api[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3180612] Writer thread running[00m [00;33m{{(pid=3180612) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ lib/nova:init_nova:869                   :   create_nova_keys_dir
+ lib/nova:create_nova_keys_dir:811        :   sudo install -d -o stack /opt/stack/data/nova /opt/stack/data/nova/keys
+ lib/nova:init_nova:871                   :   [[ '' == \L\V\M ]]
+ ./stack.sh:main:1218                     :   is_service_enabled neutron
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1219                     :   async_runfunc configure_neutron_nova
+ inc/async:async_runfunc:116              :   async_run configure_neutron_nova configure_neutron_nova
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   configure_neutron_nova
[3131924 Async configure_neutron_nova:3180688]: running: configure_neutron_nova
+ ./stack.sh:main:1228                     :   run_phase stack post-config
+ functions-common:run_phase:1867          :   local mode=stack
+ functions-common:run_phase:1868          :   local phase=post-config
+ functions-common:run_phase:1869          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1870          :   local extra_plugin_file_name
+ functions-common:run_phase:1871          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1876          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1877          :   local extra
++ functions-common:run_phase:1878          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1878          :   extra=80-tempest.sh
+ functions-common:run_phase:1879          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1883          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1883          :   source /opt/stack/devstack/extras.d/80-tempest.sh stack post-config
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   grep xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ stack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:7          :   [[ post-config == \i\n\s\t\a\l\l ]]
++ extras.d/80-tempest.sh:source:10         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ post-config == \p\o\s\t\-\c\o\n\f\i\g ]]
++ extras.d/80-tempest.sh:source:12         :   :
++ extras.d/80-tempest.sh:source:27         :   [[ stack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ stack == \c\l\e\a\n ]]
+ functions-common:run_phase:1888          :   [[ stack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1891          :   [[ stack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1894          :   run_plugins stack post-config
+ functions-common:run_plugins:1853        :   local mode=stack
+ functions-common:run_plugins:1854        :   local phase=post-config
+ functions-common:run_plugins:1856        :   local plugins=
+ functions-common:run_plugins:1857        :   local plugin
+ ./stack.sh:main:1236                     :   merge_config_group /opt/stack/devstack/local.conf post-config
+ inc/meta-config:merge_config_group:171   :   local localfile=/opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_group:171   :   shift
+ inc/meta-config:merge_config_group:172   :   local matchgroups=post-config
+ inc/meta-config:merge_config_group:174   :   [[ -r /opt/stack/devstack/local.conf ]]
+ inc/meta-config:merge_config_group:176   :   local configfile group
+ inc/meta-config:merge_config_group:177   :   for group in $matchgroups
++ inc/meta-config:merge_config_group:178   :   get_meta_section_files /opt/stack/devstack/local.conf post-config
++ inc/meta-config:get_meta_section_files:63 :   local file=/opt/stack/devstack/local.conf
++ inc/meta-config:get_meta_section_files:64 :   local matchgroup=post-config
++ inc/meta-config:get_meta_section_files:66 :   [[ -r /opt/stack/devstack/local.conf ]]
++ inc/meta-config:get_meta_section_files:68 :   awk -v matchgroup=post-config '
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup)
                print a[2]
        }
    ' /opt/stack/devstack/local.conf
+ ./stack.sh:main:1245                     :   is_service_enabled swift
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:1253                     :   FIXED_KEY=bae3516cc1c0eb18b05440eba8012a4a880a2ee04d584a9c1579445e675b12defdc716ec
+ ./stack.sh:main:1254                     :   is_service_enabled cinder
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1255                     :   iniset /etc/cinder/cinder.conf key_manager fixed_key bae3516cc1c0eb18b05440eba8012a4a880a2ee04d584a9c1579445e675b12defdc716ec
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ ./stack.sh:main:1258                     :   async_wait configure_neutron_nova
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   set +o
++ inc/async:async_wait:142                 :   grep xtrace
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async configure_neutron_nova:3180688]: Waiting for completion of configure_neutron_nova running on PID 3180688 (2 other jobs running)
[3131924 Async configure_neutron_nova:3180688]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3180688 Async configure_neutron_nova:3180688]: finished successfully
WAKEUP
[3131924 Async configure_neutron_nova:3180688]: Signaled
+ lib/neutron:configure_neutron_nova:662   :   is_neutron_legacy_enabled
++ lib/neutron:is_neutron_legacy_enabled:142 :   echo
++ lib/neutron:is_neutron_legacy_enabled:142 :   sed s/neutron-//g
+ lib/neutron:is_neutron_legacy_enabled:142 :   disabled_services_copy=
+ lib/neutron:is_neutron_legacy_enabled:143 :   [[ , =~ ,neutron ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   [[ ,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat =~ ,q- ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   return 0
+ lib/neutron:configure_neutron_nova:664   :   create_nova_conf_neutron /etc/nova/nova.conf
+ lib/neutron-legacy:create_nova_conf_neutron:408 :   local conf=/etc/nova/nova.conf
+ lib/neutron-legacy:create_nova_conf_neutron:409 :   iniset /etc/nova/nova.conf neutron auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:410 :   iniset /etc/nova/nova.conf neutron auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:411 :   iniset /etc/nova/nova.conf neutron username neutron
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:412 :   iniset /etc/nova/nova.conf neutron password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:413 :   iniset /etc/nova/nova.conf neutron user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:414 :   iniset /etc/nova/nova.conf neutron project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:415 :   iniset /etc/nova/nova.conf neutron project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:416 :   iniset /etc/nova/nova.conf neutron auth_strategy keystone
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:417 :   iniset /etc/nova/nova.conf neutron region_name RegionOne
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:420 :   neutron_plugin_create_nova_conf /etc/nova/nova.conf
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_create_nova_conf:13 :   _neutron_ovs_base_configure_nova_vif_driver
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_configure_nova_vif_driver:132 :   :
+ lib/neutron-legacy:create_nova_conf_neutron:422 :   is_service_enabled q-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:create_nova_conf_neutron:426 :   iniset /etc/nova/nova.conf DEFAULT vif_plugging_is_fatal True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:427 :   iniset /etc/nova/nova.conf DEFAULT vif_plugging_timeout 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron:configure_neutron_nova:665   :   [[ superconductor == \s\u\p\e\r\c\o\n\d\u\c\t\o\r ]]
++ lib/neutron:configure_neutron_nova:666   :   seq 1 1
+ lib/neutron:configure_neutron_nova:666   :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/neutron:configure_neutron_nova:667   :   local conf
++ lib/neutron:configure_neutron_nova:668   :   conductor_conf 1
++ lib/nova:conductor_conf:804              :   local cell=1
++ lib/nova:conductor_conf:805              :   echo /etc/nova/nova_cell1.conf
+ lib/neutron:configure_neutron_nova:668   :   conf=/etc/nova/nova_cell1.conf
+ lib/neutron:configure_neutron_nova:669   :   create_nova_conf_neutron /etc/nova/nova_cell1.conf
+ lib/neutron-legacy:create_nova_conf_neutron:408 :   local conf=/etc/nova/nova_cell1.conf
+ lib/neutron-legacy:create_nova_conf_neutron:409 :   iniset /etc/nova/nova_cell1.conf neutron auth_type password
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:410 :   iniset /etc/nova/nova_cell1.conf neutron auth_url http://10.200.2.118/identity
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:411 :   iniset /etc/nova/nova_cell1.conf neutron username neutron
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:412 :   iniset /etc/nova/nova_cell1.conf neutron password Datacore1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:413 :   iniset /etc/nova/nova_cell1.conf neutron user_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:414 :   iniset /etc/nova/nova_cell1.conf neutron project_name service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:415 :   iniset /etc/nova/nova_cell1.conf neutron project_domain_name Default
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:416 :   iniset /etc/nova/nova_cell1.conf neutron auth_strategy keystone
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:417 :   iniset /etc/nova/nova_cell1.conf neutron region_name RegionOne
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:420 :   neutron_plugin_create_nova_conf /etc/nova/nova_cell1.conf
+ lib/neutron_plugins/openvswitch_agent:neutron_plugin_create_nova_conf:13 :   _neutron_ovs_base_configure_nova_vif_driver
+ lib/neutron_plugins/ovs_base:_neutron_ovs_base_configure_nova_vif_driver:132 :   :
+ lib/neutron-legacy:create_nova_conf_neutron:422 :   is_service_enabled q-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:create_nova_conf_neutron:426 :   iniset /etc/nova/nova_cell1.conf DEFAULT vif_plugging_is_fatal True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:create_nova_conf_neutron:427 :   iniset /etc/nova/nova_cell1.conf DEFAULT vif_plugging_timeout 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
[3131924 Async configure_neutron_nova:3180688]: finished configure_neutron_nova with result 0 in 1 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1264                     :   is_service_enabled nova
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1265                     :   iniset /etc/nova/nova.conf key_manager fixed_key bae3516cc1c0eb18b05440eba8012a4a880a2ee04d584a9c1579445e675b12defdc716ec
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ ./stack.sh:main:1266                     :   iniset /etc/nova/nova-cpu.conf key_manager fixed_key bae3516cc1c0eb18b05440eba8012a4a880a2ee04d584a9c1579445e675b12defdc716ec
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ ./stack.sh:main:1270                     :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1271                     :   echo_summary 'Starting Nova API'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Starting Nova API
2022-08-22 10:25:18.813 | Starting Nova API
+ ./stack.sh:main:1272                     :   start_nova_api
+ lib/nova:start_nova_api:930              :   local service_port=8774
+ lib/nova:start_nova_api:931              :   local service_protocol=http
+ lib/nova:start_nova_api:932              :   local nova_url
+ lib/nova:start_nova_api:933              :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:start_nova_api:939              :   local old_path=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_api:940              :   export PATH=/usr/local/bin:/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_api:940              :   PATH=/usr/local/bin:/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_api:942              :   '[' True == False ']'
++ lib/nova:start_nova_api:950              :   which uwsgi
+ lib/nova:start_nova_api:950              :   run_process n-api '/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:run_process:1693        :   local service=n-api
+ functions-common:run_process:1694        :   local 'command=/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=n-api
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163918910
+ functions-common:run_process:1702        :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd n-api '/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=n-api
+ functions-common:_run_under_systemd:1654 :   local 'command=/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@n-api.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1667 :   write_uwsgi_user_unit_file devstack@n-api.service '/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini' '' stack ''
+ functions-common:write_uwsgi_user_unit_file:1593 :   local service=devstack@n-api.service
+ functions-common:write_uwsgi_user_unit_file:1594 :   local 'command=/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ functions-common:write_uwsgi_user_unit_file:1595 :   local group=
+ functions-common:write_uwsgi_user_unit_file:1596 :   local user=stack
+ functions-common:write_uwsgi_user_unit_file:1597 :   local env_vars=
+ functions-common:write_uwsgi_user_unit_file:1598 :   local unitfile=/etc/systemd/system/devstack@n-api.service
+ functions-common:write_uwsgi_user_unit_file:1599 :   mkdir -p /etc/systemd/system
+ functions-common:write_uwsgi_user_unit_file:1601 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Unit Description 'Devstack devstack@n-api.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1602 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service SyslogIdentifier devstack@n-api.service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1603 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1604 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service ExecStart '/bin/uwsgi --procname-prefix nova-api --ini /etc/nova/nova-api-uwsgi.ini'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1605 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1606 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service Type notify
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1607 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1608 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service Restart always
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1609 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service NotifyAccess all
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1610 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Service RestartForceExitStatus 100
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1612 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1615 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1618 :   iniset -sudo /etc/systemd/system/devstack@n-api.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1621 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@n-api.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@n-api.service → /etc/systemd/system/devstack@n-api.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@n-api.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163918910
+ functions-common:time_stop:2448          :   [[ -z 1661163918910 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163920530
+ functions-common:time_stop:2452          :   elapsed_time=1620
+ functions-common:time_stop:2453          :   total=2968
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=4588
+ lib/nova:start_nova_api:951              :   nova_url=http://10.200.2.118/compute/v2.1/
+ lib/nova:start_nova_api:954              :   echo 'Waiting for nova-api to start...'
Waiting for nova-api to start...
+ lib/nova:start_nova_api:955              :   wait_for_service 60 http://10.200.2.118/compute/v2.1/
+ functions:wait_for_service:457           :   local timeout=60
+ functions:wait_for_service:458           :   local url=http://10.200.2.118/compute/v2.1/
+ functions:wait_for_service:459           :   local rval=0
+ functions:wait_for_service:460           :   time_start wait_for_service
+ functions-common:time_start:2425         :   local name=wait_for_service
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163920580
+ functions:wait_for_service:461           :   timeout 60 bash -x
++ ::                                       :   curl -g -k --noproxy '*' -s -o /dev/null -w '%{http_code}' http://10.200.2.118/compute/v2.1/
+ ::                                       :   [[ 200 == 503 ]]
+ ::                                       :   [[ 0 -eq 7 ]]
+ functions:wait_for_service:466           :   time_stop wait_for_service
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=wait_for_service
+ functions-common:time_stop:2446          :   start_time=1661163920580
+ functions-common:time_stop:2448          :   [[ -z 1661163920580 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163923542
+ functions-common:time_stop:2452          :   elapsed_time=2962
+ functions-common:time_stop:2453          :   total=2634
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=5596
+ functions:wait_for_service:467           :   return 0
+ lib/nova:start_nova_api:959              :   export PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_api:959              :   PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ ./stack.sh:main:1275                     :   is_service_enabled ovn-controller ovn-controller-vtep
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1276                     :   echo_summary 'Starting OVN services'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Starting OVN services
2022-08-22 10:25:23.601 | Starting OVN services
+ ./stack.sh:main:1277                     :   start_ovn_services
+ lib/neutron-legacy:start_ovn_services:519 :   [[ ovn == \o\v\n ]]
+ lib/neutron-legacy:start_ovn_services:520 :   init_ovn
+ lib/neutron_plugins/ovn_agent:init_ovn:579 :   _disable_libvirt_apparmor
+ lib/neutron_plugins/ovn_agent:_disable_libvirt_apparmor:295 :   sudo aa-status --enabled
+ lib/neutron_plugins/ovn_agent:_disable_libvirt_apparmor:301 :   install_package apparmor-utils
+ functions-common:install_package:1463    :   update_package_repo
+ functions-common:update_package_repo:1435 :   NO_UPDATE_REPOS=False
+ functions-common:update_package_repo:1436 :   REPOS_UPDATED=True
+ functions-common:update_package_repo:1437 :   RETRY_UPDATE=False
+ functions-common:update_package_repo:1439 :   [[ False = \T\r\u\e ]]
+ functions-common:update_package_repo:1443 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:update_package_repo:1444 :   apt_get_update
+ functions-common:apt_get_update:1189     :   [[ True == \T\r\u\e ]]
+ functions-common:apt_get_update:1189     :   [[ False != \T\r\u\e ]]
+ functions-common:apt_get_update:1190     :   return
+ functions-common:install_package:1464    :   real_install_package apparmor-utils
+ functions-common:real_install_package:1449 :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ functions-common:real_install_package:1450 :   apt_get install apparmor-utils
+ functions-common:apt_get:1217            :   local xtrace result
++ functions-common:apt_get:1218            :   set +o
++ functions-common:apt_get:1218            :   grep xtrace
+ functions-common:apt_get:1218            :   xtrace='set -o xtrace'
+ functions-common:apt_get:1219            :   set +o xtrace
+ functions-common:apt_get:1230            :   sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install apparmor-utils
Reading package lists...
Building dependency tree...
Reading state information...
apparmor-utils is already the newest version (2.13.3-7ubuntu5.1).
The following packages were automatically installed and are no longer required:
  apg colord-data gnome-control-center-faces gnome-online-accounts hplip-data
  libcolord-gtk1 libcolorhug2 libgsound0 libgssdp-1.2-0 libgupnp-1.2-0
  libgupnp-av-1.0-2 libgupnp-dlna-2.0-3 libieee1284-3 libimagequant0
  librygel-core-2.6-2 librygel-db-2.6-2 librygel-renderer-2.6-2
  librygel-server-2.6-2 libsane-common libsnmp-base libwebpmux3
  mobile-broadband-provider-info network-manager-gnome
  printer-driver-postscript-hp python3-macaroonbakery python3-olefile
  python3-pil python3-protobuf python3-pymacaroons python3-renderpm
  python3-reportlab python3-reportlab-accel python3-rfc3339 python3-tz rygel
Use 'sudo apt autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 202 not upgraded.
+ functions-common:apt_get:1234            :   result=0
+ functions-common:apt_get:1237            :   time_stop apt-get
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=apt-get
+ functions-common:time_stop:2446          :   start_time=1661163923783
+ functions-common:time_stop:2448          :   [[ -z 1661163923783 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163924450
+ functions-common:time_stop:2452          :   elapsed_time=667
+ functions-common:time_stop:2453          :   total=85831
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=86498
+ functions-common:apt_get:1238            :   return 0
+ lib/neutron_plugins/ovn_agent:_disable_libvirt_apparmor:303 :   sudo aa-complain /etc/apparmor.d/usr.sbin.libvirtd
Setting /etc/apparmor.d/usr.sbin.libvirtd to complain mode.
+ lib/neutron_plugins/ovn_agent:init_ovn:580 :   local 'mkdir_cmd=mkdir -p /var/lib/ovn'
+ lib/neutron_plugins/ovn_agent:init_ovn:582 :   [[ False == \F\a\l\s\e ]]
+ lib/neutron_plugins/ovn_agent:init_ovn:583 :   mkdir_cmd='sudo mkdir -p /var/lib/ovn'
+ lib/neutron_plugins/ovn_agent:init_ovn:586 :   sudo mkdir -p /var/lib/ovn
+ lib/neutron_plugins/ovn_agent:init_ovn:587 :   mkdir -p /opt/stack/data/ovs
+ lib/neutron_plugins/ovn_agent:init_ovn:589 :   rm -f '/opt/stack/data/ovs/*.db'
+ lib/neutron_plugins/ovn_agent:init_ovn:590 :   rm -f '/opt/stack/data/ovs/.*.db.~lock~'
+ lib/neutron_plugins/ovn_agent:init_ovn:591 :   sudo rm -f /var/lib/ovn/ovnnb_db.db /var/lib/ovn/ovnsb_db.db
+ lib/neutron_plugins/ovn_agent:init_ovn:592 :   sudo rm -f /var/lib/ovn/.ovnnb_db.db.~lock~ /var/lib/ovn/.ovnsb_db.db.~lock~
+ lib/neutron-legacy:start_ovn_services:521 :   start_ovn
+ lib/neutron_plugins/ovn_agent:start_ovn:693 :   echo 'Starting OVN'
Starting OVN
+ lib/neutron_plugins/ovn_agent:start_ovn:695 :   _start_ovs
+ lib/neutron_plugins/ovn_agent:_start_ovs:596 :   echo 'Starting OVS'
Starting OVS
+ lib/neutron_plugins/ovn_agent:_start_ovs:597 :   is_service_enabled ovn-controller ovn-controller-vtep ovn-northd
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:_start_ovs:599 :   enable_service ovsdb-server
+ functions-common:enable_service:2026     :   local xtrace
++ functions-common:enable_service:2027     :   grep xtrace
++ functions-common:enable_service:2027     :   set +o
+ functions-common:enable_service:2027     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2028     :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:_start_ovs:600 :   enable_service ovs-vswitchd
+ functions-common:enable_service:2026     :   local xtrace
++ functions-common:enable_service:2027     :   set +o
++ functions-common:enable_service:2027     :   grep xtrace
+ functions-common:enable_service:2027     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2028     :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:_start_ovs:602 :   [[ False == \T\r\u\e ]]
+ lib/neutron_plugins/ovn_agent:_start_ovs:626 :   _start_process ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_start_process:237 :   sudo systemctl daemon-reload
+ lib/neutron_plugins/ovn_agent:_start_process:238 :   sudo systemctl enable ovsdb-server.service
The unit files have no installation config (WantedBy=, RequiredBy=, Also=,
Alias= settings in the [Install] section, and DefaultInstance= for template
units). This means they are not meant to be enabled using systemctl.
 
Possible reasons for having this kind of units are:
• A unit may be statically enabled by being symlinked from another unit's
  .wants/ or .requires/ directory.
• A unit's purpose may be to act as a helper for some other unit which has
  a requirement dependency on it.
• A unit may be started when needed via activation (socket, path, timer,
  D-Bus, udev, scripted systemctl call, ...).
• In case of template units, the unit is meant to be enabled with some
  instance name specified.
+ lib/neutron_plugins/ovn_agent:_start_process:239 :   sudo systemctl restart ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_start_ovs:627 :   _start_process ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_start_process:237 :   sudo systemctl daemon-reload
+ lib/neutron_plugins/ovn_agent:_start_process:238 :   sudo systemctl enable ovs-vswitchd.service
The unit files have no installation config (WantedBy=, RequiredBy=, Also=,
Alias= settings in the [Install] section, and DefaultInstance= for template
units). This means they are not meant to be enabled using systemctl.
 
Possible reasons for having this kind of units are:
• A unit may be statically enabled by being symlinked from another unit's
  .wants/ or .requires/ directory.
• A unit's purpose may be to act as a helper for some other unit which has
  a requirement dependency on it.
• A unit may be started when needed via activation (socket, path, timer,
  D-Bus, udev, scripted systemctl call, ...).
• In case of template units, the unit is meant to be enabled with some
  instance name specified.
+ lib/neutron_plugins/ovn_agent:_start_process:239 :   sudo systemctl restart ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_start_ovs:630 :   echo 'Configuring OVSDB'
Configuring OVSDB
+ lib/neutron_plugins/ovn_agent:_start_ovs:631 :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:_start_ovs:638 :   sudo ovs-vsctl --no-wait set-manager ptcp:6640:127.0.0.1
+ lib/neutron_plugins/ovn_agent:_start_ovs:639 :   sudo ovs-vsctl --no-wait set open_vswitch . system-type=devstack
+ lib/neutron_plugins/ovn_agent:_start_ovs:640 :   sudo ovs-vsctl --no-wait set open_vswitch . external-ids:system-id=2c2f3a45-4909-49c4-b375-5dea0ffc484d
+ lib/neutron_plugins/ovn_agent:_start_ovs:641 :   sudo ovs-vsctl --no-wait set open_vswitch . external-ids:ovn-remote=tcp:10.200.2.118:6642
+ lib/neutron_plugins/ovn_agent:_start_ovs:642 :   sudo ovs-vsctl --no-wait set open_vswitch . external-ids:ovn-bridge=br-int
+ lib/neutron_plugins/ovn_agent:_start_ovs:643 :   sudo ovs-vsctl --no-wait set open_vswitch . external-ids:ovn-encap-type=geneve
+ lib/neutron_plugins/ovn_agent:_start_ovs:644 :   sudo ovs-vsctl --no-wait set open_vswitch . external-ids:ovn-encap-ip=10.200.2.118
++ lib/neutron_plugins/ovn_agent:_start_ovs:645 :   hostname
+ lib/neutron_plugins/ovn_agent:_start_ovs:645 :   sudo ovs-vsctl --no-wait set open_vswitch . external-ids:hostname=datacore-PowerEdge-R740
+ lib/neutron_plugins/ovn_agent:_start_ovs:647 :   [[ True == \T\r\u\e ]]
+ lib/neutron_plugins/ovn_agent:_start_ovs:648 :   sudo ovs-vsctl --no-wait set open_vswitch . external-ids:ovn-cms-options=enable-chassis-as-gw
+ lib/neutron_plugins/ovn_agent:_start_ovs:651 :   is_provider_network
+ functions-common:is_provider_network:2288 :   '[' '' == True ']'
+ functions-common:is_provider_network:2291 :   return 1
+ lib/neutron_plugins/ovn_agent:_start_ovs:651 :   [[ True == \T\r\u\e ]]
+ lib/neutron_plugins/ovn_agent:_start_ovs:652 :   ovn_base_setup_bridge br-ex
+ lib/neutron_plugins/ovn_agent:ovn_base_setup_bridge:225 :   local bridge=br-ex
+ lib/neutron_plugins/ovn_agent:ovn_base_setup_bridge:226 :   local 'addbr_cmd=sudo ovs-vsctl --no-wait -- --may-exist add-br br-ex -- set bridge br-ex protocols=OpenFlow13,OpenFlow15'
+ lib/neutron_plugins/ovn_agent:ovn_base_setup_bridge:228 :   '[' system '!=' system ']'
+ lib/neutron_plugins/ovn_agent:ovn_base_setup_bridge:232 :   sudo ovs-vsctl --no-wait -- --may-exist add-br br-ex -- set bridge br-ex protocols=OpenFlow13,OpenFlow15
+ lib/neutron_plugins/ovn_agent:ovn_base_setup_bridge:233 :   sudo ovs-vsctl --no-wait br-set-external-id br-ex bridge-id br-ex
+ lib/neutron_plugins/ovn_agent:_start_ovs:653 :   sudo ovs-vsctl set open . external-ids:ovn-bridge-mappings=public:br-ex
+ lib/neutron_plugins/ovn_agent:_start_ovs:656 :   is_service_enabled ovn-controller-vtep
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:start_ovn:697 :   local SCRIPTDIR=/share/ovn/scripts
+ lib/neutron_plugins/ovn_agent:start_ovn:698 :   use_new_ovn_repository
+ lib/neutron_plugins/ovn_agent:use_new_ovn_repository:197 :   [[ False == \F\a\l\s\e ]]
+ lib/neutron_plugins/ovn_agent:use_new_ovn_repository:198 :   return 0
+ lib/neutron_plugins/ovn_agent:start_ovn:702 :   is_service_enabled ovn-northd
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:start_ovn:703 :   [[ False == \T\r\u\e ]]
+ lib/neutron_plugins/ovn_agent:start_ovn:709 :   _start_process ovn-central.service
+ lib/neutron_plugins/ovn_agent:_start_process:237 :   sudo systemctl daemon-reload
+ lib/neutron_plugins/ovn_agent:_start_process:238 :   sudo systemctl enable ovn-central.service
Created symlink /etc/systemd/system/multi-user.target.wants/ovn-central.service → /lib/systemd/system/ovn-central.service.
+ lib/neutron_plugins/ovn_agent:_start_process:239 :   sudo systemctl restart ovn-central.service
+ lib/neutron_plugins/ovn_agent:start_ovn:714 :   wait_for_sock_file /var/run/openvswitch/ovnnb_db.sock
+ lib/neutron_plugins/ovn_agent:wait_for_sock_file:186 :   local count=0
+ lib/neutron_plugins/ovn_agent:wait_for_sock_file:187 :   '[' '!' -S /var/run/openvswitch/ovnnb_db.sock ']'
+ lib/neutron_plugins/ovn_agent:wait_for_sock_file:188 :   sleep 1
+ lib/neutron_plugins/ovn_agent:wait_for_sock_file:189 :   count=1
+ lib/neutron_plugins/ovn_agent:wait_for_sock_file:190 :   '[' 1 -gt 40 ']'
+ lib/neutron_plugins/ovn_agent:wait_for_sock_file:187 :   '[' '!' -S /var/run/openvswitch/ovnnb_db.sock ']'
+ lib/neutron_plugins/ovn_agent:start_ovn:715 :   wait_for_sock_file /var/run/openvswitch/ovnsb_db.sock
+ lib/neutron_plugins/ovn_agent:wait_for_sock_file:186 :   local count=0
+ lib/neutron_plugins/ovn_agent:wait_for_sock_file:187 :   '[' '!' -S /var/run/openvswitch/ovnsb_db.sock ']'
+ lib/neutron_plugins/ovn_agent:start_ovn:716 :   wait_for_db_file /var/lib/ovn/ovnnb_db.db
+ lib/neutron_plugins/ovn_agent:wait_for_db_file:175 :   local count=0
+ lib/neutron_plugins/ovn_agent:wait_for_db_file:176 :   '[' '!' -f /var/lib/ovn/ovnnb_db.db ']'
+ lib/neutron_plugins/ovn_agent:start_ovn:717 :   wait_for_db_file /var/lib/ovn/ovnsb_db.db
+ lib/neutron_plugins/ovn_agent:wait_for_db_file:175 :   local count=0
+ lib/neutron_plugins/ovn_agent:wait_for_db_file:176 :   '[' '!' -f /var/lib/ovn/ovnsb_db.db ']'
+ lib/neutron_plugins/ovn_agent:start_ovn:719 :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:start_ovn:723 :   sudo ovn-nbctl --db=unix:/var/run/openvswitch/ovnnb_db.sock set-connection ptcp:6641:0.0.0.0 -- set connection . inactivity_probe=60000
+ lib/neutron_plugins/ovn_agent:start_ovn:724 :   sudo ovn-sbctl --db=unix:/var/run/openvswitch/ovnsb_db.sock set-connection ptcp:6642:0.0.0.0 -- set connection . inactivity_probe=60000
+ lib/neutron_plugins/ovn_agent:start_ovn:725 :   sudo ovs-appctl -t /var/run/openvswitch/ovnnb_db.ctl vlog/set console:off syslog:info file:info
+ lib/neutron_plugins/ovn_agent:start_ovn:726 :   sudo ovs-appctl -t /var/run/openvswitch/ovnsb_db.ctl vlog/set console:off syslog:info file:info
+ lib/neutron_plugins/ovn_agent:start_ovn:729 :   is_service_enabled ovn-controller
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:start_ovn:730 :   [[ False == \T\r\u\e ]]
+ lib/neutron_plugins/ovn_agent:start_ovn:736 :   _start_process ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_start_process:237 :   sudo systemctl daemon-reload
+ lib/neutron_plugins/ovn_agent:_start_process:238 :   sudo systemctl enable ovn-controller.service
The unit files have no installation config (WantedBy=, RequiredBy=, Also=,
Alias= settings in the [Install] section, and DefaultInstance= for template
units). This means they are not meant to be enabled using systemctl.
 
Possible reasons for having this kind of units are:
• A unit may be statically enabled by being symlinked from another unit's
  .wants/ or .requires/ directory.
• A unit's purpose may be to act as a helper for some other unit which has
  a requirement dependency on it.
• A unit may be started when needed via activation (socket, path, timer,
  D-Bus, udev, scripted systemctl call, ...).
• In case of template units, the unit is meant to be enabled with some
  instance name specified.
+ lib/neutron_plugins/ovn_agent:_start_process:239 :   sudo systemctl restart ovn-controller.service
+ lib/neutron_plugins/ovn_agent:start_ovn:740 :   is_service_enabled ovn-controller-vtep
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:start_ovn:749 :   is_service_enabled q-ovn-metadata-agent
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:start_ovn:750 :   run_process q-ovn-metadata-agent '/usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini'
+ functions-common:run_process:1693        :   local service=q-ovn-metadata-agent
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=q-ovn-metadata-agent
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163930252
+ functions-common:run_process:1702        :   is_service_enabled q-ovn-metadata-agent
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd q-ovn-metadata-agent '/usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=q-ovn-metadata-agent
+ functions-common:_run_under_systemd:1654 :   local 'command=/usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@q-ovn-metadata-agent.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1669 :   write_user_unit_file devstack@q-ovn-metadata-agent.service '/usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini' '' stack ''
+ functions-common:write_user_unit_file:1562 :   local service=devstack@q-ovn-metadata-agent.service
+ functions-common:write_user_unit_file:1563 :   local 'command=/usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini'
+ functions-common:write_user_unit_file:1564 :   local group=
+ functions-common:write_user_unit_file:1565 :   local user=stack
+ functions-common:write_user_unit_file:1566 :   local env_vars=
+ functions-common:write_user_unit_file:1567 :   local extra=
+ functions-common:write_user_unit_file:1568 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1571 :   local unitfile=/etc/systemd/system/devstack@q-ovn-metadata-agent.service
+ functions-common:write_user_unit_file:1572 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1574 :   iniset -sudo /etc/systemd/system/devstack@q-ovn-metadata-agent.service Unit Description 'Devstack devstack@q-ovn-metadata-agent.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1575 :   iniset -sudo /etc/systemd/system/devstack@q-ovn-metadata-agent.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1576 :   iniset -sudo /etc/systemd/system/devstack@q-ovn-metadata-agent.service Service ExecStart '/usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1577 :   iniset -sudo /etc/systemd/system/devstack@q-ovn-metadata-agent.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1578 :   iniset -sudo /etc/systemd/system/devstack@q-ovn-metadata-agent.service Service TimeoutStopSec 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@q-ovn-metadata-agent.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1580 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1583 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@q-ovn-metadata-agent.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1589 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@q-ovn-metadata-agent.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@q-ovn-metadata-agent.service → /etc/systemd/system/devstack@q-ovn-metadata-agent.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@q-ovn-metadata-agent.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163930252
+ functions-common:time_stop:2448          :   [[ -z 1661163930252 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163931619
+ functions-common:time_stop:2452          :   elapsed_time=1367
+ functions-common:time_stop:2453          :   total=4588
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=5955
+ lib/neutron_plugins/ovn_agent:start_ovn:752 :   setup_logging /etc/neutron/neutron_ovn_metadata_agent.ini
+ functions:setup_logging:674              :   setup_systemd_logging /etc/neutron/neutron_ovn_metadata_agent.ini
+ functions:setup_systemd_logging:689      :   local conf_file=/etc/neutron/neutron_ovn_metadata_agent.ini
++ functions:setup_systemd_logging:694      :   trueorfalse False USE_JOURNAL
++ functions-common:trueorfalse:219         :   local xtrace
+++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   grep xtrace
++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
++ functions-common:trueorfalse:221         :   set +o xtrace
+ functions:setup_systemd_logging:694      :   USE_JOURNAL=False
+ functions:setup_systemd_logging:695      :   local pidstr=
+ functions:setup_systemd_logging:696      :   [[ False == \T\r\u\e ]]
+ functions:setup_systemd_logging:700      :   pidstr='(pid=%(process)d) '
+ functions:setup_systemd_logging:702      :   iniset /etc/neutron/neutron_ovn_metadata_agent.ini DEFAULT logging_debug_format_suffix '[00;33m{{(pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d}}[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:704      :   iniset /etc/neutron/neutron_ovn_metadata_agent.ini DEFAULT logging_context_format_string '%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:705      :   iniset /etc/neutron/neutron_ovn_metadata_agent.ini DEFAULT logging_default_format_string '%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions:setup_systemd_logging:706      :   iniset /etc/neutron/neutron_ovn_metadata_agent.ini DEFAULT logging_exception_prefix 'ERROR %(name)s [01;35m%(instance)s[00m'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron_plugins/ovn_agent:start_ovn:755 :   _start_ovn_services
+ lib/neutron_plugins/ovn_agent:_start_ovn_services:671 :   _start_process ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_start_process:237 :   sudo systemctl daemon-reload
+ lib/neutron_plugins/ovn_agent:_start_process:238 :   sudo systemctl enable ovsdb-server.service
The unit files have no installation config (WantedBy=, RequiredBy=, Also=,
Alias= settings in the [Install] section, and DefaultInstance= for template
units). This means they are not meant to be enabled using systemctl.
 
Possible reasons for having this kind of units are:
• A unit may be statically enabled by being symlinked from another unit's
  .wants/ or .requires/ directory.
• A unit's purpose may be to act as a helper for some other unit which has
  a requirement dependency on it.
• A unit may be started when needed via activation (socket, path, timer,
  D-Bus, udev, scripted systemctl call, ...).
• In case of template units, the unit is meant to be enabled with some
  instance name specified.
+ lib/neutron_plugins/ovn_agent:_start_process:239 :   sudo systemctl restart ovsdb-server.service
+ lib/neutron_plugins/ovn_agent:_start_ovn_services:672 :   _start_process ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_start_process:237 :   sudo systemctl daemon-reload
+ lib/neutron_plugins/ovn_agent:_start_process:238 :   sudo systemctl enable ovs-vswitchd.service
The unit files have no installation config (WantedBy=, RequiredBy=, Also=,
Alias= settings in the [Install] section, and DefaultInstance= for template
units). This means they are not meant to be enabled using systemctl.
 
Possible reasons for having this kind of units are:
• A unit may be statically enabled by being symlinked from another unit's
  .wants/ or .requires/ directory.
• A unit's purpose may be to act as a helper for some other unit which has
  a requirement dependency on it.
• A unit may be started when needed via activation (socket, path, timer,
  D-Bus, udev, scripted systemctl call, ...).
• In case of template units, the unit is meant to be enabled with some
  instance name specified.
+ lib/neutron_plugins/ovn_agent:_start_process:239 :   sudo systemctl restart ovs-vswitchd.service
+ lib/neutron_plugins/ovn_agent:_start_ovn_services:674 :   is_service_enabled ovn-northd
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:_start_ovn_services:675 :   _start_process ovn-central.service
+ lib/neutron_plugins/ovn_agent:_start_process:237 :   sudo systemctl daemon-reload
+ lib/neutron_plugins/ovn_agent:_start_process:238 :   sudo systemctl enable ovn-central.service
+ lib/neutron_plugins/ovn_agent:_start_process:239 :   sudo systemctl restart ovn-central.service
+ lib/neutron_plugins/ovn_agent:_start_ovn_services:677 :   is_service_enabled ovn-controller
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:_start_ovn_services:678 :   _start_process ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_start_process:237 :   sudo systemctl daemon-reload
+ lib/neutron_plugins/ovn_agent:_start_process:238 :   sudo systemctl enable ovn-controller.service
The unit files have no installation config (WantedBy=, RequiredBy=, Also=,
Alias= settings in the [Install] section, and DefaultInstance= for template
units). This means they are not meant to be enabled using systemctl.
 
Possible reasons for having this kind of units are:
• A unit may be statically enabled by being symlinked from another unit's
  .wants/ or .requires/ directory.
• A unit's purpose may be to act as a helper for some other unit which has
  a requirement dependency on it.
• A unit may be started when needed via activation (socket, path, timer,
  D-Bus, udev, scripted systemctl call, ...).
• In case of template units, the unit is meant to be enabled with some
  instance name specified.
+ lib/neutron_plugins/ovn_agent:_start_process:239 :   sudo systemctl restart ovn-controller.service
+ lib/neutron_plugins/ovn_agent:_start_ovn_services:680 :   is_service_enabled ovn-controller-vtep
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:_start_ovn_services:683 :   is_service_enabled ovs-vtep
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron_plugins/ovn_agent:_start_ovn_services:686 :   is_service_enabled q-ovn-metadata-agent
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/ovn_agent:_start_ovn_services:687 :   _start_process devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_start_process:237 :   sudo systemctl daemon-reload
+ lib/neutron_plugins/ovn_agent:_start_process:238 :   sudo systemctl enable devstack@q-ovn-metadata-agent.service
+ lib/neutron_plugins/ovn_agent:_start_process:239 :   sudo systemctl restart devstack@q-ovn-metadata-agent.service
+ lib/neutron-legacy:start_ovn_services:522 :   [[ True == \T\r\u\e ]]
+ lib/neutron-legacy:start_ovn_services:523 :   [[ True != \T\r\u\e ]]
+ lib/neutron-legacy:start_ovn_services:527 :   create_public_bridge
+ lib/neutron_plugins/ovn_agent:create_public_bridge:289 :   sudo ovs-vsctl --may-exist add-br br-ex -- set bridge br-ex protocols=OpenFlow13,OpenFlow15
+ lib/neutron_plugins/ovn_agent:create_public_bridge:290 :   sudo ovs-vsctl set open . external-ids:ovn-bridge-mappings=public:br-ex
+ lib/neutron_plugins/ovn_agent:create_public_bridge:291 :   _configure_public_network_connectivity
+ lib/neutron-legacy:_configure_public_network_connectivity:717 :   [[ -n '' ]]
+ lib/neutron-legacy:_configure_public_network_connectivity:724 :   for d in $default_v4_route_devs
+ lib/neutron-legacy:_configure_public_network_connectivity:725 :   sudo iptables -t nat -A POSTROUTING -o eno1 -s 172.24.4.0/24 -j MASQUERADE
+ ./stack.sh:main:1280                     :   is_service_enabled neutron-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ ./stack.sh:main:1283                     :   is_service_enabled q-svc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1284                     :   echo_summary 'Starting Neutron'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Starting Neutron
2022-08-22 10:25:38.709 | Starting Neutron
+ ./stack.sh:main:1285                     :   configure_neutron_after_post_config
+ lib/neutron-legacy:configure_neutron_after_post_config:499 :   [[ ovn-router != '' ]]
+ lib/neutron-legacy:configure_neutron_after_post_config:500 :   iniset /etc/neutron/neutron.conf DEFAULT service_plugins ovn-router
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron-legacy:configure_neutron_after_post_config:502 :   configure_rbac_policies
+ lib/neutron:configure_rbac_policies:651  :   [[ False == \T\r\u\e ]]
+ lib/neutron:configure_rbac_policies:651  :   [[ False == \T\r\u\e ]]
+ lib/neutron:configure_rbac_policies:655  :   iniset /etc/neutron/neutron.conf oslo_policy enforce_new_defaults False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/neutron:configure_rbac_policies:656  :   iniset /etc/neutron/neutron.conf oslo_policy enforce_scope False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ ./stack.sh:main:1286                     :   start_neutron_service_and_check
+ lib/neutron-legacy:start_neutron_service_and_check:535 :   local service_port=9696
+ lib/neutron-legacy:start_neutron_service_and_check:536 :   local service_protocol=http
+ lib/neutron-legacy:start_neutron_service_and_check:537 :   local cfg_file_options
+ lib/neutron-legacy:start_neutron_service_and_check:538 :   local neutron_url
++ lib/neutron-legacy:start_neutron_service_and_check:540 :   determine_config_files neutron-server
++ lib/neutron-legacy:determine_config_files:337 :   local opts=
++ lib/neutron-legacy:determine_config_files:338 :   case "$1" in
+++ lib/neutron-legacy:determine_config_files:339 :   _determine_config_server
+++ lib/neutron-legacy:_determine_config_server:307 :   [[ '' != '' ]]
+++ lib/neutron-legacy:_determine_config_server:314 :   [[ 0 > 0 ]]
+++ lib/neutron-legacy:_determine_config_server:321 :   local cfg_file
+++ lib/neutron-legacy:_determine_config_server:322 :   local 'opts=--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+++ lib/neutron-legacy:_determine_config_server:326 :   echo '--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
++ lib/neutron-legacy:determine_config_files:339 :   opts='--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
++ lib/neutron-legacy:determine_config_files:342 :   '[' -z '--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini' ']'
++ lib/neutron-legacy:determine_config_files:345 :   echo '--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ lib/neutron-legacy:start_neutron_service_and_check:540 :   cfg_file_options='--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ lib/neutron-legacy:start_neutron_service_and_check:542 :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:start_neutron_service_and_check:547 :   '[' False == True ']'
+ lib/neutron-legacy:start_neutron_service_and_check:554 :   run_process q-svc '/usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:run_process:1693        :   local service=q-svc
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=q-svc
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163938983
+ functions-common:run_process:1702        :   is_service_enabled q-svc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd q-svc '/usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=q-svc
+ functions-common:_run_under_systemd:1654 :   local 'command=/usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@q-svc.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1669 :   write_user_unit_file devstack@q-svc.service '/usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini' '' stack ''
+ functions-common:write_user_unit_file:1562 :   local service=devstack@q-svc.service
+ functions-common:write_user_unit_file:1563 :   local 'command=/usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:write_user_unit_file:1564 :   local group=
+ functions-common:write_user_unit_file:1565 :   local user=stack
+ functions-common:write_user_unit_file:1566 :   local env_vars=
+ functions-common:write_user_unit_file:1567 :   local extra=
+ functions-common:write_user_unit_file:1568 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1571 :   local unitfile=/etc/systemd/system/devstack@q-svc.service
+ functions-common:write_user_unit_file:1572 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1574 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Unit Description 'Devstack devstack@q-svc.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1575 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1576 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Service ExecStart '/usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1577 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1578 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Service TimeoutStopSec 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1580 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1583 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@q-svc.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1589 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@q-svc.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@q-svc.service → /etc/systemd/system/devstack@q-svc.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@q-svc.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163938983
+ functions-common:time_stop:2448          :   [[ -z 1661163938983 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163940325
+ functions-common:time_stop:2452          :   elapsed_time=1342
+ functions-common:time_stop:2453          :   total=5955
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=7297
+ lib/neutron-legacy:start_neutron_service_and_check:555 :   neutron_url=http://10.200.2.118:9696/
+ lib/neutron-legacy:start_neutron_service_and_check:557 :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/neutron-legacy:start_neutron_service_and_check:561 :   '[' '!' -z networking ']'
+ lib/neutron-legacy:start_neutron_service_and_check:562 :   neutron_url=http://10.200.2.118:9696/networking
+ lib/neutron-legacy:start_neutron_service_and_check:564 :   echo 'Waiting for Neutron to start...'
Waiting for Neutron to start...
+ lib/neutron-legacy:start_neutron_service_and_check:566 :   local 'testcmd=wget  --no-proxy -q -O- http://10.200.2.118:9696/networking'
+ lib/neutron-legacy:start_neutron_service_and_check:567 :   test_with_retry 'wget  --no-proxy -q -O- http://10.200.2.118:9696/networking' 'Neutron did not start' 60
+ functions-common:test_with_retry:2377    :   local 'testcmd=wget  --no-proxy -q -O- http://10.200.2.118:9696/networking'
+ functions-common:test_with_retry:2378    :   local 'failmsg=Neutron did not start'
+ functions-common:test_with_retry:2379    :   local until=60
+ functions-common:test_with_retry:2380    :   local sleep=0.5
+ functions-common:test_with_retry:2382    :   time_start test_with_retry
+ functions-common:time_start:2425         :   local name=test_with_retry
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163940412
+ functions-common:test_with_retry:2383    :   timeout 60 sh -c 'while ! wget  --no-proxy -q -O- http://10.200.2.118:9696/networking; do sleep 0.5; done'
{"versions": [{"id": "v2.0", "status": "CURRENT", "links": [{"rel": "self", "href": "http://10.200.2.118:9696/networking/v2.0/"}]}]}+ functions-common:test_with_retry:2386    :   time_stop test_with_retry
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=test_with_retry
+ functions-common:time_stop:2446          :   start_time=1661163940412
+ functions-common:time_stop:2448          :   [[ -z 1661163940412 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163945028
+ functions-common:time_stop:2452          :   elapsed_time=4616
+ functions-common:time_stop:2453          :   total=0
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=4616
+ ./stack.sh:main:1291                     :   is_service_enabled placement
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1292                     :   echo_summary 'Starting Placement'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Starting Placement
2022-08-22 10:25:45.077 | Starting Placement
+ ./stack.sh:main:1293                     :   start_placement
+ lib/placement:start_placement:160        :   start_placement_api
+ lib/placement:start_placement_api:146    :   [[ uwsgi == \u\w\s\g\i ]]
++ lib/placement:start_placement_api:147    :   which uwsgi
+ lib/placement:start_placement_api:147    :   run_process placement-api '/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:run_process:1693        :   local service=placement-api
+ functions-common:run_process:1694        :   local 'command=/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=placement-api
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163945129
+ functions-common:run_process:1702        :   is_service_enabled placement-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd placement-api '/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=placement-api
+ functions-common:_run_under_systemd:1654 :   local 'command=/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@placement-api.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1667 :   write_uwsgi_user_unit_file devstack@placement-api.service '/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini' '' stack ''
+ functions-common:write_uwsgi_user_unit_file:1593 :   local service=devstack@placement-api.service
+ functions-common:write_uwsgi_user_unit_file:1594 :   local 'command=/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ functions-common:write_uwsgi_user_unit_file:1595 :   local group=
+ functions-common:write_uwsgi_user_unit_file:1596 :   local user=stack
+ functions-common:write_uwsgi_user_unit_file:1597 :   local env_vars=
+ functions-common:write_uwsgi_user_unit_file:1598 :   local unitfile=/etc/systemd/system/devstack@placement-api.service
+ functions-common:write_uwsgi_user_unit_file:1599 :   mkdir -p /etc/systemd/system
+ functions-common:write_uwsgi_user_unit_file:1601 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Unit Description 'Devstack devstack@placement-api.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1602 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service SyslogIdentifier devstack@placement-api.service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1603 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1604 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service ExecStart '/bin/uwsgi --procname-prefix placement --ini /etc/placement/placement-uwsgi.ini'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1605 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1606 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service Type notify
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1607 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1608 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service Restart always
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1609 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service NotifyAccess all
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1610 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Service RestartForceExitStatus 100
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1612 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1615 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1618 :   iniset -sudo /etc/systemd/system/devstack@placement-api.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1621 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@placement-api.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@placement-api.service → /etc/systemd/system/devstack@placement-api.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@placement-api.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163945129
+ functions-common:time_stop:2448          :   [[ -z 1661163945129 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163946805
+ functions-common:time_stop:2452          :   elapsed_time=1676
+ functions-common:time_stop:2453          :   total=7297
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=8973
+ lib/placement:start_placement_api:153    :   echo 'Waiting for placement-api to start...'
Waiting for placement-api to start...
+ lib/placement:start_placement_api:154    :   wait_for_service 60 http://10.200.2.118/placement
+ functions:wait_for_service:457           :   local timeout=60
+ functions:wait_for_service:458           :   local url=http://10.200.2.118/placement
+ functions:wait_for_service:459           :   local rval=0
+ functions:wait_for_service:460           :   time_start wait_for_service
+ functions-common:time_start:2425         :   local name=wait_for_service
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163946864
+ functions:wait_for_service:461           :   timeout 60 bash -x
++ ::                                       :   curl -g -k --noproxy '*' -s -o /dev/null -w '%{http_code}' http://10.200.2.118/placement
+ ::                                       :   [[ 200 == 503 ]]
+ ::                                       :   [[ 0 -eq 7 ]]
+ functions:wait_for_service:466           :   time_stop wait_for_service
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=wait_for_service
+ functions-common:time_stop:2446          :   start_time=1661163946864
+ functions-common:time_stop:2448          :   [[ -z 1661163946864 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163948154
+ functions-common:time_stop:2452          :   elapsed_time=1290
+ functions-common:time_stop:2453          :   total=5596
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=6886
+ functions:wait_for_service:467           :   return 0
+ ./stack.sh:main:1296                     :   is_service_enabled neutron
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1297                     :   start_neutron
+ lib/neutron:start_neutron:748            :   is_neutron_legacy_enabled
++ lib/neutron:is_neutron_legacy_enabled:142 :   sed s/neutron-//g
++ lib/neutron:is_neutron_legacy_enabled:142 :   echo
+ lib/neutron:is_neutron_legacy_enabled:142 :   disabled_services_copy=
+ lib/neutron:is_neutron_legacy_enabled:143 :   [[ , =~ ,neutron ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   [[ ,key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat =~ ,q- ]]
+ lib/neutron:is_neutron_legacy_enabled:144 :   return 0
+ lib/neutron:start_neutron:750            :   start_mutnauq_l2_agent
+ lib/neutron-legacy:start_mutnauq_l2_agent:573 :   run_process q-agt ' --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:run_process:1693        :   local service=q-agt
+ functions-common:run_process:1694        :   local 'command= --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=q-agt
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163948275
+ functions-common:run_process:1702        :   is_service_enabled q-agt
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163948275
+ functions-common:time_stop:2448          :   [[ -z 1661163948275 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163948340
+ functions-common:time_stop:2452          :   elapsed_time=65
+ functions-common:time_stop:2453          :   total=8973
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=9038
+ lib/neutron-legacy:start_mutnauq_l2_agent:575 :   is_provider_network
+ functions-common:is_provider_network:2288 :   '[' '' == True ']'
+ functions-common:is_provider_network:2291 :   return 1
+ lib/neutron:start_neutron:751            :   start_mutnauq_other_agents
+ lib/neutron-legacy:start_mutnauq_other_agents:591 :   run_process q-dhcp '/usr/local/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini'
+ functions-common:run_process:1693        :   local service=q-dhcp
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/neutron-dhcp-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/dhcp_agent.ini'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=q-dhcp
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163948405
+ functions-common:run_process:1702        :   is_service_enabled q-dhcp
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163948405
+ functions-common:time_stop:2448          :   [[ -z 1661163948405 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163948468
+ functions-common:time_stop:2452          :   elapsed_time=63
+ functions-common:time_stop:2453          :   total=9038
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=9101
++ lib/neutron-legacy:start_mutnauq_other_agents:593 :   determine_config_files neutron-l3-agent
++ lib/neutron-legacy:determine_config_files:337 :   local opts=
++ lib/neutron-legacy:determine_config_files:338 :   case "$1" in
+++ lib/neutron-legacy:determine_config_files:340 :   _determine_config_l3
+++ lib/neutron-legacy:_determine_config_l3:330 :   local 'opts=--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+++ lib/neutron-legacy:_determine_config_l3:331 :   echo '--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
++ lib/neutron-legacy:determine_config_files:340 :   opts='--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
++ lib/neutron-legacy:determine_config_files:342 :   '[' -z '--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini' ']'
++ lib/neutron-legacy:determine_config_files:345 :   echo '--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+ lib/neutron-legacy:start_mutnauq_other_agents:593 :   run_process q-l3 '/usr/local/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+ functions-common:run_process:1693        :   local service=q-l3
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/neutron-l3-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/l3_agent.ini'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=q-l3
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163948555
+ functions-common:run_process:1702        :   is_service_enabled q-l3
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163948555
+ functions-common:time_stop:2448          :   [[ -z 1661163948555 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163948615
+ functions-common:time_stop:2452          :   elapsed_time=60
+ functions-common:time_stop:2453          :   total=9101
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=9161
+ lib/neutron-legacy:start_mutnauq_other_agents:595 :   run_process q-meta '/usr/local/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini'
+ functions-common:run_process:1693        :   local service=q-meta
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/neutron-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/metadata_agent.ini'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=q-meta
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163948669
+ functions-common:run_process:1702        :   is_service_enabled q-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163948669
+ functions-common:time_stop:2448          :   [[ -z 1661163948669 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163948731
+ functions-common:time_stop:2452          :   elapsed_time=62
+ functions-common:time_stop:2453          :   total=9161
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=9223
+ lib/neutron-legacy:start_mutnauq_other_agents:596 :   run_process q-metering '/usr/local/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file '
+ functions-common:run_process:1693        :   local service=q-metering
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/neutron-metering-agent --config-file /etc/neutron/neutron.conf --config-file '
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=q-metering
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163948783
+ functions-common:run_process:1702        :   is_service_enabled q-metering
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163948783
+ functions-common:time_stop:2448          :   [[ -z 1661163948783 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163948848
+ functions-common:time_stop:2452          :   elapsed_time=65
+ functions-common:time_stop:2453          :   total=9223
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=9288
+ ./stack.sh:main:1300                     :   is_service_enabled q-svc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1300                     :   [[ True == \T\r\u\e ]]
+ ./stack.sh:main:1301                     :   echo_summary 'Creating initial neutron network elements'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Creating initial neutron network elements
2022-08-22 10:25:48.900 | Creating initial neutron network elements
+ ./stack.sh:main:1304                     :   type -p neutron_plugin_create_initial_networks
+ ./stack.sh:main:1307                     :   create_neutron_initial_network
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:151 :   type -p neutron_plugin_create_initial_network_profile
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:155 :   is_networking_extension_supported auto-allocated-topology
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:427 :   local extension=auto-allocated-topology
++ lib/neutron_plugins/services/l3:is_networking_extension_supported:429 :   oscwrap --os-cloud devstack-admin --os-region RegionOne extension list --network -c Alias -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:429 :   EXT_LIST='address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
default-subnetpools
dns-integration
dns-domain-ports
dns-integration-domain-keywords
external-net
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
flavors
floatingip-pools
router
ext-gw-mode
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
binding
binding-extended
port-security
project-id
provider
quota-check-limit
quotas
quota_details
rbac-policies
rbac-address-scope
rbac-security-groups
revision-if-match
standard-attr-revisions
router_availability_zone
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
security-group
service-type
sorting
standard-attr-description
stateful-security-group
subnet-dns-publish-fixed-ip
subnet-service-types
subnet_allocation
standard-attr-tag
standard-attr-timestamp'
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:430 :   [[ address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
default-subnetpools
dns-integration
dns-domain-ports
dns-integration-domain-keywords
external-net
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
flavors
floatingip-pools
router
ext-gw-mode
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
binding
binding-extended
port-security
project-id
provider
quota-check-limit
quotas
quota_details
rbac-policies
rbac-address-scope
rbac-security-groups
revision-if-match
standard-attr-revisions
router_availability_zone
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
security-group
service-type
sorting
standard-attr-description
stateful-security-group
subnet-dns-publish-fixed-ip
subnet-service-types
subnet_allocation
standard-attr-tag
standard-attr-timestamp =~ auto-allocated-topology ]]
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:430 :   return 0
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:156 :   [[ True == \T\r\u\e ]]
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:157 :   [[ 4+6 =~ 4.* ]]
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:158 :   oscwrap --os-cloud devstack-admin --os-region RegionOne subnet pool create shared-default-subnetpool-v4 --default-prefix-length 26 --pool-prefix 10.0.0.0/22 --share --default -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   set +o
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:158 :   SUBNETPOOL_V4_ID=37ba75ef-e261-45d9-a889-92e87a39c5fc
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:160 :   [[ 4+6 =~ .*6 ]]
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:161 :   oscwrap --os-cloud devstack-admin --os-region RegionOne subnet pool create shared-default-subnetpool-v6 --default-prefix-length 64 --pool-prefix fd15:454b:5186::/56 --share --default -f value -c id
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:161 :   SUBNETPOOL_V6_ID=b47c5765-7874-4240-a10e-832ddb792c8c
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:166 :   is_provider_network
+ functions-common:is_provider_network:2288 :   '[' '' == True ']'
+ functions-common:is_provider_network:2291 :   return 1
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:196 :   oscwrap --os-cloud devstack --os-region RegionOne network create private
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:196 :   grep ' id '
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:196 :   get_field 2
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 2 -lt 0 ']'
++ functions-common:get_field:816           :   field='$3'
++ functions-common:get_field:818           :   echo '| id                        | 75b5973a-aa76-4db6-8e93-1f8ac00b7587 |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $3}'
++ functions-common:get_field:812           :   read data
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:196 :   NET_ID=75b5973a-aa76-4db6-8e93-1f8ac00b7587
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:197 :   die_if_not_set 197 NET_ID 'Failure creating NET_ID for private'
+ functions-common:die_if_not_set:282      :   local exitcode=0
+ functions-common:die_if_not_set:283      :   local xtrace
++ functions-common:die_if_not_set:284      :   set +o
++ functions-common:die_if_not_set:284      :   grep xtrace
+ functions-common:die_if_not_set:284      :   xtrace='set -o xtrace'
+ functions-common:die_if_not_set:285      :   set +o xtrace
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:199 :   [[ 4+6 =~ 4.* ]]
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:201 :   _neutron_create_private_subnet_v4
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:248 :   '[' -z 37ba75ef-e261-45d9-a889-92e87a39c5fc ']'
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:251 :   local 'subnet_params=--ip-version 4 '
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:252 :   [[ -n '' ]]
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:256 :   subnet_params+='--subnet-pool 37ba75ef-e261-45d9-a889-92e87a39c5fc '
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:257 :   subnet_params+=' '
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:258 :   subnet_params+='--network 75b5973a-aa76-4db6-8e93-1f8ac00b7587 private-subnet'
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:259 :   local subnet_id
+++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:260 :   oscwrap --os-cloud devstack-admin-demo --os-region RegionOne subnet create --ip-version 4 --subnet-pool 37ba75ef-e261-45d9-a889-92e87a39c5fc --network 75b5973a-aa76-4db6-8e93-1f8ac00b7587 private-subnet
+++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:260 :   grep ' id '
+++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:260 :   get_field 2
+++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:get_field:811           :   local data field
+++ functions-common:get_field:812           :   read data
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
+++ functions-common:get_field:813           :   '[' 2 -lt 0 ']'
+++ functions-common:get_field:816           :   field='$3'
+++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $3}'
+++ functions-common:get_field:818           :   echo '| id                   | 0c642fd3-3706-437c-8668-ef18a9ae2536 |'
+++ functions-common:get_field:812           :   read data
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:260 :   subnet_id=0c642fd3-3706-437c-8668-ef18a9ae2536
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:261 :   die_if_not_set 261 subnet_id 'Failure creating private IPv4 subnet'
++ functions-common:die_if_not_set:282      :   local exitcode=0
++ functions-common:die_if_not_set:283      :   local xtrace
+++ functions-common:die_if_not_set:284      :   grep xtrace
+++ functions-common:die_if_not_set:284      :   set +o
++ functions-common:die_if_not_set:284      :   xtrace='set -o xtrace'
++ functions-common:die_if_not_set:285      :   set +o xtrace
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v4:262 :   echo 0c642fd3-3706-437c-8668-ef18a9ae2536
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:201 :   SUBNET_ID=0c642fd3-3706-437c-8668-ef18a9ae2536
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:204 :   [[ 4+6 =~ .*6 ]]
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:206 :   _neutron_create_private_subnet_v6
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:267 :   die_if_not_set 267 IPV6_RA_MODE 'IPV6 RA Mode not set'
++ functions-common:die_if_not_set:282      :   local exitcode=0
++ functions-common:die_if_not_set:283      :   local xtrace
+++ functions-common:die_if_not_set:284      :   set +o
+++ functions-common:die_if_not_set:284      :   grep xtrace
++ functions-common:die_if_not_set:284      :   xtrace='set -o xtrace'
++ functions-common:die_if_not_set:285      :   set +o xtrace
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:268 :   die_if_not_set 268 IPV6_ADDRESS_MODE 'IPV6 Address Mode not set'
++ functions-common:die_if_not_set:282      :   local exitcode=0
++ functions-common:die_if_not_set:283      :   local xtrace
+++ functions-common:die_if_not_set:284      :   set +o
+++ functions-common:die_if_not_set:284      :   grep xtrace
++ functions-common:die_if_not_set:284      :   xtrace='set -o xtrace'
++ functions-common:die_if_not_set:285      :   set +o xtrace
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:269 :   local 'ipv6_modes=--ipv6-ra-mode slaac --ipv6-address-mode slaac'
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:270 :   '[' -z b47c5765-7874-4240-a10e-832ddb792c8c ']'
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:273 :   local 'subnet_params=--ip-version 6 '
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:274 :   [[ -n '' ]]
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:277 :   subnet_params+='--subnet-pool b47c5765-7874-4240-a10e-832ddb792c8c '
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:278 :   subnet_params+=' '
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:279 :   subnet_params+='--ipv6-ra-mode slaac --ipv6-address-mode slaac --network 75b5973a-aa76-4db6-8e93-1f8ac00b7587 ipv6-private-subnet '
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:280 :   local ipv6_subnet_id
+++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:281 :   oscwrap --os-cloud devstack-admin-demo --os-region RegionOne subnet create --ip-version 6 --subnet-pool b47c5765-7874-4240-a10e-832ddb792c8c --ipv6-ra-mode slaac --ipv6-address-mode slaac --network 75b5973a-aa76-4db6-8e93-1f8ac00b7587 ipv6-private-subnet
+++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:281 :   get_field 2
+++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:281 :   grep ' id '
+++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:get_field:811           :   local data field
+++ functions-common:get_field:812           :   read data
++++ functions-common:oscwrap:2461            :   grep xtrace
++++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
+++ functions-common:get_field:813           :   '[' 2 -lt 0 ']'
+++ functions-common:get_field:816           :   field='$3'
+++ functions-common:get_field:818           :   echo '| id                   | f9136157-3e83-4972-8209-8a191b74dd5d                   |'
+++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $3}'
+++ functions-common:get_field:812           :   read data
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:281 :   ipv6_subnet_id=f9136157-3e83-4972-8209-8a191b74dd5d
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:282 :   die_if_not_set 282 ipv6_subnet_id 'Failure creating private IPv6 subnet'
++ functions-common:die_if_not_set:282      :   local exitcode=0
++ functions-common:die_if_not_set:283      :   local xtrace
+++ functions-common:die_if_not_set:284      :   set +o
+++ functions-common:die_if_not_set:284      :   grep xtrace
++ functions-common:die_if_not_set:284      :   xtrace='set -o xtrace'
++ functions-common:die_if_not_set:285      :   set +o xtrace
++ lib/neutron_plugins/services/l3:_neutron_create_private_subnet_v6:283 :   echo f9136157-3e83-4972-8209-8a191b74dd5d
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:206 :   IPV6_SUBNET_ID=f9136157-3e83-4972-8209-8a191b74dd5d
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:210 :   is_networking_extension_supported router
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:427 :   local extension=router
++ lib/neutron_plugins/services/l3:is_networking_extension_supported:429 :   oscwrap --os-cloud devstack-admin --os-region RegionOne extension list --network -c Alias -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:429 :   EXT_LIST='address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
default-subnetpools
dns-integration
dns-domain-ports
dns-integration-domain-keywords
external-net
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
flavors
floatingip-pools
router
ext-gw-mode
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
binding
binding-extended
port-security
project-id
provider
quota-check-limit
quotas
quota_details
rbac-policies
rbac-address-scope
rbac-security-groups
revision-if-match
standard-attr-revisions
router_availability_zone
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
security-group
service-type
sorting
standard-attr-description
stateful-security-group
subnet-dns-publish-fixed-ip
subnet-service-types
subnet_allocation
standard-attr-tag
standard-attr-timestamp'
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:430 :   [[ address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
default-subnetpools
dns-integration
dns-domain-ports
dns-integration-domain-keywords
external-net
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
flavors
floatingip-pools
router
ext-gw-mode
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
binding
binding-extended
port-security
project-id
provider
quota-check-limit
quotas
quota_details
rbac-policies
rbac-address-scope
rbac-security-groups
revision-if-match
standard-attr-revisions
router_availability_zone
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
security-group
service-type
sorting
standard-attr-description
stateful-security-group
subnet-dns-publish-fixed-ip
subnet-service-types
subnet_allocation
standard-attr-tag
standard-attr-timestamp =~ router ]]
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:430 :   return 0
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:210 :   is_networking_extension_supported external-net
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:427 :   local extension=external-net
++ lib/neutron_plugins/services/l3:is_networking_extension_supported:429 :   oscwrap --os-cloud devstack-admin --os-region RegionOne extension list --network -c Alias -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:429 :   EXT_LIST='address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
default-subnetpools
dns-integration
dns-domain-ports
dns-integration-domain-keywords
external-net
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
flavors
floatingip-pools
router
ext-gw-mode
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
binding
binding-extended
port-security
project-id
provider
quota-check-limit
quotas
quota_details
rbac-policies
rbac-address-scope
rbac-security-groups
revision-if-match
standard-attr-revisions
router_availability_zone
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
security-group
service-type
sorting
standard-attr-description
stateful-security-group
subnet-dns-publish-fixed-ip
subnet-service-types
subnet_allocation
standard-attr-tag
standard-attr-timestamp'
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:430 :   [[ address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
default-subnetpools
dns-integration
dns-domain-ports
dns-integration-domain-keywords
external-net
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
flavors
floatingip-pools
router
ext-gw-mode
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
binding
binding-extended
port-security
project-id
provider
quota-check-limit
quotas
quota_details
rbac-policies
rbac-address-scope
rbac-security-groups
revision-if-match
standard-attr-revisions
router_availability_zone
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
security-group
service-type
sorting
standard-attr-description
stateful-security-group
subnet-dns-publish-fixed-ip
subnet-service-types
subnet_allocation
standard-attr-tag
standard-attr-timestamp =~ external-net ]]
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:430 :   return 0
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:212 :   [[ True == \T\r\u\e ]]
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:214 :   oscwrap --os-cloud devstack --os-region RegionOne router create router1
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:214 :   grep ' id '
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:214 :   get_field 2
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:get_field:812           :   read data
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 2 -lt 0 ']'
++ functions-common:get_field:816           :   field='$3'
++ functions-common:get_field:818           :   echo '| id                      | cb4474b6-1ba0-4e02-9b8d-1829c382c163 |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $3}'
++ functions-common:get_field:812           :   read data
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:214 :   ROUTER_ID=cb4474b6-1ba0-4e02-9b8d-1829c382c163
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:215 :   die_if_not_set 215 ROUTER_ID 'Failure creating router router1'
+ functions-common:die_if_not_set:282      :   local exitcode=0
+ functions-common:die_if_not_set:283      :   local xtrace
++ functions-common:die_if_not_set:284      :   set +o
++ functions-common:die_if_not_set:284      :   grep xtrace
+ functions-common:die_if_not_set:284      :   xtrace='set -o xtrace'
+ functions-common:die_if_not_set:285      :   set +o xtrace
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:222 :   EXTERNAL_NETWORK_FLAGS=--external
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:223 :   is_networking_extension_supported auto-allocated-topology
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:427 :   local extension=auto-allocated-topology
++ lib/neutron_plugins/services/l3:is_networking_extension_supported:429 :   oscwrap --os-cloud devstack-admin --os-region RegionOne extension list --network -c Alias -f value
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:429 :   EXT_LIST='address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
default-subnetpools
dns-integration
dns-domain-ports
dns-integration-domain-keywords
external-net
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
flavors
floatingip-pools
router
ext-gw-mode
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
binding
binding-extended
port-security
project-id
provider
quota-check-limit
quotas
quota_details
rbac-policies
rbac-address-scope
rbac-security-groups
revision-if-match
standard-attr-revisions
router_availability_zone
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
security-group
service-type
sorting
standard-attr-description
stateful-security-group
subnet-dns-publish-fixed-ip
subnet-service-types
subnet_allocation
standard-attr-tag
standard-attr-timestamp'
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:430 :   [[ address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
default-subnetpools
dns-integration
dns-domain-ports
dns-integration-domain-keywords
external-net
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
flavors
floatingip-pools
router
ext-gw-mode
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
binding
binding-extended
port-security
project-id
provider
quota-check-limit
quotas
quota_details
rbac-policies
rbac-address-scope
rbac-security-groups
revision-if-match
standard-attr-revisions
router_availability_zone
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
security-group
service-type
sorting
standard-attr-description
stateful-security-group
subnet-dns-publish-fixed-ip
subnet-service-types
subnet_allocation
standard-attr-tag
standard-attr-timestamp =~ auto-allocated-topology ]]
+ lib/neutron_plugins/services/l3:is_networking_extension_supported:430 :   return 0
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:224 :   EXTERNAL_NETWORK_FLAGS='--external --default'
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:227 :   '[' True = True ']'
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:228 :   oscwrap --os-cloud devstack-admin --os-region RegionOne network create public --external --default --provider-network-type flat --provider-physical-network public
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:228 :   grep ' id '
++ lib/neutron_plugins/services/l3:create_neutron_initial_network:228 :   get_field 2
++ functions-common:oscwrap:2460            :   local xtrace
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
++ functions-common:get_field:813           :   '[' 2 -lt 0 ']'
++ functions-common:get_field:816           :   field='$3'
++ functions-common:get_field:818           :   echo '| id                        | e295a544-b00b-4e25-ae71-4ab1d6099169 |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $3}'
++ functions-common:get_field:812           :   read data
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:228 :   EXT_NET_ID=e295a544-b00b-4e25-ae71-4ab1d6099169
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:232 :   die_if_not_set 232 EXT_NET_ID 'Failure creating EXT_NET_ID for public'
+ functions-common:die_if_not_set:282      :   local exitcode=0
+ functions-common:die_if_not_set:283      :   local xtrace
++ functions-common:die_if_not_set:284      :   set +o
++ functions-common:die_if_not_set:284      :   grep xtrace
+ functions-common:die_if_not_set:284      :   xtrace='set -o xtrace'
+ functions-common:die_if_not_set:285      :   set +o xtrace
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:234 :   [[ 4+6 =~ 4.* ]]
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:236 :   _neutron_configure_router_v4
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:315 :   openstack --os-cloud devstack-admin-demo --os-region RegionOne router add subnet cb4474b6-1ba0-4e02-9b8d-1829c382c163 0c642fd3-3706-437c-8668-ef18a9ae2536
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:317 :   local id_and_ext_gw_ip
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:318 :   _neutron_create_public_subnet_v4 e295a544-b00b-4e25-ae71-4ab1d6099169
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v4:288 :   local 'subnet_params=--ip-version 4 '
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v4:289 :   subnet_params+=' '
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v4:290 :   [[ -n '' ]]
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v4:293 :   subnet_params+='--network e295a544-b00b-4e25-ae71-4ab1d6099169 --subnet-range 172.24.4.0/24 --no-dhcp '
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v4:294 :   subnet_params+=public-subnet
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v4:295 :   local id_and_ext_gw_ip
+++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v4:296 :   oscwrap --os-cloud devstack-admin --os-region RegionOne subnet create --ip-version 4 --network e295a544-b00b-4e25-ae71-4ab1d6099169 --subnet-range 172.24.4.0/24 --no-dhcp public-subnet
+++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v4:296 :   grep -e gateway_ip -e ' id '
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v4:296 :   id_and_ext_gw_ip='| gateway_ip           | 172.24.4.1                           |
| id                   | 1f2fbb06-d3b9-450f-ac9d-58d2a069ea9f |'
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v4:297 :   die_if_not_set 297 id_and_ext_gw_ip 'Failure creating public IPv4 subnet'
++ functions-common:die_if_not_set:282      :   local exitcode=0
++ functions-common:die_if_not_set:283      :   local xtrace
+++ functions-common:die_if_not_set:284      :   set +o
+++ functions-common:die_if_not_set:284      :   grep xtrace
++ functions-common:die_if_not_set:284      :   xtrace='set -o xtrace'
++ functions-common:die_if_not_set:285      :   set +o xtrace
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v4:298 :   echo '|' gateway_ip '|' 172.24.4.1 '|' '|' id '|' 1f2fbb06-d3b9-450f-ac9d-58d2a069ea9f '|'
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:318 :   id_and_ext_gw_ip='| gateway_ip | 172.24.4.1 | | id | 1f2fbb06-d3b9-450f-ac9d-58d2a069ea9f |'
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:319 :   local ext_gw_ip
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:320 :   echo '|' gateway_ip '|' 172.24.4.1 '|' '|' id '|' 1f2fbb06-d3b9-450f-ac9d-58d2a069ea9f '|'
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:320 :   get_field 2
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
++ functions-common:get_field:813           :   '[' 2 -lt 0 ']'
++ functions-common:get_field:816           :   field='$3'
++ functions-common:get_field:818           :   echo '| gateway_ip | 172.24.4.1 | | id | 1f2fbb06-d3b9-450f-ac9d-58d2a069ea9f |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $3}'
++ functions-common:get_field:812           :   read data
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:320 :   ext_gw_ip=172.24.4.1
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:321 :   echo '|' gateway_ip '|' 172.24.4.1 '|' '|' id '|' 1f2fbb06-d3b9-450f-ac9d-58d2a069ea9f '|'
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:321 :   get_field 5
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
++ functions-common:get_field:813           :   '[' 5 -lt 0 ']'
++ functions-common:get_field:816           :   field='$6'
++ functions-common:get_field:818           :   echo '| gateway_ip | 172.24.4.1 | | id | 1f2fbb06-d3b9-450f-ac9d-58d2a069ea9f |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $6}'
++ functions-common:get_field:812           :   read data
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:321 :   PUB_SUBNET_ID=1f2fbb06-d3b9-450f-ac9d-58d2a069ea9f
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:323 :   openstack --os-cloud devstack-admin-demo --os-region RegionOne router set --external-gateway e295a544-b00b-4e25-ae71-4ab1d6099169 cb4474b6-1ba0-4e02-9b8d-1829c382c163
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:326 :   [[ ovn == \o\v\n ]]
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:326 :   [[ True == \T\r\u\e ]]
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:326 :   is_service_enabled q-svc neutron-server
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:328 :   local ext_gw_interface=none
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:329 :   is_neutron_ovs_base_plugin
+ lib/neutron_plugins/ovs_base:is_neutron_ovs_base_plugin:23 :   return 0
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:330 :   _neutron_get_ext_gw_interface
++ lib/neutron_plugins/services/l3:_neutron_get_ext_gw_interface:138 :   [[ False == \T\r\u\e ]]
++ lib/neutron_plugins/services/l3:_neutron_get_ext_gw_interface:143 :   sudo ovs-vsctl set Bridge br-ex other_config:disable-in-band=true
++ lib/neutron_plugins/services/l3:_neutron_get_ext_gw_interface:145 :   echo br-ex
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:330 :   ext_gw_interface=br-ex
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:342 :   [[ br-ex != \n\o\n\e ]]
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:343 :   local cidr_len=24
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:344 :   local 'testcmd=ip -o link | grep -q br-ex'
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:345 :   test_with_retry 'ip -o link | grep -q br-ex' 'br-ex creation failed'
+ functions-common:test_with_retry:2377    :   local 'testcmd=ip -o link | grep -q br-ex'
+ functions-common:test_with_retry:2378    :   local 'failmsg=br-ex creation failed'
+ functions-common:test_with_retry:2379    :   local until=10
+ functions-common:test_with_retry:2380    :   local sleep=0.5
+ functions-common:test_with_retry:2382    :   time_start test_with_retry
+ functions-common:time_start:2425         :   local name=test_with_retry
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163974680
+ functions-common:test_with_retry:2383    :   timeout 10 sh -c 'while ! ip -o link | grep -q br-ex; do sleep 0.5; done'
+ functions-common:test_with_retry:2386    :   time_stop test_with_retry
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=test_with_retry
+ functions-common:time_stop:2446          :   start_time=1661163974680
+ functions-common:time_stop:2448          :   [[ -z 1661163974680 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163974730
+ functions-common:time_stop:2452          :   elapsed_time=50
+ functions-common:time_stop:2453          :   total=4616
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=4666
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:346 :   grep -c 172.24.4.1
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:346 :   ip addr show dev br-ex
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:346 :   [[ 0 == 0 ]]
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:346 :   [[ True == \F\a\l\s\e ]]
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:346 :   [[ False == \T\r\u\e ]]
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:346 :   [[ True == \T\r\u\e ]]
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:347 :   sudo ip addr add 172.24.4.1/24 dev br-ex
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:348 :   sudo ip link set br-ex up
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:350 :   awk -Fip_address '{ print $2 }'
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:350 :   oscwrap --os-cloud devstack-admin --os-region RegionOne port list -c 'Fixed IP Addresses' --device-owner network:router_gateway
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:350 :   cut -f2 '-d'\'''
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:350 :   tr '\n' ' '
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:350 :   ROUTER_GW_IP='   172.24.4.45  '
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:351 :   die_if_not_set 351 ROUTER_GW_IP 'Failure retrieving ROUTER_GW_IP'
+ functions-common:die_if_not_set:282      :   local exitcode=0
+ functions-common:die_if_not_set:283      :   local xtrace
++ functions-common:die_if_not_set:284      :   set +o
++ functions-common:die_if_not_set:284      :   grep xtrace
+ functions-common:die_if_not_set:284      :   xtrace='set -o xtrace'
+ functions-common:die_if_not_set:285      :   set +o xtrace
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v4:353 :   _neutron_set_router_id
+ lib/neutron_plugins/services/l3:_neutron_set_router_id:131 :   [[ True == \F\a\l\s\e ]]
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:239 :   [[ 4+6 =~ .*6 ]]
+ lib/neutron_plugins/services/l3:create_neutron_initial_network:241 :   _neutron_configure_router_v6
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:359 :   openstack --os-cloud devstack-admin-demo --os-region RegionOne router add subnet cb4474b6-1ba0-4e02-9b8d-1829c382c163 f9136157-3e83-4972-8209-8a191b74dd5d
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:361 :   local ipv6_id_and_ext_gw_ip
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:362 :   _neutron_create_public_subnet_v6 e295a544-b00b-4e25-ae71-4ab1d6099169
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v6:303 :   local 'subnet_params=--ip-version 6 '
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v6:304 :   subnet_params+='--gateway 2001:db8::2 '
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v6:305 :   subnet_params+='--network e295a544-b00b-4e25-ae71-4ab1d6099169 --subnet-range 2001:db8::/64 --no-dhcp '
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v6:306 :   subnet_params+=ipv6-public-subnet
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v6:307 :   local ipv6_id_and_ext_gw_ip
+++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v6:308 :   oscwrap --os-cloud devstack-admin --os-region RegionOne subnet create --ip-version 6 --gateway 2001:db8::2 --network e295a544-b00b-4e25-ae71-4ab1d6099169 --subnet-range 2001:db8::/64 --no-dhcp ipv6-public-subnet
+++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v6:308 :   grep -e gateway_ip -e ' id '
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v6:308 :   ipv6_id_and_ext_gw_ip='| gateway_ip           | 2001:db8::2                                                       |
| id                   | b12ec6d7-a8e7-4965-b131-8a3cfddb5be5                              |'
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v6:309 :   die_if_not_set 309 ipv6_id_and_ext_gw_ip 'Failure creating an IPv6 public subnet'
++ functions-common:die_if_not_set:282      :   local exitcode=0
++ functions-common:die_if_not_set:283      :   local xtrace
+++ functions-common:die_if_not_set:284      :   set +o
+++ functions-common:die_if_not_set:284      :   grep xtrace
++ functions-common:die_if_not_set:284      :   xtrace='set -o xtrace'
++ functions-common:die_if_not_set:285      :   set +o xtrace
++ lib/neutron_plugins/services/l3:_neutron_create_public_subnet_v6:310 :   echo '|' gateway_ip '|' 2001:db8::2 '|' '|' id '|' b12ec6d7-a8e7-4965-b131-8a3cfddb5be5 '|'
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:362 :   ipv6_id_and_ext_gw_ip='| gateway_ip | 2001:db8::2 | | id | b12ec6d7-a8e7-4965-b131-8a3cfddb5be5 |'
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:363 :   local ipv6_ext_gw_ip
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:364 :   echo '|' gateway_ip '|' 2001:db8::2 '|' '|' id '|' b12ec6d7-a8e7-4965-b131-8a3cfddb5be5 '|'
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:364 :   get_field 2
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
++ functions-common:get_field:813           :   '[' 2 -lt 0 ']'
++ functions-common:get_field:816           :   field='$3'
++ functions-common:get_field:818           :   echo '| gateway_ip | 2001:db8::2 | | id | b12ec6d7-a8e7-4965-b131-8a3cfddb5be5 |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $3}'
++ functions-common:get_field:812           :   read data
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:364 :   ipv6_ext_gw_ip=2001:db8::2
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:365 :   local ipv6_pub_subnet_id
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:366 :   echo '|' gateway_ip '|' 2001:db8::2 '|' '|' id '|' b12ec6d7-a8e7-4965-b131-8a3cfddb5be5 '|'
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:366 :   get_field 5
++ functions-common:get_field:811           :   local data field
++ functions-common:get_field:812           :   read data
++ functions-common:get_field:813           :   '[' 5 -lt 0 ']'
++ functions-common:get_field:816           :   field='$6'
++ functions-common:get_field:818           :   echo '| gateway_ip | 2001:db8::2 | | id | b12ec6d7-a8e7-4965-b131-8a3cfddb5be5 |'
++ functions-common:get_field:818           :   awk '-F[ \t]*\\|[ \t]*' '{print $6}'
++ functions-common:get_field:812           :   read data
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:366 :   ipv6_pub_subnet_id=b12ec6d7-a8e7-4965-b131-8a3cfddb5be5
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:370 :   [[ 4+6 == \6 ]]
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:375 :   [[ ovn == \o\v\n ]]
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:375 :   [[ True == \T\r\u\e ]]
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:375 :   is_service_enabled q-svc neutron-server
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:389 :   sudo sysctl -w net.ipv6.conf.all.forwarding=1
net.ipv6.conf.all.forwarding = 1
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:398 :   grep -C 1 b12ec6d7-a8e7-4965-b131-8a3cfddb5be5
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:398 :   tr -d '"'
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:398 :   oscwrap --os-cloud devstack-admin-demo --os-region RegionOne router show cb4474b6-1ba0-4e02-9b8d-1829c382c163 -c external_gateway_info -f json
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:398 :   grep ip_address
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:398 :   awk '{print $2}'
++ functions-common:oscwrap:2460            :   local xtrace
+++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   grep xtrace
++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++ functions-common:oscwrap:2479            :   return 0
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:398 :   IPV6_ROUTER_GW_IP=2001:db8::1
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:399 :   die_if_not_set 399 IPV6_ROUTER_GW_IP 'Failure retrieving IPV6_ROUTER_GW_IP'
+ functions-common:die_if_not_set:282      :   local exitcode=0
+ functions-common:die_if_not_set:283      :   local xtrace
++ functions-common:die_if_not_set:284      :   grep xtrace
++ functions-common:die_if_not_set:284      :   set +o
+ functions-common:die_if_not_set:284      :   xtrace='set -o xtrace'
+ functions-common:die_if_not_set:285      :   set +o xtrace
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:401 :   is_neutron_ovs_base_plugin
+ lib/neutron_plugins/ovs_base:is_neutron_ovs_base_plugin:23 :   return 0
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:402 :   local ext_gw_interface
++ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:403 :   _neutron_get_ext_gw_interface
++ lib/neutron_plugins/services/l3:_neutron_get_ext_gw_interface:138 :   [[ False == \T\r\u\e ]]
++ lib/neutron_plugins/services/l3:_neutron_get_ext_gw_interface:143 :   sudo ovs-vsctl set Bridge br-ex other_config:disable-in-band=true
++ lib/neutron_plugins/services/l3:_neutron_get_ext_gw_interface:145 :   echo br-ex
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:403 :   ext_gw_interface=br-ex
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:404 :   local ipv6_cidr_len=64
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:409 :   sudo ip link set br-ex up
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:410 :   sudo ip -6 addr replace 2001:db8::2/64 dev br-ex
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:416 :   local replace_range=fd15:454b:5186::/56
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:417 :   [[ -z b47c5765-7874-4240-a10e-832ddb792c8c ]]
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:420 :   sudo ip -6 route replace fd15:454b:5186::/56 via 2001:db8::1 dev br-ex
+ lib/neutron_plugins/services/l3:_neutron_configure_router_v6:422 :   _neutron_set_router_id
+ lib/neutron_plugins/services/l3:_neutron_set_router_id:131 :   [[ True == \F\a\l\s\e ]]
+ ./stack.sh:main:1312                     :   is_service_enabled nova
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1313                     :   echo_summary 'Starting Nova'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Starting Nova
2022-08-22 10:26:24.331 | Starting Nova
+ ./stack.sh:main:1314                     :   start_nova
+ lib/nova:start_nova:1132                 :   start_nova_rest
+ lib/nova:start_nova_rest:1041            :   local old_path=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_rest:1042            :   export PATH=/usr/local/bin:/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_rest:1042            :   PATH=/usr/local/bin:/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_rest:1044            :   local compute_cell_conf=/etc/nova/nova.conf
+ lib/nova:start_nova_rest:1046            :   run_process n-sch '/usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf'
+ functions-common:run_process:1693        :   local service=n-sch
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=n-sch
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163984388
+ functions-common:run_process:1702        :   is_service_enabled n-sch
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd n-sch '/usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=n-sch
+ functions-common:_run_under_systemd:1654 :   local 'command=/usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@n-sch.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf =~ uwsgi ]]
+ functions-common:_run_under_systemd:1669 :   write_user_unit_file devstack@n-sch.service '/usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf' '' stack ''
+ functions-common:write_user_unit_file:1562 :   local service=devstack@n-sch.service
+ functions-common:write_user_unit_file:1563 :   local 'command=/usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf'
+ functions-common:write_user_unit_file:1564 :   local group=
+ functions-common:write_user_unit_file:1565 :   local user=stack
+ functions-common:write_user_unit_file:1566 :   local env_vars=
+ functions-common:write_user_unit_file:1567 :   local extra=
+ functions-common:write_user_unit_file:1568 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1571 :   local unitfile=/etc/systemd/system/devstack@n-sch.service
+ functions-common:write_user_unit_file:1572 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1574 :   iniset -sudo /etc/systemd/system/devstack@n-sch.service Unit Description 'Devstack devstack@n-sch.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1575 :   iniset -sudo /etc/systemd/system/devstack@n-sch.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1576 :   iniset -sudo /etc/systemd/system/devstack@n-sch.service Service ExecStart '/usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1577 :   iniset -sudo /etc/systemd/system/devstack@n-sch.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1578 :   iniset -sudo /etc/systemd/system/devstack@n-sch.service Service TimeoutStopSec 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@n-sch.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1580 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1583 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@n-sch.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1589 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@n-sch.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@n-sch.service → /etc/systemd/system/devstack@n-sch.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@n-sch.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163984388
+ functions-common:time_stop:2448          :   [[ -z 1661163984388 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163985789
+ functions-common:time_stop:2452          :   elapsed_time=1401
+ functions-common:time_stop:2453          :   total=9288
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=10689
+ lib/nova:start_nova_rest:1047            :   '[' True == False ']'
++ lib/nova:start_nova_rest:1050            :   which uwsgi
+ lib/nova:start_nova_rest:1050            :   run_process n-api-meta '/bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini'
+ functions-common:run_process:1693        :   local service=n-api-meta
+ functions-common:run_process:1694        :   local 'command=/bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=n-api-meta
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163985851
+ functions-common:run_process:1702        :   is_service_enabled n-api-meta
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd n-api-meta '/bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=n-api-meta
+ functions-common:_run_under_systemd:1654 :   local 'command=/bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@n-api-meta.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1667 :   write_uwsgi_user_unit_file devstack@n-api-meta.service '/bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini' '' stack ''
+ functions-common:write_uwsgi_user_unit_file:1593 :   local service=devstack@n-api-meta.service
+ functions-common:write_uwsgi_user_unit_file:1594 :   local 'command=/bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini'
+ functions-common:write_uwsgi_user_unit_file:1595 :   local group=
+ functions-common:write_uwsgi_user_unit_file:1596 :   local user=stack
+ functions-common:write_uwsgi_user_unit_file:1597 :   local env_vars=
+ functions-common:write_uwsgi_user_unit_file:1598 :   local unitfile=/etc/systemd/system/devstack@n-api-meta.service
+ functions-common:write_uwsgi_user_unit_file:1599 :   mkdir -p /etc/systemd/system
+ functions-common:write_uwsgi_user_unit_file:1601 :   iniset -sudo /etc/systemd/system/devstack@n-api-meta.service Unit Description 'Devstack devstack@n-api-meta.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1602 :   iniset -sudo /etc/systemd/system/devstack@n-api-meta.service Service SyslogIdentifier devstack@n-api-meta.service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1603 :   iniset -sudo /etc/systemd/system/devstack@n-api-meta.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1604 :   iniset -sudo /etc/systemd/system/devstack@n-api-meta.service Service ExecStart '/bin/uwsgi --procname-prefix nova-api-meta --ini /etc/nova/nova-metadata-uwsgi.ini'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1605 :   iniset -sudo /etc/systemd/system/devstack@n-api-meta.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1606 :   iniset -sudo /etc/systemd/system/devstack@n-api-meta.service Service Type notify
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1607 :   iniset -sudo /etc/systemd/system/devstack@n-api-meta.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1608 :   iniset -sudo /etc/systemd/system/devstack@n-api-meta.service Service Restart always
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1609 :   iniset -sudo /etc/systemd/system/devstack@n-api-meta.service Service NotifyAccess all
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1610 :   iniset -sudo /etc/systemd/system/devstack@n-api-meta.service Service RestartForceExitStatus 100
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1612 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1615 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1618 :   iniset -sudo /etc/systemd/system/devstack@n-api-meta.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1621 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@n-api-meta.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@n-api-meta.service → /etc/systemd/system/devstack@n-api-meta.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@n-api-meta.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163985851
+ functions-common:time_stop:2448          :   [[ -z 1661163985851 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163987480
+ functions-common:time_stop:2452          :   elapsed_time=1629
+ functions-common:time_stop:2453          :   total=10689
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=12318
+ lib/nova:start_nova_rest:1053            :   export PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_rest:1053            :   PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova:1133                 :   start_nova_console_proxies
+ lib/nova:start_nova_console_proxies:1068 :   local old_path=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_console_proxies:1070 :   export PATH=/usr/local/bin:/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_console_proxies:1070 :   PATH=/usr/local/bin:/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_console_proxies:1072 :   local api_cell_conf=/etc/nova/nova.conf
+ lib/nova:start_nova_console_proxies:1074 :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:start_nova_console_proxies:1079 :   enable_nova_console_proxies
++ lib/nova:enable_nova_console_proxies:1057 :   seq 1 1
+ lib/nova:enable_nova_console_proxies:1057 :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:enable_nova_console_proxies:1058 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1059 :   is_service_enabled n-novnc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:enable_nova_console_proxies:1060 :   enable_service n-novnc-cell1
+ functions-common:enable_service:2026     :   local xtrace
++ functions-common:enable_service:2027     :   set +o
++ functions-common:enable_service:2027     :   grep xtrace
+ functions-common:enable_service:2027     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2028     :   set +o xtrace
+ lib/nova:enable_nova_console_proxies:1058 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1059 :   is_service_enabled n-spice
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:enable_nova_console_proxies:1058 :   for srv in n-novnc n-spice n-sproxy
+ lib/nova:enable_nova_console_proxies:1059 :   is_service_enabled n-sproxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
++ lib/nova:start_nova_console_proxies:1080 :   seq 1 1
+ lib/nova:start_nova_console_proxies:1080 :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:start_nova_console_proxies:1081 :   local conf
++ lib/nova:start_nova_console_proxies:1082 :   conductor_conf 1
++ lib/nova:conductor_conf:804              :   local cell=1
++ lib/nova:conductor_conf:805              :   echo /etc/nova/nova_cell1.conf
+ lib/nova:start_nova_console_proxies:1082 :   conf=/etc/nova/nova_cell1.conf
+ lib/nova:start_nova_console_proxies:1083 :   run_process n-novnc-cell1 '/usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc'
+ functions-common:run_process:1693        :   local service=n-novnc-cell1
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=n-novnc-cell1
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163987735
+ functions-common:run_process:1702        :   is_service_enabled n-novnc-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd n-novnc-cell1 '/usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=n-novnc-cell1
+ functions-common:_run_under_systemd:1654 :   local 'command=/usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@n-novnc-cell1.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc =~ uwsgi ]]
+ functions-common:_run_under_systemd:1669 :   write_user_unit_file devstack@n-novnc-cell1.service '/usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc' '' stack ''
+ functions-common:write_user_unit_file:1562 :   local service=devstack@n-novnc-cell1.service
+ functions-common:write_user_unit_file:1563 :   local 'command=/usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc'
+ functions-common:write_user_unit_file:1564 :   local group=
+ functions-common:write_user_unit_file:1565 :   local user=stack
+ functions-common:write_user_unit_file:1566 :   local env_vars=
+ functions-common:write_user_unit_file:1567 :   local extra=
+ functions-common:write_user_unit_file:1568 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1571 :   local unitfile=/etc/systemd/system/devstack@n-novnc-cell1.service
+ functions-common:write_user_unit_file:1572 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1574 :   iniset -sudo /etc/systemd/system/devstack@n-novnc-cell1.service Unit Description 'Devstack devstack@n-novnc-cell1.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1575 :   iniset -sudo /etc/systemd/system/devstack@n-novnc-cell1.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1576 :   iniset -sudo /etc/systemd/system/devstack@n-novnc-cell1.service Service ExecStart '/usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1577 :   iniset -sudo /etc/systemd/system/devstack@n-novnc-cell1.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1578 :   iniset -sudo /etc/systemd/system/devstack@n-novnc-cell1.service Service TimeoutStopSec 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@n-novnc-cell1.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1580 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1583 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@n-novnc-cell1.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1589 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@n-novnc-cell1.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@n-novnc-cell1.service → /etc/systemd/system/devstack@n-novnc-cell1.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@n-novnc-cell1.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163987735
+ functions-common:time_stop:2448          :   [[ -z 1661163987735 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163989153
+ functions-common:time_stop:2452          :   elapsed_time=1418
+ functions-common:time_stop:2453          :   total=12318
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=13736
+ lib/nova:start_nova_console_proxies:1084 :   run_process n-spice-cell1 '/usr/local/bin/nova-spicehtml5proxy --config-file /etc/nova/nova_cell1.conf --web '
+ functions-common:run_process:1693        :   local service=n-spice-cell1
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/nova-spicehtml5proxy --config-file /etc/nova/nova_cell1.conf --web '
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=n-spice-cell1
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163989213
+ functions-common:run_process:1702        :   is_service_enabled n-spice-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163989213
+ functions-common:time_stop:2448          :   [[ -z 1661163989213 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163989284
+ functions-common:time_stop:2452          :   elapsed_time=71
+ functions-common:time_stop:2453          :   total=13736
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=13807
+ lib/nova:start_nova_console_proxies:1085 :   run_process n-sproxy-cell1 '/usr/local/bin/nova-serialproxy --config-file /etc/nova/nova_cell1.conf'
+ functions-common:run_process:1693        :   local service=n-sproxy-cell1
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/nova-serialproxy --config-file /etc/nova/nova_cell1.conf'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=n-sproxy-cell1
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163989345
+ functions-common:run_process:1702        :   is_service_enabled n-sproxy-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163989345
+ functions-common:time_stop:2448          :   [[ -z 1661163989345 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163989398
+ functions-common:time_stop:2452          :   elapsed_time=53
+ functions-common:time_stop:2453          :   total=13807
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=13860
+ lib/nova:start_nova_console_proxies:1089 :   export PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_console_proxies:1089 :   PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova:1134                 :   start_nova_conductor
+ lib/nova:start_nova_conductor:1102       :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:start_nova_conductor:1108       :   enable_nova_fleet
+ lib/nova:enable_nova_fleet:1093          :   is_service_enabled n-cond
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:enable_nova_fleet:1094          :   enable_service n-super-cond
+ functions-common:enable_service:2026     :   local xtrace
++ functions-common:enable_service:2027     :   set +o
++ functions-common:enable_service:2027     :   grep xtrace
+ functions-common:enable_service:2027     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2028     :   set +o xtrace
++ lib/nova:enable_nova_fleet:1095          :   seq 1 1
+ lib/nova:enable_nova_fleet:1095          :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:enable_nova_fleet:1096          :   enable_service n-cond-cell1
+ functions-common:enable_service:2026     :   local xtrace
++ functions-common:enable_service:2027     :   set +o
++ functions-common:enable_service:2027     :   grep xtrace
+ functions-common:enable_service:2027     :   xtrace='set -o xtrace'
+ functions-common:enable_service:2028     :   set +o xtrace
+ lib/nova:start_nova_conductor:1109       :   is_service_enabled n-super-cond
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:start_nova_conductor:1110       :   run_process n-super-cond '/usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf'
+ functions-common:run_process:1693        :   local service=n-super-cond
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=n-super-cond
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163989655
+ functions-common:run_process:1702        :   is_service_enabled n-super-cond
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd n-super-cond '/usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=n-super-cond
+ functions-common:_run_under_systemd:1654 :   local 'command=/usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@n-super-cond.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf =~ uwsgi ]]
+ functions-common:_run_under_systemd:1669 :   write_user_unit_file devstack@n-super-cond.service '/usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf' '' stack ''
+ functions-common:write_user_unit_file:1562 :   local service=devstack@n-super-cond.service
+ functions-common:write_user_unit_file:1563 :   local 'command=/usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf'
+ functions-common:write_user_unit_file:1564 :   local group=
+ functions-common:write_user_unit_file:1565 :   local user=stack
+ functions-common:write_user_unit_file:1566 :   local env_vars=
+ functions-common:write_user_unit_file:1567 :   local extra=
+ functions-common:write_user_unit_file:1568 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1571 :   local unitfile=/etc/systemd/system/devstack@n-super-cond.service
+ functions-common:write_user_unit_file:1572 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1574 :   iniset -sudo /etc/systemd/system/devstack@n-super-cond.service Unit Description 'Devstack devstack@n-super-cond.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1575 :   iniset -sudo /etc/systemd/system/devstack@n-super-cond.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1576 :   iniset -sudo /etc/systemd/system/devstack@n-super-cond.service Service ExecStart '/usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1577 :   iniset -sudo /etc/systemd/system/devstack@n-super-cond.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1578 :   iniset -sudo /etc/systemd/system/devstack@n-super-cond.service Service TimeoutStopSec 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@n-super-cond.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1580 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1583 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@n-super-cond.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1589 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@n-super-cond.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@n-super-cond.service → /etc/systemd/system/devstack@n-super-cond.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@n-super-cond.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163989655
+ functions-common:time_stop:2448          :   [[ -z 1661163989655 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163991008
+ functions-common:time_stop:2452          :   elapsed_time=1353
+ functions-common:time_stop:2453          :   total=13860
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=15213
++ lib/nova:start_nova_conductor:1112       :   seq 1 1
+ lib/nova:start_nova_conductor:1112       :   for i in $(seq 1 $NOVA_NUM_CELLS)
+ lib/nova:start_nova_conductor:1113       :   is_service_enabled n-cond-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:start_nova_conductor:1114       :   local conf
++ lib/nova:start_nova_conductor:1115       :   conductor_conf 1
++ lib/nova:conductor_conf:804              :   local cell=1
++ lib/nova:conductor_conf:805              :   echo /etc/nova/nova_cell1.conf
+ lib/nova:start_nova_conductor:1115       :   conf=/etc/nova/nova_cell1.conf
+ lib/nova:start_nova_conductor:1116       :   run_process n-cond-cell1 '/usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf'
+ functions-common:run_process:1693        :   local service=n-cond-cell1
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=n-cond-cell1
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163991112
+ functions-common:run_process:1702        :   is_service_enabled n-cond-cell1
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd n-cond-cell1 '/usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=n-cond-cell1
+ functions-common:_run_under_systemd:1654 :   local 'command=/usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@n-cond-cell1.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf =~ uwsgi ]]
+ functions-common:_run_under_systemd:1669 :   write_user_unit_file devstack@n-cond-cell1.service '/usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf' '' stack ''
+ functions-common:write_user_unit_file:1562 :   local service=devstack@n-cond-cell1.service
+ functions-common:write_user_unit_file:1563 :   local 'command=/usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf'
+ functions-common:write_user_unit_file:1564 :   local group=
+ functions-common:write_user_unit_file:1565 :   local user=stack
+ functions-common:write_user_unit_file:1566 :   local env_vars=
+ functions-common:write_user_unit_file:1567 :   local extra=
+ functions-common:write_user_unit_file:1568 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1571 :   local unitfile=/etc/systemd/system/devstack@n-cond-cell1.service
+ functions-common:write_user_unit_file:1572 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1574 :   iniset -sudo /etc/systemd/system/devstack@n-cond-cell1.service Unit Description 'Devstack devstack@n-cond-cell1.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1575 :   iniset -sudo /etc/systemd/system/devstack@n-cond-cell1.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1576 :   iniset -sudo /etc/systemd/system/devstack@n-cond-cell1.service Service ExecStart '/usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1577 :   iniset -sudo /etc/systemd/system/devstack@n-cond-cell1.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1578 :   iniset -sudo /etc/systemd/system/devstack@n-cond-cell1.service Service TimeoutStopSec 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@n-cond-cell1.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1580 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1583 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@n-cond-cell1.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1589 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@n-cond-cell1.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@n-cond-cell1.service → /etc/systemd/system/devstack@n-cond-cell1.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@n-cond-cell1.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163991112
+ functions-common:time_stop:2448          :   [[ -z 1661163991112 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163992539
+ functions-common:time_stop:2452          :   elapsed_time=1427
+ functions-common:time_stop:2453          :   total=15213
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=16640
+ lib/nova:start_nova:1135                 :   start_nova_compute
+ lib/nova:start_nova_compute:966          :   local old_path=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_compute:967          :   export PATH=/usr/local/bin:/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_compute:967          :   PATH=/usr/local/bin:/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_compute:969          :   local compute_cell_conf=/etc/nova/nova.conf
+ lib/nova:start_nova_compute:972          :   cp /etc/nova/nova.conf /etc/nova/nova-cpu.conf
+ lib/nova:start_nova_compute:974          :   merge_config_file /opt/stack/devstack/local.conf post-config '$NOVA_CPU_CONF'
+ inc/meta-config:merge_config_file:83     :   local file=/opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_file:84     :   local matchgroup=post-config
+ inc/meta-config:merge_config_file:85     :   local 'configfile=$NOVA_CPU_CONF'
+ inc/meta-config:merge_config_file:90     :   local real_configfile
++ inc/meta-config:merge_config_file:91     :   eval echo '$NOVA_CPU_CONF'
+++ inc/meta-config:merge_config_file:91     :   echo /etc/nova/nova-cpu.conf
+ inc/meta-config:merge_config_file:91     :   real_configfile=/etc/nova/nova-cpu.conf
+ inc/meta-config:merge_config_file:92     :   '[' '!' -f /etc/nova/nova-cpu.conf ']'
+ inc/meta-config:merge_config_file:96     :   get_meta_section /opt/stack/devstack/local.conf post-config '$NOVA_CPU_CONF'
+ inc/meta-config:merge_config_file:97     :   awk -v 'configfile=$NOVA_CPU_CONF' '
        BEGIN {
            section = ""
            last_section = ""
            section_count = 0
        }
        /^\[.+\]/ {
            gsub("[][]", "", $1);
            section=$1
            next
        }
        /^ *\#/ {
            next
        }
        /^[^ \t]+/ {
            # get offset of first = in $0
            eq_idx = index($0, "=")
            # extract attr & value from $0
            attr = substr($0, 1, eq_idx - 1)
            value = substr($0, eq_idx + 1)
            # only need to strip trailing whitespace from attr
            sub(/[ \t]*$/, "", attr)
            # need to strip leading & trailing whitespace from value
            sub(/^[ \t]*/, "", value)
            sub(/[ \t]*$/, "", value)

            # cfg_attr_count: number of config lines per [section, attr]
            # cfg_attr: three dimensional array to keep all the config lines per [section, attr]
            # cfg_section: keep the section names in the same order as they appear in local.conf
            # cfg_sec_attr_name: keep the attr names in the same order as they appear in local.conf
            if (! (section, attr) in cfg_attr_count) {
                if (section != last_section) {
                    cfg_section[section_count++] = section
                    last_section = section
                }
                attr_count = cfg_sec_attr_count[section_count - 1]++
                cfg_sec_attr_name[section_count - 1, attr_count] = attr

                cfg_attr[section, attr, 0] = value
                cfg_attr_count[section, attr] = 1
            } else {
                lno = cfg_attr_count[section, attr]++
                cfg_attr[section, attr, lno] = value
            }
        }
        END {
            # Process each section in order
            for (sno = 0; sno < section_count; sno++) {
                section = cfg_section[sno]
                # The ini routines simply append a config item immediately
                # after the section header. To keep the same order as defined
                # in local.conf, invoke the ini routines in the reverse order
                for (attr_no = cfg_sec_attr_count[sno] - 1; attr_no >=0; attr_no--) {
                    attr = cfg_sec_attr_name[sno, attr_no]
                    if (cfg_attr_count[section, attr] == 1)
                        print "iniset " configfile " " section " " attr " \"" cfg_attr[section, attr, 0] "\""
                    else {
                        # For multiline, invoke the ini routines in the reverse order
                        count = cfg_attr_count[section, attr]
                        print "inidelete " configfile " " section " " attr
                        print "iniset " configfile " " section " " attr " \"" cfg_attr[section, attr, count - 1] "\""
                        for (l = count -2; l >= 0; l--)
                            print "iniadd_literal " configfile " " section " " attr " \"" cfg_attr[section, attr, l] "\""
                    }
                }
            }
        }
    '
+ inc/meta-config:merge_config_file:164    :   read a
+ inc/meta-config:get_meta_section:33      :   local file=/opt/stack/devstack/local.conf
awk: cmd. line:12: warning: regexp escape sequence `\#' is not a known regexp operator
+ inc/meta-config:get_meta_section:34      :   local matchgroup=post-config
+ inc/meta-config:get_meta_section:35      :   local 'configfile=$NOVA_CPU_CONF'
+ inc/meta-config:get_meta_section:37      :   [[ -r /opt/stack/devstack/local.conf ]]
+ inc/meta-config:get_meta_section:38      :   [[ -z $NOVA_CPU_CONF ]]
+ inc/meta-config:get_meta_section:40      :   awk -v matchgroup=post-config -v 'configfile=$NOVA_CPU_CONF' '
        BEGIN { group = "" }
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup && a[2] == configfile) {
                group=a[1]
            } else {
                group=""
            }
            next
        }
        {
            if (group != "")
                print $0
        }
    ' /opt/stack/devstack/local.conf
+ lib/nova:start_nova_compute:976          :   [[ superconductor == \s\i\n\g\l\e\c\o\n\d\u\c\t\o\r ]]
+ lib/nova:start_nova_compute:983          :   iniset /etc/nova/nova-cpu.conf workarounds disable_group_policy_check_upcall True
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:start_nova_compute:986          :   iniset /etc/nova/nova-cpu.conf filter_scheduler track_instance_changes False
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:start_nova_compute:987          :   iniset_rpc_backend nova /etc/nova/nova-cpu.conf DEFAULT nova_cell1
+ lib/rpc_backend:iniset_rpc_backend:157   :   local package=nova
+ lib/rpc_backend:iniset_rpc_backend:158   :   local file=/etc/nova/nova-cpu.conf
+ lib/rpc_backend:iniset_rpc_backend:159   :   local section=DEFAULT
+ lib/rpc_backend:iniset_rpc_backend:160   :   local virtual_host=nova_cell1
+ lib/rpc_backend:iniset_rpc_backend:161   :   is_service_enabled rabbit
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:iniset_rpc_backend:162   :   get_transport_url nova_cell1
++ lib/rpc_backend:get_transport_url:139    :   local virtual_host=nova_cell1
++ lib/rpc_backend:get_transport_url:140    :   is_service_enabled rabbit
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   grep xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/rpc_backend:get_transport_url:141    :   echo rabbit://stackrabbit:Datacore1@10.200.2.118:5672/nova_cell1
+ lib/rpc_backend:iniset_rpc_backend:162   :   iniset /etc/nova/nova-cpu.conf DEFAULT transport_url rabbit://stackrabbit:Datacore1@10.200.2.118:5672/nova_cell1
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/rpc_backend:iniset_rpc_backend:163   :   '[' -n '' ']'
+ lib/rpc_backend:iniset_rpc_backend:166   :   '[' -n '' ']'
+ lib/nova:start_nova_compute:991          :   inidelete /etc/nova/nova-cpu.conf database connection
+ inc/ini-config:inidelete:150             :   local xtrace
++ inc/ini-config:inidelete:151             :   set +o
++ inc/ini-config:inidelete:151             :   grep xtrace
+ inc/ini-config:inidelete:151             :   xtrace='set -o xtrace'
+ inc/ini-config:inidelete:152             :   set +o xtrace
+ lib/nova:start_nova_compute:992          :   inidelete /etc/nova/nova-cpu.conf api_database connection
+ inc/ini-config:inidelete:150             :   local xtrace
++ inc/ini-config:inidelete:151             :   grep xtrace
++ inc/ini-config:inidelete:151             :   set +o
+ inc/ini-config:inidelete:151             :   xtrace='set -o xtrace'
+ inc/ini-config:inidelete:152             :   set +o xtrace
+ lib/nova:start_nova_compute:997          :   configure_console_compute
+ lib/nova:configure_console_compute:639   :   local offset
+ lib/nova:configure_console_compute:640   :   offset=0
+ lib/nova:configure_console_compute:644   :   local default_proxyclient_addr
++ lib/nova:configure_console_compute:645   :   iniget /etc/nova/nova-cpu.conf DEFAULT my_ip
++ inc/ini-config:iniget:61                 :   local xtrace
+++ inc/ini-config:iniget:62                 :   set +o
+++ inc/ini-config:iniget:62                 :   grep xtrace
++ inc/ini-config:iniget:62                 :   xtrace='set -o xtrace'
++ inc/ini-config:iniget:63                 :   set +o xtrace
+ lib/nova:configure_console_compute:645   :   default_proxyclient_addr=10.200.2.118
+ lib/nova:configure_console_compute:649   :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:configure_console_compute:650   :   '[' False == True ']'
+ lib/nova:configure_console_compute:653   :   vercmp v1.3.0 '<' 1.0.0
+ functions:vercmp:628                     :   local v1=v1.3.0
+ functions:vercmp:629                     :   local 'op=<'
+ functions:vercmp:630                     :   local v2=1.0.0
+ functions:vercmp:631                     :   local result
++ functions:vercmp:635                     :   echo -e 'v1.3.0\n1.0.0'
++ functions:vercmp:635                     :   sort -V
++ functions:vercmp:635                     :   head -1
+ functions:vercmp:635                     :   result=1.0.0
+ functions:vercmp:637                     :   case $op in
+ functions:vercmp:647                     :   '[' v1.3.0 '!=' 1.0.0 ']'
+ functions:vercmp:647                     :   '[' 1.0.0 = v1.3.0 ']'
+ functions:vercmp:648                     :   return
+ lib/nova:configure_console_compute:658   :   NOVNCPROXY_URL=http://10.200.2.118:6080/vnc_lite.html
+ lib/nova:configure_console_compute:660   :   iniset /etc/nova/nova-cpu.conf vnc novncproxy_base_url http://10.200.2.118:6080/vnc_lite.html
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_console_compute:661   :   SPICEHTML5PROXY_URL=http://10.200.2.118:6081/spice_auto.html
+ lib/nova:configure_console_compute:662   :   iniset /etc/nova/nova-cpu.conf spice html5proxy_base_url http://10.200.2.118:6081/spice_auto.html
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_console_compute:665   :   is_service_enabled n-novnc
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:configure_console_compute:668   :   VNCSERVER_LISTEN=0.0.0.0
+ lib/nova:configure_console_compute:669   :   VNCSERVER_PROXYCLIENT_ADDRESS=10.200.2.118
+ lib/nova:configure_console_compute:670   :   iniset /etc/nova/nova-cpu.conf vnc server_listen 0.0.0.0
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_console_compute:671   :   iniset /etc/nova/nova-cpu.conf vnc server_proxyclient_address 10.200.2.118
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:configure_console_compute:676   :   is_service_enabled n-spice
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:configure_console_compute:686   :   is_service_enabled n-sproxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/nova:start_nova_compute:1000         :   '[' -n 127.0.0.1 ']'
+ lib/nova:start_nova_compute:1001         :   iniset /etc/nova/nova-cpu.conf os_vif_ovs ovsdb_connection tcp:127.0.0.1:6640
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ lib/nova:start_nova_compute:1005         :   [[ libvirt == \l\i\b\v\i\r\t ]]
+ lib/nova:start_nova_compute:1005         :   [[ kvm == \q\e\m\u ]]
+ lib/nova:start_nova_compute:1009         :   [[ libvirt = \l\i\b\v\i\r\t ]]
+ lib/nova:start_nova_compute:1013         :   run_process n-cpu '/usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf' libvirt
+ functions-common:run_process:1693        :   local service=n-cpu
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf'
+ functions-common:run_process:1695        :   local group=libvirt
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=n-cpu
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163993353
+ functions-common:run_process:1702        :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd n-cpu '/usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf' libvirt '' ''
+ functions-common:_run_under_systemd:1653 :   local service=n-cpu
+ functions-common:_run_under_systemd:1654 :   local 'command=/usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@n-cpu.service
+ functions-common:_run_under_systemd:1660 :   local group=libvirt
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf =~ uwsgi ]]
+ functions-common:_run_under_systemd:1669 :   write_user_unit_file devstack@n-cpu.service '/usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf' libvirt stack ''
+ functions-common:write_user_unit_file:1562 :   local service=devstack@n-cpu.service
+ functions-common:write_user_unit_file:1563 :   local 'command=/usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf'
+ functions-common:write_user_unit_file:1564 :   local group=libvirt
+ functions-common:write_user_unit_file:1565 :   local user=stack
+ functions-common:write_user_unit_file:1566 :   local env_vars=
+ functions-common:write_user_unit_file:1567 :   local extra=
+ functions-common:write_user_unit_file:1568 :   [[ -n libvirt ]]
+ functions-common:write_user_unit_file:1569 :   extra=Group=libvirt
+ functions-common:write_user_unit_file:1571 :   local unitfile=/etc/systemd/system/devstack@n-cpu.service
+ functions-common:write_user_unit_file:1572 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1574 :   iniset -sudo /etc/systemd/system/devstack@n-cpu.service Unit Description 'Devstack devstack@n-cpu.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1575 :   iniset -sudo /etc/systemd/system/devstack@n-cpu.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1576 :   iniset -sudo /etc/systemd/system/devstack@n-cpu.service Service ExecStart '/usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1577 :   iniset -sudo /etc/systemd/system/devstack@n-cpu.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1578 :   iniset -sudo /etc/systemd/system/devstack@n-cpu.service Service TimeoutStopSec 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@n-cpu.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1580 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1583 :   [[ -n libvirt ]]
+ functions-common:write_user_unit_file:1584 :   iniset -sudo /etc/systemd/system/devstack@n-cpu.service Service Group libvirt
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@n-cpu.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1589 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@n-cpu.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@n-cpu.service → /etc/systemd/system/devstack@n-cpu.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@n-cpu.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163993353
+ functions-common:time_stop:2448          :   [[ -z 1661163993353 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163994823
+ functions-common:time_stop:2452          :   elapsed_time=1470
+ functions-common:time_stop:2453          :   total=16640
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=18110
+ lib/nova:start_nova_compute:1035         :   export PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova_compute:1035         :   PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/sbin
+ lib/nova:start_nova:1136                 :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:start_nova:1138                 :   echo 'Dumping cells_v2 mapping'
Dumping cells_v2 mapping
+ lib/nova:start_nova:1139                 :   /usr/local/bin/nova-manage cell_v2 list_cells --verbose
Modules with known eventlet monkey patching issues were imported prior to eventlet monkey patching: urllib3. This warning can usually be ignored if the caller is only importing and not executing nova code.
[00;36mINFO dbcounter [[01;36mNone req-c6dc1b9e-42f3-485c-9257-b91e691b576b [00;36mNone None[00;36m] [01;35m[00;36mRegistered counter for database nova_api[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3192133] Writer thread running[00m [00;33m{{(pid=3192133) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+-------+--------------------------------------+-------------------------------------------------------------+-----------------------------------------------------------------------------------+----------+
|  Name |                 UUID                 |                        Transport URL                        |                                Database Connection                                | Disabled |
+-------+--------------------------------------+-------------------------------------------------------------+-----------------------------------------------------------------------------------+----------+
| cell0 | 00000000-0000-0000-0000-000000000000 |                           none:///                          | mysql+pymysql://root:Datacore1@127.0.0.1/nova_cell0?charset=utf8&plugin=dbcounter |  False   |
| cell1 | 9e32c888-a93c-4f22-8b33-ea47e3e26085 | rabbit://stackrabbit:Datacore1@10.200.2.118:5672/nova_cell1 | mysql+pymysql://root:Datacore1@127.0.0.1/nova_cell1?charset=utf8&plugin=dbcounter |  False   |
+-------+--------------------------------------+-------------------------------------------------------------+-----------------------------------------------------------------------------------+----------+
+ ./stack.sh:main:1315                     :   async_runfunc create_flavors
+ inc/async:async_runfunc:116              :   async_run create_flavors create_flavors
+ inc/async:async_run:85                   :   local xtrace
++ inc/async:async_run:86                   :   set +o
++ inc/async:async_run:86                   :   grep xtrace
+ inc/async:async_run:86                   :   xtrace='set -o xtrace'
+ inc/async:async_run:87                   :   set +o xtrace
+ inc/async:async_inner:63                 :   create_flavors
[3131924 Async create_flavors:3192189]: running: create_flavors
+ ./stack.sh:main:1317                     :   is_service_enabled cinder
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1318                     :   echo_summary 'Starting Cinder'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Starting Cinder
2022-08-22 10:26:37.193 | Starting Cinder
+ ./stack.sh:main:1319                     :   start_cinder
+ lib/cinder:start_cinder:508              :   local service_port=8776
+ lib/cinder:start_cinder:509              :   local service_protocol=http
+ lib/cinder:start_cinder:510              :   local cinder_url
+ lib/cinder:start_cinder:511              :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/cinder:start_cinder:515              :   '[' lioadm = tgtadm ']'
+ lib/cinder:start_cinder:535              :   [[ key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat,n-novnc-cell1,n-super-cond,n-cond-cell1 =~ c-api ]]
+ lib/cinder:start_cinder:536              :   '[' True == False ']'
++ lib/cinder:start_cinder:544              :   which uwsgi
+ lib/cinder:start_cinder:544              :   run_process c-api '/bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini'
+ functions-common:run_process:1693        :   local service=c-api
+ functions-common:run_process:1694        :   local 'command=/bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=c-api
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163997283
+ functions-common:run_process:1702        :   is_service_enabled c-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd c-api '/bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=c-api
+ functions-common:_run_under_systemd:1654 :   local 'command=/bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@c-api.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1667 :   write_uwsgi_user_unit_file devstack@c-api.service '/bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini' '' stack ''
+ functions-common:write_uwsgi_user_unit_file:1593 :   local service=devstack@c-api.service
+ functions-common:write_uwsgi_user_unit_file:1594 :   local 'command=/bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini'
+ functions-common:write_uwsgi_user_unit_file:1595 :   local group=
+ functions-common:write_uwsgi_user_unit_file:1596 :   local user=stack
+ functions-common:write_uwsgi_user_unit_file:1597 :   local env_vars=
+ functions-common:write_uwsgi_user_unit_file:1598 :   local unitfile=/etc/systemd/system/devstack@c-api.service
+ functions-common:write_uwsgi_user_unit_file:1599 :   mkdir -p /etc/systemd/system
+ functions-common:write_uwsgi_user_unit_file:1601 :   iniset -sudo /etc/systemd/system/devstack@c-api.service Unit Description 'Devstack devstack@c-api.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1602 :   iniset -sudo /etc/systemd/system/devstack@c-api.service Service SyslogIdentifier devstack@c-api.service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1603 :   iniset -sudo /etc/systemd/system/devstack@c-api.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1604 :   iniset -sudo /etc/systemd/system/devstack@c-api.service Service ExecStart '/bin/uwsgi --procname-prefix cinder-api --ini /etc/cinder/cinder-api-uwsgi.ini'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1605 :   iniset -sudo /etc/systemd/system/devstack@c-api.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1606 :   iniset -sudo /etc/systemd/system/devstack@c-api.service Service Type notify
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1607 :   iniset -sudo /etc/systemd/system/devstack@c-api.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1608 :   iniset -sudo /etc/systemd/system/devstack@c-api.service Service Restart always
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1609 :   iniset -sudo /etc/systemd/system/devstack@c-api.service Service NotifyAccess all
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1610 :   iniset -sudo /etc/systemd/system/devstack@c-api.service Service RestartForceExitStatus 100
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1612 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1615 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1618 :   iniset -sudo /etc/systemd/system/devstack@c-api.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1621 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@c-api.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@c-api.service → /etc/systemd/system/devstack@c-api.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@c-api.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661163997283
+ functions-common:time_stop:2448          :   [[ -z 1661163997283 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661163998962
+ functions-common:time_stop:2452          :   elapsed_time=1679
+ functions-common:time_stop:2453          :   total=18110
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=19789
+ lib/cinder:start_cinder:545              :   cinder_url=http://10.200.2.118/volume/v3
+ lib/cinder:start_cinder:549              :   echo 'Waiting for Cinder API to start...'
Waiting for Cinder API to start...
+ lib/cinder:start_cinder:550              :   wait_for_service 60 http://10.200.2.118/volume/v3
+ functions:wait_for_service:457           :   local timeout=60
+ functions:wait_for_service:458           :   local url=http://10.200.2.118/volume/v3
+ functions:wait_for_service:459           :   local rval=0
+ functions:wait_for_service:460           :   time_start wait_for_service
+ functions-common:time_start:2425         :   local name=wait_for_service
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661163999028
+ functions:wait_for_service:461           :   timeout 60 bash -x
++ ::                                       :   curl -g -k --noproxy '*' -s -o /dev/null -w '%{http_code}' http://10.200.2.118/volume/v3
+ ::                                       :   [[ 401 == 503 ]]
+ ::                                       :   [[ 0 -eq 7 ]]
+ functions:wait_for_service:466           :   time_stop wait_for_service
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=wait_for_service
+ functions-common:time_stop:2446          :   start_time=1661163999028
+ functions-common:time_stop:2448          :   [[ -z 1661163999028 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661164001371
+ functions-common:time_stop:2452          :   elapsed_time=2343
+ functions-common:time_stop:2453          :   total=6886
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=9229
+ functions:wait_for_service:467           :   return 0
+ lib/cinder:start_cinder:554              :   run_process c-sch '/usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf'
+ functions-common:run_process:1693        :   local service=c-sch
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=c-sch
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661164001430
+ functions-common:run_process:1702        :   is_service_enabled c-sch
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd c-sch '/usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=c-sch
+ functions-common:_run_under_systemd:1654 :   local 'command=/usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@c-sch.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf =~ uwsgi ]]
+ functions-common:_run_under_systemd:1669 :   write_user_unit_file devstack@c-sch.service '/usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf' '' stack ''
+ functions-common:write_user_unit_file:1562 :   local service=devstack@c-sch.service
+ functions-common:write_user_unit_file:1563 :   local 'command=/usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf'
+ functions-common:write_user_unit_file:1564 :   local group=
+ functions-common:write_user_unit_file:1565 :   local user=stack
+ functions-common:write_user_unit_file:1566 :   local env_vars=
+ functions-common:write_user_unit_file:1567 :   local extra=
+ functions-common:write_user_unit_file:1568 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1571 :   local unitfile=/etc/systemd/system/devstack@c-sch.service
+ functions-common:write_user_unit_file:1572 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1574 :   iniset -sudo /etc/systemd/system/devstack@c-sch.service Unit Description 'Devstack devstack@c-sch.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1575 :   iniset -sudo /etc/systemd/system/devstack@c-sch.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1576 :   iniset -sudo /etc/systemd/system/devstack@c-sch.service Service ExecStart '/usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1577 :   iniset -sudo /etc/systemd/system/devstack@c-sch.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1578 :   iniset -sudo /etc/systemd/system/devstack@c-sch.service Service TimeoutStopSec 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@c-sch.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1580 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1583 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@c-sch.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1589 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@c-sch.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@c-sch.service → /etc/systemd/system/devstack@c-sch.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@c-sch.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661164001430
+ functions-common:time_stop:2448          :   [[ -z 1661164001430 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661164002820
+ functions-common:time_stop:2452          :   elapsed_time=1390
+ functions-common:time_stop:2453          :   total=19789
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=21179
+ lib/cinder:start_cinder:559              :   malloc_tuning='MALLOC_ARENA_MAX=1 MALLOC_MMAP_THRESHOLD_=131072 MALLOC_TRIM_THRESHOLD_=262144'
+ lib/cinder:start_cinder:560              :   run_process c-bak '/usr/local/bin/cinder-backup --config-file /etc/cinder/cinder.conf' '' '' 'MALLOC_ARENA_MAX=1 MALLOC_MMAP_THRESHOLD_=131072 MALLOC_TRIM_THRESHOLD_=262144'
+ functions-common:run_process:1693        :   local service=c-bak
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/cinder-backup --config-file /etc/cinder/cinder.conf'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local 'env_vars=MALLOC_ARENA_MAX=1 MALLOC_MMAP_THRESHOLD_=131072 MALLOC_TRIM_THRESHOLD_=262144'
+ functions-common:run_process:1699        :   local name=c-bak
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661164002880
+ functions-common:run_process:1702        :   is_service_enabled c-bak
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661164002880
+ functions-common:time_stop:2448          :   [[ -z 1661164002880 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661164002945
+ functions-common:time_stop:2452          :   elapsed_time=65
+ functions-common:time_stop:2453          :   total=21179
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=21244
+ lib/cinder:start_cinder:561              :   run_process c-vol '/usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf' '' '' 'MALLOC_ARENA_MAX=1 MALLOC_MMAP_THRESHOLD_=131072 MALLOC_TRIM_THRESHOLD_=262144'
+ functions-common:run_process:1693        :   local service=c-vol
+ functions-common:run_process:1694        :   local 'command=/usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local 'env_vars=MALLOC_ARENA_MAX=1 MALLOC_MMAP_THRESHOLD_=131072 MALLOC_TRIM_THRESHOLD_=262144'
+ functions-common:run_process:1699        :   local name=c-vol
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661164002999
+ functions-common:run_process:1702        :   is_service_enabled c-vol
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd c-vol '/usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf' '' '' 'MALLOC_ARENA_MAX=1 MALLOC_MMAP_THRESHOLD_=131072 MALLOC_TRIM_THRESHOLD_=262144'
+ functions-common:_run_under_systemd:1653 :   local service=c-vol
+ functions-common:_run_under_systemd:1654 :   local 'command=/usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@c-vol.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local 'env_vars=MALLOC_ARENA_MAX=1 MALLOC_MMAP_THRESHOLD_=131072 MALLOC_TRIM_THRESHOLD_=262144'
+ functions-common:_run_under_systemd:1666 :   [[ /usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf =~ uwsgi ]]
+ functions-common:_run_under_systemd:1669 :   write_user_unit_file devstack@c-vol.service '/usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf' '' stack 'MALLOC_ARENA_MAX=1 MALLOC_MMAP_THRESHOLD_=131072 MALLOC_TRIM_THRESHOLD_=262144'
+ functions-common:write_user_unit_file:1562 :   local service=devstack@c-vol.service
+ functions-common:write_user_unit_file:1563 :   local 'command=/usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf'
+ functions-common:write_user_unit_file:1564 :   local group=
+ functions-common:write_user_unit_file:1565 :   local user=stack
+ functions-common:write_user_unit_file:1566 :   local 'env_vars=MALLOC_ARENA_MAX=1 MALLOC_MMAP_THRESHOLD_=131072 MALLOC_TRIM_THRESHOLD_=262144'
+ functions-common:write_user_unit_file:1567 :   local extra=
+ functions-common:write_user_unit_file:1568 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1571 :   local unitfile=/etc/systemd/system/devstack@c-vol.service
+ functions-common:write_user_unit_file:1572 :   mkdir -p /etc/systemd/system
+ functions-common:write_user_unit_file:1574 :   iniset -sudo /etc/systemd/system/devstack@c-vol.service Unit Description 'Devstack devstack@c-vol.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1575 :   iniset -sudo /etc/systemd/system/devstack@c-vol.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1576 :   iniset -sudo /etc/systemd/system/devstack@c-vol.service Service ExecStart '/usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1577 :   iniset -sudo /etc/systemd/system/devstack@c-vol.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1578 :   iniset -sudo /etc/systemd/system/devstack@c-vol.service Service TimeoutStopSec 300
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1579 :   iniset -sudo /etc/systemd/system/devstack@c-vol.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1580 :   [[ -n MALLOC_ARENA_MAX=1 MALLOC_MMAP_THRESHOLD_=131072 MALLOC_TRIM_THRESHOLD_=262144 ]]
+ functions-common:write_user_unit_file:1581 :   iniset -sudo /etc/systemd/system/devstack@c-vol.service Service Environment 'MALLOC_ARENA_MAX=1 MALLOC_MMAP_THRESHOLD_=131072 MALLOC_TRIM_THRESHOLD_=262144'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1583 :   [[ -n '' ]]
+ functions-common:write_user_unit_file:1586 :   iniset -sudo /etc/systemd/system/devstack@c-vol.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_user_unit_file:1589 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@c-vol.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@c-vol.service → /etc/systemd/system/devstack@c-vol.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@c-vol.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661164002999
+ functions-common:time_stop:2448          :   [[ -z 1661164002999 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661164004481
+ functions-common:time_stop:2452          :   elapsed_time=1482
+ functions-common:time_stop:2453          :   total=21244
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=22726
+ ./stack.sh:main:1320                     :   create_volume_types
+ lib/cinder:create_volume_types:579       :   is_service_enabled c-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/cinder:create_volume_types:579       :   [[ -n lvm:lvmdriver-1 ]]
+ lib/cinder:create_volume_types:580       :   local be be_name
+ lib/cinder:create_volume_types:581       :   for be in ${CINDER_ENABLED_BACKENDS//,/ }
+ lib/cinder:create_volume_types:582       :   be_name=lvmdriver-1
+ lib/cinder:create_volume_types:584       :   is_service_enabled keystone
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/cinder:create_volume_types:585       :   openstack --os-region-name=RegionOne volume type create --property volume_backend_name=lvmdriver-1 lvmdriver-1
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+-------------+--------------------------------------+
| Field       | Value                                |
+-------------+--------------------------------------+
| description | None                                 |
| id          | fa241885-2b00-4a6a-b33c-25da2f259cac |
| is_public   | True                                 |
| name        | lvmdriver-1                          |
| properties  | volume_backend_name='lvmdriver-1'    |
+-------------+--------------------------------------+
+ lib/cinder:create_volume_types:599       :   [[ False == \T\r\u\e ]]
+ ./stack.sh:main:1325                     :   [[ False == \T\r\u\e ]]
+ ./stack.sh:main:1333                     :   is_service_enabled glance
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1334                     :   echo_summary 'Starting Glance'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Starting Glance
2022-08-22 10:26:46.954 | Starting Glance
+ ./stack.sh:main:1335                     :   start_glance
+ lib/glance:start_glance:602              :   local service_protocol=http
+ lib/glance:start_glance:603              :   is_service_enabled tls-proxy
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/glance:start_glance:609              :   [[ False == False ]]
++ lib/glance:start_glance:610              :   which uwsgi
+ lib/glance:start_glance:610              :   run_process g-api '/bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini'
+ functions-common:run_process:1693        :   local service=g-api
+ functions-common:run_process:1694        :   local 'command=/bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini'
+ functions-common:run_process:1695        :   local group=
+ functions-common:run_process:1696        :   local user=
+ functions-common:run_process:1697        :   local env_vars=
+ functions-common:run_process:1699        :   local name=g-api
+ functions-common:run_process:1701        :   time_start run_process
+ functions-common:time_start:2425         :   local name=run_process
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661164007037
+ functions-common:run_process:1702        :   is_service_enabled g-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ functions-common:run_process:1703        :   _run_under_systemd g-api '/bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini' '' '' ''
+ functions-common:_run_under_systemd:1653 :   local service=g-api
+ functions-common:_run_under_systemd:1654 :   local 'command=/bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini'
+ functions-common:_run_under_systemd:1655 :   local 'cmd=/bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini'
+ functions-common:_run_under_systemd:1657 :   _common_systemd_pitfalls '/bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1625 :   local 'cmd=/bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini'
+ functions-common:_common_systemd_pitfalls:1628 :   [[ /bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini =~ sudo ]]
+ functions-common:_common_systemd_pitfalls:1639 :   [[ ! /bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini =~ ^/ ]]
+ functions-common:_run_under_systemd:1659 :   local systemd_service=devstack@g-api.service
+ functions-common:_run_under_systemd:1660 :   local group=
+ functions-common:_run_under_systemd:1661 :   local user=stack
+ functions-common:_run_under_systemd:1662 :   [[ -z stack ]]
+ functions-common:_run_under_systemd:1665 :   local env_vars=
+ functions-common:_run_under_systemd:1666 :   [[ /bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini =~ uwsgi ]]
+ functions-common:_run_under_systemd:1667 :   write_uwsgi_user_unit_file devstack@g-api.service '/bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini' '' stack ''
+ functions-common:write_uwsgi_user_unit_file:1593 :   local service=devstack@g-api.service
+ functions-common:write_uwsgi_user_unit_file:1594 :   local 'command=/bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini'
+ functions-common:write_uwsgi_user_unit_file:1595 :   local group=
+ functions-common:write_uwsgi_user_unit_file:1596 :   local user=stack
+ functions-common:write_uwsgi_user_unit_file:1597 :   local env_vars=
+ functions-common:write_uwsgi_user_unit_file:1598 :   local unitfile=/etc/systemd/system/devstack@g-api.service
+ functions-common:write_uwsgi_user_unit_file:1599 :   mkdir -p /etc/systemd/system
+ functions-common:write_uwsgi_user_unit_file:1601 :   iniset -sudo /etc/systemd/system/devstack@g-api.service Unit Description 'Devstack devstack@g-api.service'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1602 :   iniset -sudo /etc/systemd/system/devstack@g-api.service Service SyslogIdentifier devstack@g-api.service
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1603 :   iniset -sudo /etc/systemd/system/devstack@g-api.service Service User stack
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1604 :   iniset -sudo /etc/systemd/system/devstack@g-api.service Service ExecStart '/bin/uwsgi --procname-prefix glance-api --ini /etc/glance/glance-uwsgi.ini'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   set +o
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1605 :   iniset -sudo /etc/systemd/system/devstack@g-api.service Service ExecReload '/usr/bin/kill -HUP $MAINPID'
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1606 :   iniset -sudo /etc/systemd/system/devstack@g-api.service Service Type notify
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1607 :   iniset -sudo /etc/systemd/system/devstack@g-api.service Service KillMode process
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1608 :   iniset -sudo /etc/systemd/system/devstack@g-api.service Service Restart always
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1609 :   iniset -sudo /etc/systemd/system/devstack@g-api.service Service NotifyAccess all
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1610 :   iniset -sudo /etc/systemd/system/devstack@g-api.service Service RestartForceExitStatus 100
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1612 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1615 :   [[ -n '' ]]
+ functions-common:write_uwsgi_user_unit_file:1618 :   iniset -sudo /etc/systemd/system/devstack@g-api.service Install WantedBy multi-user.target
+ inc/ini-config:iniset:177                :   local xtrace
++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   grep xtrace
+ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
+ inc/ini-config:iniset:179                :   set +o xtrace
+ functions-common:write_uwsgi_user_unit_file:1621 :   sudo systemctl daemon-reload
+ functions-common:_run_under_systemd:1672 :   sudo systemctl enable devstack@g-api.service
Created symlink /etc/systemd/system/multi-user.target.wants/devstack@g-api.service → /etc/systemd/system/devstack@g-api.service.
+ functions-common:_run_under_systemd:1673 :   sudo systemctl start devstack@g-api.service
+ functions-common:run_process:1705        :   time_stop run_process
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=run_process
+ functions-common:time_stop:2446          :   start_time=1661164007037
+ functions-common:time_stop:2448          :   [[ -z 1661164007037 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661164008728
+ functions-common:time_stop:2452          :   elapsed_time=1691
+ functions-common:time_stop:2453          :   total=22726
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=24417
+ lib/glance:start_glance:615              :   is_service_enabled g-api-r
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 1
+ lib/glance:start_glance:620              :   echo 'Waiting for g-api (10.200.2.118) to start...'
Waiting for g-api (10.200.2.118) to start...
+ lib/glance:start_glance:621              :   wait_for_service 60 http://10.200.2.118/image
+ functions:wait_for_service:457           :   local timeout=60
+ functions:wait_for_service:458           :   local url=http://10.200.2.118/image
+ functions:wait_for_service:459           :   local rval=0
+ functions:wait_for_service:460           :   time_start wait_for_service
+ functions-common:time_start:2425         :   local name=wait_for_service
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661164008802
+ functions:wait_for_service:461           :   timeout 60 bash -x
++ ::                                       :   curl -g -k --noproxy '*' -s -o /dev/null -w '%{http_code}' http://10.200.2.118/image
+ ::                                       :   [[ 300 == 503 ]]
+ ::                                       :   [[ 0 -eq 7 ]]
+ functions:wait_for_service:466           :   time_stop wait_for_service
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=wait_for_service
+ functions-common:time_stop:2446          :   start_time=1661164008802
+ functions-common:time_stop:2448          :   [[ -z 1661164008802 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661164010880
+ functions-common:time_stop:2452          :   elapsed_time=2078
+ functions-common:time_stop:2453          :   total=9229
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=11307
+ functions:wait_for_service:467           :   return 0
+ ./stack.sh:main:1349                     :   is_service_enabled mysql postgresql
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1349                     :   is_service_enabled glance
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1350                     :   echo_summary 'Uploading images'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Uploading images
2022-08-22 10:26:50.957 | Uploading images
+ ./stack.sh:main:1352                     :   for image_url in ${IMAGE_URLS//,/ }
+ ./stack.sh:main:1353                     :   upload_image http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img
+ functions:upload_image:132               :   local image_url=http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img
+ functions:upload_image:134               :   local image image_fname image_name
+ functions:upload_image:137               :   mkdir -p /opt/stack/devstack/files/images
++ functions:upload_image:138               :   basename http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img
+ functions:upload_image:138               :   image_fname=cirros-0.5.2-x86_64-disk.img
+ functions:upload_image:139               :   [[ http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img != file* ]]
+ functions:upload_image:141               :   [[ ! -f /opt/stack/devstack/files/cirros-0.5.2-x86_64-disk.img ]]
++ functions:upload_image:141               :   stat -c %s /opt/stack/devstack/files/cirros-0.5.2-x86_64-disk.img
+ functions:upload_image:141               :   [[ 16300544 = \0 ]]
+ functions:upload_image:148               :   image=/opt/stack/devstack/files/cirros-0.5.2-x86_64-disk.img
+ functions:upload_image:162               :   [[ http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img =~ openvz ]]
+ functions:upload_image:169               :   [[ http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img =~ \.vmdk ]]
+ functions:upload_image:283               :   [[ http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img =~ \.hds ]]
+ functions:upload_image:294               :   local kernel=
+ functions:upload_image:295               :   local ramdisk=
+ functions:upload_image:296               :   local disk_format=
+ functions:upload_image:297               :   local container_format=
+ functions:upload_image:298               :   local unpack=
+ functions:upload_image:299               :   local img_property=
+ functions:upload_image:303               :   [[ libvirt == \l\i\b\v\i\r\t ]]
+ functions:upload_image:304               :   [[ kvm == \q\e\m\u ]]
+ functions:upload_image:304               :   [[ kvm == \k\v\m ]]
+ functions:upload_image:305               :   img_property=hw_rng_model=virtio
+ functions:upload_image:309               :   case "$image_fname" in
++ functions:upload_image:330               :   basename /opt/stack/devstack/files/cirros-0.5.2-x86_64-disk.img .img
+ functions:upload_image:330               :   image_name=cirros-0.5.2-x86_64-disk
+ functions:upload_image:331               :   local format
++ functions:upload_image:332               :   qemu-img info /opt/stack/devstack/files/cirros-0.5.2-x86_64-disk.img
++ functions:upload_image:332               :   awk '/^file format/ { print $3; exit }'
+ functions:upload_image:332               :   format=qcow2
+ functions:upload_image:333               :   [[ ,qcow2,raw,vdi,vmdk,vpc, =~ ,qcow2, ]]
+ functions:upload_image:334               :   disk_format=qcow2
+ functions:upload_image:338               :   container_format=bare
+ functions:upload_image:385               :   is_arch ppc64le
++ functions-common:is_arch:501             :   uname -m
+ functions-common:is_arch:501             :   [[ x86_64 == \p\p\c\6\4\l\e ]]
+ functions:upload_image:385               :   is_arch ppc64
++ functions-common:is_arch:501             :   uname -m
+ functions-common:is_arch:501             :   [[ x86_64 == \p\p\c\6\4 ]]
+ functions:upload_image:385               :   is_arch ppc
++ functions-common:is_arch:501             :   uname -m
+ functions-common:is_arch:501             :   [[ x86_64 == \p\p\c ]]
+ functions:upload_image:389               :   is_arch aarch64
++ functions-common:is_arch:501             :   uname -m
+ functions-common:is_arch:501             :   [[ x86_64 == \a\a\r\c\h\6\4 ]]
+ functions:upload_image:393               :   '[' bare = bare ']'
+ functions:upload_image:394               :   '[' '' = zcat ']'
+ functions:upload_image:396               :   '[' '' = bunzip2 ']'
+ functions:upload_image:398               :   '[' '' = unxz ']'
+ functions:upload_image:409               :   _upload_image cirros-0.5.2-x86_64-disk bare qcow2 /opt/stack/devstack/files/cirros-0.5.2-x86_64-disk.img hw_rng_model=virtio
+ functions:_upload_image:104              :   local image_name=cirros-0.5.2-x86_64-disk
+ functions:_upload_image:105              :   shift
+ functions:_upload_image:106              :   local container=bare
+ functions:_upload_image:107              :   shift
+ functions:_upload_image:108              :   local disk=qcow2
+ functions:_upload_image:109              :   shift
+ functions:_upload_image:110              :   local image=/opt/stack/devstack/files/cirros-0.5.2-x86_64-disk.img
+ functions:_upload_image:111              :   shift
+ functions:_upload_image:112              :   local properties
+ functions:_upload_image:113              :   local useimport
++ functions:_upload_image:115              :   _image_properties_to_arg hw_rng_model=virtio
++ functions:_image_properties_to_arg:87    :   local result=
++ functions:_image_properties_to_arg:88    :   for property in $*
++ functions:_image_properties_to_arg:89    :   result+=' --property hw_rng_model=virtio'
++ functions:_image_properties_to_arg:91    :   echo --property hw_rng_model=virtio
+ functions:_upload_image:115              :   properties='--property hw_rng_model=virtio'
+ functions:_upload_image:117              :   [[ False == \T\r\u\e ]]
+ functions:_upload_image:121              :   openstack --os-cloud=devstack-admin --os-region-name=RegionOne image create cirros-0.5.2-x86_64-disk --public --container-format bare --disk-format qcow2 --property hw_rng_model=virtio
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Field            | Value                                                                                                                                                                               |
+------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| container_format | bare                                                                                                                                                                                |
| created_at       | 2022-08-22T10:26:53Z                                                                                                                                                                |
| disk_format      | qcow2                                                                                                                                                                               |
| file             | /v2/images/e3fed545-f27d-482d-adfc-29d44405341d/file                                                                                                                                |
| id               | e3fed545-f27d-482d-adfc-29d44405341d                                                                                                                                                |
| min_disk         | 0                                                                                                                                                                                   |
| min_ram          | 0                                                                                                                                                                                   |
| name             | cirros-0.5.2-x86_64-disk                                                                                                                                                            |
| owner            | e9042542350e4474975e8ab20e585a23                                                                                                                                                    |
| properties       | hw_rng_model='virtio', os_hidden='False', owner_specified.openstack.md5='', owner_specified.openstack.object='images/cirros-0.5.2-x86_64-disk', owner_specified.openstack.sha256='' |
| protected        | False                                                                                                                                                                               |
| schema           | /v2/schemas/image                                                                                                                                                                   |
| status           | queued                                                                                                                                                                              |
| tags             |                                                                                                                                                                                     |
| updated_at       | 2022-08-22T10:26:53Z                                                                                                                                                                |
| visibility       | public                                                                                                                                                                              |
+------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
+ ./stack.sh:main:1357                     :   async_wait create_flavors
+ inc/async:async_wait:141                 :   local xtrace
++ inc/async:async_wait:142                 :   set +o
++ inc/async:async_wait:142                 :   grep xtrace
+ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
+ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async create_flavors:3192189]: Waiting for completion of create_flavors running on PID 3192189 (2 other jobs running)
[3131924 Async create_flavors:3192189]: Signaling child to exit
+ inc/async:async_inner:64                 :   rc=0
+ inc/async:async_inner:65                 :   set +o xtrace
[3192189 Async create_flavors:3192189]: finished successfully
WAKEUP
[3131924 Async create_flavors:3192189]: Signaled
+ lib/nova:create_flavors:1203             :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ lib/nova:create_flavors:1204             :   openstack --os-region-name=RegionOne flavor list
+ lib/nova:create_flavors:1204             :   grep -q ds512M
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ lib/nova:create_flavors:1206             :   openstack --os-region-name=RegionOne flavor create --id c1 --ram 256 --disk 1 --vcpus 1 --property hw_rng:allowed=True cirros256
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------------+-----------------------+
| Field                      | Value                 |
+----------------------------+-----------------------+
| OS-FLV-DISABLED:disabled   | False                 |
| OS-FLV-EXT-DATA:ephemeral  | 0                     |
| description                | None                  |
| disk                       | 1                     |
| id                         | c1                    |
| name                       | cirros256             |
| os-flavor-access:is_public | True                  |
| properties                 | hw_rng:allowed='True' |
| ram                        | 256                   |
| rxtx_factor                | 1.0                   |
| swap                       |                       |
| vcpus                      | 1                     |
+----------------------------+-----------------------+
+ lib/nova:create_flavors:1207             :   openstack --os-region-name=RegionOne flavor create --id d1 --ram 512 --disk 5 --vcpus 1 --property hw_rng:allowed=True ds512M
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------------+-----------------------+
| Field                      | Value                 |
+----------------------------+-----------------------+
| OS-FLV-DISABLED:disabled   | False                 |
| OS-FLV-EXT-DATA:ephemeral  | 0                     |
| description                | None                  |
| disk                       | 5                     |
| id                         | d1                    |
| name                       | ds512M                |
| os-flavor-access:is_public | True                  |
| properties                 | hw_rng:allowed='True' |
| ram                        | 512                   |
| rxtx_factor                | 1.0                   |
| swap                       |                       |
| vcpus                      | 1                     |
+----------------------------+-----------------------+
+ lib/nova:create_flavors:1208             :   openstack --os-region-name=RegionOne flavor create --id d2 --ram 1024 --disk 10 --vcpus 1 --property hw_rng:allowed=True ds1G
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------------+-----------------------+
| Field                      | Value                 |
+----------------------------+-----------------------+
| OS-FLV-DISABLED:disabled   | False                 |
| OS-FLV-EXT-DATA:ephemeral  | 0                     |
| description                | None                  |
| disk                       | 10                    |
| id                         | d2                    |
| name                       | ds1G                  |
| os-flavor-access:is_public | True                  |
| properties                 | hw_rng:allowed='True' |
| ram                        | 1024                  |
| rxtx_factor                | 1.0                   |
| swap                       |                       |
| vcpus                      | 1                     |
+----------------------------+-----------------------+
+ lib/nova:create_flavors:1209             :   openstack --os-region-name=RegionOne flavor create --id d3 --ram 2048 --disk 10 --vcpus 2 --property hw_rng:allowed=True ds2G
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------------+-----------------------+
| Field                      | Value                 |
+----------------------------+-----------------------+
| OS-FLV-DISABLED:disabled   | False                 |
| OS-FLV-EXT-DATA:ephemeral  | 0                     |
| description                | None                  |
| disk                       | 10                    |
| id                         | d3                    |
| name                       | ds2G                  |
| os-flavor-access:is_public | True                  |
| properties                 | hw_rng:allowed='True' |
| ram                        | 2048                  |
| rxtx_factor                | 1.0                   |
| swap                       |                       |
| vcpus                      | 2                     |
+----------------------------+-----------------------+
+ lib/nova:create_flavors:1210             :   openstack --os-region-name=RegionOne flavor create --id d4 --ram 4096 --disk 20 --vcpus 4 --property hw_rng:allowed=True ds4G
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------------+-----------------------+
| Field                      | Value                 |
+----------------------------+-----------------------+
| OS-FLV-DISABLED:disabled   | False                 |
| OS-FLV-EXT-DATA:ephemeral  | 0                     |
| description                | None                  |
| disk                       | 20                    |
| id                         | d4                    |
| name                       | ds4G                  |
| os-flavor-access:is_public | True                  |
| properties                 | hw_rng:allowed='True' |
| ram                        | 4096                  |
| rxtx_factor                | 1.0                   |
| swap                       |                       |
| vcpus                      | 4                     |
+----------------------------+-----------------------+
+ lib/nova:create_flavors:1213             :   openstack --os-region-name=RegionOne flavor list
+ lib/nova:create_flavors:1213             :   grep -q m1.tiny
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ lib/nova:create_flavors:1214             :   openstack --os-region-name=RegionOne flavor create --id 1 --ram 512 --disk 1 --vcpus 1 --property hw_rng:allowed=True m1.tiny
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------------+-----------------------+
| Field                      | Value                 |
+----------------------------+-----------------------+
| OS-FLV-DISABLED:disabled   | False                 |
| OS-FLV-EXT-DATA:ephemeral  | 0                     |
| description                | None                  |
| disk                       | 1                     |
| id                         | 1                     |
| name                       | m1.tiny               |
| os-flavor-access:is_public | True                  |
| properties                 | hw_rng:allowed='True' |
| ram                        | 512                   |
| rxtx_factor                | 1.0                   |
| swap                       |                       |
| vcpus                      | 1                     |
+----------------------------+-----------------------+
+ lib/nova:create_flavors:1215             :   openstack --os-region-name=RegionOne flavor create --id 2 --ram 2048 --disk 20 --vcpus 1 --property hw_rng:allowed=True m1.small
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------------+-----------------------+
| Field                      | Value                 |
+----------------------------+-----------------------+
| OS-FLV-DISABLED:disabled   | False                 |
| OS-FLV-EXT-DATA:ephemeral  | 0                     |
| description                | None                  |
| disk                       | 20                    |
| id                         | 2                     |
| name                       | m1.small              |
| os-flavor-access:is_public | True                  |
| properties                 | hw_rng:allowed='True' |
| ram                        | 2048                  |
| rxtx_factor                | 1.0                   |
| swap                       |                       |
| vcpus                      | 1                     |
+----------------------------+-----------------------+
+ lib/nova:create_flavors:1216             :   openstack --os-region-name=RegionOne flavor create --id 3 --ram 4096 --disk 40 --vcpus 2 --property hw_rng:allowed=True m1.medium
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------------+-----------------------+
| Field                      | Value                 |
+----------------------------+-----------------------+
| OS-FLV-DISABLED:disabled   | False                 |
| OS-FLV-EXT-DATA:ephemeral  | 0                     |
| description                | None                  |
| disk                       | 40                    |
| id                         | 3                     |
| name                       | m1.medium             |
| os-flavor-access:is_public | True                  |
| properties                 | hw_rng:allowed='True' |
| ram                        | 4096                  |
| rxtx_factor                | 1.0                   |
| swap                       |                       |
| vcpus                      | 2                     |
+----------------------------+-----------------------+
+ lib/nova:create_flavors:1217             :   openstack --os-region-name=RegionOne flavor create --id 4 --ram 8192 --disk 80 --vcpus 4 --property hw_rng:allowed=True m1.large
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------------+-----------------------+
| Field                      | Value                 |
+----------------------------+-----------------------+
| OS-FLV-DISABLED:disabled   | False                 |
| OS-FLV-EXT-DATA:ephemeral  | 0                     |
| description                | None                  |
| disk                       | 80                    |
| id                         | 4                     |
| name                       | m1.large              |
| os-flavor-access:is_public | True                  |
| properties                 | hw_rng:allowed='True' |
| ram                        | 8192                  |
| rxtx_factor                | 1.0                   |
| swap                       |                       |
| vcpus                      | 4                     |
+----------------------------+-----------------------+
+ lib/nova:create_flavors:1218             :   openstack --os-region-name=RegionOne flavor create --id 5 --ram 16384 --disk 160 --vcpus 8 --property hw_rng:allowed=True m1.xlarge
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------------+-----------------------+
| Field                      | Value                 |
+----------------------------+-----------------------+
| OS-FLV-DISABLED:disabled   | False                 |
| OS-FLV-EXT-DATA:ephemeral  | 0                     |
| description                | None                  |
| disk                       | 160                   |
| id                         | 5                     |
| name                       | m1.xlarge             |
| os-flavor-access:is_public | True                  |
| properties                 | hw_rng:allowed='True' |
| ram                        | 16384                 |
| rxtx_factor                | 1.0                   |
| swap                       |                       |
| vcpus                      | 8                     |
+----------------------------+-----------------------+
[3131924 Async create_flavors:3192189]: finished create_flavors with result 0 in 19 seconds
+ inc/async:async_wait:197                 :   return 0
+ ./stack.sh:main:1359                     :   is_service_enabled horizon
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1360                     :   echo_summary 'Starting Horizon'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Starting Horizon
2022-08-22 10:26:56.759 | Starting Horizon
+ ./stack.sh:main:1361                     :   init_horizon
+ lib/horizon:init_horizon:145             :   sudo rm -f '/var/log/apache2/horizon_*'
+ lib/horizon:init_horizon:148             :   local django_admin
+ lib/horizon:init_horizon:149             :   type -p django-admin
+ lib/horizon:init_horizon:150             :   django_admin=django-admin
+ lib/horizon:init_horizon:156             :   DJANGO_SETTINGS_MODULE=openstack_dashboard.settings
+ lib/horizon:init_horizon:156             :   django-admin collectstatic --noinput
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/local/lib/python3.8/dist-packages/debreach/__init__.py:6: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
  version_info = version.StrictVersion(__version__).version

0 static files copied to '/opt/stack/horizon/static', 1886 unmodified.
+ lib/horizon:init_horizon:157             :   DJANGO_SETTINGS_MODULE=openstack_dashboard.settings
+ lib/horizon:init_horizon:157             :   django-admin compress --force
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/local/lib/python3.8/dist-packages/debreach/__init__.py:6: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
  version_info = version.StrictVersion(__version__).version
Compressing... done
Compressed 7 block(s) from 12 template(s) for 2 context(s).
+ ./stack.sh:main:1362                     :   start_horizon
+ lib/horizon:start_horizon:171            :   restart_apache_server
+ lib/apache:restart_apache_server:250     :   restart_service apache2
+ functions-common:restart_service:2323    :   '[' -x /bin/systemctl ']'
+ functions-common:restart_service:2324    :   sudo /bin/systemctl restart apache2
+ ./stack.sh:main:1373                     :   is_service_enabled nova
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1373                     :   is_service_enabled keystone
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1374                     :   USERRC_PARAMS='-PA --target-dir /opt/stack/devstack/accrc --os-password Datacore1'
+ ./stack.sh:main:1376                     :   '[' -f /opt/stack/data/ca-bundle.pem ']'
+ ./stack.sh:main:1380                     :   /opt/stack/devstack/tools/create_userrc.sh -PA --target-dir /opt/stack/devstack/accrc --os-password Datacore1
+ opt/stack/devstack/tools/create_userrc.sh:main:31 :   ACCOUNT_DIR=./accrc
++ opt/stack/devstack/tools/create_userrc.sh:main:80 :   getopt -o hPAp:u:r:C: -l os-username:,os-password:,os-tenant-id:,os-tenant-name:,os-project-name:,os-project-id:,os-project-domain-id:,os-project-domain-name:,os-user-domain-id:,os-user-domain-name:,os-auth-url:,target-dir:,heat-url:,skip-project:,os-cacert:,help,debug -- -PA --target-dir /opt/stack/devstack/accrc --os-password Datacore1
+ opt/stack/devstack/tools/create_userrc.sh:main:80 :   options=' -P -A --target-dir '\''/opt/stack/devstack/accrc'\'' --os-password '\''Datacore1'\'' --'
+ opt/stack/devstack/tools/create_userrc.sh:main:84 :   eval set -- -P -A --target-dir ''\''/opt/stack/devstack/accrc'\''' --os-password ''\''Datacore1'\''' --
++ opt/stack/devstack/tools/create_userrc.sh:main:84 :   set -- -P -A --target-dir /opt/stack/devstack/accrc --os-password Datacore1 --
+ opt/stack/devstack/tools/create_userrc.sh:main:85 :   ADDPASS=
+ opt/stack/devstack/tools/create_userrc.sh:main:86 :   HEAT_URL=
+ opt/stack/devstack/tools/create_userrc.sh:main:91 :   SKIP_PROJECT=service
+ opt/stack/devstack/tools/create_userrc.sh:main:92 :   MODE=
+ opt/stack/devstack/tools/create_userrc.sh:main:93 :   ROLE=Member
+ opt/stack/devstack/tools/create_userrc.sh:main:94 :   USER_NAME=
+ opt/stack/devstack/tools/create_userrc.sh:main:95 :   USER_PASS=
+ opt/stack/devstack/tools/create_userrc.sh:main:96 :   '[' 7 -gt 0 ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:97 :   case "$1" in
+ opt/stack/devstack/tools/create_userrc.sh:main:119 :   ADDPASS=yes
+ opt/stack/devstack/tools/create_userrc.sh:main:126 :   shift
+ opt/stack/devstack/tools/create_userrc.sh:main:96 :   '[' 6 -gt 0 ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:97 :   case "$1" in
+ opt/stack/devstack/tools/create_userrc.sh:main:118 :   MODE=all
+ opt/stack/devstack/tools/create_userrc.sh:main:126 :   shift
+ opt/stack/devstack/tools/create_userrc.sh:main:96 :   '[' 5 -gt 0 ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:97 :   case "$1" in
+ opt/stack/devstack/tools/create_userrc.sh:main:113 :   ACCOUNT_DIR=/opt/stack/devstack/accrc
+ opt/stack/devstack/tools/create_userrc.sh:main:113 :   shift
+ opt/stack/devstack/tools/create_userrc.sh:main:126 :   shift
+ opt/stack/devstack/tools/create_userrc.sh:main:96 :   '[' 3 -gt 0 ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:97 :   case "$1" in
+ opt/stack/devstack/tools/create_userrc.sh:main:100 :   export OS_PASSWORD=Datacore1
+ opt/stack/devstack/tools/create_userrc.sh:main:100 :   OS_PASSWORD=Datacore1
+ opt/stack/devstack/tools/create_userrc.sh:main:100 :   shift
+ opt/stack/devstack/tools/create_userrc.sh:main:126 :   shift
+ opt/stack/devstack/tools/create_userrc.sh:main:96 :   '[' 1 -gt 0 ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:97 :   case "$1" in
+ opt/stack/devstack/tools/create_userrc.sh:main:122 :   shift
+ opt/stack/devstack/tools/create_userrc.sh:main:122 :   break
+ opt/stack/devstack/tools/create_userrc.sh:main:129 :   '[' -z Datacore1 ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:138 :   '[' -z '' -a '' ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:142 :   '[' -z '' -a '' ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:146 :   '[' -z '' -a -z '' ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:147 :   export OS_PROJECT_NAME=admin
+ opt/stack/devstack/tools/create_userrc.sh:main:147 :   OS_PROJECT_NAME=admin
+ opt/stack/devstack/tools/create_userrc.sh:main:150 :   '[' -z '' ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:151 :   export OS_USERNAME=admin
+ opt/stack/devstack/tools/create_userrc.sh:main:151 :   OS_USERNAME=admin
+ opt/stack/devstack/tools/create_userrc.sh:main:154 :   '[' -z '' ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:155 :   export OS_AUTH_URL=http://localhost:5000/v3/
+ opt/stack/devstack/tools/create_userrc.sh:main:155 :   OS_AUTH_URL=http://localhost:5000/v3/
+ opt/stack/devstack/tools/create_userrc.sh:main:158 :   '[' -z '' -a -z '' ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:160 :   OS_USER_DOMAIN_ID=default
+ opt/stack/devstack/tools/create_userrc.sh:main:163 :   '[' -z '' -a -z '' ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:165 :   OS_PROJECT_DOMAIN_ID=default
+ opt/stack/devstack/tools/create_userrc.sh:main:168 :   USER_PASS=Datacore1
+ opt/stack/devstack/tools/create_userrc.sh:main:169 :   USER_NAME=admin
+ opt/stack/devstack/tools/create_userrc.sh:main:171 :   '[' -z all ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:239 :   '[' all '!=' create ']'
+ opt/stack/devstack/tools/create_userrc.sh:main:241 :   grep -v service
+ opt/stack/devstack/tools/create_userrc.sh:main:241 :   IFS=,
+ opt/stack/devstack/tools/create_userrc.sh:main:241 :   openstack project list --long --quote none -f csv
+ opt/stack/devstack/tools/create_userrc.sh:main:241 :   grep ,True
+ opt/stack/devstack/tools/create_userrc.sh:main:241 :   read project_id project_name desc enabled
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Failed to discover available identity versions when contacting http://localhost:5000/v3/. Attempting to parse version from URL.
Unable to establish connection to http://localhost:5000/v3/auth/tokens: HTTPConnectionPool(host='localhost', port=5000): Max retries exceeded with url: /v3/auth/tokens (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f9e2093d2b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
+ ./stack.sh:main:1385                     :   save_stackenv
+ functions-common:save_stackenv:60        :   local tag=
++ functions-common:save_stackenv:62        :   date +%F-%H%M%S
+ functions-common:save_stackenv:62        :   time_stamp=2022-08-22-155708
+ functions-common:save_stackenv:63        :   echo '# 2022-08-22-155708 '
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo BASE_SQL_CONN=mysql+pymysql://root:Datacore1@127.0.0.1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo DATA_DIR=/opt/stack/data
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo DEST=/opt/stack
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo ENABLED_SERVICES=key,n-api,n-cpu,n-cond,n-sch,n-novnc,n-api-meta,placement-api,placement-client,g-api,c-sch,c-api,c-vol,ovn-controller,ovn-northd,ovs-vswitchd,ovsdb-server,q-svc,q-ovn-metadata-agent,horizon,rabbit,tempest,mysql,etcd3,dstat,n-novnc-cell1,n-super-cond,n-cond-cell1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo HOST_IP=10.200.2.118
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo KEYSTONE_SERVICE_URI=http://10.200.2.118/identity
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo LOGFILE=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo OS_CACERT=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo SERVICE_HOST=10.200.2.118
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo STACK_USER=stack
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TLS_IP=
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo HOST_IPV6=::1
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo SERVICE_IP_VERSION=4
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TUNNEL_ENDPOINT_IP=10.200.2.118
+ functions-common:save_stackenv:64        :   for i in $STACK_ENV_VARS
+ functions-common:save_stackenv:65        :   echo TUNNEL_IP_VERSION=4
+ ./stack.sh:main:1396                     :   merge_config_group /opt/stack/devstack/local.conf extra
+ inc/meta-config:merge_config_group:171   :   local localfile=/opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_group:171   :   shift
+ inc/meta-config:merge_config_group:172   :   local matchgroups=extra
+ inc/meta-config:merge_config_group:174   :   [[ -r /opt/stack/devstack/local.conf ]]
+ inc/meta-config:merge_config_group:176   :   local configfile group
+ inc/meta-config:merge_config_group:177   :   for group in $matchgroups
++ inc/meta-config:merge_config_group:178   :   get_meta_section_files /opt/stack/devstack/local.conf extra
++ inc/meta-config:get_meta_section_files:63 :   local file=/opt/stack/devstack/local.conf
++ inc/meta-config:get_meta_section_files:64 :   local matchgroup=extra
++ inc/meta-config:get_meta_section_files:66 :   [[ -r /opt/stack/devstack/local.conf ]]
++ inc/meta-config:get_meta_section_files:68 :   awk -v matchgroup=extra '
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup)
                print a[2]
        }
    ' /opt/stack/devstack/local.conf
+ ./stack.sh:main:1403                     :   run_phase stack extra
+ functions-common:run_phase:1867          :   local mode=stack
+ functions-common:run_phase:1868          :   local phase=extra
+ functions-common:run_phase:1869          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1870          :   local extra_plugin_file_name
+ functions-common:run_phase:1871          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1876          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1877          :   local extra
++ functions-common:run_phase:1878          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1878          :   extra=80-tempest.sh
+ functions-common:run_phase:1879          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1883          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1883          :   source /opt/stack/devstack/extras.d/80-tempest.sh stack extra
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ stack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:7          :   [[ extra == \i\n\s\t\a\l\l ]]
++ extras.d/80-tempest.sh:source:10         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ extra == \p\o\s\t\-\c\o\n\f\i\g ]]
++ extras.d/80-tempest.sh:source:13         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ extra == \e\x\t\r\a ]]
++ extras.d/80-tempest.sh:source:15         :   :
++ extras.d/80-tempest.sh:source:27         :   [[ stack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ stack == \c\l\e\a\n ]]
+ functions-common:run_phase:1888          :   [[ stack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1891          :   [[ stack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1894          :   run_plugins stack extra
+ functions-common:run_plugins:1853        :   local mode=stack
+ functions-common:run_plugins:1854        :   local phase=extra
+ functions-common:run_plugins:1856        :   local plugins=
+ functions-common:run_plugins:1857        :   local plugin
+ ./stack.sh:main:1411                     :   merge_config_group /opt/stack/devstack/local.conf post-extra
+ inc/meta-config:merge_config_group:171   :   local localfile=/opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_group:171   :   shift
+ inc/meta-config:merge_config_group:172   :   local matchgroups=post-extra
+ inc/meta-config:merge_config_group:174   :   [[ -r /opt/stack/devstack/local.conf ]]
+ inc/meta-config:merge_config_group:176   :   local configfile group
+ inc/meta-config:merge_config_group:177   :   for group in $matchgroups
++ inc/meta-config:merge_config_group:178   :   get_meta_section_files /opt/stack/devstack/local.conf post-extra
++ inc/meta-config:get_meta_section_files:63 :   local file=/opt/stack/devstack/local.conf
++ inc/meta-config:get_meta_section_files:64 :   local matchgroup=post-extra
++ inc/meta-config:get_meta_section_files:66 :   [[ -r /opt/stack/devstack/local.conf ]]
++ inc/meta-config:get_meta_section_files:68 :   awk -v matchgroup=post-extra '
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup)
                print a[2]
        }
    ' /opt/stack/devstack/local.conf
+ ./stack.sh:main:1420                     :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   set +o
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1421                     :   is_nova_ready
+ lib/nova:is_nova_ready:1128              :   wait_for_compute 60
+ functions:wait_for_compute:471           :   local timeout=60
+ functions:wait_for_compute:472           :   local rval=0
+ functions:wait_for_compute:473           :   local compute_hostname
+ functions:wait_for_compute:474           :   time_start wait_for_service
+ functions-common:time_start:2425         :   local name=wait_for_service
+ functions-common:time_start:2426         :   local start_time=
+ functions-common:time_start:2427         :   [[ -n '' ]]
++ functions-common:time_start:2430         :   date +%s%3N
+ functions-common:time_start:2430         :   _TIME_START[$name]=1661164028951
++ functions:wait_for_compute:475           :   iniget /etc/nova/nova.conf DEFAULT host
++ inc/ini-config:iniget:61                 :   local xtrace
+++ inc/ini-config:iniget:62                 :   set +o
+++ inc/ini-config:iniget:62                 :   grep xtrace
++ inc/ini-config:iniget:62                 :   xtrace='set -o xtrace'
++ inc/ini-config:iniget:63                 :   set +o xtrace
+ functions:wait_for_compute:475           :   compute_hostname=
+ functions:wait_for_compute:476           :   [[ -z '' ]]
++ functions:wait_for_compute:477           :   hostname
+ functions:wait_for_compute:477           :   compute_hostname=datacore-PowerEdge-R740
+ functions:wait_for_compute:479           :   timeout 60 bash -x
++ functions:wait_for_compute:479           :   hostname
+ ::                                       :   ID=
+ ::                                       :   [[ '' == '' ]]
+ ::                                       :   sleep 1
+ ::                                       :   [[ libvirt = \f\a\k\e ]]
++ ::                                       :   openstack --os-cloud devstack-admin --os-region RegionOne compute service list --host datacore-PowerEdge-R740 --service nova-compute -c ID -f value
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+ ::                                       :   ID=8d84c44f-ecb7-4421-863d-3ed55c934f0e
+ ::                                       :   [[ 8d84c44f-ecb7-4421-863d-3ed55c934f0e == '' ]]
+ functions:wait_for_compute:491           :   time_stop wait_for_service
+ functions-common:time_stop:2439          :   local name
+ functions-common:time_stop:2440          :   local end_time
+ functions-common:time_stop:2441          :   local elapsed_time
+ functions-common:time_stop:2442          :   local total
+ functions-common:time_stop:2443          :   local start_time
+ functions-common:time_stop:2445          :   name=wait_for_service
+ functions-common:time_stop:2446          :   start_time=1661164028951
+ functions-common:time_stop:2448          :   [[ -z 1661164028951 ]]
++ functions-common:time_stop:2451          :   date +%s%3N
+ functions-common:time_stop:2451          :   end_time=1661164031424
+ functions-common:time_stop:2452          :   elapsed_time=2473
+ functions-common:time_stop:2453          :   total=11307
+ functions-common:time_stop:2455          :   _TIME_START[$name]=
+ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=13780
+ functions:wait_for_compute:493           :   [[ 0 != 0 ]]
+ functions:wait_for_compute:497           :   return 0
+ ./stack.sh:main:1425                     :   service_check
+ functions-common:service_check:1732      :   local service
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@key.service
Failed to get unit file state for devstack@key.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@n-api.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@n-api.service --no-pager
● devstack@n-api.service - Devstack devstack@n-api.service
     Loaded: loaded (/etc/systemd/system/devstack@n-api.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:55:20 IST; 1min 51s ago
   Main PID: 3182225 (uwsgi)
     Status: "uWSGI is ready"
      Tasks: 11 (limit: 308935)
     Memory: 1.1G
     CGroup: /system.slice/system-devstack.slice/devstack@n-api.service
             ├─3182225 nova-apiuWSGI master
             ├─3182226 nova-apiuWSGI worker 1
             ├─3182227 nova-apiuWSGI worker 2
             ├─3182228 nova-apiuWSGI worker 3
             ├─3182229 nova-apiuWSGI worker 4
             ├─3182230 nova-apiuWSGI worker 5
             ├─3182231 nova-apiuWSGI worker 6
             ├─3182232 nova-apiuWSGI worker 7
             ├─3182233 nova-apiuWSGI worker 8
             ├─3182234 nova-apiuWSGI worker 9
             └─3182235 nova-apiuWSGI worker 10

Aug 22 15:57:11 datacore-PowerEdge-R740 devstack@n-api.service[3182228]: /usr/local/lib/python3.8/dist-packages/oslo_policy/policy.py:1129: UserWarning: Policy "os_compute_api:os-services:list": "rule:context_is_admin" failed scope check. The token used to make the request was project scoped but the policy requires ['system'] scope. This behavior may change in the future where using the intended scope is required
Aug 22 15:57:11 datacore-PowerEdge-R740 devstack@n-api.service[3182228]:   warnings.warn(msg)
Aug 22 15:57:11 datacore-PowerEdge-R740 devstack@n-api.service[3182228]: DEBUG oslo_concurrency.lockutils [None req-24be1449-5d42-4dbe-a791-1876bb4bdfa9 admin admin] Acquiring lock "00000000-0000-0000-0000-000000000000" by "nova.context.set_target_cell.<locals>.get_or_set_cached_cell_and_set_connections" {{(pid=3182228) inner /usr/local/lib/python3.8/dist-packages/oslo_concurrency/lockutils.py:385}}
Aug 22 15:57:11 datacore-PowerEdge-R740 devstack@n-api.service[3182228]: DEBUG oslo_concurrency.lockutils [None req-24be1449-5d42-4dbe-a791-1876bb4bdfa9 admin admin] Lock "00000000-0000-0000-0000-000000000000" acquired by "nova.context.set_target_cell.<locals>.get_or_set_cached_cell_and_set_connections" :: waited 0.001s {{(pid=3182228) inner /usr/local/lib/python3.8/dist-packages/oslo_concurrency/lockutils.py:390}}
Aug 22 15:57:11 datacore-PowerEdge-R740 devstack@n-api.service[3182228]: DEBUG oslo_concurrency.lockutils [None req-24be1449-5d42-4dbe-a791-1876bb4bdfa9 admin admin] Lock "00000000-0000-0000-0000-000000000000" "released" by "nova.context.set_target_cell.<locals>.get_or_set_cached_cell_and_set_connections" :: held 0.000s {{(pid=3182228) inner /usr/local/lib/python3.8/dist-packages/oslo_concurrency/lockutils.py:404}}
Aug 22 15:57:11 datacore-PowerEdge-R740 devstack@n-api.service[3182228]: DEBUG oslo_concurrency.lockutils [None req-24be1449-5d42-4dbe-a791-1876bb4bdfa9 admin admin] Acquiring lock "9e32c888-a93c-4f22-8b33-ea47e3e26085" by "nova.context.set_target_cell.<locals>.get_or_set_cached_cell_and_set_connections" {{(pid=3182228) inner /usr/local/lib/python3.8/dist-packages/oslo_concurrency/lockutils.py:385}}
Aug 22 15:57:11 datacore-PowerEdge-R740 devstack@n-api.service[3182228]: DEBUG oslo_concurrency.lockutils [None req-24be1449-5d42-4dbe-a791-1876bb4bdfa9 admin admin] Lock "9e32c888-a93c-4f22-8b33-ea47e3e26085" acquired by "nova.context.set_target_cell.<locals>.get_or_set_cached_cell_and_set_connections" :: waited 0.000s {{(pid=3182228) inner /usr/local/lib/python3.8/dist-packages/oslo_concurrency/lockutils.py:390}}
Aug 22 15:57:11 datacore-PowerEdge-R740 devstack@n-api.service[3182228]: DEBUG oslo_concurrency.lockutils [None req-24be1449-5d42-4dbe-a791-1876bb4bdfa9 admin admin] Lock "9e32c888-a93c-4f22-8b33-ea47e3e26085" "released" by "nova.context.set_target_cell.<locals>.get_or_set_cached_cell_and_set_connections" :: held 0.000s {{(pid=3182228) inner /usr/local/lib/python3.8/dist-packages/oslo_concurrency/lockutils.py:404}}
Aug 22 15:57:11 datacore-PowerEdge-R740 devstack@n-api.service[3182228]: INFO nova.api.openstack.requestlog [None req-24be1449-5d42-4dbe-a791-1876bb4bdfa9 admin admin] 10.200.2.118 "GET /compute/v2.1/os-services?binary=nova-compute&host=datacore-PowerEdge-R740" status: 200 len: 266 microversion: 2.69 time: 0.067703
Aug 22 15:57:11 datacore-PowerEdge-R740 devstack@n-api.service[3182228]: [pid: 3182228|app: 0|req: 4/37] 10.200.2.118 () {64 vars in 1438 bytes} [Mon Aug 22 15:57:11 2022] GET /compute/v2.1/os-services?binary=nova-compute&host=datacore-PowerEdge-R740 => generated 266 bytes in 69 msecs (HTTP/1.1 200) 9 headers in 359 bytes (2 switches on core 0)
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@n-cpu.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@n-cpu.service --no-pager
● devstack@n-cpu.service - Devstack devstack@n-cpu.service
     Loaded: loaded (/etc/systemd/system/devstack@n-cpu.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:56:34 IST; 36s ago
   Main PID: 3192074 (nova-compute)
      Tasks: 23 (limit: 308935)
     Memory: 127.0M
     CGroup: /system.slice/system-devstack.slice/devstack@n-cpu.service
             └─3192074 /usr/bin/python3.8 /usr/local/bin/nova-compute --config-file /etc/nova/nova-cpu.conf

Aug 22 15:56:39 datacore-PowerEdge-R740 nova-compute[3192074]:  {{(pid=3192074) _get_guest_baseline_cpu_features /opt/stack/nova/nova/virt/libvirt/driver.py:12173}}
Aug 22 15:56:39 datacore-PowerEdge-R740 nova-compute[3192074]: DEBUG nova.scheduler.client.report [None req-d145ee5f-fe46-4167-a5fa-3e8c3f3dd67b None None] Updated inventory for provider ceb3b7ac-7404-4eae-848c-e39ca1c9b80c with generation 0 in Placement from set_inventory_for_provider using data: {'MEMORY_MB': {'total': 257555, 'min_unit': 1, 'max_unit': 257555, 'step_size': 1, 'allocation_ratio': 1.5, 'reserved': 512}, 'VCPU': {'total': 40, 'min_unit': 1, 'max_unit': 40, 'step_size': 1, 'allocation_ratio': 16.0, 'reserved': 0}, 'DISK_GB': {'total': 438, 'min_unit': 1, 'max_unit': 438, 'step_size': 1, 'allocation_ratio': 1.0, 'reserved': 0}} {{(pid=3192074) set_inventory_for_provider /opt/stack/nova/nova/scheduler/client/report.py:957}}
Aug 22 15:56:39 datacore-PowerEdge-R740 nova-compute[3192074]: DEBUG nova.compute.provider_tree [None req-d145ee5f-fe46-4167-a5fa-3e8c3f3dd67b None None] Updating resource provider ceb3b7ac-7404-4eae-848c-e39ca1c9b80c generation from 0 to 1 during operation: update_inventory {{(pid=3192074) _update_generation /opt/stack/nova/nova/compute/provider_tree.py:164}}
Aug 22 15:56:39 datacore-PowerEdge-R740 nova-compute[3192074]: DEBUG nova.compute.provider_tree [None req-d145ee5f-fe46-4167-a5fa-3e8c3f3dd67b None None] Updating inventory in ProviderTree for provider ceb3b7ac-7404-4eae-848c-e39ca1c9b80c with inventory: {'MEMORY_MB': {'total': 257555, 'reserved': 512, 'min_unit': 1, 'max_unit': 257555, 'step_size': 1, 'allocation_ratio': 1.5}, 'VCPU': {'total': 40, 'reserved': 0, 'min_unit': 1, 'max_unit': 40, 'step_size': 1, 'allocation_ratio': 16.0}, 'DISK_GB': {'total': 438, 'reserved': 0, 'min_unit': 1, 'max_unit': 438, 'step_size': 1, 'allocation_ratio': 1.0}} {{(pid=3192074) update_inventory /opt/stack/nova/nova/compute/provider_tree.py:176}}
Aug 22 15:56:40 datacore-PowerEdge-R740 nova-compute[3192074]: DEBUG nova.compute.provider_tree [None req-d145ee5f-fe46-4167-a5fa-3e8c3f3dd67b None None] Updating resource provider ceb3b7ac-7404-4eae-848c-e39ca1c9b80c generation from 1 to 2 during operation: update_traits {{(pid=3192074) _update_generation /opt/stack/nova/nova/compute/provider_tree.py:164}}
Aug 22 15:56:40 datacore-PowerEdge-R740 nova-compute[3192074]: DEBUG nova.compute.resource_tracker [None req-d145ee5f-fe46-4167-a5fa-3e8c3f3dd67b None None] Compute_service record updated for datacore-PowerEdge-R740:datacore-PowerEdge-R740 {{(pid=3192074) _update_available_resource /opt/stack/nova/nova/compute/resource_tracker.py:1008}}
Aug 22 15:56:40 datacore-PowerEdge-R740 nova-compute[3192074]: DEBUG oslo_concurrency.lockutils [None req-d145ee5f-fe46-4167-a5fa-3e8c3f3dd67b None None] Lock "compute_resources" "released" by "nova.compute.resource_tracker.ResourceTracker._update_available_resource" :: held 1.563s {{(pid=3192074) inner /usr/local/lib/python3.8/dist-packages/oslo_concurrency/lockutils.py:404}}
Aug 22 15:56:40 datacore-PowerEdge-R740 nova-compute[3192074]: DEBUG nova.service [None req-d145ee5f-fe46-4167-a5fa-3e8c3f3dd67b None None] Creating RPC server for service compute {{(pid=3192074) start /opt/stack/nova/nova/service.py:182}}
Aug 22 15:56:40 datacore-PowerEdge-R740 nova-compute[3192074]: DEBUG nova.service [None req-d145ee5f-fe46-4167-a5fa-3e8c3f3dd67b None None] Join ServiceGroup membership for this service compute {{(pid=3192074) start /opt/stack/nova/nova/service.py:199}}
Aug 22 15:56:40 datacore-PowerEdge-R740 nova-compute[3192074]: DEBUG nova.servicegroup.drivers.db [None req-d145ee5f-fe46-4167-a5fa-3e8c3f3dd67b None None] DB_Driver: join new ServiceGroup member datacore-PowerEdge-R740 to the compute group, service = <Service: host=datacore-PowerEdge-R740, binary=nova-compute, manager_class_name=nova.compute.manager.ComputeManager> {{(pid=3192074) join /opt/stack/nova/nova/servicegroup/drivers/db.py:44}}
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@n-cond.service
Failed to get unit file state for devstack@n-cond.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@n-sch.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@n-sch.service --no-pager
● devstack@n-sch.service - Devstack devstack@n-sch.service
     Loaded: loaded (/etc/systemd/system/devstack@n-sch.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:56:25 IST; 45s ago
   Main PID: 3188864 (nova-scheduler)
      Tasks: 11 (limit: 308935)
     Memory: 332.8M
     CGroup: /system.slice/system-devstack.slice/devstack@n-sch.service
             ├─3188864 /usr/bin/python3.8 /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf
             ├─3189638 /usr/bin/python3.8 /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf
             ├─3189643 /usr/bin/python3.8 /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf
             ├─3189647 /usr/bin/python3.8 /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf
             ├─3189651 /usr/bin/python3.8 /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf
             ├─3189656 /usr/bin/python3.8 /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf
             ├─3189662 /usr/bin/python3.8 /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf
             ├─3189670 /usr/bin/python3.8 /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf
             ├─3189674 /usr/bin/python3.8 /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf
             ├─3189683 /usr/bin/python3.8 /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf
             └─3189687 /usr/bin/python3.8 /usr/local/bin/nova-scheduler --config-file /etc/nova/nova.conf

Aug 22 15:56:52 datacore-PowerEdge-R740 nova-scheduler[3189674]: DEBUG dbcounter [-] [3189674] Writing DB stats nova_cell0:SELECT=9 {{(pid=3189674) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:52 datacore-PowerEdge-R740 nova-scheduler[3189683]: DEBUG dbcounter [-] [3189683] Writing DB stats nova_cell0:SELECT=9 {{(pid=3189683) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:02 datacore-PowerEdge-R740 nova-scheduler[3189656]: DEBUG dbcounter [-] [3189656] Writing DB stats nova_cell0:SELECT=12,nova_cell0:UPDATE=2 {{(pid=3189656) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:02 datacore-PowerEdge-R740 nova-scheduler[3189651]: DEBUG dbcounter [-] [3189651] Writing DB stats nova_cell0:SELECT=12,nova_cell0:UPDATE=1 {{(pid=3189651) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:02 datacore-PowerEdge-R740 nova-scheduler[3189647]: DEBUG dbcounter [-] [3189647] Writing DB stats nova_cell0:SELECT=15,nova_cell0:INSERT=1,nova_cell0:UPDATE=3 {{(pid=3189647) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:02 datacore-PowerEdge-R740 nova-scheduler[3189638]: DEBUG dbcounter [-] [3189638] Writing DB stats nova_cell0:SELECT=15,nova_cell0:INSERT=1,nova_cell0:UPDATE=3 {{(pid=3189638) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:02 datacore-PowerEdge-R740 nova-scheduler[3189643]: DEBUG dbcounter [-] [3189643] Writing DB stats nova_cell0:SELECT=15,nova_cell0:INSERT=1,nova_cell0:UPDATE=1 {{(pid=3189643) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:02 datacore-PowerEdge-R740 nova-scheduler[3189670]: DEBUG dbcounter [-] [3189670] Writing DB stats nova_cell0:SELECT=12,nova_cell0:UPDATE=1 {{(pid=3189670) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:02 datacore-PowerEdge-R740 nova-scheduler[3189687]: DEBUG dbcounter [-] [3189687] Writing DB stats nova_cell0:SELECT=12 {{(pid=3189687) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:02 datacore-PowerEdge-R740 nova-scheduler[3189683]: DEBUG dbcounter [-] [3189683] Writing DB stats nova_cell0:SELECT=2 {{(pid=3189683) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@n-novnc.service
Failed to get unit file state for devstack@n-novnc.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@n-api-meta.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@n-api-meta.service --no-pager
● devstack@n-api-meta.service - Devstack devstack@n-api-meta.service
     Loaded: loaded (/etc/systemd/system/devstack@n-api-meta.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:56:27 IST; 44s ago
   Main PID: 3189370 (uwsgi)
     Status: "uWSGI is ready"
      Tasks: 12 (limit: 308935)
     Memory: 1.0G
     CGroup: /system.slice/system-devstack.slice/devstack@n-api-meta.service
             ├─3189370 nova-api-metauWSGI master
             ├─3189372 nova-api-metauWSGI worker 1
             ├─3189373 nova-api-metauWSGI worker 2
             ├─3189374 nova-api-metauWSGI worker 3
             ├─3189375 nova-api-metauWSGI worker 4
             ├─3189376 nova-api-metauWSGI worker 5
             ├─3189377 nova-api-metauWSGI worker 6
             ├─3189378 nova-api-metauWSGI worker 7
             ├─3189379 nova-api-metauWSGI worker 8
             ├─3189380 nova-api-metauWSGI worker 9
             ├─3189381 nova-api-metauWSGI worker 10
             └─3189382 nova-api-metauWSGI http 1

Aug 22 15:56:29 datacore-PowerEdge-R740 devstack@n-api-meta.service[3189375]: INFO dbcounter [None req-2df5c373-fd16-42a3-ba21-471b00263f86 None None] Registered counter for database nova_cell0
Aug 22 15:56:29 datacore-PowerEdge-R740 devstack@n-api-meta.service[3189375]: DEBUG oslo_db.sqlalchemy.engines [None req-2df5c373-fd16-42a3-ba21-471b00263f86 None None] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION {{(pid=3189375) _check_effective_sql_mode /usr/local/lib/python3.8/dist-packages/oslo_db/sqlalchemy/engines.py:314}}
Aug 22 15:56:29 datacore-PowerEdge-R740 devstack@n-api-meta.service[3189375]: DEBUG dbcounter [-] [3189375] Writer thread running {{(pid=3189375) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}
Aug 22 15:56:29 datacore-PowerEdge-R740 devstack@n-api-meta.service[3189372]: INFO dbcounter [None req-f60a8e68-9bf4-45c8-a7cb-59ec13404b95 None None] Registered counter for database nova_cell0
Aug 22 15:56:30 datacore-PowerEdge-R740 devstack@n-api-meta.service[3189372]: DEBUG oslo_db.sqlalchemy.engines [None req-f60a8e68-9bf4-45c8-a7cb-59ec13404b95 None None] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION {{(pid=3189372) _check_effective_sql_mode /usr/local/lib/python3.8/dist-packages/oslo_db/sqlalchemy/engines.py:314}}
Aug 22 15:56:30 datacore-PowerEdge-R740 devstack@n-api-meta.service[3189372]: DEBUG dbcounter [-] [3189372] Writer thread running {{(pid=3189372) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}
Aug 22 15:56:30 datacore-PowerEdge-R740 devstack@n-api-meta.service[3189375]: WARNING nova.api.metadata.handler [None req-2df5c373-fd16-42a3-ba21-471b00263f86 None None] metadata_proxy_shared_secret is not configured, the metadata information returned by the proxy cannot be trusted
Aug 22 15:56:30 datacore-PowerEdge-R740 devstack@n-api-meta.service[3189375]: WSGI app 0 (mountpoint='') ready in 3 seconds on interpreter 0x558022e89990 pid: 3189375 (default app)
Aug 22 15:56:30 datacore-PowerEdge-R740 devstack@n-api-meta.service[3189372]: WARNING nova.api.metadata.handler [None req-f60a8e68-9bf4-45c8-a7cb-59ec13404b95 None None] metadata_proxy_shared_secret is not configured, the metadata information returned by the proxy cannot be trusted
Aug 22 15:56:30 datacore-PowerEdge-R740 devstack@n-api-meta.service[3189372]: WSGI app 0 (mountpoint='') ready in 3 seconds on interpreter 0x558022e89990 pid: 3189372 (default app)
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@placement-api.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@placement-api.service --no-pager
● devstack@placement-api.service - Devstack devstack@placement-api.service
     Loaded: loaded (/etc/systemd/system/devstack@placement-api.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:55:46 IST; 1min 25s ago
   Main PID: 3186488 (uwsgi)
     Status: "uWSGI is ready"
      Tasks: 21 (limit: 308935)
     Memory: 700.0M
     CGroup: /system.slice/system-devstack.slice/devstack@placement-api.service
             ├─3186488 placementuWSGI master
             ├─3186491 placementuWSGI worker 1
             ├─3186492 placementuWSGI worker 2
             ├─3186493 placementuWSGI worker 3
             ├─3186494 placementuWSGI worker 4
             ├─3186495 placementuWSGI worker 5
             ├─3186496 placementuWSGI worker 6
             ├─3186497 placementuWSGI worker 7
             ├─3186498 placementuWSGI worker 8
             ├─3186499 placementuWSGI worker 9
             └─3186500 placementuWSGI worker 10

Aug 22 15:56:40 datacore-PowerEdge-R740 devstack@placement-api.service[3186497]: INFO placement.requestlog [req-87d89bae-05d3-413a-9192-5c00a08625ab req-a56bb136-b83f-448b-82e3-f235c14652ec service placement] 10.200.2.118 "GET /placement/traits?name=in:HW_CPU_X86_SSE42,COMPUTE_GRAPHICS_MODEL_NONE,COMPUTE_DEVICE_TAGGING,COMPUTE_VOLUME_EXTEND,COMPUTE_RESCUE_BFV,COMPUTE_NODE,COMPUTE_NET_VIF_MODEL_E1000E,COMPUTE_ACCELERATORS,COMPUTE_SOCKET_PCI_NUMA_AFFINITY,COMPUTE_GRAPHICS_MODEL_VGA,COMPUTE_NET_ATTACH_INTERFACE_WITH_TAG,COMPUTE_STORAGE_BUS_SCSI,COMPUTE_VOLUME_ATTACH_WITH_TAG,HW_CPU_X86_SSE41,HW_CPU_HYPERTHREADING,COMPUTE_GRAPHICS_MODEL_VIRTIO,COMPUTE_VOLUME_MULTI_ATTACH,COMPUTE_GRAPHICS_MODEL_VMVGA,COMPUTE_IMAGE_TYPE_QCOW2,COMPUTE_IMAGE_TYPE_ARI,HW_CPU_X86_SSE,COMPUTE_NET_VIF_MODEL_SPAPR_VLAN,COMPUTE_STORAGE_BUS_FDC,COMPUTE_IMAGE_TYPE_RAW,COMPUTE_STORAGE_BUS_VIRTIO,COMPUTE_TRUSTED_CERTS,COMPUTE_IMAGE_TYPE_AMI,COMPUTE_GRAPHICS_MODEL_BOCHS,COMPUTE_IMAGE_TYPE_ISO,COMPUTE_GRAPHICS_MODEL_QXL,COMPUTE_NET_VIF_MODEL_RTL8139,COMPUTE_STORAGE_BUS_IDE,COMPUTE_NET_VIF_MODEL_VIRTIO,HW_CPU_X86_SSSE3,COMPUTE_NET_VIF_MODEL_E1000,COMPUTE_SECURITY_UEFI_SECURE_BOOT,COMPUTE_STORAGE_BUS_USB,HW_CPU_X86_SSE2,COMPUTE_NET_ATTACH_INTERFACE,COMPUTE_NET_VIF_MODEL_NE2K_PCI,COMPUTE_STORAGE_BUS_SATA,COMPUTE_NET_VIF_MODEL_VMXNET3,COMPUTE_IMAGE_TYPE_AKI,COMPUTE_NET_VIF_MODEL_PCNET,COMPUTE_GRAPHICS_MODEL_CIRRUS,HW_CPU_X86_MMX" status: 200 len: 1309 microversion: 1.6
Aug 22 15:56:40 datacore-PowerEdge-R740 devstack@placement-api.service[3186497]: [pid: 3186497|app: 0|req: 1/9] 10.200.2.118 () {60 vars in 3588 bytes} [Mon Aug 22 15:56:39 2022] GET /placement/traits?name=in:HW_CPU_X86_SSE42,COMPUTE_GRAPHICS_MODEL_NONE,COMPUTE_DEVICE_TAGGING,COMPUTE_VOLUME_EXTEND,COMPUTE_RESCUE_BFV,COMPUTE_NODE,COMPUTE_NET_VIF_MODEL_E1000E,COMPUTE_ACCELERATORS,COMPUTE_SOCKET_PCI_NUMA_AFFINITY,COMPUTE_GRAPHICS_MODEL_VGA,COMPUTE_NET_ATTACH_INTERFACE_WITH_TAG,COMPUTE_STORAGE_BUS_SCSI,COMPUTE_VOLUME_ATTACH_WITH_TAG,HW_CPU_X86_SSE41,HW_CPU_HYPERTHREADING,COMPUTE_GRAPHICS_MODEL_VIRTIO,COMPUTE_VOLUME_MULTI_ATTACH,COMPUTE_GRAPHICS_MODEL_VMVGA,COMPUTE_IMAGE_TYPE_QCOW2,COMPUTE_IMAGE_TYPE_ARI,HW_CPU_X86_SSE,COMPUTE_NET_VIF_MODEL_SPAPR_VLAN,COMPUTE_STORAGE_BUS_FDC,COMPUTE_IMAGE_TYPE_RAW,COMPUTE_STORAGE_BUS_VIRTIO,COMPUTE_TRUSTED_CERTS,COMPUTE_IMAGE_TYPE_AMI,COMPUTE_GRAPHICS_MODEL_BOCHS,COMPUTE_IMAGE_TYPE_ISO,COMPUTE_GRAPHICS_MODEL_QXL,COMPUTE_NET_VIF_MODEL_RTL8139,COMPUTE_STORAGE_BUS_IDE,COMPUTE_NET_VIF_MODEL_VIRTIO,HW_CPU_X86_SSSE3,COMPUTE_NET_VIF_MODEL_E1000,COMPUTE_SECURITY_UEFI_SECURE_BOOT,COMPUTE_STORAGE_BUS_USB,HW_CPU_X86_SSE2,COMPUTE_NET_ATTACH_INTERFACE,COMPUTE_NET_VIF_MODEL_NE2K_PCI,COMPUTE_STORAGE_BUS_SATA,COMPUTE_NET_VIF_MODEL_VMXNET3,COMPUTE_IMAGE_TYPE_AKI,COMPUTE_NET_VIF_MODEL_PCNET,COMPUTE_GRAPHICS_MODEL_CIRRUS,HW_CPU_X86_MMX => generated 1309 bytes in 222 msecs (HTTP/1.1 200) 6 headers in 225 bytes (1 switches on core 0)
Aug 22 15:56:40 datacore-PowerEdge-R740 devstack@placement-api.service[3186492]: DEBUG placement.requestlog [req-87d89bae-05d3-413a-9192-5c00a08625ab req-86c1adf2-b1c5-4d7b-808e-51b55bf63ace None None] Starting request: 10.200.2.118 "PUT /placement/resource_providers/ceb3b7ac-7404-4eae-848c-e39ca1c9b80c/traits" {{(pid=3186492) __call__ /opt/stack/placement/placement/requestlog.py:55}}
Aug 22 15:56:40 datacore-PowerEdge-R740 devstack@placement-api.service[3186492]: INFO placement.requestlog [req-87d89bae-05d3-413a-9192-5c00a08625ab req-86c1adf2-b1c5-4d7b-808e-51b55bf63ace service placement] 10.200.2.118 "PUT /placement/resource_providers/ceb3b7ac-7404-4eae-848c-e39ca1c9b80c/traits" status: 200 len: 1344 microversion: 1.6
Aug 22 15:56:40 datacore-PowerEdge-R740 devstack@placement-api.service[3186492]: [pid: 3186492|app: 0|req: 1/10] 10.200.2.118 () {64 vars in 1477 bytes} [Mon Aug 22 15:56:40 2022] PUT /placement/resource_providers/ceb3b7ac-7404-4eae-848c-e39ca1c9b80c/traits => generated 1344 bytes in 283 msecs (HTTP/1.1 200) 6 headers in 225 bytes (1 switches on core 0)
Aug 22 15:56:49 datacore-PowerEdge-R740 devstack@placement-api.service[3186500]: DEBUG dbcounter [-] [3186500] Writing DB stats placement:SELECT=2 {{(pid=3186500) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:49 datacore-PowerEdge-R740 devstack@placement-api.service[3186496]: DEBUG dbcounter [-] [3186496] Writing DB stats placement:SELECT=1,placement:INSERT=1,placement:UPDATE=1 {{(pid=3186496) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:49 datacore-PowerEdge-R740 devstack@placement-api.service[3186498]: DEBUG dbcounter [-] [3186498] Writing DB stats placement:SELECT=5,placement:INSERT=3,placement:UPDATE=1 {{(pid=3186498) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:50 datacore-PowerEdge-R740 devstack@placement-api.service[3186497]: DEBUG dbcounter [-] [3186497] Writing DB stats placement:SELECT=2 {{(pid=3186497) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:50 datacore-PowerEdge-R740 devstack@placement-api.service[3186492]: DEBUG dbcounter [-] [3186492] Writing DB stats placement:SELECT=6,placement:INSERT=46,placement:UPDATE=1 {{(pid=3186492) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@placement-client.service
Failed to get unit file state for devstack@placement-client.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@g-api.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@g-api.service --no-pager
● devstack@g-api.service - Devstack devstack@g-api.service
     Loaded: loaded (/etc/systemd/system/devstack@g-api.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:56:48 IST; 23s ago
   Main PID: 3194516 (uwsgi)
     Status: "uWSGI is ready"
      Tasks: 25 (limit: 308935)
     Memory: 1.0G
     CGroup: /system.slice/system-devstack.slice/devstack@g-api.service
             ├─3194516 glance-apiuWSGI master
             ├─3194517 glance-apiuWSGI worker 1
             ├─3194518 glance-apiuWSGI worker 2
             ├─3194519 glance-apiuWSGI worker 3
             ├─3194520 glance-apiuWSGI worker 4
             ├─3194521 glance-apiuWSGI worker 5
             ├─3194522 glance-apiuWSGI worker 6
             ├─3194523 glance-apiuWSGI worker 7
             ├─3194524 glance-apiuWSGI worker 8
             ├─3194525 glance-apiuWSGI worker 9
             └─3194526 glance-apiuWSGI worker 10

Aug 22 15:56:53 datacore-PowerEdge-R740 devstack@g-api.service[3194526]: DEBUG oslo_db.sqlalchemy.engines [None req-4d690049-ea89-4532-bf42-e0641f705cbd admin admin] MySQL server mode set to STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_ENGINE_SUBSTITUTION {{(pid=3194526) _check_effective_sql_mode /usr/local/lib/python3.8/dist-packages/oslo_db/sqlalchemy/engines.py:314}}
Aug 22 15:56:53 datacore-PowerEdge-R740 devstack@g-api.service[3194526]: DEBUG dbcounter [-] [3194526] Writer thread running {{(pid=3194526) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}
Aug 22 15:56:53 datacore-PowerEdge-R740 devstack@g-api.service[3194526]: INFO glance.api.v2.image_data [None req-4d690049-ea89-4532-bf42-e0641f705cbd admin admin] Unable to create trust: no such option collect_timing in group [keystone_authtoken] Use the existing user token.
Aug 22 15:56:54 datacore-PowerEdge-R740 devstack@g-api.service[3194526]: DEBUG glance.location [None req-4d690049-ea89-4532-bf42-e0641f705cbd admin admin] Enabling in-flight format inspection for qcow2 {{(pid=3194526) set_data /opt/stack/glance/glance/location.py:581}}
Aug 22 15:56:54 datacore-PowerEdge-R740 devstack@g-api.service[3194526]: DEBUG glance_store._drivers.filesystem [None req-4d690049-ea89-4532-bf42-e0641f705cbd admin admin] Wrote 16300544 bytes to /opt/stack/data/glance/images/e3fed545-f27d-482d-adfc-29d44405341d with checksum b874c39491a2377b8490f5f1e89761a4 and multihash 6b813aa46bb90b4da216a4d19376593fa3f4fc7e617f03a92b7fe11e9a3981cbe8f0959dbebe36225e5f53dc4492341a4863cac4ed1ee0909f3fc78ef9c3e869 {{(pid=3194526) add /usr/local/lib/python3.8/dist-packages/glance_store/_drivers/filesystem.py:773}}
Aug 22 15:56:54 datacore-PowerEdge-R740 devstack@g-api.service[3194526]: INFO glance.location [None req-4d690049-ea89-4532-bf42-e0641f705cbd admin admin] Image format matched and virtual size computed: 117440512
Aug 22 15:56:54 datacore-PowerEdge-R740 devstack@g-api.service[3194526]: DEBUG glance_store.backend [None req-4d690049-ea89-4532-bf42-e0641f705cbd admin admin] Skipping store.set_acls... not implemented. {{(pid=3194526) set_acls /usr/local/lib/python3.8/dist-packages/glance_store/backend.py:508}}
Aug 22 15:56:54 datacore-PowerEdge-R740 devstack@g-api.service[3194526]: [pid: 3194526|app: 0|req: 1/4] 127.0.0.1 () {40 vars in 878 bytes} [Mon Aug 22 15:56:53 2022] PUT /v2/images/e3fed545-f27d-482d-adfc-29d44405341d/file => generated 0 bytes in 1059 msecs (HTTP/1.1 204) 4 headers in 171 bytes (1 switches on core 0)
Aug 22 15:57:03 datacore-PowerEdge-R740 devstack@g-api.service[3194522]: DEBUG dbcounter [-] [3194522] Writing DB stats glance:SELECT=9,glance:INSERT=5 {{(pid=3194522) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:04 datacore-PowerEdge-R740 devstack@g-api.service[3194526]: DEBUG dbcounter [-] [3194526] Writing DB stats glance:SELECT=28,glance:UPDATE=2,glance:INSERT=1 {{(pid=3194526) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@c-sch.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@c-sch.service --no-pager
● devstack@c-sch.service - Devstack devstack@c-sch.service
     Loaded: loaded (/etc/systemd/system/devstack@c-sch.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:56:42 IST; 29s ago
   Main PID: 3193351 (cinder-schedule)
      Tasks: 2 (limit: 308935)
     Memory: 106.7M
     CGroup: /system.slice/system-devstack.slice/devstack@c-sch.service
             └─3193351 /usr/bin/python3.8 /usr/local/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf

Aug 22 15:56:44 datacore-PowerEdge-R740 cinder-scheduler[3193351]: INFO cinder.manager [None req-ae1099bc-f374-41f0-8397-94cf84e007b7 None None] Service 1 cleanup completed.
Aug 22 15:56:44 datacore-PowerEdge-R740 cinder-scheduler[3193351]: DEBUG cinder.service [None req-ae1099bc-f374-41f0-8397-94cf84e007b7 None None] Creating RPC server for service cinder-scheduler {{(pid=3193351) start /opt/stack/cinder/cinder/service.py:238}}
Aug 22 15:56:44 datacore-PowerEdge-R740 cinder-scheduler[3193351]: DEBUG cinder.service [None req-ae1099bc-f374-41f0-8397-94cf84e007b7 None None] Pinning object versions for RPC server serializer to 1.39 {{(pid=3193351) start /opt/stack/cinder/cinder/service.py:244}}
Aug 22 15:56:54 datacore-PowerEdge-R740 cinder-scheduler[3193351]: DEBUG dbcounter [-] [3193351] Writing DB stats cinder:SELECT=22,cinder:INSERT=1 {{(pid=3193351) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:01 datacore-PowerEdge-R740 cinder-scheduler[3193351]: DEBUG cinder.scheduler.host_manager [None req-d14f1564-b3d5-4537-b66d-8323c97cb90b None None] Received volume service update from  datacore-PowerEdge-R740@lvmdriver-1: {'volume_backend_name': 'lvmdriver-1', 'vendor_name': 'Open Source', 'driver_version': '3.0.0', 'storage_protocol': 'iSCSI', 'pools': [{'pool_name': 'lvmdriver-1', 'total_capacity_gb': 28.5, 'free_capacity_gb': 28.5, 'reserved_percentage': 0, 'location_info': 'LVMVolumeDriver:datacore-PowerEdge-R740:stack-volumes-lvmdriver-1:thin:0', 'QoS_support': False, 'provisioned_capacity_gb': 0.0, 'max_over_subscription_ratio': '20.0', 'thin_provisioning_support': True, 'thick_provisioning_support': False, 'total_volumes': 1, 'filter_function': None, 'goodness_function': None, 'multiattach': True, 'backend_state': 'up', 'allocated_capacity_gb': 0, 'cacheable': True}], 'shared_targets': False, 'sparse_copy_volume': True, 'filter_function': None, 'goodness_function': None} {{(pid=3193351) update_service_capabilities /opt/stack/cinder/cinder/scheduler/host_manager.py:628}}
Aug 22 15:57:01 datacore-PowerEdge-R740 cinder-scheduler[3193351]: DEBUG cinder.scheduler.host_manager [None req-d14f1564-b3d5-4537-b66d-8323c97cb90b None None] Publish storage capacity: [{'type': 'pool', 'name_to_id': 'datacore-PowerEdge-R740@lvmdriver-1#lvmdriver-1', 'total': 28.5, 'free': 28.5, 'allocated': 0.0, 'provisioned': 0.0, 'virtual_free': 570.0, 'reported_at': datetime.datetime(2022, 8, 22, 10, 27, 1, 46590)}, {'type': 'backend', 'name_to_id': 'datacore-PowerEdge-R740@lvmdriver-1', 'total': 28.5, 'free': 28.5, 'allocated': 0.0, 'provisioned': 0.0, 'virtual_free': 570.0, 'reported_at': datetime.datetime(2022, 8, 22, 10, 27, 1, 46590)}]. {{(pid=3193351) _notify_capacity_usage /opt/stack/cinder/cinder/scheduler/host_manager.py:977}}
Aug 22 15:57:01 datacore-PowerEdge-R740 cinder-scheduler[3193351]: DEBUG cinder.scheduler.host_manager [None req-d14f1564-b3d5-4537-b66d-8323c97cb90b None None] Updating capabilities for datacore-PowerEdge-R740@lvmdriver-1#lvmdriver-1: {'pool_name': 'lvmdriver-1', 'total_capacity_gb': 28.5, 'free_capacity_gb': 28.5, 'reserved_percentage': 0, 'location_info': 'LVMVolumeDriver:datacore-PowerEdge-R740:stack-volumes-lvmdriver-1:thin:0', 'QoS_support': False, 'provisioned_capacity_gb': 0.0, 'max_over_subscription_ratio': '20.0', 'thin_provisioning_support': True, 'thick_provisioning_support': False, 'total_volumes': 1, 'filter_function': None, 'goodness_function': None, 'multiattach': True, 'backend_state': 'up', 'allocated_capacity_gb': 0, 'cacheable': True, 'volume_backend_name': 'lvmdriver-1', 'storage_protocol': ['iSCSI', 'iscsi'], 'vendor_name': 'Open Source', 'driver_version': '3.0.0', 'timestamp': datetime.datetime(2022, 8, 22, 10, 27, 1, 28951)} {{(pid=3193351) update_from_volume_capability /opt/stack/cinder/cinder/scheduler/host_manager.py:415}}
Aug 22 15:57:09 datacore-PowerEdge-R740 cinder-scheduler[3193351]: DEBUG oslo_service.periodic_task [None req-efaba64a-212e-46bb-808e-5b5496a4b20a None None] Running periodic task SchedulerManager._clean_expired_messages {{(pid=3193351) run_periodic_tasks /usr/local/lib/python3.8/dist-packages/oslo_service/periodic_task.py:210}}
Aug 22 15:57:09 datacore-PowerEdge-R740 cinder-scheduler[3193351]: INFO cinder.message.api [None req-efaba64a-212e-46bb-808e-5b5496a4b20a None None] Deleted 0 expired messages.
Aug 22 15:57:09 datacore-PowerEdge-R740 cinder-scheduler[3193351]: DEBUG oslo_service.periodic_task [None req-efaba64a-212e-46bb-808e-5b5496a4b20a None None] Running periodic task SchedulerManager._clean_expired_reservation {{(pid=3193351) run_periodic_tasks /usr/local/lib/python3.8/dist-packages/oslo_service/periodic_task.py:210}}
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@c-api.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@c-api.service --no-pager
● devstack@c-api.service - Devstack devstack@c-api.service
     Loaded: loaded (/etc/systemd/system/devstack@c-api.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:56:38 IST; 33s ago
   Main PID: 3192808 (uwsgi)
     Status: "uWSGI is ready"
      Tasks: 31 (limit: 308935)
     Memory: 1.0G
     CGroup: /system.slice/system-devstack.slice/devstack@c-api.service
             ├─3192808 cinder-apiuWSGI master
             ├─3192812 cinder-apiuWSGI worker 1
             ├─3192813 cinder-apiuWSGI worker 2
             ├─3192814 cinder-apiuWSGI worker 3
             ├─3192815 cinder-apiuWSGI worker 4
             ├─3192816 cinder-apiuWSGI worker 5
             ├─3192817 cinder-apiuWSGI worker 6
             ├─3192818 cinder-apiuWSGI worker 7
             ├─3192819 cinder-apiuWSGI worker 8
             ├─3192820 cinder-apiuWSGI worker 9
             └─3192821 cinder-apiuWSGI worker 10

Aug 22 15:56:51 datacore-PowerEdge-R740 devstack@c-api.service[3192821]: DEBUG dbcounter [-] [3192821] Writing DB stats cinder:SELECT=13 {{(pid=3192821) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:51 datacore-PowerEdge-R740 devstack@c-api.service[3192819]: DEBUG dbcounter [-] [3192819] Writing DB stats cinder:SELECT=13 {{(pid=3192819) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:51 datacore-PowerEdge-R740 devstack@c-api.service[3192817]: DEBUG dbcounter [-] [3192817] Writing DB stats cinder:SELECT=13 {{(pid=3192817) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:51 datacore-PowerEdge-R740 devstack@c-api.service[3192812]: DEBUG dbcounter [-] [3192812] Writing DB stats cinder:SELECT=13 {{(pid=3192812) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:51 datacore-PowerEdge-R740 devstack@c-api.service[3192814]: DEBUG dbcounter [-] [3192814] Writing DB stats cinder:SELECT=13 {{(pid=3192814) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:51 datacore-PowerEdge-R740 devstack@c-api.service[3192820]: DEBUG dbcounter [-] [3192820] Writing DB stats cinder:SELECT=13 {{(pid=3192820) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:51 datacore-PowerEdge-R740 devstack@c-api.service[3192815]: DEBUG dbcounter [-] [3192815] Writing DB stats cinder:SELECT=13 {{(pid=3192815) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:51 datacore-PowerEdge-R740 devstack@c-api.service[3192816]: DEBUG dbcounter [-] [3192816] Writing DB stats cinder:SELECT=13 {{(pid=3192816) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:56 datacore-PowerEdge-R740 devstack@c-api.service[3192813]: DEBUG dbcounter [-] [3192813] Writing DB stats cinder:SELECT=18,cinder:INSERT=1 {{(pid=3192813) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:56 datacore-PowerEdge-R740 devstack@c-api.service[3192818]: DEBUG dbcounter [-] [3192818] Writing DB stats cinder:SELECT=25,cinder:INSERT=1 {{(pid=3192818) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@c-vol.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@c-vol.service --no-pager
● devstack@c-vol.service - Devstack devstack@c-vol.service
     Loaded: loaded (/etc/systemd/system/devstack@c-vol.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:56:44 IST; 27s ago
   Main PID: 3193868 (cinder-volume)
      Tasks: 3 (limit: 308935)
     Memory: 134.1M
     CGroup: /system.slice/system-devstack.slice/devstack@c-vol.service
             ├─3193868 /usr/bin/python3.8 /usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf
             └─3193968 /usr/bin/python3.8 /usr/local/bin/cinder-volume --config-file /etc/cinder/cinder.conf

Aug 22 15:57:02 datacore-PowerEdge-R740 sudo[3195346]:    stack : TTY=unknown ; PWD=/ ; USER=root ; COMMAND=/usr/local/bin/cinder-rootwrap /etc/cinder/rootwrap.conf env LC_ALL=C lvs --noheadings --unit=g -o size,data_percent --separator : --nosuffix /dev/stack-volumes-lvmdriver-1/stack-volumes-lvmdriver-1-pool
Aug 22 15:57:02 datacore-PowerEdge-R740 sudo[3195346]: pam_unix(sudo:session): session opened for user root by (uid=0)
Aug 22 15:57:03 datacore-PowerEdge-R740 sudo[3195346]: pam_unix(sudo:session): session closed for user root
Aug 22 15:57:03 datacore-PowerEdge-R740 cinder-volume[3193968]: DEBUG oslo_concurrency.processutils [None req-d14f1564-b3d5-4537-b66d-8323c97cb90b None None] CMD "sudo cinder-rootwrap /etc/cinder/rootwrap.conf env LC_ALL=C lvs --noheadings --unit=g -o size,data_percent --separator : --nosuffix /dev/stack-volumes-lvmdriver-1/stack-volumes-lvmdriver-1-pool" returned: 0 in 0.639s {{(pid=3193968) execute /usr/local/lib/python3.8/dist-packages/oslo_concurrency/processutils.py:422}}
Aug 22 15:57:03 datacore-PowerEdge-R740 cinder-volume[3193968]: DEBUG oslo_concurrency.processutils [None req-d14f1564-b3d5-4537-b66d-8323c97cb90b None None] Running cmd (subprocess): sudo cinder-rootwrap /etc/cinder/rootwrap.conf env LC_ALL=C lvs --noheadings --unit=g -o vg_name,name,size --nosuffix --readonly stack-volumes-lvmdriver-1 {{(pid=3193968) execute /usr/local/lib/python3.8/dist-packages/oslo_concurrency/processutils.py:384}}
Aug 22 15:57:03 datacore-PowerEdge-R740 sudo[3195357]:    stack : TTY=unknown ; PWD=/ ; USER=root ; COMMAND=/usr/local/bin/cinder-rootwrap /etc/cinder/rootwrap.conf env LC_ALL=C lvs --noheadings --unit=g -o vg_name,name,size --nosuffix --readonly stack-volumes-lvmdriver-1
Aug 22 15:57:03 datacore-PowerEdge-R740 sudo[3195357]: pam_unix(sudo:session): session opened for user root by (uid=0)
Aug 22 15:57:03 datacore-PowerEdge-R740 sudo[3195357]: pam_unix(sudo:session): session closed for user root
Aug 22 15:57:03 datacore-PowerEdge-R740 cinder-volume[3193968]: DEBUG oslo_concurrency.processutils [None req-d14f1564-b3d5-4537-b66d-8323c97cb90b None None] CMD "sudo cinder-rootwrap /etc/cinder/rootwrap.conf env LC_ALL=C lvs --noheadings --unit=g -o vg_name,name,size --nosuffix --readonly stack-volumes-lvmdriver-1" returned: 0 in 0.632s {{(pid=3193968) execute /usr/local/lib/python3.8/dist-packages/oslo_concurrency/processutils.py:422}}
Aug 22 15:57:03 datacore-PowerEdge-R740 cinder-volume[3193968]: INFO cinder.volume.manager [None req-d14f1564-b3d5-4537-b66d-8323c97cb90b None None] Driver post RPC initialization completed successfully.
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@ovn-controller.service
Failed to get unit file state for devstack@ovn-controller.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@ovn-northd.service
Failed to get unit file state for devstack@ovn-northd.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@ovs-vswitchd.service
Failed to get unit file state for devstack@ovs-vswitchd.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@ovsdb-server.service
Failed to get unit file state for devstack@ovsdb-server.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@q-svc.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@q-svc.service --no-pager
● devstack@q-svc.service - Devstack devstack@q-svc.service
     Loaded: loaded (/etc/systemd/system/devstack@q-svc.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:55:40 IST; 1min 31s ago
   Main PID: 3185794 (/usr/bin/python)
      Tasks: 22 (limit: 308935)
     Memory: 739.1M
     CGroup: /system.slice/system-devstack.slice/devstack@q-svc.service
             ├─3185794 /usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini
             ├─3185926 neutron-server: api worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185927 neutron-server: api worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185928 neutron-server: api worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185929 neutron-server: api worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185931 neutron-server: api worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185933 neutron-server: api worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185935 neutron-server: api worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185936 neutron-server: api worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185939 neutron-server: api worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185941 neutron-server: api worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185945 neutron-server: rpc worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185946 neutron-server: rpc worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185947 neutron-server: rpc worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185948 neutron-server: rpc worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185949 neutron-server: rpc worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             ├─3185950 neutron-server: MaintenanceWorker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)
             └─3185951 neutron-server: periodic worker (/usr/bin/python3.8 /usr/local/bin/neutron-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini)

Aug 22 15:56:31 datacore-PowerEdge-R740 neutron-server[3185941]: DEBUG dbcounter [-] [3185941] Writing DB stats neutron:SELECT=71,neutron:UPDATE=1 {{(pid=3185941) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:31 datacore-PowerEdge-R740 neutron-server[3185936]: DEBUG dbcounter [-] [3185936] Writing DB stats neutron:SELECT=3 {{(pid=3185936) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:31 datacore-PowerEdge-R740 neutron-server[3185936]: DEBUG dbcounter [-] [3185936] Writing DB stats neutron:SELECT=2,neutron:UPDATE=1 {{(pid=3185936) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:32 datacore-PowerEdge-R740 neutron-server[3185939]: DEBUG dbcounter [-] [3185939] Writing DB stats neutron:SELECT=57,neutron:UPDATE=2,neutron:DELETE=3 {{(pid=3185939) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:34 datacore-PowerEdge-R740 neutron-server[3185935]: DEBUG dbcounter [-] [3185935] Writing DB stats neutron:SELECT=43 {{(pid=3185935) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:34 datacore-PowerEdge-R740 neutron-server[3185935]: DEBUG dbcounter [-] [3185935] Writing DB stats neutron:SELECT=60,neutron:UPDATE=1 {{(pid=3185935) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:38 datacore-PowerEdge-R740 neutron-server[3185951]: DEBUG dbcounter [-] [3185951] Writing DB stats neutron:SELECT=7 {{(pid=3185951) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:44 datacore-PowerEdge-R740 neutron-server[3185950]: DEBUG futurist.periodics [None req-58f46b62-0c4d-44ed-b998-1a2dc426014c None None] Submitting periodic callback 'neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb.maintenance.HashRingHealthCheckPeriodics.touch_hash_ring_nodes' {{(pid=3185950) _process_scheduled /usr/local/lib/python3.8/dist-packages/futurist/periodics.py:638}}
Aug 22 15:56:54 datacore-PowerEdge-R740 neutron-server[3185950]: DEBUG dbcounter [-] [3185950] Writing DB stats neutron:SELECT=1,neutron:UPDATE=1 {{(pid=3185950) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:05 datacore-PowerEdge-R740 neutron-server[3185951]: DEBUG neutron.db.agents_db [None req-1d59124e-8ed6-44a3-b0b0-eab4d5b0a568 None None] Agent healthcheck: found 0 active agents {{(pid=3185951) agent_health_check /opt/stack/neutron/neutron/db/agents_db.py:317}}
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@q-ovn-metadata-agent.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@q-ovn-metadata-agent.service --no-pager
● devstack@q-ovn-metadata-agent.service - Devstack devstack@q-ovn-metadata-agent.service
     Loaded: loaded (/etc/systemd/system/devstack@q-ovn-metadata-agent.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:55:38 IST; 1min 33s ago
   Main PID: 3185226 (neutron-ovn-met)
      Tasks: 13 (limit: 308935)
     Memory: 285.7M
     CGroup: /system.slice/system-devstack.slice/devstack@q-ovn-metadata-agent.service
             ├─3185226 neutron-ovn-metadata-agent (/usr/bin/python3.8 /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini)
             ├─3185883 neutron-ovn-metadata-agent (/usr/bin/python3.8 /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini)
             ├─3185884 neutron-ovn-metadata-agent (/usr/bin/python3.8 /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini)
             ├─3185885 neutron-ovn-metadata-agent (/usr/bin/python3.8 /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini)
             ├─3185886 neutron-ovn-metadata-agent (/usr/bin/python3.8 /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini)
             ├─3185887 neutron-ovn-metadata-agent (/usr/bin/python3.8 /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini)
             ├─3185888 neutron-ovn-metadata-agent (/usr/bin/python3.8 /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini)
             ├─3185889 neutron-ovn-metadata-agent (/usr/bin/python3.8 /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini)
             ├─3185890 neutron-ovn-metadata-agent (/usr/bin/python3.8 /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini)
             ├─3185891 neutron-ovn-metadata-agent (/usr/bin/python3.8 /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini)
             ├─3185892 neutron-ovn-metadata-agent (/usr/bin/python3.8 /usr/local/bin/neutron-ovn-metadata-agent --config-file /etc/neutron/neutron_ovn_metadata_agent.ini)
             └─3185905 /usr/bin/python3.8 /usr/local/bin/privsep-helper --config-file /etc/neutron/neutron_ovn_metadata_agent.ini --privsep_context neutron.privileged.namespace_cmd --privsep_sock_path /tmp/tmpghlh_czf/privsep.sock

Aug 22 15:55:42 datacore-PowerEdge-R740 neutron-ovn-metadata-agent[3185226]: DEBUG oslo_service.service [-] oslo_messaging_notifications.retry = -1 {{(pid=3185226) log_opt_values /usr/local/lib/python3.8/dist-packages/oslo_config/cfg.py:2609}}
Aug 22 15:55:42 datacore-PowerEdge-R740 neutron-ovn-metadata-agent[3185226]: DEBUG oslo_service.service [-] oslo_messaging_notifications.topics = ['notifications'] {{(pid=3185226) log_opt_values /usr/local/lib/python3.8/dist-packages/oslo_config/cfg.py:2609}}
Aug 22 15:55:42 datacore-PowerEdge-R740 neutron-ovn-metadata-agent[3185226]: DEBUG oslo_service.service [-] oslo_messaging_notifications.transport_url = **** {{(pid=3185226) log_opt_values /usr/local/lib/python3.8/dist-packages/oslo_config/cfg.py:2609}}
Aug 22 15:55:42 datacore-PowerEdge-R740 neutron-ovn-metadata-agent[3185226]: DEBUG oslo_service.service [-] ******************************************************************************** {{(pid=3185226) log_opt_values /usr/local/lib/python3.8/dist-packages/oslo_config/cfg.py:2613}}
Aug 22 15:55:55 datacore-PowerEdge-R740 neutron-ovn-metadata-agent[3185226]: DEBUG ovsdbapp.backend.ovs_idl.event [-] Matched UPDATE: SbGlobalUpdateEvent(events=('update',), table='SB_Global', conditions=None, old_conditions=None), priority=20 to row=SB_Global(ipsec=False, ssl=[], connections=[], nb_cfg=1, external_ids={}, options={'mac_prefix': '8a:3c:97', 'svc_monitor_mac': 'e2:7d:f8:c8:40:96'}) old=SB_Global(nb_cfg=0) {{(pid=3185226) matches /usr/local/lib/python3.8/dist-packages/ovsdbapp/backend/ovs_idl/event.py:43}}
Aug 22 15:55:55 datacore-PowerEdge-R740 neutron-ovn-metadata-agent[3185226]: DEBUG ovsdbapp.backend.ovs_idl.transaction [-] Running txn n=1 command(idx=0): DbSetCommand(table=Chassis, record=2c2f3a45-4909-49c4-b375-5dea0ffc484d, col_values=(('external_ids', {'neutron:ovn-metadata-sb-cfg': '1'}),)) {{(pid=3185226) do_commit /usr/local/lib/python3.8/dist-packages/ovsdbapp/backend/ovs_idl/transaction.py:90}}
Aug 22 15:56:14 datacore-PowerEdge-R740 neutron-ovn-metadata-agent[3185226]: DEBUG ovsdbapp.backend.ovs_idl.event [-] Matched UPDATE: PortBindingChassisCreatedEvent(events=('update',), table='Port_Binding', conditions=None, old_conditions=None), priority=20 to row=Port_Binding(parent_port=[], tunnel_key=3, logical_port=cr-lrp-9979b36d-b102-4a53-9672-546e6dc436c6, mac=['fa:16:3e:d8:56:ee 172.24.4.45/24'], chassis=[<ovs.db.idl.Row object at 0x7fd56cb1d8e0>], external_ids={}, encap=[], gateway_chassis=[], options={'distributed-port': 'lrp-9979b36d-b102-4a53-9672-546e6dc436c6'}, ha_chassis_group=[], virtual_parent=[], nat_addresses=[], type=chassisredirect, datapath=61b63452-d921-4c85-be39-d73cc1ffe39f, tag=[]) old=Port_Binding(chassis=[]) {{(pid=3185226) matches /usr/local/lib/python3.8/dist-packages/ovsdbapp/backend/ovs_idl/event.py:43}}
Aug 22 15:56:40 datacore-PowerEdge-R740 neutron-ovn-metadata-agent[3185226]: DEBUG oslo_concurrency.lockutils [-] Acquiring lock "_check_child_processes" by "neutron.agent.linux.external_process.ProcessMonitor._check_child_processes" {{(pid=3185226) inner /usr/local/lib/python3.8/dist-packages/oslo_concurrency/lockutils.py:385}}
Aug 22 15:56:40 datacore-PowerEdge-R740 neutron-ovn-metadata-agent[3185226]: DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" acquired by "neutron.agent.linux.external_process.ProcessMonitor._check_child_processes" :: waited 0.001s {{(pid=3185226) inner /usr/local/lib/python3.8/dist-packages/oslo_concurrency/lockutils.py:390}}
Aug 22 15:56:40 datacore-PowerEdge-R740 neutron-ovn-metadata-agent[3185226]: DEBUG oslo_concurrency.lockutils [-] Lock "_check_child_processes" "released" by "neutron.agent.linux.external_process.ProcessMonitor._check_child_processes" :: held 0.001s {{(pid=3185226) inner /usr/local/lib/python3.8/dist-packages/oslo_concurrency/lockutils.py:404}}
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@horizon.service
Failed to get unit file state for devstack@horizon.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@rabbit.service
Failed to get unit file state for devstack@rabbit.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@tempest.service
Failed to get unit file state for devstack@tempest.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@mysql.service
Failed to get unit file state for devstack@mysql.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@etcd3.service
Failed to get unit file state for devstack@etcd3.service: No such file or directory
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@dstat.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@dstat.service --no-pager
● devstack@dstat.service - Devstack devstack@dstat.service
     Loaded: loaded (/etc/systemd/system/devstack@dstat.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:52:19 IST; 4min 52s ago
   Main PID: 3160991 (dstat.sh)
      Tasks: 3 (limit: 308935)
     Memory: 17.6M
     CGroup: /system.slice/system-devstack.slice/devstack@dstat.service
             ├─3160991 /bin/bash /opt/stack/devstack/tools/dstat.sh /opt/stack/logs
             ├─3161069 python3 /usr/bin/dstat -tcmndrylpg --tcp --output /opt/stack/logs/dstat-csv.log
             └─3161070 python3 /usr/bin/dstat -tcmndrylpg --swap --tcp

Aug 22 15:57:03 datacore-PowerEdge-R740 dstat.sh[3161070]: 22-08 15:57:03|  5   1  94   0   0|  14G  198G 1517M   36G|  74k   72k| 382k   15M|2.99   945 |5386  7965 |3.25 2.00 1.11|3.0   0  14|   0     0 |   0  2147M| 21  895    0   59    0
Aug 22 15:57:04 datacore-PowerEdge-R740 dstat.sh[3161070]: 22-08 15:57:04|  3   1  96   0   0|  14G  198G 1517M   36G|  17k   15k| 256k  648k|2.00  65.0 |4551  7091 |3.25 2.00 1.11|2.0   0 4.0|   0     0 |   0  2147M| 21  895    0   57    0
Aug 22 15:57:05 datacore-PowerEdge-R740 dstat.sh[3161070]: 22-08 15:57:05|  3   0  97   0   0|  14G  198G 1517M   36G|  24k   16k|   0   332k|   0  27.0 |3655  5665 |3.25 2.00 1.11|2.0   0 3.0|   0     0 |   0  2147M| 21  897    0   57    0
Aug 22 15:57:06 datacore-PowerEdge-R740 dstat.sh[3161070]: 22-08 15:57:06|  3   0  97   0   0|  14G  198G 1517M   36G|  16k   15k|   0   324k|   0  31.0 |3696  5808 |3.07 1.99 1.11|2.0   0   0|   0     0 |   0  2147M| 21  897    0   56    0
Aug 22 15:57:07 datacore-PowerEdge-R740 dstat.sh[3161070]: 22-08 15:57:07|  3   0  97   0   0|  14G  198G 1517M   36G|3130  1327 |   0   457k|   0  6.01 |3706  5573 |3.07 1.99 1.11|2.0   0  15|   0     0 |   0  2147M| 21  897    0   56    0
Aug 22 15:57:08 datacore-PowerEdge-R740 dstat.sh[3161070]: 22-08 15:57:08|  3   1  96   0   0|  14G  198G 1517M   36G|  62k   61k|   0    26M|   0  1345 |8560    16k|3.07 1.99 1.11|2.0   0 279|   0     0 |   0  2147M| 21  911    0   55    0
Aug 22 15:57:09 datacore-PowerEdge-R740 dstat.sh[3161070]: 22-08 15:57:09|  1   1  97   0   0|  14G  198G 1517M   36G|1912   649 |   0  4105B|   0  1.00 |5200  8000 |3.07 1.99 1.11|1.0   0 282|   0     0 |   0  2147M| 21  911    0   55    0
Aug 22 15:57:10 datacore-PowerEdge-R740 dstat.sh[3161070]: 22-08 15:57:10|  1   0  99   0   0|  14G  198G 1517M   36G|  63k   61k|   0   697k|   0  82.1 |4611  8308 |3.07 1.99 1.11|2.0   0  12|   0     0 |   0  2147M| 21  923    0   54    0
Aug 22 15:57:11 datacore-PowerEdge-R740 dstat.sh[3161070]: 22-08 15:57:11|  3   0  97   0   0|  14G  198G 1517M   36G|  87k   86k|   0    60k|   0  6.02 |4279  7438 |2.90 1.97 1.11|2.0   0 2.0|   0     0 |   0  2147M| 21  924    0   54    0
Aug 22 15:57:12 datacore-PowerEdge-R740 dstat.sh[3161070]: 22-08 15:57:12|  2   2  96   0   0|  14G  198G 1517M   36G|  22k   21k|   0   298k|   0  20.8 |6864    10k|2.90 1.97 1.11|3.0   0 206|   0     0 |   0  2147M| 21  927    0   52    0
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@n-novnc-cell1.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@n-novnc-cell1.service --no-pager
● devstack@n-novnc-cell1.service - Devstack devstack@n-novnc-cell1.service
     Loaded: loaded (/etc/systemd/system/devstack@n-novnc-cell1.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:56:29 IST; 43s ago
   Main PID: 3189941 (nova-novncproxy)
      Tasks: 40 (limit: 308935)
     Memory: 104.8M
     CGroup: /system.slice/system-devstack.slice/devstack@n-novnc-cell1.service
             └─3189941 /usr/bin/python3.8 /usr/local/bin/nova-novncproxy --config-file /etc/nova/nova_cell1.conf --web /opt/stack/novnc

Aug 22 15:56:29 datacore-PowerEdge-R740 systemd[1]: Started Devstack devstack@n-novnc-cell1.service.
Aug 22 15:56:29 datacore-PowerEdge-R740 nova-novncproxy[3189941]: Modules with known eventlet monkey patching issues were imported prior to eventlet monkey patching: urllib3. This warning can usually be ignored if the caller is only importing and not executing nova code.
Aug 22 15:56:30 datacore-PowerEdge-R740 nova-novncproxy[3189941]: INFO nova.console.websocketproxy [-] WebSocket server settings:
Aug 22 15:56:30 datacore-PowerEdge-R740 nova-novncproxy[3189941]: INFO nova.console.websocketproxy [-]   - Listen on 0.0.0.0:6080
Aug 22 15:56:30 datacore-PowerEdge-R740 nova-novncproxy[3189941]: INFO nova.console.websocketproxy [-]   - Web server (no directory listings). Web root: /opt/stack/novnc
Aug 22 15:56:30 datacore-PowerEdge-R740 nova-novncproxy[3189941]: INFO nova.console.websocketproxy [-]   - No SSL/TLS support (no cert file)
Aug 22 15:56:30 datacore-PowerEdge-R740 nova-novncproxy[3189941]: INFO nova.console.websocketproxy [-]   - proxying from 0.0.0.0:6080 to None:None
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@n-super-cond.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@n-super-cond.service --no-pager
● devstack@n-super-cond.service - Devstack devstack@n-super-cond.service
     Loaded: loaded (/etc/systemd/system/devstack@n-super-cond.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:56:30 IST; 41s ago
   Main PID: 3190685 (nova-conductor)
      Tasks: 11 (limit: 308935)
     Memory: 331.6M
     CGroup: /system.slice/system-devstack.slice/devstack@n-super-cond.service
             ├─3190685 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf
             ├─3191365 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf
             ├─3191368 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf
             ├─3191371 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf
             ├─3191375 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf
             ├─3191378 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf
             ├─3191382 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf
             ├─3191385 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf
             ├─3191390 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf
             ├─3191394 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf
             └─3191398 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova.conf

Aug 22 15:56:57 datacore-PowerEdge-R740 nova-conductor[3191368]: DEBUG dbcounter [-] [3191368] Writing DB stats nova_cell0:SELECT=9,nova_cell0:UPDATE=1 {{(pid=3191368) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:57 datacore-PowerEdge-R740 nova-conductor[3191378]: DEBUG dbcounter [-] [3191378] Writing DB stats nova_cell0:SELECT=12,nova_cell0:INSERT=1 {{(pid=3191378) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:56:57 datacore-PowerEdge-R740 nova-conductor[3191390]: DEBUG dbcounter [-] [3191390] Writing DB stats nova_cell0:SELECT=9 {{(pid=3191390) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:07 datacore-PowerEdge-R740 nova-conductor[3191365]: DEBUG dbcounter [-] [3191365] Writing DB stats nova_cell0:SELECT=15,nova_cell0:INSERT=1,nova_cell0:UPDATE=3 {{(pid=3191365) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:07 datacore-PowerEdge-R740 nova-conductor[3191375]: DEBUG dbcounter [-] [3191375] Writing DB stats nova_cell0:SELECT=12 {{(pid=3191375) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:07 datacore-PowerEdge-R740 nova-conductor[3191382]: DEBUG dbcounter [-] [3191382] Writing DB stats nova_cell0:SELECT=12,nova_cell0:UPDATE=1 {{(pid=3191382) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:07 datacore-PowerEdge-R740 nova-conductor[3191385]: DEBUG dbcounter [-] [3191385] Writing DB stats nova_cell0:SELECT=12,nova_cell0:UPDATE=1 {{(pid=3191385) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:07 datacore-PowerEdge-R740 nova-conductor[3191371]: DEBUG dbcounter [-] [3191371] Writing DB stats nova_cell0:SELECT=15,nova_cell0:INSERT=1 {{(pid=3191371) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:07 datacore-PowerEdge-R740 nova-conductor[3191394]: DEBUG dbcounter [-] [3191394] Writing DB stats nova_cell0:SELECT=12 {{(pid=3191394) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:07 datacore-PowerEdge-R740 nova-conductor[3191398]: DEBUG dbcounter [-] [3191398] Writing DB stats nova_cell0:SELECT=12 {{(pid=3191398) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
+ functions-common:service_check:1733      :   for service in ${ENABLED_SERVICES//,/ }
+ functions-common:service_check:1735      :   sudo systemctl is-enabled devstack@n-cond-cell1.service
enabled
+ functions-common:service_check:1739      :   sudo systemctl status devstack@n-cond-cell1.service --no-pager
● devstack@n-cond-cell1.service - Devstack devstack@n-cond-cell1.service
     Loaded: loaded (/etc/systemd/system/devstack@n-cond-cell1.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2022-08-22 15:56:32 IST; 40s ago
   Main PID: 3191115 (nova-conductor)
      Tasks: 21 (limit: 308935)
     Memory: 336.4M
     CGroup: /system.slice/system-devstack.slice/devstack@n-cond-cell1.service
             ├─3191115 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf
             ├─3192015 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf
             ├─3192016 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf
             ├─3192017 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf
             ├─3192018 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf
             ├─3192020 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf
             ├─3192021 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf
             ├─3192023 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf
             ├─3192025 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf
             ├─3192028 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf
             └─3192029 /usr/bin/python3.8 /usr/local/bin/nova-conductor --config-file /etc/nova/nova_cell1.conf

Aug 22 15:57:09 datacore-PowerEdge-R740 nova-conductor[3192021]: DEBUG dbcounter [-] [3192021] Writing DB stats nova_cell1:SELECT=8,nova_cell1:UPDATE=1 {{(pid=3192021) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:09 datacore-PowerEdge-R740 nova-conductor[3192015]: DEBUG dbcounter [-] [3192015] Writing DB stats nova_cell1:SELECT=12,nova_cell1:INSERT=1 {{(pid=3192015) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:09 datacore-PowerEdge-R740 nova-conductor[3192015]: DEBUG dbcounter [-] [3192015] Writing DB stats nova_cell1:SELECT=9,nova_cell1:INSERT=1,nova_cell1:UPDATE=3 {{(pid=3192015) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:09 datacore-PowerEdge-R740 nova-conductor[3192020]: DEBUG dbcounter [-] [3192020] Writing DB stats nova_cell1:SELECT=7,nova_cell1:UPDATE=2 {{(pid=3192020) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:09 datacore-PowerEdge-R740 nova-conductor[3192020]: DEBUG dbcounter [-] [3192020] Writing DB stats nova_cell1:SELECT=10,nova_cell1:UPDATE=1 {{(pid=3192020) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:09 datacore-PowerEdge-R740 nova-conductor[3192018]: DEBUG dbcounter [-] [3192018] Writing DB stats nova_cell1:SELECT=11 {{(pid=3192018) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:09 datacore-PowerEdge-R740 nova-conductor[3192016]: DEBUG dbcounter [-] [3192016] Writing DB stats nova_cell1:SELECT=2 {{(pid=3192016) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:09 datacore-PowerEdge-R740 nova-conductor[3192028]: DEBUG dbcounter [-] [3192028] Writing DB stats nova_cell1:SELECT=10,nova_cell1:UPDATE=1 {{(pid=3192028) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:09 datacore-PowerEdge-R740 nova-conductor[3192023]: DEBUG dbcounter [-] [3192023] Writing DB stats nova_cell1:SELECT=3 {{(pid=3192023) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
Aug 22 15:57:09 datacore-PowerEdge-R740 nova-conductor[3192017]: DEBUG dbcounter [-] [3192017] Writing DB stats nova_cell1:SELECT=2 {{(pid=3192017) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:114}}
+ ./stack.sh:main:1431                     :   is_service_enabled n-api
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1432                     :   is_service_enabled n-cpu
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1433                     :   /opt/stack/devstack/tools/discover_hosts.sh
Modules with known eventlet monkey patching issues were imported prior to eventlet monkey patching: urllib3. This warning can usually be ignored if the caller is only importing and not executing nova code.
[00;36mINFO dbcounter [[01;36mNone req-04a58cb1-c3d3-449a-91e9-0119c37c1a74 [00;36mNone None[00;36m] [01;35m[00;36mRegistered counter for database nova_api[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3196267] Writer thread running[00m [00;33m{{(pid=3196267) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
Found 2 cell mappings.
Skipping cell0 since it does not contain hosts.
Getting computes from cell 'cell1': 9e32c888-a93c-4f22-8b33-ea47e3e26085
[00;36mINFO dbcounter [[01;36mNone req-04a58cb1-c3d3-449a-91e9-0119c37c1a74 [00;36mNone None[00;36m] [01;35m[00;36mRegistered counter for database nova_cell1[00m[00m
[00;32mDEBUG dbcounter [[00;36m-[00;32m] [01;35m[00;32m[3196267] Writer thread running[00m [00;33m{{(pid=3196267) stat_writer /usr/local/lib/python3.8/dist-packages/dbcounter.py:99}}[00m[00m
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Checking host mapping for compute host 'datacore-PowerEdge-R740': ceb3b7ac-7404-4eae-848c-e39ca1c9b80c
Creating host mapping for compute host 'datacore-PowerEdge-R740': ceb3b7ac-7404-4eae-848c-e39ca1c9b80c
Found 1 unmapped computes in cell: 9e32c888-a93c-4f22-8b33-ea47e3e26085
+ ./stack.sh:main:1446                     :   /usr/local/bin/nova-status --config-file /etc/nova/nova.conf upgrade check
Modules with known eventlet monkey patching issues were imported prior to eventlet monkey patching: urllib3. This warning can usually be ignored if the caller is only importing and not executing nova code.
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+-------------------------------------------+
| Upgrade Check Results                     |
+-------------------------------------------+
| Check: Cells v2                           |
| Result: Success                           |
| Details: None                             |
+-------------------------------------------+
| Check: Placement API                      |
| Result: Success                           |
| Details: None                             |
+-------------------------------------------+
| Check: Cinder API                         |
| Result: Success                           |
| Details: None                             |
+-------------------------------------------+
| Check: Policy Scope-based Defaults        |
| Result: Success                           |
| Details: None                             |
+-------------------------------------------+
| Check: Policy File JSON to YAML Migration |
| Result: Success                           |
| Details: None                             |
+-------------------------------------------+
| Check: Older than N-1 computes            |
| Result: Success                           |
| Details: None                             |
+-------------------------------------------+
| Check: hw_machine_type unset              |
| Result: Success                           |
| Details: None                             |
+-------------------------------------------+
+ ./stack.sh:main:1453                     :   [[ -x /opt/stack/devstack/local.sh ]]
+ ./stack.sh:main:1464                     :   command openstack complete
+ ./stack.sh:main:1465                     :   sudo tee /etc/bash_completion.d/osc.bash_completion
+ ./stack.sh:main:1464                     :   openstack complete
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
The 'openstack bgp speaker show dragents' CLI is deprecated and will be removed in the future. Use 'openstack bgp dragent list' CLI instead.
+ ./stack.sh:main:1468                     :   is_service_enabled cinder
+ functions-common:is_service_enabled:2066 :   local xtrace
++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   grep xtrace
+ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
+ functions-common:is_service_enabled:2068 :   set +o xtrace
+ functions-common:is_service_enabled:2095 :   return 0
+ ./stack.sh:main:1469                     :   is_ubuntu
+ functions-common:is_ubuntu:567           :   [[ -z deb ]]
+ functions-common:is_ubuntu:570           :   '[' deb = deb ']'
+ ./stack.sh:main:1470                     :   echo_summary 'Configuring lvm.conf global device filter'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e Configuring lvm.conf global device filter
2022-08-22 10:27:18.725 | Configuring lvm.conf global device filter
+ ./stack.sh:main:1471                     :   set_lvm_filter
+ lib/lvm:set_lvm_filter:183               :   local 'filter_suffix="r|.*|" ]  # from devstack'
+ lib/lvm:set_lvm_filter:184               :   local 'filter_string=global_filter = [ '
+ lib/lvm:set_lvm_filter:185               :   local pv
+ lib/lvm:set_lvm_filter:186               :   local vg
+ lib/lvm:set_lvm_filter:187               :   local line
++ lib/lvm:set_lvm_filter:189               :   sudo pvs --noheadings -o name
+ lib/lvm:set_lvm_filter:189               :   for pv_info in $(sudo pvs --noheadings -o name)
++ lib/lvm:set_lvm_filter:190               :   echo -e /dev/loop3
++ lib/lvm:set_lvm_filter:190               :   sed 's/ //g'
++ lib/lvm:set_lvm_filter:190               :   sed 's/\/dev\///g'
+ lib/lvm:set_lvm_filter:190               :   pv=loop3
+ lib/lvm:set_lvm_filter:191               :   new='"a|loop3|", '
+ lib/lvm:set_lvm_filter:192               :   filter_string='global_filter = [ "a|loop3|", '
+ lib/lvm:set_lvm_filter:189               :   for pv_info in $(sudo pvs --noheadings -o name)
++ lib/lvm:set_lvm_filter:190               :   sed 's/\/dev\///g'
++ lib/lvm:set_lvm_filter:190               :   echo -e /dev/sdb2
++ lib/lvm:set_lvm_filter:190               :   sed 's/ //g'
+ lib/lvm:set_lvm_filter:190               :   pv=sdb2
+ lib/lvm:set_lvm_filter:191               :   new='"a|sdb2|", '
+ lib/lvm:set_lvm_filter:192               :   filter_string='global_filter = [ "a|loop3|", "a|sdb2|", '
+ lib/lvm:set_lvm_filter:194               :   filter_string='global_filter = [ "a|loop3|", "a|sdb2|", "r|.*|" ]  # from devstack'
+ lib/lvm:set_lvm_filter:196               :   clean_lvm_filter
+ lib/lvm:clean_lvm_filter:171             :   sudo sed -i 's/^.*# from devstack$//' /etc/lvm/lvm.conf
+ lib/lvm:set_lvm_filter:197               :   sudo sed -i '/# global_filter = \[*\]/a\    global_filter = [ "a|loop3|", "a|sdb2|", "r|.*|" ]  # from devstack' /etc/lvm/lvm.conf
+ lib/lvm:set_lvm_filter:198               :   echo_summary 'set lvm.conf device global_filter to: global_filter = [ "a|loop3|", "a|sdb2|", "r|.*|" ]  # from devstack'
+ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
+ ./stack.sh:echo_summary:441              :   echo -e set lvm.conf device global_filter to: global_filter = '[' '"a|loop3|",' '"a|sdb2|",' '"r|.*|"' ']' '#' from devstack
2022-08-22 10:27:18.951 | set lvm.conf device global_filter to: global_filter = [ "a|loop3|", "a|sdb2|", "r|.*|" ] # from devstack
+ ./stack.sh:main:1481                     :   run_phase stack test-config
+ functions-common:run_phase:1867          :   local mode=stack
+ functions-common:run_phase:1868          :   local phase=test-config
+ functions-common:run_phase:1869          :   [[ -d /opt/stack/devstack/extras.d ]]
+ functions-common:run_phase:1870          :   local extra_plugin_file_name
+ functions-common:run_phase:1871          :   for extra_plugin_file_name in $TOP_DIR/extras.d/*.sh
+ functions-common:run_phase:1876          :   local exceptions=80-tempest.sh
+ functions-common:run_phase:1877          :   local extra
++ functions-common:run_phase:1878          :   basename /opt/stack/devstack/extras.d/80-tempest.sh
+ functions-common:run_phase:1878          :   extra=80-tempest.sh
+ functions-common:run_phase:1879          :   [[ 80-tempest.sh =~ 80-tempest\.sh ]]
+ functions-common:run_phase:1883          :   [[ -r /opt/stack/devstack/extras.d/80-tempest.sh ]]
+ functions-common:run_phase:1883          :   source /opt/stack/devstack/extras.d/80-tempest.sh stack test-config
++ extras.d/80-tempest.sh:source:3          :   is_service_enabled tempest
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ extras.d/80-tempest.sh:source:4          :   [[ stack == \s\o\u\r\c\e ]]
++ extras.d/80-tempest.sh:source:7          :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:7          :   [[ test-config == \i\n\s\t\a\l\l ]]
++ extras.d/80-tempest.sh:source:10         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:10         :   [[ test-config == \p\o\s\t\-\c\o\n\f\i\g ]]
++ extras.d/80-tempest.sh:source:13         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:13         :   [[ test-config == \e\x\t\r\a ]]
++ extras.d/80-tempest.sh:source:16         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:16         :   [[ test-config == \p\o\s\t\-\e\x\t\r\a ]]
++ extras.d/80-tempest.sh:source:19         :   [[ stack == \s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:19         :   [[ test-config == \t\e\s\t\-\c\o\n\f\i\g ]]
++ extras.d/80-tempest.sh:source:20         :   async_wait install_tempest
++ inc/async:async_wait:141                 :   local xtrace
+++ inc/async:async_wait:142                 :   grep xtrace
+++ inc/async:async_wait:142                 :   set +o
++ inc/async:async_wait:142                 :   xtrace='set -o xtrace'
++ inc/async:async_wait:143                 :   set +o xtrace
[3131924 Async install_tempest:3159602]: Waiting for completion of install_tempest running on PID 3159602 (1 other jobs running)
[3131924 Async install_tempest:3159602]: Signaling child to exit
WAKEUP
[3131924 Async install_tempest:3159602]: Signaled
++ lib/tempest:install_tempest:777          :   git_clone https://opendev.org/openstack/tempest.git /opt/stack/tempest master
++ functions-common:git_clone:596           :   local git_remote=https://opendev.org/openstack/tempest.git
++ functions-common:git_clone:597           :   local git_dest=/opt/stack/tempest
++ functions-common:git_clone:598           :   local git_ref=master
++ functions-common:git_clone:599           :   local orig_dir
+++ functions-common:git_clone:600           :   pwd
++ functions-common:git_clone:600           :   orig_dir=/opt/stack/devstack
++ functions-common:git_clone:601           :   local git_clone_flags=
+++ functions-common:git_clone:603           :   trueorfalse False RECLONE
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   grep xtrace
++++ functions-common:trueorfalse:220         :   set +o
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ functions-common:git_clone:603           :   RECLONE=False
++ functions-common:git_clone:604           :   [[ 0 -gt 0 ]]
++ functions-common:git_clone:608           :   [[ False = \T\r\u\e ]]
++ functions-common:git_clone:617           :   echo master
++ functions-common:git_clone:617           :   egrep -q '^refs'
++ functions-common:git_clone:631           :   [[ ! -d /opt/stack/tempest ]]
++ functions-common:git_clone:639           :   [[ False = \T\r\u\e ]]
++ functions-common:git_clone:674           :   sudo git config --system --add safe.directory /opt/stack/tempest
++ functions-common:git_clone:677           :   cd /opt/stack/tempest
++ functions-common:git_clone:678           :   git show --oneline
++ functions-common:git_clone:678           :   head -1
13036879e Merge "Add waiter for object creation"
++ functions-common:git_clone:679           :   cd /opt/stack/devstack
++ lib/tempest:install_tempest:778          :   pip_install 'tox!=2.8.0'
++ inc/python:pip_install:128               :   local xtrace result
+++ inc/python:pip_install:129               :   set +o
+++ inc/python:pip_install:129               :   grep xtrace
++ inc/python:pip_install:129               :   xtrace='set -o xtrace'
++ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install tox!=2.8.0
++ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt 'tox!=2.8.0'
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Requirement already satisfied: tox!=2.8.0 in /usr/local/lib/python3.8/dist-packages (3.24.5)
Requirement already satisfied: toml===0.10.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 542)) (0.10.2)
Requirement already satisfied: py===1.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 350)) (1.11.0)
Requirement already satisfied: pluggy===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 339)) (1.0.0)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 327)) (21.3)
Requirement already satisfied: virtualenv===20.16.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 566)) (20.16.3)
Requirement already satisfied: filelock===3.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 167)) (3.8.0)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 482)) (1.16.0)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 368)) (3.0.9)
Requirement already satisfied: platformdirs===2.5.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 338)) (2.5.2)
Requirement already satisfied: distlib===0.3.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 138)) (0.3.5)
++ inc/python:pip_install:196               :   result=0
++ inc/python:pip_install:198               :   time_stop pip_install
++ functions-common:time_stop:2439          :   local name
++ functions-common:time_stop:2440          :   local end_time
++ functions-common:time_stop:2441          :   local elapsed_time
++ functions-common:time_stop:2442          :   local total
++ functions-common:time_stop:2443          :   local start_time
++ functions-common:time_stop:2445          :   name=pip_install
++ functions-common:time_stop:2446          :   start_time=1661163717015
++ functions-common:time_stop:2448          :   [[ -z 1661163717015 ]]
+++ functions-common:time_stop:2451          :   date +%s%3N
++ functions-common:time_stop:2451          :   end_time=1661163720003
++ functions-common:time_stop:2452          :   elapsed_time=2988
++ functions-common:time_stop:2453          :   total=80608
++ functions-common:time_stop:2455          :   _TIME_START[$name]=
++ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=83596
++ inc/python:pip_install:199               :   return 0
++ lib/tempest:install_tempest:779          :   pushd /opt/stack/tempest
~/tempest ~/devstack
++ lib/tempest:install_tempest:783          :   git checkout master
Already on 'master'
Your branch is up to date with 'origin/master'.
++ lib/tempest:install_tempest:785          :   local tmp_u_c_m
+++ lib/tempest:install_tempest:786          :   mktemp -t tempest_u_c_m.XXXXXXXXXX
++ lib/tempest:install_tempest:786          :   tmp_u_c_m=/tmp/tempest_u_c_m.wBKPNREjpZ
++ lib/tempest:install_tempest:787          :   set_tempest_venv_constraints /tmp/tempest_u_c_m.wBKPNREjpZ
++ lib/tempest:set_tempest_venv_constraints:125 :   local tmp_c
++ lib/tempest:set_tempest_venv_constraints:126 :   tmp_c=/tmp/tempest_u_c_m.wBKPNREjpZ
++ lib/tempest:set_tempest_venv_constraints:127 :   [[ master == \m\a\s\t\e\r ]]
++ lib/tempest:set_tempest_venv_constraints:128 :   cd /opt/stack/requirements
++ lib/tempest:set_tempest_venv_constraints:129 :   git show master:upper-constraints.txt
++ lib/tempest:install_tempest:789          :   tox -r --notest -efull
full recreate: /opt/stack/tempest/.tox/tempest
full installdeps: -chttps://releases.openstack.org/constraints/upper/master, -r/opt/stack/tempest/requirements.txt
full develop-inst: /opt/stack/tempest
full installed: attrs==22.1.0,autopage==0.5.1,bcrypt==3.2.2,certifi==2022.6.15,cffi==1.15.1,charset-normalizer==2.1.0,cliff==4.0.0,cmd2==2.4.2,cryptography==36.0.2,debtcollector==2.5.0,extras==1.0.0,fasteners==0.17.3,fixtures==4.0.1,future==0.18.2,idna==3.3,importlib-metadata==4.12.0,importlib-resources==5.9.0,iso8601==1.0.2,jsonschema==4.7.2,msgpack==1.0.4,netaddr==0.8.0,netifaces==0.11.0,oslo.concurrency==5.0.0,oslo.config==9.0.0,oslo.context==5.0.0,oslo.i18n==5.1.0,oslo.log==5.0.0,oslo.serialization==5.0.0,oslo.utils==6.0.0,packaging==21.3,paramiko==2.11.0,pbr==5.10.0,prettytable==3.3.0,pycparser==2.21,pyinotify==0.9.6,PyNaCl==1.5.0,pyparsing==3.0.9,pyperclip==1.8.2,pyrsistent==0.18.1,python-dateutil==2.8.2,python-subunit==1.4.0,pytz==2022.2.1,PyYAML==6.0,requests==2.28.1,rfc3986==1.5.0,six==1.16.0,stestr==3.2.1,stevedore==4.0.0,-e git+https://opendev.org/openstack/tempest.git@13036879e254f8f917ff0986a48461703be5a9a7#egg=tempest,testtools==2.5.0,urllib3==1.26.11,voluptuous==0.13.1,wcwidth==0.2.5,wrapt==1.14.1,zipp==3.8.1
___________________________________ summary ____________________________________
  full: skipped tests
  congratulations :)
++ lib/tempest:install_tempest:793          :   /opt/stack/tempest/.tox/tempest/bin/pip install -c /tmp/tempest_u_c_m.wBKPNREjpZ -r requirements.txt
Requirement already satisfied: pbr!=2.1.0,>=2.0.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (5.10.0)
Requirement already satisfied: cliff!=2.9.0,>=2.8.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (4.0.0)
Requirement already satisfied: jsonschema>=3.2.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (4.7.2)
Requirement already satisfied: testtools>=2.2.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (2.5.0)
Requirement already satisfied: paramiko>=2.7.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (2.11.0)
Requirement already satisfied: cryptography>=2.1 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (36.0.2)
Requirement already satisfied: netaddr>=0.7.18 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (0.8.0)
Requirement already satisfied: oslo.concurrency>=3.26.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (5.0.0)
Requirement already satisfied: oslo.config>=5.2.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 12)) (9.0.0)
Requirement already satisfied: oslo.log>=3.36.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 13)) (5.0.0)
Requirement already satisfied: stestr>=1.0.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 14)) (3.2.1)
Requirement already satisfied: oslo.serialization!=2.19.1,>=2.18.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 15)) (5.0.0)
Requirement already satisfied: oslo.utils>=4.7.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 16)) (6.0.0)
Requirement already satisfied: fixtures>=3.0.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 17)) (4.0.1)
Requirement already satisfied: PyYAML>=3.12 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 18)) (6.0)
Requirement already satisfied: python-subunit>=1.0.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 19)) (1.4.0)
Requirement already satisfied: stevedore>=1.20.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 20)) (4.0.0)
Requirement already satisfied: PrettyTable>=0.7.1 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 21)) (3.3.0)
Requirement already satisfied: urllib3>=1.21.1 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 22)) (1.26.11)
Requirement already satisfied: debtcollector>=1.2.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 23)) (2.5.0)
Requirement already satisfied: cmd2>=1.0.0 in ./.tox/tempest/lib/python3.8/site-packages (from cliff!=2.9.0,>=2.8.0->-r requirements.txt (line 5)) (2.4.2)
Requirement already satisfied: autopage>=0.4.0 in ./.tox/tempest/lib/python3.8/site-packages (from cliff!=2.9.0,>=2.8.0->-r requirements.txt (line 5)) (0.5.1)
Requirement already satisfied: importlib-metadata>=4.4 in ./.tox/tempest/lib/python3.8/site-packages (from cliff!=2.9.0,>=2.8.0->-r requirements.txt (line 5)) (4.12.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./.tox/tempest/lib/python3.8/site-packages (from jsonschema>=3.2.0->-r requirements.txt (line 6)) (0.18.1)
Requirement already satisfied: attrs>=17.4.0 in ./.tox/tempest/lib/python3.8/site-packages (from jsonschema>=3.2.0->-r requirements.txt (line 6)) (22.1.0)
Requirement already satisfied: importlib-resources>=1.4.0 in ./.tox/tempest/lib/python3.8/site-packages (from jsonschema>=3.2.0->-r requirements.txt (line 6)) (5.9.0)
Requirement already satisfied: extras>=1.0.0 in ./.tox/tempest/lib/python3.8/site-packages (from testtools>=2.2.0->-r requirements.txt (line 7)) (1.0.0)
Requirement already satisfied: six in ./.tox/tempest/lib/python3.8/site-packages (from paramiko>=2.7.0->-r requirements.txt (line 8)) (1.16.0)
Requirement already satisfied: bcrypt>=3.1.3 in ./.tox/tempest/lib/python3.8/site-packages (from paramiko>=2.7.0->-r requirements.txt (line 8)) (3.2.2)
Requirement already satisfied: pynacl>=1.0.1 in ./.tox/tempest/lib/python3.8/site-packages (from paramiko>=2.7.0->-r requirements.txt (line 8)) (1.5.0)
Requirement already satisfied: cffi>=1.12 in ./.tox/tempest/lib/python3.8/site-packages (from cryptography>=2.1->-r requirements.txt (line 9)) (1.15.1)
Requirement already satisfied: oslo.i18n>=3.15.3 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.concurrency>=3.26.0->-r requirements.txt (line 11)) (5.1.0)
Requirement already satisfied: fasteners>=0.7.0 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.concurrency>=3.26.0->-r requirements.txt (line 11)) (0.17.3)
Requirement already satisfied: requests>=2.18.0 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.config>=5.2.0->-r requirements.txt (line 12)) (2.28.1)
Requirement already satisfied: rfc3986>=1.2.0 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.config>=5.2.0->-r requirements.txt (line 12)) (1.5.0)
Requirement already satisfied: python-dateutil>=2.7.0 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.log>=3.36.0->-r requirements.txt (line 13)) (2.8.2)
Requirement already satisfied: oslo.context>=2.21.0 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.log>=3.36.0->-r requirements.txt (line 13)) (5.0.0)
Requirement already satisfied: pyinotify>=0.9.6 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.log>=3.36.0->-r requirements.txt (line 13)) (0.9.6)
Requirement already satisfied: voluptuous>=0.8.9 in ./.tox/tempest/lib/python3.8/site-packages (from stestr>=1.0.0->-r requirements.txt (line 14)) (0.13.1)
Requirement already satisfied: future in ./.tox/tempest/lib/python3.8/site-packages (from stestr>=1.0.0->-r requirements.txt (line 14)) (0.18.2)
Requirement already satisfied: msgpack>=0.5.2 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.serialization!=2.19.1,>=2.18.0->-r requirements.txt (line 15)) (1.0.4)
Requirement already satisfied: pytz>=2013.6 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.serialization!=2.19.1,>=2.18.0->-r requirements.txt (line 15)) (2022.2.1)
Requirement already satisfied: netifaces>=0.10.4 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.utils>=4.7.0->-r requirements.txt (line 16)) (0.11.0)
Requirement already satisfied: iso8601>=0.1.11 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.utils>=4.7.0->-r requirements.txt (line 16)) (1.0.2)
Requirement already satisfied: pyparsing>=2.1.0 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.utils>=4.7.0->-r requirements.txt (line 16)) (3.0.9)
Requirement already satisfied: packaging>=20.4 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.utils>=4.7.0->-r requirements.txt (line 16)) (21.3)
Requirement already satisfied: wcwidth in ./.tox/tempest/lib/python3.8/site-packages (from PrettyTable>=0.7.1->-r requirements.txt (line 21)) (0.2.5)
Requirement already satisfied: wrapt>=1.7.0 in ./.tox/tempest/lib/python3.8/site-packages (from debtcollector>=1.2.0->-r requirements.txt (line 23)) (1.14.1)
Requirement already satisfied: pycparser in ./.tox/tempest/lib/python3.8/site-packages (from cffi>=1.12->cryptography>=2.1->-r requirements.txt (line 9)) (2.21)
Requirement already satisfied: pyperclip>=1.6 in ./.tox/tempest/lib/python3.8/site-packages (from cmd2>=1.0.0->cliff!=2.9.0,>=2.8.0->-r requirements.txt (line 5)) (1.8.2)
Requirement already satisfied: zipp>=0.5 in ./.tox/tempest/lib/python3.8/site-packages (from importlib-metadata>=4.4->cliff!=2.9.0,>=2.8.0->-r requirements.txt (line 5)) (3.8.1)
Requirement already satisfied: idna<4,>=2.5 in ./.tox/tempest/lib/python3.8/site-packages (from requests>=2.18.0->oslo.config>=5.2.0->-r requirements.txt (line 12)) (3.3)
Requirement already satisfied: certifi>=2017.4.17 in ./.tox/tempest/lib/python3.8/site-packages (from requests>=2.18.0->oslo.config>=5.2.0->-r requirements.txt (line 12)) (2022.6.15)
Requirement already satisfied: charset-normalizer<3,>=2 in ./.tox/tempest/lib/python3.8/site-packages (from requests>=2.18.0->oslo.config>=5.2.0->-r requirements.txt (line 12)) (2.1.0)
++ lib/tempest:install_tempest:794          :   PROJECT_VENV["tempest"]=/opt/stack/tempest/.tox/tempest
++ lib/tempest:install_tempest:795          :   rm -f /tmp/tempest_u_c_m.wBKPNREjpZ
++ lib/tempest:install_tempest:796          :   popd
~/devstack
[3131924 Async install_tempest:3159602]: finished install_tempest with result 0 in 21 seconds
++ inc/async:async_wait:197                 :   return 0
++ extras.d/80-tempest.sh:source:21         :   echo_summary 'Initializing Tempest'
++ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
++ ./stack.sh:echo_summary:441              :   echo -e Initializing Tempest
2022-08-22 10:27:19.242 | Initializing Tempest
++ extras.d/80-tempest.sh:source:22         :   configure_tempest
++ lib/tempest:configure_tempest:185        :   [[ True == \T\r\u\e ]]
++ lib/tempest:configure_tempest:186        :   setup_develop /opt/stack/tempest
++ inc/python:setup_develop:334             :   local bindep
++ inc/python:setup_develop:335             :   [[ /opt/stack/tempest == -bindep* ]]
++ inc/python:setup_develop:339             :   local project_dir=/opt/stack/tempest
++ inc/python:setup_develop:340             :   local extras=
++ inc/python:setup_develop:341             :   _setup_package_with_constraints_edit /opt/stack/tempest -e
++ inc/python:_setup_package_with_constraints_edit:360 :   local bindep
++ inc/python:_setup_package_with_constraints_edit:361 :   [[ /opt/stack/tempest == -bindep* ]]
++ inc/python:_setup_package_with_constraints_edit:365 :   local project_dir=/opt/stack/tempest
++ inc/python:_setup_package_with_constraints_edit:366 :   local flags=-e
++ inc/python:_setup_package_with_constraints_edit:367 :   local extras=
+++ inc/python:_setup_package_with_constraints_edit:374 :   cd /opt/stack/tempest
+++ inc/python:_setup_package_with_constraints_edit:374 :   pwd
++ inc/python:_setup_package_with_constraints_edit:374 :   project_dir=/opt/stack/tempest
++ inc/python:_setup_package_with_constraints_edit:376 :   '[' -n /opt/stack/requirements ']'
++ inc/python:_setup_package_with_constraints_edit:380 :   local name
+++ inc/python:_setup_package_with_constraints_edit:381 :   awk '/^name.*=/ {print $3}' /opt/stack/tempest/setup.cfg
++ inc/python:_setup_package_with_constraints_edit:381 :   name=tempest
++ inc/python:_setup_package_with_constraints_edit:383 :   /opt/stack/requirements/.venv/bin/edit-constraints /opt/stack/requirements/upper-constraints.txt -- tempest
++ inc/python:_setup_package_with_constraints_edit:386 :   setup_package /opt/stack/tempest -e
++ inc/python:setup_package:414             :   local bindep=0
++ inc/python:setup_package:415             :   local bindep_flag=
++ inc/python:setup_package:416             :   local bindep_profiles=
++ inc/python:setup_package:417             :   [[ /opt/stack/tempest == -bindep* ]]
++ inc/python:setup_package:422             :   local project_dir=/opt/stack/tempest
++ inc/python:setup_package:423             :   local flags=-e
++ inc/python:setup_package:424             :   local extras=
++ inc/python:setup_package:428             :   [[ -n -e ]]
++ inc/python:setup_package:428             :   [[ -z '' ]]
++ inc/python:setup_package:428             :   [[ ! -e =~ ^-.* ]]
++ inc/python:setup_package:433             :   [[ ! -z '' ]]
++ inc/python:setup_package:438             :   [[ 0 == 1 ]]
++ inc/python:setup_package:442             :   pip_install -e /opt/stack/tempest
++ inc/python:pip_install:128               :   local xtrace result
+++ inc/python:pip_install:129               :   set +o
+++ inc/python:pip_install:129               :   grep xtrace
++ inc/python:pip_install:129               :   xtrace='set -o xtrace'
++ inc/python:pip_install:130               :   set +o xtrace
Using python 3.8 to install /opt/stack/tempest
++ inc/python:pip_install:190               :   sudo -H LC_ALL=en_US.UTF-8 SETUPTOOLS_USE_DISTUTILS=stdlib http_proxy= https_proxy= no_proxy= PIP_FIND_LINKS= python3.8 -m pip install -c /opt/stack/requirements/upper-constraints.txt -e /opt/stack/tempest
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Obtaining file:///opt/stack/tempest
Requirement already satisfied: PyYAML===6.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 22)) (6.0)
Requirement already satisfied: cliff===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 114)) (4.0.0)
Requirement already satisfied: cmd2===2.4.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 115)) (2.4.2)
Requirement already satisfied: cryptography===36.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 126)) (36.0.2)
Requirement already satisfied: debtcollector===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 130)) (2.5.0)
Requirement already satisfied: fixtures===4.0.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 168)) (4.0.1)
Requirement already satisfied: importlib-metadata===4.12.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 203)) (4.12.0)
Requirement already satisfied: jsonschema===4.7.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 222)) (4.7.2)
Requirement already satisfied: netaddr===0.8.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 258)) (0.8.0)
Requirement already satisfied: oslo.concurrency===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 301)) (5.0.0)
Requirement already satisfied: oslo.config===9.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 302)) (9.0.0)
Requirement already satisfied: oslo.i18n===5.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 305)) (5.1.0)
Requirement already satisfied: oslo.log===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 307)) (5.0.0)
Requirement already satisfied: oslo.serialization===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 315)) (5.0.0)
Requirement already satisfied: oslo.utils===6.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 318)) (6.0.0)
Requirement already satisfied: packaging===21.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 326)) (21.3)
Requirement already satisfied: paramiko===2.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 328)) (2.11.0)
Requirement already satisfied: pbr===5.10.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 330)) (5.10.0)
Requirement already satisfied: prettytable===3.3.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 340)) (3.3.0)
Requirement already satisfied: pyinotify===0.9.6 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 362)) (0.9.6)
Requirement already satisfied: pyparsing===3.0.9 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 367)) (3.0.9)
Requirement already satisfied: pyperclip===1.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 368)) (1.8.2)
Requirement already satisfied: pyrsistent===0.18.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 371)) (0.18.1)
Requirement already satisfied: python-dateutil===2.8.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 394)) (2.8.2)
Requirement already satisfied: python-subunit===1.4.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 425)) (1.4.0)
Requirement already satisfied: pytz===2022.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 433)) (2022.2.1)
Requirement already satisfied: requests===2.28.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 445)) (2.28.1)
Requirement already satisfied: rfc3986===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 458)) (1.5.0)
Requirement already satisfied: six===1.16.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 481)) (1.16.0)
Requirement already satisfied: stestr===3.2.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 513)) (3.2.1)
Requirement already satisfied: stevedore===4.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 514)) (4.0.0)
Requirement already satisfied: testtools===2.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 534)) (2.5.0)
Requirement already satisfied: urllib3===1.26.11 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 560)) (1.26.11)
Requirement already satisfied: voluptuous===0.13.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 566)) (0.13.1)
Requirement already satisfied: wcwidth===0.2.5 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 570)) (0.2.5)
Requirement already satisfied: wrapt===1.14.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 575)) (1.14.1)
Requirement already satisfied: zipp===3.8.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 588)) (3.8.1)
Requirement already satisfied: autopage===0.5.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 93)) (0.5.1)
Requirement already satisfied: attrs===22.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 90)) (22.1.0)
Requirement already satisfied: cffi===1.15.1 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 110)) (1.15.1)
Requirement already satisfied: importlib-resources===5.9.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 204)) (5.9.0)
Requirement already satisfied: fasteners===0.17.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 166)) (0.17.3)
Requirement already satisfied: oslo.context===5.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 303)) (5.0.0)
Requirement already satisfied: msgpack===1.0.4 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 251)) (1.0.4)
Requirement already satisfied: netifaces===0.11.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 259)) (0.11.0)
Requirement already satisfied: iso8601===1.0.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 211)) (1.0.2)
Requirement already satisfied: bcrypt===3.2.2 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 95)) (3.2.2)
Requirement already satisfied: PyNaCl===1.5.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 21)) (1.5.0)
Requirement already satisfied: extras===1.0.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 164)) (1.0.0)
Requirement already satisfied: certifi>=2017.4.17 in /usr/lib/python3/dist-packages (from requests===2.28.1->-c /opt/stack/requirements/upper-constraints.txt (line 445)) (2019.11.28)
Requirement already satisfied: charset-normalizer===2.1.0 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 112)) (2.1.0)
Requirement already satisfied: idna===3.3 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 199)) (3.3)
Requirement already satisfied: future===0.18.2 in /usr/lib/python3/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 172)) (0.18.2)
Requirement already satisfied: pycparser===2.21 in /usr/local/lib/python3.8/dist-packages (from -c /opt/stack/requirements/upper-constraints.txt (line 356)) (2.21)
Installing collected packages: tempest
  Attempting uninstall: tempest
    Found existing installation: tempest 31.1.1.dev30
    Can't uninstall 'tempest'. No files were found to uninstall.
  Running setup.py develop for tempest
Successfully installed tempest
++ inc/python:pip_install:196               :   result=0
++ inc/python:pip_install:198               :   time_stop pip_install
++ functions-common:time_stop:2439          :   local name
++ functions-common:time_stop:2440          :   local end_time
++ functions-common:time_stop:2441          :   local elapsed_time
++ functions-common:time_stop:2442          :   local total
++ functions-common:time_stop:2443          :   local start_time
++ functions-common:time_stop:2445          :   name=pip_install
++ functions-common:time_stop:2446          :   start_time=1661164039649
++ functions-common:time_stop:2448          :   [[ -z 1661164039649 ]]
+++ functions-common:time_stop:2451          :   date +%s%3N
++ functions-common:time_stop:2451          :   end_time=1661164046428
++ functions-common:time_stop:2452          :   elapsed_time=6779
++ functions-common:time_stop:2453          :   total=97442
++ functions-common:time_stop:2455          :   _TIME_START[$name]=
++ functions-common:time_stop:2456          :   _TIME_TOTAL[$name]=104221
++ inc/python:pip_install:199               :   return 0
++ inc/python:setup_package:444             :   [[ -e == \-\e ]]
++ inc/python:setup_package:445             :   safe_chown -R stack /opt/stack/tempest/tempest.egg-info
++ functions-common:safe_chown:2340         :   _safe_permission_operation chown -R stack /opt/stack/tempest/tempest.egg-info
++ functions-common:_safe_permission_operation:2165 :   local xtrace
+++ functions-common:_safe_permission_operation:2166 :   set +o
+++ functions-common:_safe_permission_operation:2166 :   grep xtrace
++ functions-common:_safe_permission_operation:2166 :   xtrace='set -o xtrace'
++ functions-common:_safe_permission_operation:2167 :   set +o xtrace
++ functions-common:_safe_permission_operation:2188 :   sudo chown -R stack /opt/stack/tempest/tempest.egg-info
++ inc/python:_setup_package_with_constraints_edit:390 :   use_library_from_git /opt/stack/tempest
++ inc/python:use_library_from_git:246      :   local name=/opt/stack/tempest
++ inc/python:use_library_from_git:247      :   local enabled=1
++ inc/python:use_library_from_git:248      :   [[ '' = \A\L\L ]]
++ inc/python:use_library_from_git:248      :   [[ ,, =~ ,/opt/stack/tempest, ]]
++ inc/python:use_library_from_git:249      :   return 1
++ lib/tempest:configure_tempest:192        :   local image_lines
++ lib/tempest:configure_tempest:193        :   local images
++ lib/tempest:configure_tempest:194        :   local num_images
++ lib/tempest:configure_tempest:195        :   local image_uuid
++ lib/tempest:configure_tempest:196        :   local image_uuid_alt
++ lib/tempest:configure_tempest:197        :   local password
++ lib/tempest:configure_tempest:198        :   local line
++ lib/tempest:configure_tempest:199        :   local flavors
++ lib/tempest:configure_tempest:200        :   local available_flavors
++ lib/tempest:configure_tempest:201        :   local flavors_ref
++ lib/tempest:configure_tempest:202        :   local flavor_lines
++ lib/tempest:configure_tempest:203        :   local flavor_ref_size
++ lib/tempest:configure_tempest:204        :   local flavor_ref_alt_size
++ lib/tempest:configure_tempest:205        :   local public_network_id
++ lib/tempest:configure_tempest:206        :   local public_router_id
++ lib/tempest:configure_tempest:207        :   local ssh_connect_method=floating
++ lib/tempest:configure_tempest:208        :   local disk
++ lib/tempest:configure_tempest:211        :   ifs=' 	
'
++ lib/tempest:configure_tempest:221        :   declare -a images
++ lib/tempest:configure_tempest:223        :   is_service_enabled glance
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/tempest:configure_tempest:224        :   get_active_images images image_uuid image_uuid_alt
++ lib/tempest:get_active_images:147        :   declare -n img_array=images
++ lib/tempest:get_active_images:148        :   declare -n img_id=image_uuid
++ lib/tempest:get_active_images:149        :   declare -n img_id_alt=image_uuid_alt
++ lib/tempest:get_active_images:152        :   img_array=()
++ lib/tempest:get_active_images:154        :   read -r IMAGE_NAME IMAGE_UUID
+++ lib/tempest:get_active_images:146        :   oscwrap --os-cloud devstack-admin image list --property status=active
+++ lib/tempest:get_active_images:146        :   awk '-F|' '!/^(+--)|ID|aki|ari/ { print $3,$2 }'
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ lib/tempest:get_active_images:155        :   '[' cirros-0.5.2-x86_64-disk = cirros-0.5.2-x86_64-disk ']'
++ lib/tempest:get_active_images:156        :   img_id=e3fed545-f27d-482d-adfc-29d44405341d
++ lib/tempest:get_active_images:157        :   img_id_alt=e3fed545-f27d-482d-adfc-29d44405341d
++ lib/tempest:get_active_images:159        :   img_array+=($IMAGE_UUID)
++ lib/tempest:get_active_images:154        :   read -r IMAGE_NAME IMAGE_UUID
++ lib/tempest:configure_tempest:226        :   ((  1 < 1  ))
++ lib/tempest:configure_tempest:240        :   case "${#images[*]}" in
++ lib/tempest:configure_tempest:246        :   '[' -z e3fed545-f27d-482d-adfc-29d44405341d ']'
++ lib/tempest:configure_tempest:262        :   sudo install -d -o stack /opt/stack/tempest/etc
++ lib/tempest:configure_tempest:263        :   rm -f /opt/stack/tempest/etc/tempest.conf
++ lib/tempest:configure_tempest:265        :   local password=Datacore1
++ lib/tempest:configure_tempest:268        :   local admin_username=admin
++ lib/tempest:configure_tempest:269        :   local admin_project_name=admin
++ lib/tempest:configure_tempest:270        :   local admin_domain_name=Default
++ lib/tempest:configure_tempest:271        :   local alt_username=alt_demo
++ lib/tempest:configure_tempest:272        :   local alt_project_name=alt_demo
++ lib/tempest:configure_tempest:273        :   local admin_project_id
+++ lib/tempest:configure_tempest:274        :   oscwrap --os-cloud devstack-admin project list
+++ lib/tempest:configure_tempest:274        :   awk '/ admin / { print $2 }'
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   grep xtrace
++++ functions-common:oscwrap:2461            :   set +o
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ lib/tempest:configure_tempest:274        :   admin_project_id=e9042542350e4474975e8ab20e585a23
++ lib/tempest:configure_tempest:276        :   is_service_enabled nova
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
+++ lib/tempest:configure_tempest:279        :   oscwrap --os-cloud devstack-admin flavor list
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ lib/tempest:configure_tempest:279        :   available_flavors='+----+-----------+-------+------+-----------+-------+-----------+
| ID | Name      |   RAM | Disk | Ephemeral | VCPUs | Is Public |
+----+-----------+-------+------+-----------+-------+-----------+
| 1  | m1.tiny   |   512 |    1 |         0 |     1 | True      |
| 2  | m1.small  |  2048 |   20 |         0 |     1 | True      |
| 3  | m1.medium |  4096 |   40 |         0 |     2 | True      |
| 4  | m1.large  |  8192 |   80 |         0 |     4 | True      |
| 5  | m1.xlarge | 16384 |  160 |         0 |     8 | True      |
| c1 | cirros256 |   256 |    1 |         0 |     1 | True      |
| d1 | ds512M    |   512 |    5 |         0 |     1 | True      |
| d2 | ds1G      |  1024 |   10 |         0 |     1 | True      |
| d3 | ds2G      |  2048 |   10 |         0 |     2 | True      |
| d4 | ds4G      |  4096 |   20 |         0 |     4 | True      |
+----+-----------+-------+------+-----------+-------+-----------+'
++ lib/tempest:configure_tempest:280        :   [[ -z '' ]]
++ lib/tempest:configure_tempest:281        :   [[ +----+-----------+-------+------+-----------+-------+-----------+
| ID | Name      |   RAM | Disk | Ephemeral | VCPUs | Is Public |
+----+-----------+-------+------+-----------+-------+-----------+
| 1  | m1.tiny   |   512 |    1 |         0 |     1 | True      |
| 2  | m1.small  |  2048 |   20 |         0 |     1 | True      |
| 3  | m1.medium |  4096 |   40 |         0 |     2 | True      |
| 4  | m1.large  |  8192 |   80 |         0 |     4 | True      |
| 5  | m1.xlarge | 16384 |  160 |         0 |     8 | True      |
| c1 | cirros256 |   256 |    1 |         0 |     1 | True      |
| d1 | ds512M    |   512 |    5 |         0 |     1 | True      |
| d2 | ds1G      |  1024 |   10 |         0 |     1 | True      |
| d3 | ds2G      |  2048 |   10 |         0 |     2 | True      |
| d4 | ds4G      |  4096 |   20 |         0 |     4 | True      |
+----+-----------+-------+------+-----------+-------+-----------+ =~ m1\.nano ]]
+++ lib/tempest:configure_tempest:283        :   image_size_in_gib e3fed545-f27d-482d-adfc-29d44405341d
+++ lib/tempest:image_size_in_gib:119        :   local size
++++ lib/tempest:image_size_in_gib:120        :   oscwrap --os-cloud devstack-admin image show e3fed545-f27d-482d-adfc-29d44405341d -c size -f value
++++ functions-common:oscwrap:2460            :   local xtrace
+++++ functions-common:oscwrap:2461            :   set +o
+++++ functions-common:oscwrap:2461            :   grep xtrace
++++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++++ functions-common:oscwrap:2479            :   return 0
+++ lib/tempest:image_size_in_gib:120        :   size=16300544
+++ lib/tempest:image_size_in_gib:121        :   echo 16300544
+++ lib/tempest:image_size_in_gib:121        :   python3 -c 'import math; print(int(math.ceil(float(int(input()) / 1024.0 ** 3))))'
++ lib/tempest:configure_tempest:283        :   disk=1
++ lib/tempest:configure_tempest:284        :   openstack --os-cloud devstack-admin flavor create --id 42 --ram 128 --disk 1 --vcpus 1 --property hw_rng:allowed=True m1.nano
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------------+-----------------------+
| Field                      | Value                 |
+----------------------------+-----------------------+
| OS-FLV-DISABLED:disabled   | False                 |
| OS-FLV-EXT-DATA:ephemeral  | 0                     |
| description                | None                  |
| disk                       | 1                     |
| id                         | 42                    |
| name                       | m1.nano               |
| os-flavor-access:is_public | True                  |
| properties                 | hw_rng:allowed='True' |
| ram                        | 128                   |
| rxtx_factor                | 1.0                   |
| swap                       |                       |
| vcpus                      | 1                     |
+----------------------------+-----------------------+
++ lib/tempest:configure_tempest:286        :   flavor_ref=42
++ lib/tempest:configure_tempest:287        :   [[ +----+-----------+-------+------+-----------+-------+-----------+
| ID | Name      |   RAM | Disk | Ephemeral | VCPUs | Is Public |
+----+-----------+-------+------+-----------+-------+-----------+
| 1  | m1.tiny   |   512 |    1 |         0 |     1 | True      |
| 2  | m1.small  |  2048 |   20 |         0 |     1 | True      |
| 3  | m1.medium |  4096 |   40 |         0 |     2 | True      |
| 4  | m1.large  |  8192 |   80 |         0 |     4 | True      |
| 5  | m1.xlarge | 16384 |  160 |         0 |     8 | True      |
| c1 | cirros256 |   256 |    1 |         0 |     1 | True      |
| d1 | ds512M    |   512 |    5 |         0 |     1 | True      |
| d2 | ds1G      |  1024 |   10 |         0 |     1 | True      |
| d3 | ds2G      |  2048 |   10 |         0 |     2 | True      |
| d4 | ds4G      |  4096 |   20 |         0 |     4 | True      |
+----+-----------+-------+------+-----------+-------+-----------+ =~ m1\.micro ]]
+++ lib/tempest:configure_tempest:289        :   image_size_in_gib e3fed545-f27d-482d-adfc-29d44405341d
+++ lib/tempest:image_size_in_gib:119        :   local size
++++ lib/tempest:image_size_in_gib:120        :   oscwrap --os-cloud devstack-admin image show e3fed545-f27d-482d-adfc-29d44405341d -c size -f value
++++ functions-common:oscwrap:2460            :   local xtrace
+++++ functions-common:oscwrap:2461            :   set +o
+++++ functions-common:oscwrap:2461            :   grep xtrace
++++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
++++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
++++ functions-common:oscwrap:2479            :   return 0
+++ lib/tempest:image_size_in_gib:120        :   size=16300544
+++ lib/tempest:image_size_in_gib:121        :   echo 16300544
+++ lib/tempest:image_size_in_gib:121        :   python3 -c 'import math; print(int(math.ceil(float(int(input()) / 1024.0 ** 3))))'
++ lib/tempest:configure_tempest:289        :   disk=1
++ lib/tempest:configure_tempest:290        :   openstack --os-cloud devstack-admin flavor create --id 84 --ram 192 --disk 1 --vcpus 1 --property hw_rng:allowed=True m1.micro
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------------+-----------------------+
| Field                      | Value                 |
+----------------------------+-----------------------+
| OS-FLV-DISABLED:disabled   | False                 |
| OS-FLV-EXT-DATA:ephemeral  | 0                     |
| description                | None                  |
| disk                       | 1                     |
| id                         | 84                    |
| name                       | m1.micro              |
| os-flavor-access:is_public | True                  |
| properties                 | hw_rng:allowed='True' |
| ram                        | 192                   |
| rxtx_factor                | 1.0                   |
| swap                       |                       |
| vcpus                      | 1                     |
+----------------------------+-----------------------+
++ lib/tempest:configure_tempest:292        :   flavor_ref_alt=84
++ lib/tempest:configure_tempest:341        :   iniset /opt/stack/tempest/etc/tempest.conf network project_network_cidr 10.0.0.0/22
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:343        :   ssh_connect_method=floating
++ lib/tempest:configure_tempest:349        :   [[ True == \T\r\u\e ]]
++ lib/tempest:configure_tempest:349        :   is_networking_extension_supported external-net
++ lib/neutron_plugins/services/l3:is_networking_extension_supported:427 :   local extension=external-net
+++ lib/neutron_plugins/services/l3:is_networking_extension_supported:429 :   oscwrap --os-cloud devstack-admin --os-region RegionOne extension list --network -c Alias -f value
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ lib/neutron_plugins/services/l3:is_networking_extension_supported:429 :   EXT_LIST='address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
default-subnetpools
dns-integration
dns-domain-ports
dns-integration-domain-keywords
external-net
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
flavors
floatingip-pools
router
ext-gw-mode
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
binding
binding-extended
port-security
project-id
provider
quota-check-limit
quotas
quota_details
rbac-policies
rbac-address-scope
rbac-security-groups
revision-if-match
standard-attr-revisions
router_availability_zone
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
security-group
service-type
sorting
standard-attr-description
stateful-security-group
subnet-dns-publish-fixed-ip
subnet-service-types
subnet_allocation
standard-attr-tag
standard-attr-timestamp'
++ lib/neutron_plugins/services/l3:is_networking_extension_supported:430 :   [[ address-group
address-scope
agent
allowed-address-pairs
auto-allocated-topology
availability_zone
default-subnetpools
dns-integration
dns-domain-ports
dns-integration-domain-keywords
external-net
extra_dhcp_opt
extraroute
filter-validation
fip-port-details
flavors
floatingip-pools
router
ext-gw-mode
multi-provider
net-mtu
net-mtu-writable
network_availability_zone
network-ip-availability
pagination
port-device-profile
port-mac-address-regenerate
port-numa-affinity-policy
binding
binding-extended
port-security
project-id
provider
quota-check-limit
quotas
quota_details
rbac-policies
rbac-address-scope
rbac-security-groups
revision-if-match
standard-attr-revisions
router_availability_zone
security-groups-normalized-cidr
security-groups-remote-address-group
security-groups-shared-filtering
security-group
service-type
sorting
standard-attr-description
stateful-security-group
subnet-dns-publish-fixed-ip
subnet-service-types
subnet_allocation
standard-attr-tag
standard-attr-timestamp =~ external-net ]]
++ lib/neutron_plugins/services/l3:is_networking_extension_supported:430 :   return 0
+++ lib/tempest:configure_tempest:350        :   oscwrap --os-cloud devstack-admin network show -f value -c id public
+++ functions-common:oscwrap:2460            :   local xtrace
++++ functions-common:oscwrap:2461            :   set +o
++++ functions-common:oscwrap:2461            :   grep xtrace
+++ functions-common:oscwrap:2461            :   xtrace='set -o xtrace'
+++ functions-common:oscwrap:2462            :   set +o xtrace
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+++ functions-common:oscwrap:2479            :   return 0
++ lib/tempest:configure_tempest:350        :   public_network_id=e295a544-b00b-4e25-ae71-4ab1d6099169
++ lib/tempest:configure_tempest:352        :   openstack --os-cloud devstack-admin --os-region RegionOne network create --share shared
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+---------------------------+--------------------------------------+
| Field                     | Value                                |
+---------------------------+--------------------------------------+
| admin_state_up            | UP                                   |
| availability_zone_hints   |                                      |
| availability_zones        |                                      |
| created_at                | 2022-08-22T10:27:41Z                 |
| description               |                                      |
| dns_domain                | None                                 |
| id                        | 2ff104ba-b2c7-4811-9305-0d19d928dcfc |
| ipv4_address_scope        | None                                 |
| ipv6_address_scope        | None                                 |
| is_default                | False                                |
| is_vlan_transparent       | None                                 |
| mtu                       | 1442                                 |
| name                      | shared                               |
| port_security_enabled     | True                                 |
| project_id                | e9042542350e4474975e8ab20e585a23     |
| provider:network_type     | geneve                               |
| provider:physical_network | None                                 |
| provider:segmentation_id  | 55032                                |
| qos_policy_id             | None                                 |
| revision_number           | 1                                    |
| router:external           | Internal                             |
| segments                  | None                                 |
| shared                    | True                                 |
| status                    | ACTIVE                               |
| subnets                   |                                      |
| tags                      |                                      |
| updated_at                | 2022-08-22T10:27:41Z                 |
+---------------------------+--------------------------------------+
++ lib/tempest:configure_tempest:353        :   openstack --os-cloud devstack-admin --os-region RegionOne subnet create --description shared-subnet --subnet-range 192.168.233.0/24 --network shared shared-subnet
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
+----------------------+--------------------------------------+
| Field                | Value                                |
+----------------------+--------------------------------------+
| allocation_pools     | 192.168.233.2-192.168.233.254        |
| cidr                 | 192.168.233.0/24                     |
| created_at           | 2022-08-22T10:27:43Z                 |
| description          | shared-subnet                        |
| dns_nameservers      |                                      |
| dns_publish_fixed_ip | None                                 |
| enable_dhcp          | True                                 |
| gateway_ip           | 192.168.233.1                        |
| host_routes          |                                      |
| id                   | c47c38ea-24d3-4fce-9dda-112328f12ad0 |
| ip_version           | 4                                    |
| ipv6_address_mode    | None                                 |
| ipv6_ra_mode         | None                                 |
| name                 | shared-subnet                        |
| network_id           | 2ff104ba-b2c7-4811-9305-0d19d928dcfc |
| project_id           | e9042542350e4474975e8ab20e585a23     |
| revision_number      | 0                                    |
| segment_id           | None                                 |
| service_types        |                                      |
| subnetpool_id        | None                                 |
| tags                 |                                      |
| updated_at           | 2022-08-22T10:27:43Z                 |
+----------------------+--------------------------------------+
++ lib/tempest:configure_tempest:356        :   iniset /opt/stack/tempest/etc/tempest.conf DEFAULT use_syslog False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:359        :   iniset /opt/stack/tempest/etc/tempest.conf oslo_concurrency lock_path /opt/stack/data/tempest
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:360        :   mkdir -p /opt/stack/data/tempest
++ lib/tempest:configure_tempest:361        :   iniset /opt/stack/tempest/etc/tempest.conf DEFAULT use_stderr False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:362        :   iniset /opt/stack/tempest/etc/tempest.conf DEFAULT log_file tempest.log
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:363        :   iniset /opt/stack/tempest/etc/tempest.conf DEFAULT debug True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:366        :   iniset /opt/stack/tempest/etc/tempest.conf compute build_timeout 196
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:367        :   iniset /opt/stack/tempest/etc/tempest.conf volume build_timeout 196
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:370        :   iniset /opt/stack/tempest/etc/tempest.conf identity uri http://10.200.2.118/identity/v2.0/
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:371        :   iniset /opt/stack/tempest/etc/tempest.conf identity uri_v3 http://10.200.2.118/identity/v3
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:372        :   iniset /opt/stack/tempest/etc/tempest.conf identity user_lockout_failure_attempts 2
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:373        :   iniset /opt/stack/tempest/etc/tempest.conf identity user_lockout_duration 10
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:374        :   iniset /opt/stack/tempest/etc/tempest.conf identity user_unique_last_password_count 2
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:375        :   [[ True == \T\r\u\e ]]
++ lib/tempest:configure_tempest:376        :   iniset /opt/stack/tempest/etc/tempest.conf auth admin_username admin
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:377        :   iniset /opt/stack/tempest/etc/tempest.conf auth admin_password Datacore1
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:378        :   iniset /opt/stack/tempest/etc/tempest.conf auth admin_project_name admin
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:379        :   iniset /opt/stack/tempest/etc/tempest.conf auth admin_domain_name Default
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:381        :   '[' '' == True ']'
++ lib/tempest:configure_tempest:386        :   iniset /opt/stack/tempest/etc/tempest.conf identity-feature-enabled api_v2 False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:388        :   iniset /opt/stack/tempest/etc/tempest.conf identity auth_version v3
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:389        :   [[ '' != \v\2 ]]
++ lib/tempest:configure_tempest:391        :   iniset /opt/stack/tempest/etc/tempest.conf identity-feature-enabled api_v2_admin False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:394        :   is_service_enabled tls-proxy
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 1
++ lib/tempest:configure_tempest:399        :   [[ True = True ]]
++ lib/tempest:configure_tempest:400        :   iniset /opt/stack/tempest/etc/tempest.conf identity-feature-enabled security_compliance True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:405        :   is_service_enabled ldap
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 1
++ lib/tempest:configure_tempest:411        :   iniset /opt/stack/tempest/etc/tempest.conf identity-feature-enabled project_tags True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:415        :   iniset /opt/stack/tempest/etc/tempest.conf identity-feature-enabled application_credentials True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:419        :   iniset /opt/stack/tempest/etc/tempest.conf identity-feature-enabled access_rules True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:424        :   [[ ! -z '' ]]
++ lib/tempest:configure_tempest:427        :   iniset /opt/stack/tempest/etc/tempest.conf image-feature-enabled import_image False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:428        :   iniset /opt/stack/tempest/etc/tempest.conf image-feature-enabled os_glance_reserved True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:429        :   is_service_enabled g-api-r
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 1
++ lib/tempest:configure_tempest:434        :   iniset /opt/stack/tempest/etc/tempest.conf compute image_ref e3fed545-f27d-482d-adfc-29d44405341d
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:435        :   iniset /opt/stack/tempest/etc/tempest.conf compute image_ref_alt e3fed545-f27d-482d-adfc-29d44405341d
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:436        :   iniset /opt/stack/tempest/etc/tempest.conf compute flavor_ref 42
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:437        :   iniset /opt/stack/tempest/etc/tempest.conf compute flavor_ref_alt 84
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:438        :   iniset /opt/stack/tempest/etc/tempest.conf validation connect_method floating
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:439        :   is_service_enabled neutron
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/tempest:configure_tempest:447        :   [[ -n '' ]]
++ lib/tempest:configure_tempest:457        :   local tempest_compute_min_microversion=None
++ lib/tempest:configure_tempest:458        :   local tempest_compute_max_microversion=latest
++ lib/tempest:configure_tempest:461        :   [[ '' == \c\o\m\p\u\t\e\_\l\e\g\a\c\y ]]
++ lib/tempest:configure_tempest:465        :   '[' None == None ']'
++ lib/tempest:configure_tempest:466        :   inicomment /opt/stack/tempest/etc/tempest.conf compute min_microversion
++ inc/ini-config:inicomment:42             :   local xtrace
+++ inc/ini-config:inicomment:43             :   set +o
+++ inc/ini-config:inicomment:43             :   grep xtrace
++ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
++ inc/ini-config:inicomment:44             :   set +o xtrace
++ lib/tempest:configure_tempest:470        :   '[' latest == None ']'
++ lib/tempest:configure_tempest:473        :   iniset /opt/stack/tempest/etc/tempest.conf compute max_microversion latest
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:476        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled personality False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:477        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled resize True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:478        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled live_migration False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:479        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled change_password False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:480        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled block_migration_for_live_migration False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:481        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled live_migrate_back_and_forth False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:482        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled attach_encrypted_volume True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:485        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled hostname_fqdn_sanitization True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:487        :   [[ -n AvailabilityZoneFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter ]]
++ lib/tempest:configure_tempest:488        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled scheduler_enabled_filters AvailabilityZoneFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,SameHostFilter,DifferentHostFilter
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:491        :   [[ False == \T\r\u\e ]]
++ lib/tempest:configure_tempest:495        :   is_service_enabled n-novnc
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/tempest:configure_tempest:496        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled vnc_console True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:500        :   iniset /opt/stack/tempest/etc/tempest.conf network project_networks_reachable false
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:501        :   iniset /opt/stack/tempest/etc/tempest.conf network public_network_id e295a544-b00b-4e25-ae71-4ab1d6099169
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:502        :   iniset /opt/stack/tempest/etc/tempest.conf network public_router_id ''
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:503        :   iniset /opt/stack/tempest/etc/tempest.conf network default_network 10.0.0.0/22
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:504        :   iniset /opt/stack/tempest/etc/tempest.conf network-feature-enabled ipv6 True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:505        :   iniset /opt/stack/tempest/etc/tempest.conf network-feature-enabled ipv6_subnet_attributes True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:506        :   iniset /opt/stack/tempest/etc/tempest.conf network-feature-enabled port_security True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:508        :   iniset /opt/stack/tempest/etc/tempest.conf enforce_scope neutron False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:511        :   SCENARIO_IMAGE_DIR=/opt/stack/devstack/files
++ lib/tempest:configure_tempest:512        :   SCENARIO_IMAGE_FILE=cirros-0.5.2-x86_64-disk.img
++ lib/tempest:configure_tempest:513        :   iniset /opt/stack/tempest/etc/tempest.conf scenario img_file /opt/stack/devstack/files/cirros-0.5.2-x86_64-disk.img
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:516        :   TEMPEST_SSH_NETWORK_NAME=private
++ lib/tempest:configure_tempest:517        :   is_provider_network
++ functions-common:is_provider_network:2288 :   '[' '' == True ']'
++ functions-common:is_provider_network:2291 :   return 1
++ lib/tempest:configure_tempest:521        :   iniset /opt/stack/tempest/etc/tempest.conf validation run_validation True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:522        :   iniset /opt/stack/tempest/etc/tempest.conf validation ip_version_for_ssh 4
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:523        :   iniset /opt/stack/tempest/etc/tempest.conf validation ssh_timeout 196
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:524        :   iniset /opt/stack/tempest/etc/tempest.conf validation image_ssh_user cirros
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:525        :   iniset /opt/stack/tempest/etc/tempest.conf validation image_alt_ssh_user cirros
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:526        :   iniset /opt/stack/tempest/etc/tempest.conf validation network_for_ssh private
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:530        :   [[ lvm:lvmdriver-1 == *\l\v\m* ]]
++ lib/tempest:configure_tempest:531        :   TEMPEST_VOLUME_MANAGE_SNAPSHOT=True
+++ lib/tempest:configure_tempest:533        :   trueorfalse False TEMPEST_VOLUME_MANAGE_SNAPSHOT
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ lib/tempest:configure_tempest:533        :   iniset /opt/stack/tempest/etc/tempest.conf volume-feature-enabled manage_snapshot True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:535        :   [[ lvm:lvmdriver-1 == *\l\v\m* ]]
++ lib/tempest:configure_tempest:536        :   TEMPEST_VOLUME_MANAGE_VOLUME=True
+++ lib/tempest:configure_tempest:538        :   trueorfalse False TEMPEST_VOLUME_MANAGE_VOLUME
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ lib/tempest:configure_tempest:538        :   iniset /opt/stack/tempest/etc/tempest.conf volume-feature-enabled manage_volume True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:541        :   [[ lvm:lvmdriver-1 == *\l\v\m* ]]
++ lib/tempest:configure_tempest:541        :   '[' libvirt = libvirt ']'
++ lib/tempest:configure_tempest:542        :   TEMPEST_EXTEND_ATTACHED_VOLUME=True
+++ lib/tempest:configure_tempest:544        :   trueorfalse False TEMPEST_EXTEND_ATTACHED_VOLUME
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ lib/tempest:configure_tempest:544        :   iniset /opt/stack/tempest/etc/tempest.conf volume-feature-enabled extend_attached_volume True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:546        :   [[ lvm:lvmdriver-1 == *\l\v\m* ]]
++ lib/tempest:configure_tempest:547        :   TEMPEST_VOLUME_REVERT_TO_SNAPSHOT=True
+++ lib/tempest:configure_tempest:549        :   trueorfalse False TEMPEST_VOLUME_REVERT_TO_SNAPSHOT
+++ functions-common:trueorfalse:219         :   local xtrace
++++ functions-common:trueorfalse:220         :   set +o
++++ functions-common:trueorfalse:220         :   grep xtrace
+++ functions-common:trueorfalse:220         :   xtrace='set -o xtrace'
+++ functions-common:trueorfalse:221         :   set +o xtrace
++ lib/tempest:configure_tempest:549        :   iniset /opt/stack/tempest/etc/tempest.conf volume-feature-enabled volume_revert True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:550        :   local tempest_volume_min_microversion=None
++ lib/tempest:configure_tempest:551        :   local tempest_volume_max_microversion=latest
++ lib/tempest:configure_tempest:552        :   '[' None == None ']'
++ lib/tempest:configure_tempest:553        :   inicomment /opt/stack/tempest/etc/tempest.conf volume min_microversion
++ inc/ini-config:inicomment:42             :   local xtrace
+++ inc/ini-config:inicomment:43             :   set +o
+++ inc/ini-config:inicomment:43             :   grep xtrace
++ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
++ inc/ini-config:inicomment:44             :   set +o xtrace
++ lib/tempest:configure_tempest:558        :   '[' latest == None ']'
++ lib/tempest:configure_tempest:561        :   iniset /opt/stack/tempest/etc/tempest.conf volume max_microversion latest
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:564        :   is_service_enabled c-bak
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 1
++ lib/tempest:configure_tempest:565        :   iniset /opt/stack/tempest/etc/tempest.conf volume-feature-enabled backup False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:571        :   [[ -n lvm:lvmdriver-1 ]]
++ lib/tempest:configure_tempest:571        :   [[ lvm:lvmdriver-1 =~ .*,.* ]]
++ lib/tempest:configure_tempest:591        :   '[' default '!=' default -o 'Open Source' '!=' 'Open Source' ']'
++ lib/tempest:configure_tempest:595        :   '[' default '!=' default -o iSCSI '!=' iSCSI ']'
++ lib/tempest:configure_tempest:605        :   local tempest_placement_min_microversion=None
++ lib/tempest:configure_tempest:606        :   local tempest_placement_max_microversion=latest
++ lib/tempest:configure_tempest:607        :   '[' None == None ']'
++ lib/tempest:configure_tempest:608        :   inicomment /opt/stack/tempest/etc/tempest.conf placement min_microversion
++ inc/ini-config:inicomment:42             :   local xtrace
+++ inc/ini-config:inicomment:43             :   set +o
+++ inc/ini-config:inicomment:43             :   grep xtrace
++ inc/ini-config:inicomment:43             :   xtrace='set -o xtrace'
++ inc/ini-config:inicomment:44             :   set +o xtrace
++ lib/tempest:configure_tempest:612        :   '[' latest == None ']'
++ lib/tempest:configure_tempest:615        :   iniset /opt/stack/tempest/etc/tempest.conf placement max_microversion latest
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:619        :   '[' libvirt = ironic ']'
++ lib/tempest:configure_tempest:633        :   '[' libvirt = libvirt ']'
++ lib/tempest:configure_tempest:635        :   '[' kvm = lxc ']'
++ lib/tempest:configure_tempest:642        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled shelve_migrate True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:643        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled stable_rescue True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:644        :   iniset /opt/stack/tempest/etc/tempest.conf compute-feature-enabled swap_volume True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:657        :   local service
++ lib/tempest:configure_tempest:658        :   local tempest_services=key,glance,nova,neutron,cinder,swift,horizon
++ lib/tempest:configure_tempest:659        :   for service in ${tempest_services//,/ }
++ lib/tempest:configure_tempest:660        :   is_service_enabled key
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/tempest:configure_tempest:661        :   iniset /opt/stack/tempest/etc/tempest.conf service_available key True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:659        :   for service in ${tempest_services//,/ }
++ lib/tempest:configure_tempest:660        :   is_service_enabled glance
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/tempest:configure_tempest:661        :   iniset /opt/stack/tempest/etc/tempest.conf service_available glance True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:659        :   for service in ${tempest_services//,/ }
++ lib/tempest:configure_tempest:660        :   is_service_enabled nova
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/tempest:configure_tempest:661        :   iniset /opt/stack/tempest/etc/tempest.conf service_available nova True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:659        :   for service in ${tempest_services//,/ }
++ lib/tempest:configure_tempest:660        :   is_service_enabled neutron
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/tempest:configure_tempest:661        :   iniset /opt/stack/tempest/etc/tempest.conf service_available neutron True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:659        :   for service in ${tempest_services//,/ }
++ lib/tempest:configure_tempest:660        :   is_service_enabled cinder
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/tempest:configure_tempest:661        :   iniset /opt/stack/tempest/etc/tempest.conf service_available cinder True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:659        :   for service in ${tempest_services//,/ }
++ lib/tempest:configure_tempest:660        :   is_service_enabled swift
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   grep xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 1
++ lib/tempest:configure_tempest:663        :   iniset /opt/stack/tempest/etc/tempest.conf service_available swift False
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:659        :   for service in ${tempest_services//,/ }
++ lib/tempest:configure_tempest:660        :   is_service_enabled horizon
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 0
++ lib/tempest:configure_tempest:661        :   iniset /opt/stack/tempest/etc/tempest.conf service_available horizon True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   grep xtrace
+++ inc/ini-config:iniset:178                :   set +o
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:671        :   [[ False == True ]]
++ lib/tempest:configure_tempest:671        :   [[ False == True ]]
++ lib/tempest:configure_tempest:677        :   [[ False == True ]]
++ lib/tempest:configure_tempest:677        :   [[ False == True ]]
++ lib/tempest:configure_tempest:681        :   [[ False == True ]]
++ lib/tempest:configure_tempest:681        :   [[ False == True ]]
++ lib/tempest:configure_tempest:685        :   '[' libvirt = libvirt ']'
++ lib/tempest:configure_tempest:685        :   '[' kvm = lxc ']'
++ lib/tempest:configure_tempest:695        :   local tmp_cfg_file
+++ lib/tempest:configure_tempest:696        :   mktemp
++ lib/tempest:configure_tempest:696        :   tmp_cfg_file=/tmp/tmp.Kzo3F8CaaN
++ lib/tempest:configure_tempest:697        :   cd /opt/stack/tempest
++ lib/tempest:configure_tempest:698        :   [[ False != \T\r\u\e ]]
++ lib/tempest:configure_tempest:699        :   tox -revenv-tempest --notest
venv-tempest recreate: /opt/stack/tempest/.tox/tempest
venv-tempest installdeps: -chttps://releases.openstack.org/constraints/upper/master, -r/opt/stack/tempest/requirements.txt
venv-tempest develop-inst: /opt/stack/tempest
venv-tempest installed: attrs==22.1.0,autopage==0.5.1,bcrypt==3.2.2,certifi==2022.6.15,cffi==1.15.1,charset-normalizer==2.1.0,cliff==4.0.0,cmd2==2.4.2,cryptography==36.0.2,debtcollector==2.5.0,extras==1.0.0,fasteners==0.17.3,fixtures==4.0.1,future==0.18.2,idna==3.3,importlib-metadata==4.12.0,importlib-resources==5.9.0,iso8601==1.0.2,jsonschema==4.7.2,msgpack==1.0.4,netaddr==0.8.0,netifaces==0.11.0,oslo.concurrency==5.0.0,oslo.config==9.0.0,oslo.context==5.0.0,oslo.i18n==5.1.0,oslo.log==5.0.0,oslo.serialization==5.0.0,oslo.utils==6.0.0,packaging==21.3,paramiko==2.11.0,pbr==5.10.0,prettytable==3.3.0,pycparser==2.21,pyinotify==0.9.6,PyNaCl==1.5.0,pyparsing==3.0.9,pyperclip==1.8.2,pyrsistent==0.18.1,python-dateutil==2.8.2,python-subunit==1.4.0,pytz==2022.2.1,PyYAML==6.0,requests==2.28.1,rfc3986==1.5.0,six==1.16.0,stestr==3.2.1,stevedore==4.0.0,-e git+https://opendev.org/openstack/tempest.git@13036879e254f8f917ff0986a48461703be5a9a7#egg=tempest,testtools==2.5.0,urllib3==1.26.11,voluptuous==0.13.1,wcwidth==0.2.5,wrapt==1.14.1,zipp==3.8.1
___________________________________ summary ____________________________________
  venv-tempest: skipped tests
  congratulations :)
++ lib/tempest:configure_tempest:702        :   local tmp_u_c_m
+++ lib/tempest:configure_tempest:703        :   mktemp -t tempest_u_c_m.XXXXXXXXXX
++ lib/tempest:configure_tempest:703        :   tmp_u_c_m=/tmp/tempest_u_c_m.KgQh4EG6NE
++ lib/tempest:configure_tempest:704        :   set_tempest_venv_constraints /tmp/tempest_u_c_m.KgQh4EG6NE
++ lib/tempest:set_tempest_venv_constraints:125 :   local tmp_c
++ lib/tempest:set_tempest_venv_constraints:126 :   tmp_c=/tmp/tempest_u_c_m.KgQh4EG6NE
++ lib/tempest:set_tempest_venv_constraints:127 :   [[ master == \m\a\s\t\e\r ]]
++ lib/tempest:set_tempest_venv_constraints:128 :   cd /opt/stack/requirements
++ lib/tempest:set_tempest_venv_constraints:129 :   git show master:upper-constraints.txt
++ lib/tempest:configure_tempest:705        :   tox -evenv-tempest -- pip install -c /tmp/tempest_u_c_m.KgQh4EG6NE -r requirements.txt
/opt/stack/tempest/.tox/tempest/lib/python3.8/site-packages/setuptools/command/easy_install.py:144: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.
  warnings.warn(
/opt/stack/tempest/.tox/tempest/lib/python3.8/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.
  warnings.warn(
venv-tempest develop-inst-noop: /opt/stack/tempest
venv-tempest installed: attrs==22.1.0,autopage==0.5.1,bcrypt==3.2.2,certifi==2022.6.15,cffi==1.15.1,charset-normalizer==2.1.0,cliff==4.0.0,cmd2==2.4.2,cryptography==36.0.2,debtcollector==2.5.0,extras==1.0.0,fasteners==0.17.3,fixtures==4.0.1,future==0.18.2,idna==3.3,importlib-metadata==4.12.0,importlib-resources==5.9.0,iso8601==1.0.2,jsonschema==4.7.2,msgpack==1.0.4,netaddr==0.8.0,netifaces==0.11.0,oslo.concurrency==5.0.0,oslo.config==9.0.0,oslo.context==5.0.0,oslo.i18n==5.1.0,oslo.log==5.0.0,oslo.serialization==5.0.0,oslo.utils==6.0.0,packaging==21.3,paramiko==2.11.0,pbr==5.10.0,prettytable==3.3.0,pycparser==2.21,pyinotify==0.9.6,PyNaCl==1.5.0,pyparsing==3.0.9,pyperclip==1.8.2,pyrsistent==0.18.1,python-dateutil==2.8.2,python-subunit==1.4.0,pytz==2022.2.1,PyYAML==6.0,requests==2.28.1,rfc3986==1.5.0,six==1.16.0,stestr==3.2.1,stevedore==4.0.0,-e git+https://opendev.org/openstack/tempest.git@13036879e254f8f917ff0986a48461703be5a9a7#egg=tempest,testtools==2.5.0,urllib3==1.26.11,voluptuous==0.13.1,wcwidth==0.2.5,wrapt==1.14.1,zipp==3.8.1
venv-tempest run-test-pre: PYTHONHASHSEED='3160375578'
venv-tempest run-test: commands[0] | pip install -c /tmp/tempest_u_c_m.KgQh4EG6NE -r requirements.txt
Requirement already satisfied: pbr!=2.1.0,>=2.0.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (5.10.0)
Requirement already satisfied: cliff!=2.9.0,>=2.8.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (4.0.0)
Requirement already satisfied: jsonschema>=3.2.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (4.7.2)
Requirement already satisfied: testtools>=2.2.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (2.5.0)
Requirement already satisfied: paramiko>=2.7.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (2.11.0)
Requirement already satisfied: cryptography>=2.1 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (36.0.2)
Requirement already satisfied: netaddr>=0.7.18 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (0.8.0)
Requirement already satisfied: oslo.concurrency>=3.26.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (5.0.0)
Requirement already satisfied: oslo.config>=5.2.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 12)) (9.0.0)
Requirement already satisfied: oslo.log>=3.36.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 13)) (5.0.0)
Requirement already satisfied: stestr>=1.0.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 14)) (3.2.1)
Requirement already satisfied: oslo.serialization!=2.19.1,>=2.18.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 15)) (5.0.0)
Requirement already satisfied: oslo.utils>=4.7.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 16)) (6.0.0)
Requirement already satisfied: fixtures>=3.0.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 17)) (4.0.1)
Requirement already satisfied: PyYAML>=3.12 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 18)) (6.0)
Requirement already satisfied: python-subunit>=1.0.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 19)) (1.4.0)
Requirement already satisfied: stevedore>=1.20.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 20)) (4.0.0)
Requirement already satisfied: PrettyTable>=0.7.1 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 21)) (3.3.0)
Requirement already satisfied: urllib3>=1.21.1 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 22)) (1.26.11)
Requirement already satisfied: debtcollector>=1.2.0 in ./.tox/tempest/lib/python3.8/site-packages (from -r requirements.txt (line 23)) (2.5.0)
Requirement already satisfied: autopage>=0.4.0 in ./.tox/tempest/lib/python3.8/site-packages (from cliff!=2.9.0,>=2.8.0->-r requirements.txt (line 5)) (0.5.1)
Requirement already satisfied: importlib-metadata>=4.4 in ./.tox/tempest/lib/python3.8/site-packages (from cliff!=2.9.0,>=2.8.0->-r requirements.txt (line 5)) (4.12.0)
Requirement already satisfied: cmd2>=1.0.0 in ./.tox/tempest/lib/python3.8/site-packages (from cliff!=2.9.0,>=2.8.0->-r requirements.txt (line 5)) (2.4.2)
Requirement already satisfied: attrs>=17.4.0 in ./.tox/tempest/lib/python3.8/site-packages (from jsonschema>=3.2.0->-r requirements.txt (line 6)) (22.1.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in ./.tox/tempest/lib/python3.8/site-packages (from jsonschema>=3.2.0->-r requirements.txt (line 6)) (0.18.1)
Requirement already satisfied: importlib-resources>=1.4.0 in ./.tox/tempest/lib/python3.8/site-packages (from jsonschema>=3.2.0->-r requirements.txt (line 6)) (5.9.0)
Requirement already satisfied: extras>=1.0.0 in ./.tox/tempest/lib/python3.8/site-packages (from testtools>=2.2.0->-r requirements.txt (line 7)) (1.0.0)
Requirement already satisfied: pynacl>=1.0.1 in ./.tox/tempest/lib/python3.8/site-packages (from paramiko>=2.7.0->-r requirements.txt (line 8)) (1.5.0)
Requirement already satisfied: bcrypt>=3.1.3 in ./.tox/tempest/lib/python3.8/site-packages (from paramiko>=2.7.0->-r requirements.txt (line 8)) (3.2.2)
Requirement already satisfied: six in ./.tox/tempest/lib/python3.8/site-packages (from paramiko>=2.7.0->-r requirements.txt (line 8)) (1.16.0)
Requirement already satisfied: cffi>=1.12 in ./.tox/tempest/lib/python3.8/site-packages (from cryptography>=2.1->-r requirements.txt (line 9)) (1.15.1)
Requirement already satisfied: oslo.i18n>=3.15.3 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.concurrency>=3.26.0->-r requirements.txt (line 11)) (5.1.0)
Requirement already satisfied: fasteners>=0.7.0 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.concurrency>=3.26.0->-r requirements.txt (line 11)) (0.17.3)
Requirement already satisfied: rfc3986>=1.2.0 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.config>=5.2.0->-r requirements.txt (line 12)) (1.5.0)
Requirement already satisfied: requests>=2.18.0 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.config>=5.2.0->-r requirements.txt (line 12)) (2.28.1)
Requirement already satisfied: pyinotify>=0.9.6 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.log>=3.36.0->-r requirements.txt (line 13)) (0.9.6)
Requirement already satisfied: python-dateutil>=2.7.0 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.log>=3.36.0->-r requirements.txt (line 13)) (2.8.2)
Requirement already satisfied: oslo.context>=2.21.0 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.log>=3.36.0->-r requirements.txt (line 13)) (5.0.0)
Requirement already satisfied: future in ./.tox/tempest/lib/python3.8/site-packages (from stestr>=1.0.0->-r requirements.txt (line 14)) (0.18.2)
Requirement already satisfied: voluptuous>=0.8.9 in ./.tox/tempest/lib/python3.8/site-packages (from stestr>=1.0.0->-r requirements.txt (line 14)) (0.13.1)
Requirement already satisfied: msgpack>=0.5.2 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.serialization!=2.19.1,>=2.18.0->-r requirements.txt (line 15)) (1.0.4)
Requirement already satisfied: pytz>=2013.6 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.serialization!=2.19.1,>=2.18.0->-r requirements.txt (line 15)) (2022.2.1)
Requirement already satisfied: netifaces>=0.10.4 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.utils>=4.7.0->-r requirements.txt (line 16)) (0.11.0)
Requirement already satisfied: pyparsing>=2.1.0 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.utils>=4.7.0->-r requirements.txt (line 16)) (3.0.9)
Requirement already satisfied: iso8601>=0.1.11 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.utils>=4.7.0->-r requirements.txt (line 16)) (1.0.2)
Requirement already satisfied: packaging>=20.4 in ./.tox/tempest/lib/python3.8/site-packages (from oslo.utils>=4.7.0->-r requirements.txt (line 16)) (21.3)
Requirement already satisfied: wcwidth in ./.tox/tempest/lib/python3.8/site-packages (from PrettyTable>=0.7.1->-r requirements.txt (line 21)) (0.2.5)
Requirement already satisfied: wrapt>=1.7.0 in ./.tox/tempest/lib/python3.8/site-packages (from debtcollector>=1.2.0->-r requirements.txt (line 23)) (1.14.1)
Requirement already satisfied: pycparser in ./.tox/tempest/lib/python3.8/site-packages (from cffi>=1.12->cryptography>=2.1->-r requirements.txt (line 9)) (2.21)
Requirement already satisfied: pyperclip>=1.6 in ./.tox/tempest/lib/python3.8/site-packages (from cmd2>=1.0.0->cliff!=2.9.0,>=2.8.0->-r requirements.txt (line 5)) (1.8.2)
Requirement already satisfied: zipp>=0.5 in ./.tox/tempest/lib/python3.8/site-packages (from importlib-metadata>=4.4->cliff!=2.9.0,>=2.8.0->-r requirements.txt (line 5)) (3.8.1)
Requirement already satisfied: certifi>=2017.4.17 in ./.tox/tempest/lib/python3.8/site-packages (from requests>=2.18.0->oslo.config>=5.2.0->-r requirements.txt (line 12)) (2022.6.15)
Requirement already satisfied: idna<4,>=2.5 in ./.tox/tempest/lib/python3.8/site-packages (from requests>=2.18.0->oslo.config>=5.2.0->-r requirements.txt (line 12)) (3.3)
Requirement already satisfied: charset-normalizer<3,>=2 in ./.tox/tempest/lib/python3.8/site-packages (from requests>=2.18.0->oslo.config>=5.2.0->-r requirements.txt (line 12)) (2.1.0)
___________________________________ summary ____________________________________
  venv-tempest: commands succeeded
  congratulations :)
++ lib/tempest:configure_tempest:706        :   rm -f /tmp/tempest_u_c_m.KgQh4EG6NE
++ lib/tempest:configure_tempest:709        :   [[ False == \T\r\u\e ]]
++ lib/tempest:configure_tempest:717        :   [[ True == \F\a\l\s\e ]]
++ lib/tempest:configure_tempest:721        :   iniset /opt/stack/tempest/etc/tempest.conf auth use_dynamic_credentials True
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:727        :   tox -evenv -- tempest verify-config -uro /tmp/tmp.Kzo3F8CaaN
/opt/stack/tempest/.tox/venv/lib/python3.8/site-packages/setuptools/command/easy_install.py:144: EasyInstallDeprecationWarning: easy_install command is deprecated. Use build and pip and other standards-based tools.
  warnings.warn(
/opt/stack/tempest/.tox/venv/lib/python3.8/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.
  warnings.warn(
venv develop-inst-noop: /opt/stack/tempest
venv installed: alabaster==0.7.12,attrs==21.4.0,autopage==0.5.1,Babel==2.10.3,bcrypt==3.2.2,certifi==2022.6.15,cffi==1.15.1,charset-normalizer==2.1.0,cliff==3.10.1,cmd2==2.4.1,cryptography==36.0.2,debtcollector==2.5.0,docutils==0.17.1,dulwich==0.20.44,extras==1.0.0,fasteners==0.17.3,fixtures==4.0.1,future==0.18.2,idna==3.3,imagesize==1.4.1,importlib-metadata==4.12.0,iso8601==1.0.2,Jinja2==3.1.2,jsonschema==3.2.0,MarkupSafe==2.1.1,msgpack==1.0.4,netaddr==0.8.0,netifaces==0.11.0,openstackdocstheme==2.4.0,oslo.concurrency==4.5.1,oslo.config==9.0.0,oslo.context==5.0.0,oslo.i18n==5.1.0,oslo.log==5.0.0,oslo.serialization==5.0.0,oslo.utils==6.0.0,packaging==21.3,paramiko==2.11.0,pbr==5.9.0,prettytable==3.3.0,pycparser==2.21,Pygments==2.12.0,pyinotify==0.9.6,PyNaCl==1.5.0,pyparsing==3.0.9,pyperclip==1.8.2,pyrsistent==0.18.1,python-dateutil==2.8.2,python-subunit==1.4.0,pytz==2022.1,PyYAML==6.0,reno==3.5.0,requests==2.28.1,rfc3986==1.5.0,six==1.16.0,snowballstemmer==2.2.0,Sphinx==4.5.0,sphinxcontrib-applehelp==1.0.2,sphinxcontrib-devhelp==1.0.2,sphinxcontrib-htmlhelp==2.0.0,sphinxcontrib-jsmath==1.0.1,sphinxcontrib-qthelp==1.0.3,sphinxcontrib-serializinghtml==1.1.5,sphinxcontrib-svg2pdfconverter==1.2.0,stestr==3.2.1,stevedore==3.5.0,-e git+https://opendev.org/openstack/tempest.git@13036879e254f8f917ff0986a48461703be5a9a7#egg=tempest,testtools==2.5.0,urllib3==1.26.9,voluptuous==0.13.1,wcwidth==0.2.5,wrapt==1.14.1,zipp==3.8.0
venv run-test-pre: PYTHONHASHSEED='1491045602'
venv run-test: commands[0] | tempest verify-config -uro /tmp/tmp.Kzo3F8CaaN
/opt/stack/tempest/tempest/lib/services/image/v1/__init__.py:24: DeprecationWarning: The tempest.lib.services.image.v1 module (Image v1 APIs service clients) is deprecated in favor of tempest.lib.services.image.v2 (Image v2 APIs service clients) and will be removed once Tempest stop supporting stable Ussuri.
  warnings.warn(
/opt/stack/tempest/tempest/lib/services/volume/v2/__init__.py:50: DeprecationWarning: The tempest.lib.services.volume.v2 module (volume v2 APIs service clients) is deprecated in favor of tempest.lib.services.volume.v3 (volume v3 APIs service clients) and will be removed once Tempest stop supporting stable wallaby.
  warnings.warn(
/opt/stack/tempest/.tox/venv/lib/python3.8/site-packages/subunit/__init__.py:1036: DeprecationWarning: invalid escape sequence \d
  match = re.match("(\d+)\.\.(\d+)\s*(?:\#\s+(.*))?\n", line)
/opt/stack/tempest/.tox/venv/lib/python3.8/site-packages/subunit/__init__.py:1049: DeprecationWarning: invalid escape sequence \s
  match = re.match("(ok|not ok)(?:\s+(\d+)?)?(?:\s+([^#]*[^#\s]+)\s*)?(?:\s+#\s+(TODO|SKIP|skip|todo)(?:\s+(.*))?)?\n", line)
/opt/stack/tempest/.tox/venv/lib/python3.8/site-packages/subunit/__init__.py:1077: DeprecationWarning: invalid escape sequence \!
  match = re.match("Bail out\!(?:\s*(.*))?\n", line)
/opt/stack/tempest/.tox/venv/lib/python3.8/site-packages/subunit/__init__.py:1089: DeprecationWarning: invalid escape sequence \#
  match = re.match("\#.*\n", line)
/opt/stack/tempest/tempest/lib/services/clients.py:210: DeprecationWarning: Class 'tempest.lib.services.volume.v2.extensions_client.ExtensionsClient' has moved to 'tempest.lib.services.volume.v3.extensions_client.ExtensionsClient' in version 'Rocky' and will be removed in a future version
  _client = klass(auth_provider=auth_provider, **kwargs)
Config option api_v2 in group image-feature-enabled should be changed to: False
___________________________________ summary ____________________________________
  venv: commands succeeded
  congratulations :)
++ lib/tempest:configure_tempest:732        :   is_service_enabled q-metering
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 1
++ lib/tempest:configure_tempest:733        :   DISABLE_NETWORK_API_EXTENSIONS+=', metering'
++ lib/tempest:configure_tempest:737        :   is_service_enabled q-l3
++ functions-common:is_service_enabled:2066 :   local xtrace
+++ functions-common:is_service_enabled:2067 :   set +o
+++ functions-common:is_service_enabled:2067 :   grep xtrace
++ functions-common:is_service_enabled:2067 :   xtrace='set -o xtrace'
++ functions-common:is_service_enabled:2068 :   set +o xtrace
++ functions-common:is_service_enabled:2095 :   return 1
++ lib/tempest:configure_tempest:738        :   DISABLE_NETWORK_API_EXTENSIONS+=', l3_agent_scheduler'
++ lib/tempest:configure_tempest:741        :   local network_api_extensions=address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-domain-ports,dns-integration,dns-integration-domain-keywords,expose-port-forwarding-in-fip,external-net,ext-gw-mode,extra_dhcp_opt,extraroute,filter-validation,fip-port-details,floatingip-pools,floating-ip-port-forwarding,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,logging,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,pagination,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-resource-request,port-security,project-id,provider,qos,qos-bw-limit-direction,qos-default,qos-fip,qos-gateway-ip,qos-rules-alias,qos-rule-type-details,qos-rule-type-filter,quota-check-limit,quota_details,quotas,rbac-address-scope,rbac-policies,rbac-security-groups,router,router_availability_zone,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,segment,sorting,standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp,stateful-security-group,subnet_allocation,subnet-dns-publish-fixed-ip,subnet-service-types,trunk,vlan-transparent,vpnaas,vpn-endpoint-groups
++ lib/tempest:configure_tempest:742        :   [[ ! -z , metering, l3_agent_scheduler ]]
++ lib/tempest:configure_tempest:744        :   network_api_extensions=address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-domain-ports,dns-integration,dns-integration-domain-keywords,expose-port-forwarding-in-fip,external-net,ext-gw-mode,extra_dhcp_opt,extraroute,filter-validation,fip-port-details,floatingip-pools,floating-ip-port-forwarding,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,logging,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,pagination,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-resource-request,port-security,project-id,provider,qos,qos-bw-limit-direction,qos-default,qos-fip,qos-gateway-ip,qos-rules-alias,qos-rule-type-details,qos-rule-type-filter,quota-check-limit,quota_details,quotas,rbac-address-scope,rbac-policies,rbac-security-groups,router,router_availability_zone,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,segment,sorting,standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp,stateful-security-group,subnet_allocation,subnet-dns-publish-fixed-ip,subnet-service-types,trunk,vlan-transparent,vpnaas,vpn-endpoint-groups
+++ lib/tempest:configure_tempest:746        :   remove_disabled_extensions address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-domain-ports,dns-integration,dns-integration-domain-keywords,expose-port-forwarding-in-fip,external-net,ext-gw-mode,extra_dhcp_opt,extraroute,filter-validation,fip-port-details,floatingip-pools,floating-ip-port-forwarding,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,logging,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,pagination,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-resource-request,port-security,project-id,provider,qos,qos-bw-limit-direction,qos-default,qos-fip,qos-gateway-ip,qos-rules-alias,qos-rule-type-details,qos-rule-type-filter,quota-check-limit,quota_details,quotas,rbac-address-scope,rbac-policies,rbac-security-groups,router,router_availability_zone,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,segment,sorting,standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp,stateful-security-group,subnet_allocation,subnet-dns-publish-fixed-ip,subnet-service-types,trunk,vlan-transparent,vpnaas,vpn-endpoint-groups , metering, l3_agent_scheduler
+++ lib/tempest:remove_disabled_extensions:110 :   local extensions_list=address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-domain-ports,dns-integration,dns-integration-domain-keywords,expose-port-forwarding-in-fip,external-net,ext-gw-mode,extra_dhcp_opt,extraroute,filter-validation,fip-port-details,floatingip-pools,floating-ip-port-forwarding,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,logging,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,pagination,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-resource-request,port-security,project-id,provider,qos,qos-bw-limit-direction,qos-default,qos-fip,qos-gateway-ip,qos-rules-alias,qos-rule-type-details,qos-rule-type-filter,quota-check-limit,quota_details,quotas,rbac-address-scope,rbac-policies,rbac-security-groups,router,router_availability_zone,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,segment,sorting,standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp,stateful-security-group,subnet_allocation,subnet-dns-publish-fixed-ip,subnet-service-types,trunk,vlan-transparent,vpnaas,vpn-endpoint-groups
+++ lib/tempest:remove_disabled_extensions:111 :   shift
+++ lib/tempest:remove_disabled_extensions:112 :   local 'disabled_exts=, metering, l3_agent_scheduler'
+++ lib/tempest:remove_disabled_extensions:113 :   remove_disabled_services address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-domain-ports,dns-integration,dns-integration-domain-keywords,expose-port-forwarding-in-fip,external-net,ext-gw-mode,extra_dhcp_opt,extraroute,filter-validation,fip-port-details,floatingip-pools,floating-ip-port-forwarding,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,logging,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,pagination,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-resource-request,port-security,project-id,provider,qos,qos-bw-limit-direction,qos-default,qos-fip,qos-gateway-ip,qos-rules-alias,qos-rule-type-details,qos-rule-type-filter,quota-check-limit,quota_details,quotas,rbac-address-scope,rbac-policies,rbac-security-groups,router,router_availability_zone,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,segment,sorting,standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp,stateful-security-group,subnet_allocation,subnet-dns-publish-fixed-ip,subnet-service-types,trunk,vlan-transparent,vpnaas,vpn-endpoint-groups ', metering, l3_agent_scheduler'
+++ functions-common:remove_disabled_services:2101 :   local xtrace
++++ functions-common:remove_disabled_services:2102 :   grep xtrace
++++ functions-common:remove_disabled_services:2102 :   set +o
+++ functions-common:remove_disabled_services:2102 :   xtrace='set -o xtrace'
+++ functions-common:remove_disabled_services:2103 :   set +o xtrace
+++ functions-common:remove_disabled_services:2126 :   _cleanup_service_list ,address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-domain-ports,dns-integration,dns-integration-domain-keywords,expose-port-forwarding-in-fip,external-net,ext-gw-mode,extra_dhcp_opt,extraroute,filter-validation,fip-port-details,floatingip-pools,floating-ip-port-forwarding,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,logging,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,pagination,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-resource-request,port-security,project-id,provider,qos,qos-bw-limit-direction,qos-default,qos-fip,qos-gateway-ip,qos-rules-alias,qos-rule-type-details,qos-rule-type-filter,quota-check-limit,quota_details,quotas,rbac-address-scope,rbac-policies,rbac-security-groups,router,router_availability_zone,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,segment,sorting,standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp,stateful-security-group,subnet_allocation,subnet-dns-publish-fixed-ip,subnet-service-types,trunk,vlan-transparent,vpnaas,vpn-endpoint-groups
+++ functions-common:_cleanup_service_list:1934 :   local xtrace
++++ functions-common:_cleanup_service_list:1935 :   grep xtrace
++++ functions-common:_cleanup_service_list:1935 :   set +o
+++ functions-common:_cleanup_service_list:1935 :   xtrace='set -o xtrace'
+++ functions-common:_cleanup_service_list:1936 :   set +o xtrace
++ lib/tempest:configure_tempest:746        :   network_api_extensions=address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-domain-ports,dns-integration,dns-integration-domain-keywords,expose-port-forwarding-in-fip,external-net,ext-gw-mode,extra_dhcp_opt,extraroute,filter-validation,fip-port-details,floatingip-pools,floating-ip-port-forwarding,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,logging,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,pagination,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-resource-request,port-security,project-id,provider,qos,qos-bw-limit-direction,qos-default,qos-fip,qos-gateway-ip,qos-rules-alias,qos-rule-type-details,qos-rule-type-filter,quota-check-limit,quota_details,quotas,rbac-address-scope,rbac-policies,rbac-security-groups,router,router_availability_zone,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,segment,sorting,standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp,stateful-security-group,subnet_allocation,subnet-dns-publish-fixed-ip,subnet-service-types,trunk,vlan-transparent,vpnaas,vpn-endpoint-groups
++ lib/tempest:configure_tempest:748        :   [[ -n '' ]]
++ lib/tempest:configure_tempest:751        :   iniset /opt/stack/tempest/etc/tempest.conf network-feature-enabled api_extensions address-group,address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,binding-extended,default-subnetpools,dns-domain-ports,dns-integration,dns-integration-domain-keywords,expose-port-forwarding-in-fip,external-net,ext-gw-mode,extra_dhcp_opt,extraroute,filter-validation,fip-port-details,floatingip-pools,floating-ip-port-forwarding,floating-ip-port-forwarding-description,floating-ip-port-forwarding-port-ranges,logging,multi-provider,net-mtu,net-mtu-writable,network_availability_zone,network-ip-availability,pagination,port-device-profile,port-mac-address-regenerate,port-numa-affinity-policy,port-resource-request,port-security,project-id,provider,qos,qos-bw-limit-direction,qos-default,qos-fip,qos-gateway-ip,qos-rules-alias,qos-rule-type-details,qos-rule-type-filter,quota-check-limit,quota_details,quotas,rbac-address-scope,rbac-policies,rbac-security-groups,router,router_availability_zone,security-group,security-groups-normalized-cidr,security-groups-remote-address-group,security-groups-shared-filtering,segment,sorting,standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp,stateful-security-group,subnet_allocation,subnet-dns-publish-fixed-ip,subnet-service-types,trunk,vlan-transparent,vpnaas,vpn-endpoint-groups
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:753        :   local object_storage_api_extensions=all
++ lib/tempest:configure_tempest:754        :   [[ ! -z '' ]]
++ lib/tempest:configure_tempest:760        :   iniset /opt/stack/tempest/etc/tempest.conf object-storage-feature-enabled discoverable_apis all
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:762        :   local volume_api_extensions=all
++ lib/tempest:configure_tempest:763        :   [[ ! -z '' ]]
++ lib/tempest:configure_tempest:769        :   iniset /opt/stack/tempest/etc/tempest.conf volume-feature-enabled api_extensions all
++ inc/ini-config:iniset:177                :   local xtrace
+++ inc/ini-config:iniset:178                :   set +o
+++ inc/ini-config:iniset:178                :   grep xtrace
++ inc/ini-config:iniset:178                :   xtrace='set -o xtrace'
++ inc/ini-config:iniset:179                :   set +o xtrace
++ lib/tempest:configure_tempest:772        :   IFS=' 	
'
++ extras.d/80-tempest.sh:source:23         :   echo_summary 'Installing Tempest Plugins'
++ ./stack.sh:echo_summary:435              :   [[ -t 3 ]]
++ ./stack.sh:echo_summary:441              :   echo -e Installing Tempest Plugins
2022-08-22 10:28:10.393 | Installing Tempest Plugins
++ extras.d/80-tempest.sh:source:24         :   install_tempest_plugins
++ lib/tempest:install_tempest_plugins:801  :   pushd /opt/stack/tempest
~/tempest ~/tempest
++ lib/tempest:install_tempest_plugins:802  :   [[ 0 != 0 ]]
++ lib/tempest:install_tempest_plugins:811  :   popd
~/tempest
++ extras.d/80-tempest.sh:source:27         :   [[ stack == \u\n\s\t\a\c\k ]]
++ extras.d/80-tempest.sh:source:32         :   [[ stack == \c\l\e\a\n ]]
+ functions-common:run_phase:1888          :   [[ stack == \s\o\u\r\c\e ]]
+ functions-common:run_phase:1891          :   [[ stack == \o\v\e\r\r\i\d\e\_\d\e\f\a\u\l\t\s ]]
+ functions-common:run_phase:1894          :   run_plugins stack test-config
+ functions-common:run_plugins:1853        :   local mode=stack
+ functions-common:run_plugins:1854        :   local phase=test-config
+ functions-common:run_plugins:1856        :   local plugins=
+ functions-common:run_plugins:1857        :   local plugin
+ ./stack.sh:main:1485                     :   merge_config_group /opt/stack/devstack/local.conf test-config
+ inc/meta-config:merge_config_group:171   :   local localfile=/opt/stack/devstack/local.conf
+ inc/meta-config:merge_config_group:171   :   shift
+ inc/meta-config:merge_config_group:172   :   local matchgroups=test-config
+ inc/meta-config:merge_config_group:174   :   [[ -r /opt/stack/devstack/local.conf ]]
+ inc/meta-config:merge_config_group:176   :   local configfile group
+ inc/meta-config:merge_config_group:177   :   for group in $matchgroups
++ inc/meta-config:merge_config_group:178   :   get_meta_section_files /opt/stack/devstack/local.conf test-config
++ inc/meta-config:get_meta_section_files:63 :   local file=/opt/stack/devstack/local.conf
++ inc/meta-config:get_meta_section_files:64 :   local matchgroup=test-config
++ inc/meta-config:get_meta_section_files:66 :   [[ -r /opt/stack/devstack/local.conf ]]
++ inc/meta-config:get_meta_section_files:68 :   awk -v matchgroup=test-config '
        /^\[\[.+\|.*\]\]/ {
            gsub("[][]", "", $1);
            split($1, a, "|");
            if (a[1] == matchgroup)
                print a[2]
        }
    ' /opt/stack/devstack/local.conf
+ ./stack.sh:main:1490                     :   set +o xtrace

=========================
DevStack Component Timing
 (times are in seconds)  
=========================
wait_for_service      13
pip_install          104
apt-get               86
run_process           24
dbsync                 2
apt-get-update        15
test_with_retry        4
async_wait            65
osc                  241
-------------------------
Unaccounted time      42
=========================
Total runtime        596

=================
 Async summary
=================
 Time spent in the background minus waits: 265 sec
 Elapsed time: 596 sec
 Time if we did everything serially: 861 sec
 Speedup:  1.44463


Post-stack database query stats:
+------------+-----------+-------+
| db         | op        | count |
+------------+-----------+-------+
| keystone   | SELECT    | 57728 |
| keystone   | INSERT    |    91 |
| glance     | SELECT    |  1003 |
| glance     | CREATE    |    65 |
| glance     | INSERT    |   256 |
| glance     | SHOW      |     8 |
| glance     | UPDATE    |    13 |
| glance     | ALTER     |    10 |
| glance     | DROP      |     3 |
| neutron    | SELECT    |  4592 |
| neutron    | SHOW      |    35 |
| neutron    | CREATE    |   318 |
| cinder     | SELECT    |   257 |
| cinder     | SHOW      |     1 |
| cinder     | CREATE    |    74 |
| cinder     | SET       |     1 |
| cinder     | ALTER     |    18 |
| neutron    | INSERT    |  1855 |
| neutron    | UPDATE    |   252 |
| neutron    | ALTER     |   150 |
| neutron    | DROP      |    52 |
| neutron    | DELETE    |    43 |
| nova_cell1 | SELECT    |   397 |
| nova_cell1 | SHOW      |    60 |
| nova_cell1 | CREATE    |   210 |
| nova_cell0 | SELECT    |   518 |
| nova_cell0 | SHOW      |    60 |
| nova_cell0 | CREATE    |   210 |
| nova_cell1 | ALTER     |     2 |
| nova_cell0 | ALTER     |     2 |
| placement  | SELECT    |    70 |
| placement  | INSERT    |    58 |
| placement  | SET       |     4 |
| nova_api   | SELECT    |   108 |
| nova_cell0 | INSERT    |     7 |
| nova_cell1 | UPDATE    |    45 |
| nova_cell1 | INSERT    |     4 |
| placement  | UPDATE    |     3 |
| nova_api   | SAVEPOINT |     7 |
| nova_api   | INSERT    |    15 |
| nova_api   | RELEASE   |     7 |
| cinder     | INSERT    |     5 |
| nova_cell0 | UPDATE    |    44 |
| cinder     | UPDATE    |    10 |
| cinder     | DELETE    |     1 |
+------------+-----------+-------+



This is your host IP address: 10.200.2.118
This is your host IPv6 address: ::1
Horizon is now available at http://10.200.2.118/dashboard
Keystone is serving at http://10.200.2.118/identity/
The default users are: admin and demo
The password: Datacore1

Services are running under systemd unit files.
For more information see: 
https://docs.openstack.org/devstack/latest/systemd.html

DevStack Version: zed
Change: 90e5479f382af1a5482f0acccdc36c6d18321634 Remove forgotten LinuxMint occurrence 2022-08-16 17:29:16 +0200
OS Version: Ubuntu 20.04 focal

2022-08-22 10:28:10.615 | stack.sh completed in 596 seconds.
update DevStack [ PASSED ]
Waiting for patchset. FROM_JENKINS: 1
Already on 'master'
Your branch is up to date with 'origin/master'.
git checkout cinder master Success
Already up to date.
git pull Success
changeBranch: change-853941-1
From https://opendev.org/openstack/cinder
 * [new ref]             refs/changes/41/853941/1 -> change-853941-1
git fetch origin refs/changes/41/853941/1:change-853941-1 Success
Switched to branch 'change-853941-1'
git checkout change-853941-1 Success
Already up to date.
checkout patchset [ PASSED ]
Updating tempest config
WARNING: setting legacy OS_TENANT_NAME to support cli tools.
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
/usr/lib/python3/dist-packages/secretstorage/util.py:19: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
Clearing logs
/tmp/ci-result-1661163222218
Starting iSCSI Test configuration
Updating cinder.conf with iSCSI driver details [ PASSED ]
+--------------------------------------+-----------------+-------------+-----------+
| ID                                   | Name            | Description | Is_Public |
+--------------------------------------+-----------------+-------------+-----------+
| c4f8af04-461c-4b0b-9613-7e7d9b0943fa | datacore_iscsi1 | -           | True      |
+--------------------------------------+-----------------+-------------+-----------+
Creating datacore_iscsi1 volume type [ PASSED ]
Adding datacore_iscsi1 volume backend [ PASSED ]
Restarting devstack services
Cinder volume service [ PASSED ]
Starting tempest for iSCSI driver
Updating tempest.conf with iSCSI driver details [ PASSED ]
Running tempest
Tempest DataCore iSCSI Driver [ FAILED ]
Starting Fiber Channel Test configuration
Updating cinder.conf with Fiber Channel driver details [ PASSED ]
+--------------------------------------+--------------+-------------+-----------+
| ID                                   | Name         | Description | Is_Public |
+--------------------------------------+--------------+-------------+-----------+
| 5da42769-6c28-4510-b21d-aef1cee2999a | datacore_fc1 | -           | True      |
+--------------------------------------+--------------+-------------+-----------+
Creating datacore_fc1 volume type [ PASSED ]
Adding datacore_fc1 volume backend [ PASSED ]
Restarting devstack services
Cinder volume service [ PASSED ]
Starting tempest for Fiber Channel driver
Updating tempest.conf with Fiber Channel driver details [ PASSED ]
Running tempest
Tempest DataCore Fiber Channel Driver [ FAILED ]
Already up to date.
Updating cinder-tempest-logs repo [ PASSED ]
